<ng-template #spinner>
  <perun-web-apps-loading-dialog></perun-web-apps-loading-dialog>
</ng-template>
<div class="user-theme position-relative">
  <div *perunWebAppsLoader="loading; indicator: spinner">
    <h1 mat-dialog-title>
      {{'SHARED_LIB.PERUN.COMPONENTS.RESET_PASSWORD_DIALOG.TITLE' | translate}}
    </h1>
    <div class="dialog-container" mat-dialog-content>
      <p *ngIf="data.login" class="subtitle">
        <em>
          {{'SHARED_LIB.PERUN.COMPONENTS.RESET_PASSWORD_DIALOG.LOGIN' | translate}}:
          {{data.login}}
        </em>
      </p>
      <p *ngIf="data.namespace" class="subtitle">
        <em>
          {{'SHARED_LIB.PERUN.COMPONENTS.RESET_PASSWORD_DIALOG.NAMESPACE' | translate}}:
          {{data.namespace}}
        </em>
      </p>
      <perun-web-apps-password-form
        [formGroup]="newPasswdForm"
        [namespace]="data.namespace"
        [language]="language">
      </perun-web-apps-password-form>

      <div mat-dialog-actions class="ms-auto justify-content-end">
        <button (click)="close()" mat-stroked-button>
          {{'SHARED_LIB.PERUN.COMPONENTS.RESET_PASSWORD_DIALOG.CANCEL' | translate}}
        </button>
        <button
          (click)="onSubmit()"
          [disabled]="newPasswdForm.invalid || newPasswdForm.pending || loading"
          class="ms-2"
          color="accent"
          mat-flat-button>
          {{'SHARED_LIB.PERUN.COMPONENTS.RESET_PASSWORD_DIALOG.CHANGE' | translate}}
        </button>
      </div>
    </div>
  </div>
</div>
