<div *perunWebAppsLoader="loading; indicator: spinner">
  <mat-card-header>
    <mat-card-title>
      <h1 class="page-subtitle">{{'MEMBER_DETAIL.OVERVIEW.GROUP_MEMBERSHIP' | translate}}</h1>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <perun-web-apps-group-search-select
      *ngIf="requiresGroupSelect"
      (groupSelected)="groupIsSelected($event)"
      [firstSelectedGroup]="selectedGroup"
      [groups]="groups">
    </perun-web-apps-group-search-select>
    <perun-web-apps-alert *ngIf="groups.length === 0" alert_type="warn">
      {{'MEMBER_DETAIL.OVERVIEW.NO_GROUPS_FOUND' | translate}}
    </perun-web-apps-alert>
    <perun-web-apps-membership-status-settings
      *ngIf="groups.length !== 0 && selectedMember"
      [status]="selectedMember.groupStatus"
      [editStatusAuth]="editAuth"
      [editExpirationAuth]="editAuth"
      [expiration]="expiration"
      [showExpiration]="showExpiration"
      (changeStatus)="changeStatus()"
      (changeExpiration)="changeExpiration()">
    </perun-web-apps-membership-status-settings>
  </mat-card-content>
</div>
<ng-template #spinner>
  <div class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
