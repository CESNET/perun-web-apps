<div *perunWebAppsLoader="loading; indicator: spinner">
  <mat-card-header>
    <mat-card-title>
      <h1 class="page-subtitle">{{'MEMBER_DETAIL.OVERVIEW.GROUP_MEMBERSHIP' | translate}}</h1>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    @if (requiresGroupSelect) {
      <perun-web-apps-group-search-select
        (groupSelected)="groupIsSelected($event)"
        [firstSelectedGroup]="selectedGroup"
        [groups]="groups">
      </perun-web-apps-group-search-select>
    }
    @if (!loading && groups.length === 0) {
      <perun-web-apps-alert alert_type="warn">
        {{'MEMBER_DETAIL.OVERVIEW.NO_GROUPS_FOUND' | translate}}
      </perun-web-apps-alert>
    }
    @if (groups.length !== 0 && selectedMember) {
      <perun-web-apps-membership-status-settings
        [status]="selectedMember.groupStatus"
        [editStatusAuth]="editAuth"
        [editExpirationAuth]="editAuth"
        [expiration]="expiration"
        [showExpiration]="showExpiration"
        (changeStatus)="changeStatus()"
        (changeExpiration)="changeExpiration()">
      </perun-web-apps-membership-status-settings>
    }
  </mat-card-content>
</div>
<ng-template #spinner>
  <div class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
