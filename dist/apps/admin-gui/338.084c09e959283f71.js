"use strict";(self.webpackChunkadmin_gui=self.webpackChunkadmin_gui||[]).push([[338],{54668:(W,Z,t)=>{t.d(Z,{l:()=>f});var M=t(7274),_=t(61744),p=t(95243),s=t(15466),e=t(95017),L=t(6134),i=t(24006),n=t(94650),R=t(89383),d=t(36895),N=t(284),y=t(59549),S=t(97392),D=t(4859),I=t(98380),C=t(68530),v=t(97403),U=t(73358),T=t(64877);function A(E,h){1&E&&n._UZ(0,"perun-web-apps-loading-dialog")}function g(E,h){1&E&&n._UZ(0,"perun-web-apps-loading-table")}function c(E,h){if(1&E&&(n._UZ(0,"app-users-list",16),n.ALo(1,"translate")),2&E){const b=n.oxw(3);n.Q6J("displayedColumns",b.displayedColumns)("selection",b.selection)("tableId",b.tableId)("disableRouting",!0)("users",b.identities)("noUsersFoundLabel",n.lcZ(1,6,"DIALOGS.CONNECT_IDENTITY.NO_IDENTITIES"))}}function r(E,h){if(1&E&&(n.TgZ(0,"div",14),n.YNc(1,c,2,8,"app-users-list",15),n.qZA()),2&E){n.oxw();const b=n.MAs(18),P=n.oxw();n.xp6(1),n.Q6J("perunWebAppsLoader",P.loading)("perunWebAppsLoaderIndicator",b)}}function o(E,h){1&E&&(n.TgZ(0,"perun-web-apps-alert",17),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&E&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"DIALOGS.CONNECT_IDENTITY.SEARCH_HINT")," "))}function m(E,h){if(1&E){const b=n.EpF();n.TgZ(0,"div")(1,"div",2),n.NdJ("keyup",function(x){n.CHM(b);const Q=n.oxw();return n.KtG(Q.onKeyInput(x))}),n.TgZ(2,"h1",3),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n._UZ(10,"input",6),n.TgZ(11,"mat-error"),n._uU(12),n.ALo(13,"translate"),n.qZA()(),n.TgZ(14,"button",7),n.NdJ("click",function(){n.CHM(b);const x=n.oxw();return n.KtG(x.onSearchByString())}),n.TgZ(15,"mat-icon"),n._uU(16,"search"),n.qZA()(),n.YNc(17,g,1,0,"ng-template",null,8,n.W1O),n.YNc(19,r,2,2,"div",9),n.YNc(20,o,3,3,"perun-web-apps-alert",10),n.qZA(),n.TgZ(21,"div",11)(22,"button",12),n.NdJ("click",function(){n.CHM(b);const x=n.oxw();return n.KtG(x.onCancel())}),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.TgZ(25,"button",13),n.NdJ("click",function(){n.CHM(b);const x=n.oxw();return n.KtG(x.onAdd())}),n._uU(26),n.ALo(27,"translate"),n.qZA()()()()}if(2&E){const b=n.oxw();n.xp6(1),n.Tol(b.theme),n.xp6(2),n.Oqu(n.lcZ(4,13,"DIALOGS.CONNECT_IDENTITY.TITLE_"+b.target)),n.xp6(5),n.Oqu(n.lcZ(9,15,"DIALOGS.CONNECT_IDENTITY.SEARCH")),n.xp6(2),n.Q6J("formControl",b.searchCtrl),n.xp6(2),n.hij(" ",n.lcZ(13,17,"DIALOGS.CONNECT_IDENTITY.EMPTY_SEARCH_MESSAGE")," "),n.xp6(2),n.Q6J("disabled",b.loading),n.xp6(5),n.Q6J("ngIf",b.firstSearchDone),n.xp6(1),n.Q6J("ngIf",!b.firstSearchDone),n.xp6(3),n.hij(" ",n.lcZ(24,19,"DIALOGS.CONNECT_IDENTITY.CANCEL")," "),n.xp6(2),n.Q6J("disabled",0===b.selection.selected.length),n.xp6(1),n.hij(" ",n.lcZ(27,21,"DIALOGS.CONNECT_IDENTITY.CONNECT")," ")}}class f{constructor(h,b,P,x,Q,ie){this.dialogRef=h,this.data=b,this.userManager=P,this.storeService=x,this.notificator=Q,this.translate=ie,this.loading=!1,this.finalLoading=!1,this.identities=[],this.selection=new e.Ov(!1,[]),this.firstSearchDone=!1,this.displayedColumns=["select","id","user","name","email","logins","organization"],this.tableId=s.Iz}ngOnInit(){this.target=this.data.target,this.theme=this.data.theme,this.userId=this.data.userId,this.isService=this.data.isService,this.searchCtrl=new i.p4("",[i.kI.required,i.kI.pattern(".*[\\S]+.*")])}onAdd(){let h,b;this.finalLoading=!0,this.isService?(h=this.selection.selected[0].id,b=this.userId):(h=this.userId,b=this.selection.selected[0].id),this.userManager.addSpecificUserOwner(h,b).subscribe({next:()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.CONNECT_IDENTITY.SUCCESS")),this.dialogRef.close(!0)},error:()=>this.finalLoading=!1})}onCancel(){this.dialogRef.close(!1)}onSearchByString(){if(this.searchCtrl.invalid)return void this.searchCtrl.markAllAsTouched();this.loading=!0,this.firstSearchDone=!0;let h=[L.r.USER_DEF_ORGANIZATION,L.r.USER_DEF_PREFERRED_MAIL];h=h.concat(this.storeService.getLoginAttributeNames()),this.userManager.findRichUsersWithAttributes(this.searchCtrl.value,h).subscribe(b=>{this.identities=this.filterIdentities(b),this.loading=!1},()=>{this.loading=!1})}onKeyInput(h){"Enter"===h.key&&this.onSearchByString()}filterIdentities(h){return h.filter(this.isService?b=>!b.serviceUser:b=>b.serviceUser)}}f.\u0275fac=function(h){return new(h||f)(n.Y36(M.so),n.Y36(M.WI),n.Y36(_.Fv),n.Y36(p.d6),n.Y36(p.V6),n.Y36(R.sK))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-connect-identity-dialog"]],decls:4,vars:5,consts:[["spinner",""],[4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],[3,"keyup"],["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-container"],[1,"me-2","search-field","no-border-mat-input"],["matInput","","autocomplete","false",3,"formControl"],["color","primary","mat-flat-button","",1,"me-2","search-btn",3,"disabled","click"],["searchSpinner",""],["class","position-relative",4,"ngIf"],["alert_type","info",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ms-auto",3,"click"],["color","accent","mat-flat-button","",1,"ms-2",3,"disabled","click"],[1,"position-relative"],[3,"displayedColumns","selection","tableId","disableRouting","users","noUsersFoundLabel",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],[3,"displayedColumns","selection","tableId","disableRouting","users","noUsersFoundLabel"],["alert_type","info"]],template:function(h,b){if(1&h&&(n.YNc(0,A,1,0,"ng-template",null,0,n.W1O),n.TgZ(2,"div"),n.YNc(3,m,28,23,"div",1),n.qZA()),2&h){const P=n.MAs(1);n.xp6(2),n.Gre("",b.theme," position-relative"),n.xp6(1),n.Q6J("perunWebAppsLoader",b.finalLoading)("perunWebAppsLoaderIndicator",P)}},dependencies:[d.O5,N.Nt,y.KE,y.hX,y.TO,i.Fj,i.JJ,i.oH,S.Hw,D.lW,M.uh,M.xY,M.H8,I.w,C.K,v.b,U.e,T.C,R.X$],styles:[".search-field[_ngcontent-%COMP%]{width:300px}.search-btn[_ngcontent-%COMP%]{width:50px}"]})},94814:(W,Z,t)=>{t.d(Z,{B:()=>v});var M=t(61744),_=t(7274),p=t(95243),s=t(30671),e=t(94650),L=t(89383),i=t(36895),n=t(4859),R=t(98380),d=t(31359);function N(U,T){1&U&&e._UZ(0,"th",13)}function y(U,T){if(1&U&&(e.TgZ(0,"td",14),e._uU(1),e.ALo(2,"userFullName"),e.qZA()),2&U){const A=T.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,A))}}function S(U,T){1&U&&e._UZ(0,"tr",15)}function D(U,T){1&U&&e._UZ(0,"tr",16)}function I(U,T){1&U&&(e.TgZ(0,"perun-web-apps-alert",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&U&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DIALOGS.DISCONNECT_IDENTITY.WARNING_DISCONNECT_YOURSELF")," "))}function C(U,T){1&U&&(e.TgZ(0,"perun-web-apps-alert",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&U&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DIALOGS.DISCONNECT_IDENTITY.WARNING_LAST_USER")," "))}class v{constructor(T,A,g,c,r,o){this.dialogRef=T,this.data=A,this.userManager=g,this.notificator=c,this.translate=r,this.store=o,this.displayedColumns=["name"]}ngOnInit(){let T;this.targetTitle=this.data.targetTitle,this.targetDescription=this.data.targetDescription,this.theme=this.data.theme,this.userId=Number(this.data.userId),this.dataSource=new s.by([this.data.specificUser]),this.isService=this.data.isService,this.isService?(T=this.userId,this.disconnectingSelf=this.dataSource.data[0].id===this.store.getPerunPrincipal().userId):(T=this.dataSource.data[0].id,this.disconnectingSelf=this.userId===this.store.getPerunPrincipal().userId),this.userManager.getUsersBySpecificUser(T).subscribe(A=>{this.disconnectingLastOwner=1===A.length})}onConfirm(){let T,A;this.isService?(T=this.dataSource.data[0].id,A=this.userId):(T=this.userId,A=this.dataSource.data[0].id),this.userManager.removeSpecificUserOwner(T,A).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.DISCONNECT_IDENTITY.SUCCESS")),this.dialogRef.close(!0)})}onCancel(){this.dialogRef.close(!1)}}v.\u0275fac=function(T){return new(T||v)(e.Y36(_.so),e.Y36(_.WI),e.Y36(M.Fv),e.Y36(p.V6),e.Y36(L.sK),e.Y36(p.d6))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-disconnect-identity-dialog"]],decls:26,vars:23,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"fw-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","fw-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ms-auto",3,"click"],["color","warn","mat-flat-button","",1,"ms-2",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"fw-bolder"],["mat-row",""],["alert_type","warn"]],template:function(T,A){1&T&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div")(4,"div",1)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",2),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"table",3),e.ynx(12,4),e.YNc(13,N,1,0,"th",5),e.YNc(14,y,3,3,"td",6),e.BQk(),e.YNc(15,S,1,0,"tr",7),e.YNc(16,D,1,0,"tr",8),e.qZA(),e.YNc(17,I,3,3,"perun-web-apps-alert",9),e.YNc(18,C,3,3,"perun-web-apps-alert",9),e.qZA(),e.TgZ(19,"div",10)(20,"button",11),e.NdJ("click",function(){return A.onCancel()}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return A.onConfirm()}),e._uU(24),e.ALo(25,"translate"),e.qZA()()()),2&T&&(e.xp6(1),e.Oqu(e.lcZ(2,13,"DIALOGS.DISCONNECT_IDENTITY.TITLE_"+A.targetTitle)),e.xp6(2),e.Tol(A.theme),e.xp6(3),e.Oqu(e.lcZ(7,15,"DIALOGS.DISCONNECT_IDENTITY.DESCRIPTION_"+A.targetDescription)),e.xp6(3),e.hij(" ",e.lcZ(10,17,"DIALOGS.DISCONNECT_IDENTITY.ASK")," "),e.xp6(2),e.Q6J("dataSource",A.dataSource),e.xp6(4),e.Q6J("matHeaderRowDef",A.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",A.displayedColumns),e.xp6(1),e.Q6J("ngIf",A.disconnectingSelf),e.xp6(1),e.Q6J("ngIf",A.disconnectingLastOwner),e.xp6(3),e.hij(" ",e.lcZ(22,19,"DIALOGS.DISCONNECT_IDENTITY.CANCEL")," "),e.xp6(3),e.hij(" ",e.lcZ(25,21,"DIALOGS.DISCONNECT_IDENTITY.REMOVE")," "))},dependencies:[i.O5,n.lW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,_.uh,_.xY,_.H8,R.w,L.X$,d.d]})},29862:(W,Z,t)=>{t.d(Z,{x:()=>C});var M=t(61744),_=t(7274),p=t(95243),s=t(24006),e=t(94650),L=t(89383),i=t(36895),n=t(284),R=t(59549),d=t(4859);function N(v,U){1&v&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DIALOGS.EDIT_USER.ERROR_LENGTH")))}function y(v,U){1&v&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DIALOGS.EDIT_USER.ERROR_LENGTH")))}function S(v,U){1&v&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DIALOGS.EDIT_USER.ERROR_FIRST_NAME")))}function D(v,U){1&v&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DIALOGS.EDIT_USER.ERROR_LENGTH")))}function I(v,U){1&v&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DIALOGS.EDIT_USER.ERROR_LAST_NAME")))}class C{constructor(U,T,A,g,c){this.dialogRef=U,this.data=T,this.userService=A,this.notificator=g,this.translateService=c,this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.titleBefore=new s.p4(this.data.user.titleBefore,[s.kI.pattern(".*[\\S]+.*"),s.kI.maxLength(129)]),this.titleAfter=new s.p4(this.data.user.titleAfter,[s.kI.pattern(".*[\\S]+.*"),s.kI.maxLength(129)]),this.firstName=new s.p4(this.data.user.firstName,[s.kI.required,s.kI.pattern(".*[\\S]+.*"),s.kI.maxLength(129)]),this.middleName=new s.p4(this.data.user.middleName,[s.kI.pattern(".*[\\S]+.*"),s.kI.maxLength(129)]),this.lastName=new s.p4(this.data.user.lastName,[s.kI.required,s.kI.pattern(".*[\\S]+.*"),s.kI.maxLength(129)])}onCancel(){this.dialogRef.close(!1)}onSave(){this.loading=!0,this.data.user.titleBefore=this.titleBefore.value,this.data.user.titleAfter=this.titleAfter.value,this.data.user.firstName=this.firstName.value,this.data.user.middleName=this.middleName.value,this.data.user.lastName=this.lastName.value,this.userService.updateUser({user:this.data.user}).subscribe(()=>{this.translateService.get("DIALOGS.EDIT_USER.SUCCESS").subscribe(U=>{this.notificator.showSuccess(U),this.dialogRef.close(!0)})},()=>this.loading=!1)}}C.\u0275fac=function(U){return new(U||C)(e.Y36(_.so),e.Y36(_.WI),e.Y36(M.Fv),e.Y36(p.V6),e.Y36(L.sK))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-edit-user-dialog"]],decls:42,vars:38,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-container"],["matInput","",3,"formControl"],[4,"ngIf"],["matInput","","data-cy","user-first-name-input","required","",3,"formControl"],["matInput","","required","",3,"formControl"],["mat-dialog-actions",""],["mat-flat-button","",1,"ms-auto",3,"click"],["color","accent","data-cy","user-save-button","mat-flat-button","",1,"ms-2",3,"disabled","click"]],template:function(U,T){1&U&&(e.TgZ(0,"div")(1,"h1",0),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1)(5,"mat-form-field")(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",2),e.YNc(10,N,3,3,"mat-error",3),e.qZA(),e.TgZ(11,"mat-form-field")(12,"mat-label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",2),e.YNc(16,y,3,3,"mat-error",3),e.qZA(),e.TgZ(17,"mat-form-field")(18,"mat-label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",4),e.YNc(22,S,3,3,"mat-error",3),e.qZA(),e.TgZ(23,"mat-form-field")(24,"mat-label"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"input",2),e.YNc(28,D,3,3,"mat-error",3),e.qZA(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",5),e.YNc(34,I,3,3,"mat-error",3),e.qZA()(),e.TgZ(35,"div",6)(36,"button",7),e.NdJ("click",function(){return T.onCancel()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"button",8),e.NdJ("click",function(){return T.onSave()}),e._uU(40),e.ALo(41,"translate"),e.qZA()()()),2&U&&(e.Tol(T.theme),e.xp6(2),e.Oqu(e.lcZ(3,22,"DIALOGS.EDIT_USER.DIALOG_TITLE")),e.xp6(5),e.Oqu(e.lcZ(8,24,"DIALOGS.EDIT_USER.TITLE_BEFORE")),e.xp6(2),e.Q6J("formControl",T.titleBefore),e.xp6(1),e.Q6J("ngIf",T.titleBefore.invalid),e.xp6(3),e.Oqu(e.lcZ(14,26,"DIALOGS.EDIT_USER.TITLE_AFTER")),e.xp6(2),e.Q6J("formControl",T.titleAfter),e.xp6(1),e.Q6J("ngIf",T.titleAfter.invalid),e.xp6(3),e.Oqu(e.lcZ(20,28,"DIALOGS.EDIT_USER.FIRST_NAME")),e.xp6(2),e.Q6J("formControl",T.firstName),e.xp6(1),e.Q6J("ngIf",T.firstName.invalid),e.xp6(3),e.Oqu(e.lcZ(26,30,"DIALOGS.EDIT_USER.MIDDLE_NAME")),e.xp6(2),e.Q6J("formControl",T.middleName),e.xp6(1),e.Q6J("ngIf",T.middleName.invalid),e.xp6(3),e.Oqu(e.lcZ(32,32,"DIALOGS.EDIT_USER.LAST_NAME")),e.xp6(2),e.Q6J("formControl",T.lastName),e.xp6(1),e.Q6J("ngIf",T.lastName.invalid),e.xp6(3),e.hij(" ",e.lcZ(38,34,"DIALOGS.EDIT_USER.CANCEL")," "),e.xp6(2),e.Q6J("disabled",T.loading||T.firstName.invalid||T.lastName.invalid||T.titleBefore.invalid||T.titleAfter.invalid||T.middleName.invalid),e.xp6(1),e.hij(" ",e.lcZ(41,36,"DIALOGS.EDIT_USER.SAVE")," "))},dependencies:[i.O5,n.Nt,R.KE,R.hX,R.TO,s.Fj,s.JJ,s.Q7,s.oH,d.lW,_.uh,_.xY,_.H8,L.X$]})},90979:(W,Z,t)=>{t.d(Z,{G:()=>L});var M=t(7274),_=t(95243),p=t(61744),s=t(94650),e=t(1415);class L{constructor(n,R,d,N){this.data=n,this.dialogRef=R,this.facilityService=d,this.notificator=N,this.loading=!1}update(n){this.loading=!0,this.facilityService.updateFacilityBan({banOnFacility:{id:this.data.ban.id,beanName:"BanOnFacility",facilityId:this.data.ban.facilityId,userId:this.data.ban.userId,description:n.description,validityTo:n.validity}}).subscribe({next:()=>{this.notificator.showSuccess("DIALOGS.UPDATE_BAN.SUCCESS"),this.dialogRef.close(!0)},error:()=>{this.loading=!1}})}cancel(){this.dialogRef.close(!1)}}L.\u0275fac=function(n){return new(n||L)(s.Y36(M.WI),s.Y36(M.so),s.Y36(p.IQ),s.Y36(_.V6))},L.\u0275cmp=s.Xpm({type:L,selectors:[["app-update-facility-ban-dialog"]],decls:1,vars:3,consts:[[3,"ban","theme","loading","cancel","update"]],template:function(n,R){1&n&&(s.TgZ(0,"app-update-ban-dialog",0),s.NdJ("cancel",function(){return R.cancel()})("update",function(N){return R.update(N)}),s.qZA()),2&n&&s.Q6J("ban",R.data.ban)("theme","facility-theme")("loading",R.loading)},dependencies:[e.l]})},98973:(W,Z,t)=>{t.d(Z,{u:()=>D});var M=t(95243),_=t(94650),p=t(82761),s=t(36895),e=t(3848),L=t(48323),i=t(12651),n=t(89383);function R(I,C){1&I&&(_._uU(0),_.ALo(1,"translate")),2&I&&_.hij(" ",_.lcZ(1,1,"ADMIN_USER.ENTITY")," ")}function d(I,C){if(1&I&&_._UZ(0,"app-one-entity-attribute-page",6),2&I){const v=_.oxw();_.Q6J("entityId",v.userId)("entity","user")}}function N(I,C){1&I&&(_._uU(0),_.ALo(1,"translate"),_.ALo(2,"translate")),2&I&&_.AsE(" ",_.lcZ(1,2,"ADMIN_USER.ENTITY")," - ",_.lcZ(2,4,"FACILITY_DETAIL.ENTITY")," ")}function y(I,C){if(1&I&&_._UZ(0,"app-two-entity-attribute-page",7),2&I){const v=_.oxw(2);_.Q6J("firstEntity","user")("firstEntityId",v.userId)("secondEntity","facility")}}function S(I,C){1&I&&(_.TgZ(0,"mat-tab"),_.YNc(1,N,3,6,"ng-template",3),_.YNc(2,y,1,3,"ng-template",4),_.qZA())}class D{constructor(C,v,U){this.route=C,this.store=v,this.authResolver=U}ngOnInit(){this.route.parent.params.subscribe(C=>{this.userId=Number(C.userId),this.userId||(this.userId=this.store.getPerunPrincipal().userId),this.userFacilityAttAuth=this.authResolver.isAuthorized("getAssignedFacilities_User_policy",[{id:this.userId,beanName:"User"}])})}}D.\u0275fac=function(C){return new(C||D)(_.Y36(p.gz),_.Y36(M.d6),_.Y36(M.x4))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-user-settings-attributes"]],hostVars:2,hostBindings:function(C,v){2&C&&_.ekj("router-component",v.true)},decls:8,vars:4,consts:[[1,"page-subtitle"],["mat-stretch-tabs","false"],[1,"mb-2"],["matTabLabel",""],["matTabContent",""],[4,"ngIf"],[3,"entityId","entity"],[3,"firstEntity","firstEntityId","secondEntity"]],template:function(C,v){1&C&&(_.TgZ(0,"h1",0),_._uU(1),_.ALo(2,"translate"),_.qZA(),_.TgZ(3,"mat-tab-group",1)(4,"mat-tab",2),_.YNc(5,R,2,3,"ng-template",3),_.YNc(6,d,1,2,"ng-template",4),_.qZA(),_.YNc(7,S,3,0,"mat-tab",5),_.qZA()),2&C&&(_.xp6(1),_.Oqu(_.lcZ(2,2,"USER_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),_.xp6(6),_.Q6J("ngIf",v.userFacilityAttAuth))},dependencies:[s.O5,e.Vc,e.uD,e.uX,e.SP,L.Y,i.t,n.X$]})},51403:(W,Z,t)=>{t.d(Z,{Q:()=>m});var M=t(61744),_=t(95243),p=t(9244),s=t(32316),e=t(28943),L=t(90979),i=t(94650),n=t(7274),R=t(3848),d=t(68530),N=t(64901),y=t(91880),S=t(73358),D=t(89383);function I(f,E){1&f&&(i._uU(0),i.ALo(1,"translate")),2&f&&i.hij(" ",i.lcZ(1,1,"USER_DETAIL.BANS.VO")," ")}function C(f,E){if(1&f){const h=i.EpF();i.TgZ(0,"perun-web-apps-ban-on-entity-list",8),i.NdJ("updateBan",function(P){i.CHM(h);const x=i.oxw(2);return i.KtG(x.updateVoBan(P))}),i.qZA()}if(2&f){const h=i.oxw(2);i.Q6J("bans",h.voBans)("displayedColumns",h.displayedColumns)("filter",h.filter)("updatePolicy","updateBan_BanOnVo_policy")}}function v(f,E){if(1&f){const h=i.EpF();i.TgZ(0,"perun-web-apps-debounce-filter",5),i.NdJ("filter",function(P){i.CHM(h);const x=i.oxw();return i.KtG(x.filter=P)}),i.qZA(),i.TgZ(1,"div",6),i.YNc(2,C,1,4,"perun-web-apps-ban-on-entity-list",7),i.qZA()}if(2&f){const h=i.oxw(),b=i.MAs(14);i.Q6J("placeholder","USER_DETAIL.BANS.FILTER"),i.xp6(2),i.Q6J("perunWebAppsLoader",h.loading)("perunWebAppsLoaderIndicator",b)}}function U(f,E){1&f&&(i._uU(0),i.ALo(1,"translate")),2&f&&i.hij(" ",i.lcZ(1,1,"USER_DETAIL.BANS.RESOURCE")," ")}function T(f,E){if(1&f){const h=i.EpF();i.TgZ(0,"perun-web-apps-ban-on-entity-list",8),i.NdJ("updateBan",function(P){i.CHM(h);const x=i.oxw(2);return i.KtG(x.updateResourceBan(P))}),i.qZA()}if(2&f){const h=i.oxw(2);i.Q6J("bans",h.resourceBans)("displayedColumns",h.displayedColumns)("filter",h.filter)("updatePolicy","updateBan_BanOnResource_policy")}}function A(f,E){if(1&f){const h=i.EpF();i.TgZ(0,"perun-web-apps-debounce-filter",5),i.NdJ("filter",function(P){i.CHM(h);const x=i.oxw();return i.KtG(x.filter=P)}),i.qZA(),i.TgZ(1,"div",6),i.YNc(2,T,1,4,"perun-web-apps-ban-on-entity-list",7),i.qZA()}if(2&f){const h=i.oxw(),b=i.MAs(14);i.Q6J("placeholder","USER_DETAIL.BANS.FILTER"),i.xp6(2),i.Q6J("perunWebAppsLoader",h.loading)("perunWebAppsLoaderIndicator",b)}}function g(f,E){1&f&&(i._uU(0),i.ALo(1,"translate")),2&f&&i.hij(" ",i.lcZ(1,1,"USER_DETAIL.BANS.FACILITY")," ")}function c(f,E){if(1&f){const h=i.EpF();i.TgZ(0,"perun-web-apps-ban-on-entity-list",8),i.NdJ("updateBan",function(P){i.CHM(h);const x=i.oxw(2);return i.KtG(x.updateFacilityBan(P))}),i.qZA()}if(2&f){const h=i.oxw(2);i.Q6J("bans",h.facilityBans)("displayedColumns",h.displayedColumns)("filter",h.filter)("updatePolicy","updateBan_BanOnFacility_policy")}}function r(f,E){if(1&f){const h=i.EpF();i.TgZ(0,"perun-web-apps-debounce-filter",5),i.NdJ("filter",function(P){i.CHM(h);const x=i.oxw();return i.KtG(x.filter=P)}),i.qZA(),i.TgZ(1,"div",6),i.YNc(2,c,1,4,"perun-web-apps-ban-on-entity-list",7),i.qZA()}if(2&f){const h=i.oxw(),b=i.MAs(14);i.Q6J("placeholder","USER_DETAIL.BANS.FILTER"),i.xp6(2),i.Q6J("perunWebAppsLoader",h.loading)("perunWebAppsLoaderIndicator",b)}}function o(f,E){1&f&&i._UZ(0,"perun-web-apps-loading-table")}class m{constructor(E,h,b,P,x){this.voService=E,this.resourceService=h,this.facilityService=b,this.entityService=P,this.dialog=x,this.loading=!1,this.voBans=[],this.resourceBans=[],this.facilityBans=[],this.filter="",this.displayedColumns=["banId","targetId","targetName","description","expiration","edit"]}ngOnInit(){this.loading=!0,this.user=this.entityService.getEntity(),this.refreshVoBans()}refreshVoBans(){this.loading=!0,this.voService.getEnrichedVoBansForUser(this.user.id).subscribe({next:E=>{this.voBans=E,this.loading=!1},error:()=>this.loading=!1})}refreshResourceBans(){this.loading=!0,this.resourceService.getEnrichedBansForUser(this.user.id).subscribe({next:E=>{this.resourceBans=E,this.loading=!1},error:()=>this.loading=!1})}refreshFacilityBans(){this.loading=!0,this.facilityService.getEnricheFacilitydBansForUser(this.user.id).subscribe({next:E=>{this.facilityBans=E,this.loading=!1},error:()=>this.loading=!1})}updateVoBan(E){this.dialog.open(s.A,this.getConfig(E)).afterClosed().subscribe(b=>{b&&this.refreshVoBans()})}updateResourceBan(E){this.dialog.open(e.e,this.getConfig(E)).afterClosed().subscribe(b=>{b&&this.refreshResourceBans()})}updateFacilityBan(E){this.dialog.open(L.G,this.getConfig(E)).afterClosed().subscribe(b=>{b&&this.refreshFacilityBans()})}getConfig(E){const h=(0,p.kZ)();return h.width="600px",h.data={ban:E.ban,theme:"user-theme"},h}refresh(E){0===E.index?this.refreshVoBans():1===E.index?this.refreshResourceBans():this.refreshFacilityBans()}}m.\u0275fac=function(E){return new(E||m)(i.Y36(M.YF),i.Y36(M.xk),i.Y36(M.IQ),i.Y36(_.fb),i.Y36(n.uw))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-user-bans"]],decls:15,vars:3,consts:[[1,"page-subtitle"],["mat-stretch-tabs","false",1,"mt-3",3,"selectedTabChange"],["matTabLabel",""],["matTabContent",""],["spinner",""],[1,"mt-2","search-field",3,"placeholder","filter"],[1,"position-relative"],[3,"bans","displayedColumns","filter","updatePolicy","updateBan",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],[3,"bans","displayedColumns","filter","updatePolicy","updateBan"]],template:function(E,h){1&E&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"mat-tab-group",1),i.NdJ("selectedTabChange",function(P){return h.refresh(P)}),i.TgZ(4,"mat-tab"),i.YNc(5,I,2,3,"ng-template",2),i.YNc(6,v,3,3,"ng-template",3),i.qZA(),i.TgZ(7,"mat-tab"),i.YNc(8,U,2,3,"ng-template",2),i.YNc(9,A,3,3,"ng-template",3),i.qZA(),i.TgZ(10,"mat-tab"),i.YNc(11,g,2,3,"ng-template",2),i.YNc(12,r,3,3,"ng-template",3),i.qZA()(),i.YNc(13,o,1,0,"ng-template",null,4,i.W1O)),2&E&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"USER_DETAIL.BANS.TITLE"),"\n"))},dependencies:[R.Vc,R.uD,R.uX,R.SP,d.K,N.P,y.s,S.e,D.X$]})},85985:(W,Z,t)=>{t.d(Z,{u:()=>A});var M=t(95243),_=t(61744),p=t(15466),s=t(94650),e=t(82761),L=t(36895),i=t(68530),n=t(25788),R=t(96214),d=t(7434),N=t(73358),y=t(89383);function S(g,c){1&g&&(s.TgZ(0,"h1",7),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&g&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.YOU_ARE_MEMBER"),"\n"))}function D(g,c){1&g&&(s.TgZ(0,"h1",7),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&g&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.USER_IS_MEMBER"),"\n"))}const I=function(){return["id","vo","name","description"]};function C(g,c){if(1&g&&s._UZ(0,"perun-web-apps-groups-list",8),2&g){const r=s.oxw();s.Q6J("disableMembers",!1)("groups",r.membersGroups)("displayedColumns",s.DdM(5,I))("filter",r.memberFilterValue)("tableId",r.tableId)}}function v(g,c){if(1&g&&s._UZ(0,"perun-web-apps-groups-list",8),2&g){const r=s.oxw(2);s.Q6J("disableMembers",!1)("groups",r.adminsGroups)("displayedColumns",s.DdM(5,I))("filter",r.adminFilterValue)("tableId",r.adminTableId)}}function U(g,c){if(1&g){const r=s.EpF();s.TgZ(0,"div",9)(1,"h1",7),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"perun-web-apps-refresh-button",1),s.NdJ("refresh",function(){s.CHM(r);const m=s.oxw();return s.KtG(m.refreshAdminTable())}),s.qZA(),s.TgZ(5,"perun-web-apps-immediate-filter",2),s.NdJ("filter",function(m){s.CHM(r);const f=s.oxw();return s.KtG(f.adminFilter(m))}),s.qZA(),s.TgZ(6,"div",3),s.YNc(7,v,1,6,"perun-web-apps-groups-list",4),s.qZA()()}if(2&g){const r=s.oxw(),o=s.MAs(8);s.xp6(2),s.hij(" ",s.lcZ(3,4,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.USER_IS_ADMIN")," "),s.xp6(3),s.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),s.xp6(2),s.Q6J("perunWebAppsLoader",r.adminRefresh)("perunWebAppsLoaderIndicator",o)}}function T(g,c){1&g&&s._UZ(0,"perun-web-apps-loading-table")}class A{constructor(c,r,o,m,f){this.usersService=c,this.memberService=r,this.groupService=o,this.store=m,this.route=f,this.memberFilterValue="",this.adminFilterValue="",this.vos=[],this.membersGroups=[],this.adminsGroups=[],this.tableId=p.KE,this.adminTableId=p.Sb}ngOnInit(){(this.showPrincipal=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.params.subscribe(c=>this.userId=Number(c.userId)),this.refreshAdminTable(),this.refreshMemberTable()}memberFilter(c){this.memberFilterValue=c}adminFilter(c){this.adminFilterValue=c}refreshAdminTable(){this.adminRefresh=!0,this.usersService.getGroupsWhereUserIsAdmin(this.userId).subscribe(c=>{this.adminsGroups=c,this.adminRefresh=!1})}refreshMemberTable(){this.memberRefresh=!0,this.membersGroups=[],this.usersService.getVosWhereUserIsMember(this.userId).subscribe(c=>{this.vos=c;for(const r of this.vos)this.memberService.getMemberByUser(r.id,this.userId).subscribe(o=>{this.groupService.getMemberGroups(o.id).subscribe(m=>{this.membersGroups=this.membersGroups.concat(m),this.vos.indexOf(r)===this.vos.length-1&&(this.memberRefresh=!1)})});0===c.length&&(this.memberRefresh=!1)})}}A.\u0275fac=function(c){return new(c||A)(s.Y36(_.Fv),s.Y36(_.uq),s.Y36(_.ff),s.Y36(M.d6),s.Y36(e.gz))},A.\u0275cmp=s.Xpm({type:A,selectors:[["app-user-groups"]],hostVars:2,hostBindings:function(c,r){2&c&&s.ekj("router-component",r.true)},decls:9,vars:6,consts:[["class","page-subtitle",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],[1,"position-relative"],[3,"disableMembers","groups","displayedColumns","filter","tableId",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["class","mt-5",4,"ngIf"],["spinner",""],[1,"page-subtitle"],[3,"disableMembers","groups","displayedColumns","filter","tableId"],[1,"mt-5"]],template:function(c,r){if(1&c&&(s.YNc(0,S,3,3,"h1",0),s.YNc(1,D,3,3,"h1",0),s.TgZ(2,"perun-web-apps-refresh-button",1),s.NdJ("refresh",function(){return r.refreshMemberTable()}),s.qZA(),s.TgZ(3,"perun-web-apps-immediate-filter",2),s.NdJ("filter",function(m){return r.memberFilter(m)}),s.qZA(),s.TgZ(4,"div",3),s.YNc(5,C,1,6,"perun-web-apps-groups-list",4),s.qZA(),s.YNc(6,U,8,6,"div",5),s.YNc(7,T,1,0,"ng-template",null,6,s.W1O)),2&c){const o=s.MAs(8);s.Q6J("ngIf",r.showPrincipal),s.xp6(1),s.Q6J("ngIf",!r.showPrincipal),s.xp6(2),s.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),s.xp6(2),s.Q6J("perunWebAppsLoader",r.memberRefresh)("perunWebAppsLoaderIndicator",o),s.xp6(1),s.Q6J("ngIf",!r.showPrincipal)}},dependencies:[L.O5,i.K,n.W,R.t,d.L,N.e,y.X$]})},74837:(W,Z,t)=>{t.d(Z,{j:()=>T});var M=t(61744),_=t(95243),p=t(15466),s=t(94650),e=t(82761),L=t(36895),i=t(68530),n=t(87831),R=t(96214),d=t(7434),N=t(73358),y=t(89383);function S(A,g){1&A&&(s.TgZ(0,"h1",7),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&A&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SHARED_LIB.PERUN.ORGANIZATIONS.YOU_ARE_MEMBER"),"\n"))}function D(A,g){1&A&&(s.TgZ(0,"h1",7),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&A&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"SHARED_LIB.PERUN.ORGANIZATIONS.USER_IS_MEMBER"),"\n"))}function I(A,g){if(1&A&&s._UZ(0,"perun-web-apps-vos-list",8),2&A){const c=s.oxw();s.Q6J("displayedColumns",c.displayedColumns)("tableId",c.memberTableId)("filterValue",c.memberFilterValue)("vos",c.vosWhereIsMember)}}function C(A,g){if(1&A&&s._UZ(0,"perun-web-apps-vos-list",8),2&A){const c=s.oxw(2);s.Q6J("displayedColumns",c.displayedColumns)("tableId",c.adminTableId)("filterValue",c.adminFilterValue)("vos",c.vosWhereIsAdmin)}}function v(A,g){if(1&A){const c=s.EpF();s.TgZ(0,"div",9)(1,"h1",7),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"perun-web-apps-refresh-button",1),s.NdJ("refresh",function(){s.CHM(c);const o=s.oxw();return s.KtG(o.refreshAdminTable())}),s.qZA(),s.TgZ(5,"perun-web-apps-immediate-filter",2),s.NdJ("filter",function(o){s.CHM(c);const m=s.oxw();return s.KtG(m.applyAdminFilter(o))}),s.qZA(),s.TgZ(6,"div",3),s.YNc(7,C,1,4,"perun-web-apps-vos-list",4),s.qZA()()}if(2&A){const c=s.oxw(),r=s.MAs(8);s.xp6(2),s.Oqu(s.lcZ(3,4,"SHARED_LIB.PERUN.ORGANIZATIONS.USER_IS_ADMIN")),s.xp6(3),s.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),s.xp6(2),s.Q6J("perunWebAppsLoader",c.adminRefresh)("perunWebAppsLoaderIndicator",r)}}function U(A,g){1&A&&s._UZ(0,"perun-web-apps-loading-table")}class T{constructor(g,c,r,o){this.usersService=g,this.authResolver=c,this.store=r,this.route=o,this.vosWhereIsAdmin=[],this.vosWhereIsMember=[],this.adminFilterValue="",this.memberFilterValue="",this.displayedColumns=["id","name"],this.adminTableId=p.YF,this.memberTableId=p.gc}ngOnInit(){(this.isMyProfile=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.params.subscribe(g=>this.userId=Number(g.userId)),this.refreshAdminTable(),this.refreshMemberTable()}refreshMemberTable(){this.memberRefresh=!0,this.usersService.getVosWhereUserIsMember(this.userId).subscribe(g=>{this.vosWhereIsMember=g,this.memberRefresh=!1},()=>this.memberRefresh=!1)}refreshAdminTable(){this.adminRefresh=!0,this.usersService.getVosWhereUserIsAdmin(this.userId).subscribe(g=>{this.vosWhereIsAdmin=g,this.adminRefresh=!1},()=>this.adminRefresh=!1)}applyMemberFilter(g){this.memberFilterValue=g}applyAdminFilter(g){this.adminFilterValue=g}}T.\u0275fac=function(g){return new(g||T)(s.Y36(M.Fv),s.Y36(_.x4),s.Y36(_.d6),s.Y36(e.gz))},T.\u0275cmp=s.Xpm({type:T,selectors:[["app-user-organizations"]],hostVars:2,hostBindings:function(g,c){2&g&&s.ekj("router-component",c.true)},decls:9,vars:6,consts:[["class","page-subtitle",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],[1,"position-relative"],[3,"displayedColumns","tableId","filterValue","vos",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["class","mt-5",4,"ngIf"],["spinner",""],[1,"page-subtitle"],[3,"displayedColumns","tableId","filterValue","vos"],[1,"mt-5"]],template:function(g,c){if(1&g&&(s.YNc(0,S,3,3,"h1",0),s.YNc(1,D,3,3,"h1",0),s.TgZ(2,"perun-web-apps-refresh-button",1),s.NdJ("refresh",function(){return c.refreshMemberTable()}),s.qZA(),s.TgZ(3,"perun-web-apps-immediate-filter",2),s.NdJ("filter",function(o){return c.applyMemberFilter(o)}),s.qZA(),s.TgZ(4,"div",3),s.YNc(5,I,1,4,"perun-web-apps-vos-list",4),s.qZA(),s.YNc(6,v,8,6,"div",5),s.YNc(7,U,1,0,"ng-template",null,6,s.W1O)),2&g){const r=s.MAs(8);s.Q6J("ngIf",c.isMyProfile),s.xp6(1),s.Q6J("ngIf",!c.isMyProfile),s.xp6(2),s.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),s.xp6(2),s.Q6J("perunWebAppsLoader",c.memberRefresh)("perunWebAppsLoaderIndicator",r),s.xp6(1),s.Q6J("ngIf",!c.isMyProfile)}},dependencies:[L.O5,i.K,n.Z,R.t,d.L,N.e,y.X$]})},17755:(W,Z,t)=>{t.d(Z,{Z:()=>c});var M=t(61744),_=t(30671),p=t(95243),s=t(6134),e=t(9244),L=t(67791),i=t(94650),n=t(82761),R=t(7274),d=t(36895),N=t(97392),y=t(4859),S=t(73546),D=t(71135),I=t(89383);function C(r,o){1&r&&i._UZ(0,"th",12)}function v(r,o){if(1&r&&(i.TgZ(0,"td",13),i._uU(1),i.qZA()),2&r){const m=o.$implicit;i.xp6(1),i.hij("",m.displayName,":")}}function U(r,o){1&r&&i._UZ(0,"th",12)}function T(r,o){if(1&r){const m=i.EpF();i.TgZ(0,"td",14)(1,"div",15),i._uU(2),i.TgZ(3,"button",16),i.NdJ("click",function(){i.CHM(m);const E=i.oxw(2);return i.KtG(E.changeEmail())}),i.TgZ(4,"mat-icon"),i._uU(5,"edit"),i.qZA()()()()}if(2&r){const m=o.$implicit;i.xp6(2),i.hij(" ",m.value," ")}}function A(r,o){1&r&&i._UZ(0,"tr",17)}function g(r,o){if(1&r&&(i.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title")(4,"h1",4),i._uU(5),i.ALo(6,"translate"),i.qZA()()(),i.TgZ(7,"mat-card-content")(8,"table",5),i.ynx(9,6),i.YNc(10,C,1,0,"th",7),i.YNc(11,v,2,1,"td",8),i.BQk(),i.ynx(12,9),i.YNc(13,U,1,0,"th",7),i.YNc(14,T,6,1,"td",10),i.BQk(),i.YNc(15,A,1,0,"tr",11),i.qZA()()()()),2&r){const m=i.oxw();i.xp6(5),i.Oqu(i.lcZ(6,3,"USER_DETAIL.OVERVIEW.GENERAL_SETTINGS")),i.xp6(3),i.Q6J("dataSource",m.mailDataSource),i.xp6(7),i.Q6J("matRowDefColumns",m.displayedColumns)}}class c{constructor(o,m,f,E,h){this.userService=o,this.attributeService=m,this.storeService=f,this.route=E,this.dialog=h,this.navItems=[],this.isServiceUser=!1,this.displayedColumns=["name","value"],this.inMyProfile=!1}ngOnInit(){this.route.params.subscribe(o=>{o.userId?this.userService.getUserById(Number(o.userId)).subscribe(m=>{this.user=m,this.isServiceUser=m.serviceUser,this.initNavItems(`/admin/users/${this.user.id}`)}):(this.inMyProfile=!0,this.userID=this.storeService.getPerunPrincipal().user.id,this.attributeService.getUserAttributeByName(this.userID,s.r.USER_DEF_PREFERRED_MAIL).subscribe(m=>{this.preferredMail=m,this.handleMailNotDefined(),this.mailDataSource=new _.by([this.preferredMail]),this.initNavItems("/myProfile")}))})}changeEmail(){const o=(0,e.kZ)();o.width="350px",o.data={userId:this.userID},this.dialog.open(L.gr,o).afterClosed().subscribe(f=>{f&&this.attributeService.getUserAttributeByName(this.userID,s.r.USER_DEF_PREFERRED_MAIL).subscribe(E=>{this.preferredMail=E,this.handleMailNotDefined(),this.mailDataSource=new _.by([this.preferredMail])})})}handleMailNotDefined(){null==this.preferredMail&&(this.preferredMail={id:-1,beanName:"Attribute",displayName:(0,e.Cz)(s.r.USER_DEF_PREFERRED_MAIL.split(":").pop()),value:new Object("-")})}initNavItems(o){this.navItems=[{cssIcon:"perun-vo",url:`${o}/organizations`,label:"MENU_ITEMS.ADMIN.ORGANIZATIONS",style:"user-btn"},{cssIcon:"perun-group",url:`${o}/groups`,label:"MENU_ITEMS.ADMIN.GROUPS",style:"user-btn"}],window.location.pathname.startsWith("/admin")&&this.navItems.push({cssIcon:"perun-user",url:`${o}/accounts`,label:"MENU_ITEMS.USER.ACCOUNTS",style:"user-btn"},{cssIcon:"perun-identity",url:`${o}/identities`,label:"MENU_ITEMS.USER.IDENTITIES",style:"user-btn"},{cssIcon:"perun-facility-white",url:`${o}/facilities`,label:"MENU_ITEMS.USER.FACILITIES",style:"user-btn"},{cssIcon:"perun-resource",url:`${o}/resources`,label:"MENU_ITEMS.USER.RESOURCES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-attributes",url:`${o}/attributes`,label:"MENU_ITEMS.USER.ATTRIBUTES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-roles",url:`${o}/roles`,label:"MENU_ITEMS.USER.ROLES",style:"user-btn"}),this.navItems.push(this.isServiceUser?{cssIcon:"perun-manager",url:`${o}/associated-users`,label:"MENU_ITEMS.USER.ASSOCIATED_USERS",style:"user-btn"}:{cssIcon:"perun-service-identity",url:`${o}/service-identities`,label:"MENU_ITEMS.USER.SERVICE_IDENTITIES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-ban",url:"bans",label:"MENU_ITEMS.USER.BANS",style:"user-btn"}),window.location.pathname.startsWith("/admin")||this.navItems.push({cssIcon:"perun-settings2",url:`${o}/settings`,label:"MENU_ITEMS.ADMIN.SETTINGS",style:"user-btn"})}}c.\u0275fac=function(o){return new(o||c)(i.Y36(M.Fv),i.Y36(M.H8),i.Y36(p.d6),i.Y36(n.gz),i.Y36(R.uw))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-user-overview"]],hostVars:2,hostBindings:function(o,m){2&o&&i.ekj("router-component",m.true)},decls:2,vars:3,consts:[["class","align-cards",4,"ngIf"],[3,"items","size"],[1,"align-cards"],["appearance","outlined",1,"mat-elevation-z3"],[1,"page-subtitle"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","fw-bold","mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-cell","",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"fw-bold"],["mat-cell",""],[1,"d-flex","align-items-center"],["mat-icon-button","",1,"ms-3",3,"click"],["mat-row",""]],template:function(o,m){1&o&&(i.YNc(0,g,16,5,"div",0),i._UZ(1,"perun-web-apps-menu-buttons-field",1)),2&o&&(i.Q6J("ngIf",m.inMyProfile),i.xp6(1),i.Q6J("items",m.navItems)("size","small"))},dependencies:[d.O5,N.Hw,y.RK,_.BZ,_.fO,_.w1,_.Dz,_.nj,_.ge,_.ev,_.Gk,S.a8,S.dn,S.dk,S.n5,D.L,I.X$],styles:[".align-cards[_ngcontent-%COMP%]{margin:1rem;display:inline-block;vertical-align:top}"]})},6097:(W,Z,t)=>{t.d(Z,{t:()=>y});var M=t(61744),_=t(95243),p=t(94650),s=t(82761),e=t(3848),L=t(4784),i=t(89383);function n(S,D){1&S&&(p._uU(0),p.ALo(1,"translate")),2&S&&p.hij(" ",p.lcZ(1,1,"USER_DETAIL.DASHBOARD.DIRECT_ROLES")," ")}function R(S,D){if(1&S){const I=p.EpF();p.TgZ(0,"app-perun-web-apps-roles-page",4),p.NdJ("reload",function(){p.CHM(I);const v=p.oxw();return p.KtG(v.getData())})("startLoading",function(){p.CHM(I);const v=p.oxw();return p.KtG(v.outerLoading=!0)}),p.qZA()}if(2&S){const I=p.oxw();p.Q6J("outerLoading",I.outerLoading)("roles",I.roles)("entityId",I.userId)("showDescription",I.showDescription)("entityType",I.entityType)("editable",!0)}}function d(S,D){1&S&&(p._uU(0),p.ALo(1,"translate")),2&S&&p.hij(" ",p.lcZ(1,1,"USER_DETAIL.DASHBOARD.AUTHORIZED_GROUP_BASED_ROLES")," ")}function N(S,D){if(1&S){const I=p.EpF();p.TgZ(0,"app-perun-web-apps-roles-page",5),p.NdJ("reload",function(){p.CHM(I);const v=p.oxw();return p.KtG(v.getData())})("startLoading",function(){p.CHM(I);const v=p.oxw();return p.KtG(v.outerLoading=!0)}),p.qZA()}if(2&S){const I=p.oxw();p.Q6J("outerLoading",I.outerLoading)("roles",I.indirectRoles)("entityId",I.userId)("showDescription",I.showDescription)("entityType",I.entityType)("editable",!1)("complementaryObjectsWithAuthzGroups",I.rolesComplementaryObjectsWithAuthzGroups)}}class y{constructor(D,I,C,v){this.authzResolverService=D,this.route=I,this.store=C,this.roleService=v,this.roles=new Map,this.indirectRoles=new Map,this.rolesComplementaryObjectsWithAuthzGroups=new Map,this.showDescription=!0}ngOnInit(){this.outerLoading=!0,this.route.parent.params.subscribe(D=>{D.userId?(this.entityType="USER",this.userId=Number(D.userId)):(this.userId=this.store.getPerunPrincipal().userId,this.entityType="SELF"),this.getData()})}getData(){this.outerLoading=!0,this.roles.clear(),this.authzResolverService.getUserDirectRoles(this.userId).subscribe({next:D=>{const I=Object.keys(D).map(C=>C.toUpperCase());this.roles=this.roleService.prepareRoles(D,I),this.indirectRoles.clear(),this.authzResolverService.getUserRolesObtainedFromAuthorizedGroupMemberships(this.userId).subscribe({next:C=>{const v=Object.keys(C).map(U=>U.toUpperCase());this.indirectRoles=this.roleService.prepareRoles(C,v),this.rolesComplementaryObjectsWithAuthzGroups.clear(),this.authzResolverService.getRoleComplementaryObjectsWithAuthorizedGroups(this.userId).subscribe({next:U=>{this.rolesComplementaryObjectsWithAuthzGroups=this.roleService.prepareComplementaryObjects(Object.keys(U),U),this.outerLoading=!1},error:()=>this.outerLoading=!1})},error:()=>this.outerLoading=!1})},error:()=>this.outerLoading=!1})}}y.\u0275fac=function(D){return new(D||y)(p.Y36(M.Ct),p.Y36(s.gz),p.Y36(_.d6),p.Y36(_.Nj))},y.\u0275cmp=p.Xpm({type:y,selectors:[["app-user-roles"]],hostVars:2,hostBindings:function(D,I){2&D&&p.ekj("router-component",I.true)},decls:10,vars:3,consts:[[1,"page-subtitle","d-flex"],["mat-stretch-tabs","false"],["matTabLabel",""],["matTabContent",""],[3,"outerLoading","roles","entityId","showDescription","entityType","editable","reload","startLoading"],[3,"outerLoading","roles","entityId","showDescription","entityType","editable","complementaryObjectsWithAuthzGroups","reload","startLoading"]],template:function(D,I){1&D&&(p.TgZ(0,"h1",0),p._uU(1),p.ALo(2,"translate"),p.qZA(),p.TgZ(3,"mat-tab-group",1)(4,"mat-tab"),p.YNc(5,n,2,3,"ng-template",2),p.YNc(6,R,1,6,"ng-template",3),p.qZA(),p.TgZ(7,"mat-tab"),p.YNc(8,d,2,3,"ng-template",2),p.YNc(9,N,1,7,"ng-template",3),p.qZA()()),2&D&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"ROLES.TITLE")))},dependencies:[e.Vc,e.uD,e.uX,e.SP,L._,i.X$]})},46597:(W,Z,t)=>{t.d(Z,{d:()=>g});var M=t(15466),_=t(61744),p=t(95017),s=t(9244),e=t(54668),L=t(94814),i=t(95243),n=t(54004),R=t(63900),d=t(94650),N=t(7274),y=t(82761),S=t(4859),D=t(68530),I=t(96214),C=t(73358),v=t(64877),U=t(89383);function T(c,r){1&c&&d._UZ(0,"perun-web-apps-loading-table")}function A(c,r){if(1&c&&(d._UZ(0,"app-users-list",7),d.ALo(1,"translate")),2&c){const o=d.oxw();d.Q6J("noUsersFoundLabel",d.lcZ(1,6,"USER_DETAIL.SETTINGS.ASSOCIATED_USERS.NO_ASSOCIATED_USERS"))("disableRouting",o.disableRouting)("displayedColumns",o.displayedColumns)("selection",o.selection)("tableId",o.tableId)("users",o.associatedUsers)}}class g{constructor(r,o,m,f,E){this.dialog=r,this.router=o,this.authResolver=m,this.userManager=f,this.entityStorageService=E,this.loading=!1,this.selection=new p.Ov(!1,[]),this.associatedUsers=[],this.tableId=M.It,this.displayedColumns=["select","id","user","name","email","logins","organization"]}ngOnInit(){this.loading=!0,this.user=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.userManager.getUsersBySpecificUser(this.user.id).pipe((0,n.U)(r=>r.map(o=>o.id)),(0,R.w)(r=>this.userManager.getRichUsersWithAttributesByIds(r))).subscribe(r=>{this.associatedUsers=r,this.selection.clear(),this.setAuth(),this.loading=!1})}setAuth(){this.addAuth=this.authResolver.isAuthorized("addSpecificUserOwner_User_User_policy",[this.user]),this.removeAuth=this.authResolver.isAuthorized("removeSpecificUserOwner_User_User_policy",[this.user]),this.disableRouting=!this.authResolver.isPerunAdminOrObserver()}onAdd(){const r=(0,s.kZ)();r.width="1250px",r.data={userId:this.user.id,theme:"user-theme",isService:!0,target:"USER"},this.dialog.open(e.l,r).afterClosed().subscribe(m=>{m&&this.refreshTable()})}onRemove(){const r=(0,s.kZ)();r.width="650px",r.data={identities:this.selection.selected,userId:this.user.id,specificUser:this.selection.selected[0],isService:!0,theme:"user-theme",targetTitle:"USER",targetDescription:"SERVICE"},this.dialog.open(L.B,r).afterClosed().subscribe(m=>{m&&(this.authResolver.isAuthorized("getUsersBySpecificUser_User_policy",[this.user])?this.refreshTable():this.router.navigate(["/myProfile"],{queryParamsHandling:"preserve"}))})}}g.\u0275fac=function(r){return new(r||g)(d.Y36(N.uw),d.Y36(y.F0),d.Y36(i.x4),d.Y36(_.Fv),d.Y36(i.fb))},g.\u0275cmp=d.Xpm({type:g,selectors:[["app-user-settings-associated-users"]],decls:15,vars:12,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","mat-flat-button","",1,"me-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"me-2",3,"disabled","click"],["spinner",""],[1,"position-relative"],[3,"noUsersFoundLabel","disableRouting","displayedColumns","selection","tableId","users",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],[3,"noUsersFoundLabel","disableRouting","displayedColumns","selection","tableId","users"]],template:function(r,o){if(1&r&&(d.TgZ(0,"div")(1,"h1",0),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"perun-web-apps-refresh-button",1),d.NdJ("refresh",function(){return o.refreshTable()}),d.qZA(),d.TgZ(5,"button",2),d.NdJ("click",function(){return o.onAdd()}),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"button",3),d.NdJ("click",function(){return o.onRemove()}),d._uU(9),d.ALo(10,"translate"),d.qZA(),d.YNc(11,T,1,0,"ng-template",null,4,d.W1O),d.TgZ(13,"div",5),d.YNc(14,A,2,8,"app-users-list",6),d.qZA()()),2&r){const m=d.MAs(12);d.xp6(2),d.Oqu(d.lcZ(3,6,"USER_DETAIL.SETTINGS.ASSOCIATED_USERS.TITLE")),d.xp6(4),d.hij(" ",d.lcZ(7,8,"USER_DETAIL.SETTINGS.ASSOCIATED_USERS.ADD")," "),d.xp6(2),d.Q6J("disabled",0===o.selection.selected.length),d.xp6(1),d.hij(" ",d.lcZ(10,10,"USER_DETAIL.SETTINGS.ASSOCIATED_USERS.REMOVE")," "),d.xp6(5),d.Q6J("perunWebAppsLoader",o.loading)("perunWebAppsLoaderIndicator",m)}},dependencies:[S.lW,D.K,I.t,C.e,v.C,U.X$]})},97453:(W,Z,t)=>{t.d(Z,{R:()=>c});var M=t(95017),_=t(61744),p=t(15466),s=t(9244),e=t(54668),L=t(94814),i=t(95243),n=t(94650),R=t(82761),d=t(7274),N=t(36895),y=t(4859),S=t(68530),D=t(96214),I=t(73358),C=t(64877),v=t(89383);function U(r,o){if(1&r){const m=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){n.CHM(m);const E=n.oxw();return n.KtG(E.onAdd())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&r&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"USER_DETAIL.SETTINGS.SERVICE_IDENTITIES.CREATE"),"\n"))}function T(r,o){if(1&r){const m=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){n.CHM(m);const E=n.oxw();return n.KtG(E.onRemove())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}if(2&r){const m=n.oxw();n.Q6J("disabled",0===m.selection.selected.length),n.xp6(1),n.hij(" ",n.lcZ(2,2,"USER_DETAIL.SETTINGS.SERVICE_IDENTITIES.DELETE"),"\n")}}function A(r,o){1&r&&n._UZ(0,"perun-web-apps-loading-table")}function g(r,o){if(1&r&&(n._UZ(0,"app-users-list",9),n.ALo(1,"translate")),2&r){const m=n.oxw();n.Q6J("noUsersFoundLabel",n.lcZ(1,6,"USER_DETAIL.SETTINGS.SERVICE_IDENTITIES.NO_IDENTITIES"))("displayedColumns",m.displayedColumns)("selection",m.selection)("tableId",m.tableId)("routeToAdmin",m.routeToAdminSection)("users",m.identities)}}class c{constructor(o,m,f,E,h,b){this.route=o,this.dialog=m,this.router=f,this.userManager=E,this.authResolver=h,this.store=b,this.loading=!1,this.selection=new M.Ov(!1,[]),this.identities=[],this.tableId=p.Iz,this.displayedColumns=["select","id","user","name"],this.routeToAdminSection=!0,this.targetTitle="SERVICE",this.targetDescription="SERVICE"}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.loading=!0,this.subscription=this.route.parent.params.subscribe(o=>{this.userId=Number(o.userId),this.userId||(this.targetTitle="SERVICE",this.targetDescription="SELF",this.userId=this.store.getPerunPrincipal().userId,this.routeToAdminSection=!1),this.setAuthRights(),this.refreshTable()})}refreshTable(){this.loading=!0,this.userManager.getSpecificUsersByUser(this.userId).subscribe(o=>{this.identities=o,this.selection.clear(),this.loading=!1})}setAuthRights(){this.addIdentity=this.authResolver.isPerunAdmin(),this.removeIdentity=this.authResolver.isAuthorized("removeSpecificUserOwner_User_User_policy",[{id:this.userId,beanName:"User"}])}onAdd(){const o=(0,s.kZ)();o.width="1250px",o.data={userId:this.userId,theme:"user-theme",isService:!1,target:this.targetTitle},this.dialog.open(e.l,o).afterClosed().subscribe(f=>{f&&this.refreshTable()})}onRemove(){const o=(0,s.kZ)();o.width="650px",o.data={identities:this.selection.selected,userId:this.userId,specificUser:this.selection.selected[0],theme:"user-theme",targetTitle:this.targetTitle,targetDescription:this.targetDescription},this.dialog.open(L.B,o).afterClosed().subscribe(f=>{f&&this.refreshTable()})}}c.\u0275fac=function(o){return new(o||c)(n.Y36(R.gz),n.Y36(d.uw),n.Y36(R.F0),n.Y36(_.Fv),n.Y36(i.x4),n.Y36(i.d6))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-user-settings-service-identities"]],decls:10,vars:7,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","me-2 action-button","mat-flat-button","",3,"click",4,"ngIf"],["color","warn","class","me-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],["spinner",""],[1,"position-relative"],[3,"noUsersFoundLabel","displayedColumns","selection","tableId","routeToAdmin","users",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["color","accent","mat-flat-button","",1,"me-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"me-2",3,"disabled","click"],[3,"noUsersFoundLabel","displayedColumns","selection","tableId","routeToAdmin","users"]],template:function(o,m){if(1&o&&(n.TgZ(0,"h1",0),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"perun-web-apps-refresh-button",1),n.NdJ("refresh",function(){return m.refreshTable()}),n.qZA(),n.YNc(4,U,3,3,"button",2),n.YNc(5,T,3,4,"button",3),n.YNc(6,A,1,0,"ng-template",null,4,n.W1O),n.TgZ(8,"div",5),n.YNc(9,g,2,8,"app-users-list",6),n.qZA()),2&o){const f=n.MAs(7);n.xp6(1),n.Oqu(n.lcZ(2,5,"USER_DETAIL.SETTINGS.SERVICE_IDENTITIES.TITLE")),n.xp6(3),n.Q6J("ngIf",m.addIdentity),n.xp6(1),n.Q6J("ngIf",m.removeIdentity),n.xp6(4),n.Q6J("perunWebAppsLoader",m.loading)("perunWebAppsLoaderIndicator",f)}},dependencies:[N.O5,y.lW,S.K,D.t,I.e,C.C,v.X$]})},38338:(W,Z,t)=>{t.r(Z),t.d(Z,{UsersModule:()=>J});var M=t(36895),_=t(82761),p=t(74837),s=t(85985),e=t(94650),L=t(61283);class i{}i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-settings"]],hostVars:2,hostBindings:function(a,l){2&a&&e.ekj("router-component",l.true)},decls:1,vars:0,template:function(a,l){1&a&&e._UZ(0,"app-animated-router-outlet")},dependencies:[L.A]});var n=t(61744),R=t(51572),d=t(71135);function N(u,a){1&u&&e._UZ(0,"mat-spinner",2)}function y(u,a){if(1&u&&(e.TgZ(0,"div"),e._UZ(1,"perun-web-apps-menu-buttons-field",3),e.qZA()),2&u){const l=e.oxw();e.xp6(1),e.Q6J("items",l.navItems)("size","small")}}class S{constructor(a,l){this.route=a,this.userManager=l,this.navItems=[],this.loading=!1}ngOnInit(){window.location.pathname.startsWith("/admin")?(this.loading=!0,this.route.parent.parent.params.subscribe(a=>{const l=Number(a.userId);this.userManager.getUserById(l).subscribe(O=>{this.isServiceUser=O.serviceUser,this.initNavItems(),this.loading=!1},()=>this.loading=!1)})):this.initNavItems()}initNavItems(){this.navItems=[],window.location.pathname.startsWith("/admin")||this.navItems.push({cssIcon:"perun-settings2",url:"/myProfile/settings/passwordReset",label:"MENU_ITEMS.USER.PASSWORD_RESET",style:"user-btn"},{cssIcon:"perun-settings1",url:"/myProfile/settings/guiConfig",label:"MENU_ITEMS.USER.GUI_CONFIG",style:"user-btn"})}}S.\u0275fac=function(a){return new(a||S)(e.Y36(_.gz),e.Y36(n.Fv))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-user-settings-overview"]],hostVars:2,hostBindings:function(a,l){2&a&&e.ekj("router-component",l.true)},decls:2,vars:2,consts:[["class","me-auto ms-auto",4,"ngIf"],[4,"ngIf"],[1,"me-auto","ms-auto"],[3,"items","size"]],template:function(a,l){1&a&&(e.YNc(0,N,1,0,"mat-spinner",0),e.YNc(1,y,2,2,"div",1)),2&a&&(e.Q6J("ngIf",l.loading),e.xp6(1),e.Q6J("ngIf",!l.loading))},dependencies:[M.O5,R.Ou,d.L]});var D=t(98973),I=t(37433),C=t(9244),v=t(15466),U=t(3238),T=t(59549),A=t(84385),g=t(89383);function c(u,a){if(1&u&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&u){const l=a.$implicit;e.Q6J("value",l),e.xp6(1),e.hij(" ",l," ")}}class r{constructor(a){this.guiConfigService=a,this.tablePageSizeOptions=C.f7}ngOnInit(){this.preferredTablePageSize=this.guiConfigService.getNumber(v.Rc)}updatePreferredTablePageSize(){this.guiConfigService.setNumber(v.Rc,this.preferredTablePageSize)}}r.\u0275fac=function(a){return new(a||r)(e.Y36(v.Ng))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-settings-app-configuration"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[1,"col-12","col-lg-6","p-0"],[1,"w-100"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,l){1&a&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"mat-select",3),e.NdJ("valueChange",function(B){return l.preferredTablePageSize=B})("valueChange",function(){return l.updatePreferredTablePageSize()}),e.YNc(9,c,2,2,"mat-option",4),e.qZA()()()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,4,"USER_DETAIL.SETTINGS.GUI_CONFIG.TITLE")),e.xp6(5),e.Oqu(e.lcZ(7,6,"USER_DETAIL.SETTINGS.GUI_CONFIG.PREF_TABLE_PAGE_SIZE")),e.xp6(2),e.Q6J("value",l.preferredTablePageSize),e.xp6(1),e.Q6J("ngForOf",l.tablePageSizeOptions))},dependencies:[M.sg,U.ey,T.KE,T.hX,A.gD,g.X$]});var o=t(17755),m=t(77968),f=t(95243),E=t(97392),h=t(10266),b=t(4235),P=t(55755),x=t(31359);const Q=function(){return{color:"black"}},ie=function(){return["/myProfile"]};function _e(u,a){if(1&u&&(e.TgZ(0,"div",1),e._UZ(1,"perun-web-apps-back-button"),e.TgZ(2,"div",2),e._UZ(3,"mat-icon",3),e.ALo(4,"translate"),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6),e.NdJ("auxclick",function(O){return O.preventDefault()}),e._uU(8),e.ALo(9,"userFullName"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.qZA()(),e.TgZ(12,"span",8),e._uU(13),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA()()(),e._UZ(16,"app-animated-router-outlet"),e.qZA()),2&u){const l=e.oxw();e.xp6(3),e.s9C("matTooltip",e.lcZ(4,9,"MENU_ITEMS.USER.ENTITY")),e.Q6J("ngStyle",e.DdM(17,Q)),e.xp6(4),e.Q6J("perunWebAppsMiddleClickRouterLink",e.DdM(18,ie))("routerLink",e.DdM(19,ie)),e.xp6(1),e.hij(" ",e.lcZ(9,11,l.user)," "),e.xp6(3),e.hij(" \xa0#",l.user.id," "),e.xp6(2),e.lnq(" ",e.lcZ(14,13,"MENU_ITEMS.USER.ENTITY"),", ",e.lcZ(15,15,"MENU_ITEMS.USER.USER_TYPE"),": ",l.getUserType()," ")}}class H{constructor(a,l,O,B){this.sideMenuService=a,this.store=l,this.entityStore=O,this.router=B}ngOnInit(){this.path=this.router.url,this.router.events.subscribe(()=>{this.path=this.router.url}),this.principal=this.store.getPerunPrincipal(),this.user=this.principal.user,this.entityStore.setEntity(this.user),this.sideMenuService.setUserItems([])}getUserType(){return this.user.serviceUser?"Service":"Person"}}H.\u0275fac=function(a){return new(a||H)(e.Y36(m.D),e.Y36(f.d6),e.Y36(f.fb),e.Y36(_.F0))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-user-profile"]],decls:1,vars:1,consts:[["class","container-fluid ps-xl-5 pe-xl-5 user-theme",4,"ngIf"],[1,"container-fluid","ps-xl-5","pe-xl-5","user-theme"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-user-dark",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],[1,"user-link",3,"perunWebAppsMiddleClickRouterLink","routerLink","auxclick"],[1,"text-muted"],[1,"mt-1","entity-info"]],template:function(a,l){1&a&&e.YNc(0,_e,17,20,"div",0),2&a&&e.Q6J("ngIf",void 0!==l.user)},dependencies:[M.O5,M.PC,_.rH,E.Hw,h.gM,b.W,P.YH,P.QG,L.A,g.X$,x.d]});var pe=t(6097),ce=t(97453),ue=t(69024),de=t(29862),Y=t(7274),G=t(4859);function me(u,a){1&u&&e._UZ(0,"mat-spinner",11)}function ge(u,a){if(1&u){const l=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(l);const B=e.oxw(2);return e.KtG(B.editUser())}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()}}const he=function(){return{color:"black"}},ae=function(u){return["/myProfile/service-identities",u]};function fe(u,a){if(1&u&&(e.TgZ(0,"div",1),e._UZ(1,"perun-web-apps-back-button"),e.YNc(2,me,1,0,"mat-spinner",2),e.TgZ(3,"div",3),e._UZ(4,"mat-icon",4),e.ALo(5,"translate"),e.TgZ(6,"div",5)(7,"div",6)(8,"a",7),e.NdJ("auxclick",function(O){return O.preventDefault()}),e._uU(9),e.ALo(10,"userFullName"),e.qZA(),e.TgZ(11,"span",8),e._uU(12),e.qZA(),e.YNc(13,ge,3,0,"button",9),e.qZA(),e.TgZ(14,"div"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"span",10),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA()()(),e._UZ(21,"app-animated-router-outlet"),e.qZA()),2&u){const l=e.oxw();e.xp6(2),e.Q6J("ngIf",l.loading),e.xp6(2),e.s9C("matTooltip",e.lcZ(5,13,"MENU_ITEMS.USER.ENTITY")),e.Q6J("ngStyle",e.DdM(23,he)),e.xp6(4),e.Q6J("perunWebAppsMiddleClickRouterLink",e.VKq(24,ae,l.user.id.toString()))("routerLink",e.VKq(26,ae,l.user.id)),e.xp6(1),e.hij(" ",e.lcZ(10,15,l.user)," "),e.xp6(3),e.hij(" \xa0#",l.user.id," "),e.xp6(1),e.Q6J("ngIf",l.authResolver.isPerunAdmin()),e.xp6(2),e.AsE("",e.lcZ(16,17,"ADMIN_USER.UUID"),": ",l.user.uuid,""),e.xp6(3),e.lnq(" ",e.lcZ(19,19,"MENU_ITEMS.USER.ENTITY"),", ",e.lcZ(20,21,"MENU_ITEMS.USER.USER_TYPE"),": ",l.getUserType()," ")}}class z{constructor(a,l,O,B,w,se,ne){this.sideMenuService=a,this.usersService=l,this.sideMenuItemService=O,this.route=B,this.dialog=w,this.authResolver=se,this.entityStorageService=ne,this.loading=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(a=>{const l=Number(a.userId);this.entityStorageService.setEntity({id:l,beanName:"User"}),this.usersService.getUserById(l).subscribe(O=>{this.user=O;const B=this.sideMenuItemService.parseServiceIdentity(O);this.sideMenuService.setUserItems([B]),this.loading=!1},()=>this.loading=!1)})}getUserType(){return this.user.serviceUser?"Service":"Person"}editUser(){const a=(0,C.kZ)();a.width="450px",a.data={theme:"admin-theme",user:this.user},this.dialog.open(de.x,a).afterClosed().subscribe(O=>{O&&this.usersService.getUserById(this.user.id).subscribe(B=>{this.user=B})})}}z.\u0275fac=function(a){return new(a||z)(e.Y36(m.D),e.Y36(n.Fv),e.Y36(ue.V),e.Y36(_.gz),e.Y36(Y.uw),e.Y36(f.x4),e.Y36(f.fb))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-service-identity-detail-page"]],decls:1,vars:1,consts:[["class","container-fluid ps-xl-5 pe-xl-5 user-theme",4,"ngIf"],[1,"container-fluid","ps-xl-5","pe-xl-5","user-theme"],["class","me-auto ms-auto",4,"ngIf"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-service-identity",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],[1,"user-link",3,"perunWebAppsMiddleClickRouterLink","routerLink","auxclick"],[1,"text-muted"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"mt-1","entity-info"],[1,"me-auto","ms-auto"],["mat-icon-button","",3,"click"]],template:function(a,l){1&a&&e.YNc(0,fe,22,28,"div",0),2&a&&e.Q6J("ngIf",void 0!==l.user)},dependencies:[M.O5,M.PC,_.rH,E.Hw,G.RK,R.Ou,h.gM,b.W,P.YH,P.QG,L.A,g.X$,x.d]});class j{constructor(a){this.entityStorageService=a,this.navItems=[]}ngOnInit(){this.serviceAccount=this.entityStorageService.getEntity(),this.initNavItems()}initNavItems(){this.navItems=[{cssIcon:"perun-manager",url:`/myProfile/service-identities/${this.serviceAccount.id}/associated-users`,label:"MENU_ITEMS.USER.ASSOCIATED_USERS",style:"user-btn"},{cssIcon:"perun-notification",url:`/myProfile/service-identities/${this.serviceAccount.id}/mailing-lists`,label:"MENU_ITEMS.USER.MAILING_LISTS",style:"user-btn"},{cssIcon:"perun-statistics",url:`/myProfile/service-identities/${this.serviceAccount.id}/data-quotas`,label:"MENU_ITEMS.USER.DATA_QUOTAS",style:"user-btn"},{cssIcon:"perun-authentication",url:`/myProfile/service-identities/${this.serviceAccount.id}/authentication`,label:"MENU_ITEMS.USER.AUTHENTICATION",style:"user-btn"}]}}j.\u0275fac=function(a){return new(a||j)(e.Y36(f.fb))},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-service-identity-overview"]],decls:1,vars:2,consts:[[3,"items","size"]],template:function(a,l){1&a&&e._UZ(0,"perun-web-apps-menu-buttons-field",0),2&a&&e.Q6J("items",l.navItems)("size","small")},dependencies:[d.L]});var Ee=t(46597),Ie=t(74006);class V{constructor(a){this.entityStorageService=a}ngOnInit(){this.user=this.entityStorageService.getEntity()}}V.\u0275fac=function(a){return new(a||V)(e.Y36(f.fb))},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-perun-web-apps-user-settings-mailing-lists"]],decls:1,vars:2,consts:[[3,"user","isService"]],template:function(a,l){1&a&&e._UZ(0,"perun-web-apps-mailing-lists",0),2&a&&e.Q6J("user",l.user)("isService",!0)},dependencies:[Ie.E]});var ve=t(2541);class X{constructor(a){this.entityStorageService=a}ngOnInit(){this.user=this.entityStorageService.getEntity()}}X.\u0275fac=function(a){return new(a||X)(e.Y36(f.fb))},X.\u0275cmp=e.Xpm({type:X,selectors:[["app-perun-web-apps-user-settings-data-quotas"]],decls:1,vars:1,consts:[[3,"user"]],template:function(a,l){1&a&&e._UZ(0,"perun-web-apps-data-quotas",0),2&a&&e.Q6J("user",l.user)},dependencies:[ve.m]});class ${constructor(a){this.entityStorageService=a,this.navItems=[]}ngOnInit(){this.serviceAccount=this.entityStorageService.getEntity(),this.initNavItems()}initNavItems(){this.navItems=[{cssIcon:"perun-logins",url:`/myProfile/service-identities/${this.serviceAccount.id}/authentication/logins`,label:"MENU_ITEMS.USER.LOGINS",style:"user-btn"},{cssIcon:"perun-certificates",url:`/myProfile/service-identities/${this.serviceAccount.id}/authentication/certificates`,label:"MENU_ITEMS.USER.CERTIFICATES",style:"user-btn"},{cssIcon:"perun-key",url:`/myProfile/service-identities/${this.serviceAccount.id}/authentication/ssh-keys`,label:"MENU_ITEMS.USER.SSH_KEYS",style:"user-btn"}]}}$.\u0275fac=function(a){return new(a||$)(e.Y36(f.fb))},$.\u0275cmp=e.Xpm({type:$,selectors:[["app-service-identity-authentication-overview"]],decls:1,vars:2,consts:[[3,"items","size"]],template:function(a,l){1&a&&e._UZ(0,"perun-web-apps-menu-buttons-field",0),2&a&&e.Q6J("items",l.navItems)("size","small")},dependencies:[d.L]});var K=t(24006),Te=t(28499),Ae=t(97403),re=t(73358),be=t(95406);function Ue(u,a){1&u&&e._UZ(0,"perun-web-apps-loading-dialog")}function Ce(u,a){if(1&u){const l=e.EpF();e.TgZ(0,"div")(1,"h1",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"app-login-password-form-with-generate-option",5),e.qZA(),e.TgZ(6,"div",6)(7,"button",7),e.NdJ("click",function(){e.CHM(l);const B=e.oxw();return e.KtG(B.onCancel())}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){e.CHM(l);const B=e.oxw();return e.KtG(B.onSetLogin())}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()}if(2&u){const l=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"DIALOGS.SET_LOGIN.TITLE")),e.xp6(3),e.Q6J("formGroup",l.formGroup)("filteredNamespace",l.data.filteredNamespaces),e.xp6(3),e.hij(" ",e.lcZ(9,8,"DIALOGS.SET_LOGIN.CANCEL")," "),e.xp6(2),e.Q6J("disabled","Not selected"===l.formGroup.get("namespaceCtrl").value||l.formGroup.invalid||l.formGroup.pending||l.processing),e.xp6(1),e.hij(" ",e.lcZ(12,10,"DIALOGS.SET_LOGIN.SET_LOGIN")," ")}}class q{constructor(a,l,O,B,w,se,ne,ct,ut,dt){this.dialogRef=a,this.data=l,this.formBuilder=O,this.usersManagerService=B,this.membersManagerService=w,this.attributesManagerService=se,this.apiRequestConfiguration=ne,this.notificator=ct,this.translate=ut,this.cd=dt,this.processing=!1}ngOnInit(){this.userId=this.data.userId,this.formGroup=this.formBuilder.group({namespaceCtrl:["Not selected"],loginCtrl:["",[K.kI.pattern("^[a-z][a-z0-9_-]+$"),K.kI.maxLength(15),K.kI.minLength(2)]],passwordCtrl:["",K.kI.required,[(0,Te.yT)(null,this.usersManagerService,this.apiRequestConfiguration)]],passwordAgainCtrl:[""],generatePasswordCtrl:[!0]},{validators:C.dN.passwordMatchValidator})}ngAfterViewInit(){this.cd.detectChanges()}onSetLogin(){this.processing=!0;const a=this.formGroup.get("namespaceCtrl").value.toLowerCase(),l=this.formGroup.get("loginCtrl").value;if(l)this.setLogin(a,l);else{const O=`urn:perun:user:attribute-def:def:login-namespace:${a}`;this.attributesManagerService.getUserAttributeByName(this.userId,"urn:perun:user:attribute-def:core:lastName").subscribe(B=>{this.usersManagerService.generateAccountForName(a,B.value).subscribe(se=>{this.setLogin(a,se[O])},()=>this.processing=!1)})}}setLogin(a,l){this.usersManagerService.setLogin(this.userId,l,a).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.SET_LOGIN.SUCCESS_LOGIN")),this.setPassword()},()=>{this.processing=!1})}setPassword(){const a=this.formGroup.get("namespaceCtrl").value.toLowerCase(),l=this.formGroup.get("passwordCtrl").value;if(this.formGroup.get("generatePasswordCtrl").value){if(!this.formGroup.get("loginCtrl").value)return;this.usersManagerService.reserveRandomPassword(this.userId,a).subscribe(()=>{this.usersManagerService.validatePasswordForUser(this.userId,a).subscribe(()=>{this.dialogRef.close(!0)},()=>{this.processing=!1})},()=>{this.processing=!1})}else this.usersManagerService.reservePasswordForUser({user:this.userId,namespace:a,password:l}).subscribe(()=>{this.usersManagerService.validatePasswordForUser(this.userId,a).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.SET_LOGIN.SUCCESS_PASSWORD")),this.dialogRef.close(!0)},()=>{this.processing=!1})},()=>{this.processing=!1})}onCancel(){this.dialogRef.close(!1)}}q.\u0275fac=function(a){return new(a||q)(e.Y36(Y.so),e.Y36(Y.WI),e.Y36(K.QS),e.Y36(n.Fv),e.Y36(n.uq),e.Y36(n.H8),e.Y36(f.F5),e.Y36(f.V6),e.Y36(g.sK),e.Y36(e.sBO))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-perun-web-apps-set-login-dialog"]],decls:4,vars:2,consts:[["spinner",""],[1,"vo-theme","position-relative"],[4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-container"],[3,"formGroup","filteredNamespace"],["mat-dialog-actions",""],["mat-flat-button","",1,"ms-auto",3,"click"],["color","accent","mat-flat-button","",1,"ms-2",3,"disabled","click"]],template:function(a,l){if(1&a&&(e.YNc(0,Ue,1,0,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1),e.YNc(3,Ce,13,12,"div",2),e.qZA()),2&a){const O=e.MAs(1);e.xp6(3),e.Q6J("perunWebAppsLoader",l.processing)("perunWebAppsLoaderIndicator",O)}},dependencies:[K.JL,K.sg,G.lW,Y.uh,Y.xY,Y.H8,Ae.b,re.e,be.r,g.X$]});var oe=t(96214),Se=t(53599);const De=["logins"];class k{constructor(a,l){this.dialog=a,this.entityStorageService=l,this.filteredNamespaces=[]}ngOnInit(){this.userId=this.entityStorageService.getEntity().id}onAdd(){const a=(0,C.kZ)();a.width="500px",a.data={userId:this.userId,filteredNamespaces:this.filteredNamespaces},this.dialog.open(q,a).afterClosed().subscribe(O=>{O&&this.logins.refreshTable()})}}k.\u0275fac=function(a){return new(a||k)(e.Y36(Y.uw),e.Y36(f.fb))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-perun-web-apps-user-settings-logins"]],viewQuery:function(a,l){if(1&a&&e.Gf(De,5),2&a){let O;e.iGM(O=e.CRH())&&(l.logins=O.first)}},decls:9,vars:7,consts:[[1,"page-title"],[3,"refresh"],["color","accent","mat-flat-button","",1,"me-2","action-button",3,"click"],[3,"authenticationPage","filteredNamespaces"],["logins",""]],template:function(a,l){if(1&a){const O=e.EpF();e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"perun-web-apps-refresh-button",1),e.NdJ("refresh",function(){e.CHM(O);const w=e.MAs(8);return e.KtG(w.refreshTable())}),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return l.onAdd()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"perun-web-apps-password-reset",3,4),e.NdJ("filteredNamespaces",function(w){return l.filteredNamespaces=w}),e.qZA()}2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"USER_DETAIL.SETTINGS.LOGINS.TITLE")),e.xp6(4),e.hij(" ",e.lcZ(6,5,"USER_DETAIL.SETTINGS.LOGINS.ADD"),"\n"),e.xp6(2),e.Q6J("authenticationPage",!0))},dependencies:[G.lW,oe.t,Se.N,g.X$]});class ee{}ee.\u0275fac=function(a){return new(a||ee)},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["app-service-identity-authentication"]],hostVars:2,hostBindings:function(a,l){2&a&&e.ekj("router-component",l.true)},decls:1,vars:0,template:function(a,l){1&a&&e._UZ(0,"app-animated-router-outlet")},dependencies:[L.A]});var Oe=t(6134),Me=t(95017),Re=t(67791),Le=t(68530),Pe=t(6881);const ye=["list"];function Ne(u,a){1&u&&e._UZ(0,"perun-web-apps-loading-table")}const Ze=function(u){return[u]};function xe(u,a){if(1&u&&e._UZ(0,"perun-web-apps-attributes-list",6,7),2&u){const l=e.oxw();e.Q6J("attributes",e.VKq(2,Ze,l.certificates))("selection",l.selection)}}class te{constructor(a,l,O){this.entityStorageService=a,this.attributesManagerService=l,this.dialog=O,this.selection=new Me.Ov(!0,[])}ngOnInit(){this.userId=this.entityStorageService.getEntity().id,this.refresh()}refresh(){this.loading=!0,this.attributesManagerService.getUserAttributeByName(this.userId,Oe.r.USER_DEF_CERTIFICATES).subscribe(a=>{this.certificates=a,this.selection.clear(),this.loading=!1})}save(){this.list.updateMapAttributes();const a=(0,C.kZ)();a.width="450px",a.data={entityId:this.userId,entity:"user",attributes:this.selection.selected},this.dialog.open(Re.wA,a).afterClosed().subscribe(O=>{O&&this.refresh()})}}te.\u0275fac=function(a){return new(a||te)(e.Y36(f.fb),e.Y36(n.H8),e.Y36(Y.uw))},te.\u0275cmp=e.Xpm({type:te,selectors:[["app-service-identity-certificates"]],viewQuery:function(a,l){if(1&a&&e.Gf(ye,5),2&a){let O;e.iGM(O=e.CRH())&&(l.list=O.first)}},decls:11,vars:9,consts:[[1,"page-title"],[1,"mt-2",3,"refresh"],["color","accent","mat-flat-button","",1,"me-2","mt-2",3,"disabled","click"],["spinner",""],[1,"position-relative"],[3,"attributes","selection",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],[3,"attributes","selection"],["list",""]],template:function(a,l){if(1&a&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"perun-web-apps-refresh-button",1),e.NdJ("refresh",function(){return l.refresh()}),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return l.save()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Ne,1,0,"ng-template",null,3,e.W1O),e.TgZ(9,"div",4),e.YNc(10,xe,2,4,"perun-web-apps-attributes-list",5),e.qZA()),2&a){const O=e.MAs(8);e.xp6(1),e.Oqu(e.lcZ(2,5,"USER_DETAIL.SETTINGS.CERTIFICATES.TITLE")),e.xp6(3),e.Q6J("disabled",0===l.selection.selected.length),e.xp6(1),e.hij(" ",e.lcZ(6,7,"USER_DETAIL.SETTINGS.CERTIFICATES.SAVE"),"\n"),e.xp6(5),e.Q6J("perunWebAppsLoader",l.loading)("perunWebAppsLoaderIndicator",O)}},dependencies:[G.lW,Le.K,oe.t,Pe.p,re.e,g.X$]});var Be=t(51403);const We=[{path:"",component:H,children:[{path:"",component:o.Z,data:{animation:"UserOverviewPage"}},{path:"attributes",component:D.u,data:{animation:"UserAttributesPage"}},{path:"organizations",component:p.j,data:{animation:"UserOrganizationsPage",showPrincipal:!0}},{path:"groups",component:s.u,data:{animation:"UserGroupsPage",showPrincipal:!0}},{path:"roles",component:pe.t,data:{animation:"UserRolesPage"}},{path:"service-identities",component:ce.R,data:{animation:"UserServiceIdentities"}},{path:"bans",component:Be.Q,data:{animation:"UserBansPage"}},{path:"settings",component:i,children:[{path:"",component:S,data:{animation:"UserSettingsOverviewPage"}},{path:"passwordReset",component:I.Nj,data:{animation:"PasswordResetPage"}},{path:"guiConfig",component:r,data:{animation:"UserAppConfigurationPage"}}]}]},{path:"service-identities/:userId",component:z,children:[{path:"",component:j},{path:"associated-users",component:Ee.d},{path:"authentication",component:ee,children:[{path:"",component:$},{path:"logins",component:k},{path:"certificates",component:te},{path:"ssh-keys",component:I.N7}]},{path:"mailing-lists",component:V},{path:"data-quotas",component:X}]}];class F{}F.\u0275fac=function(a){return new(a||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[_.Bz.forChild(We),_.Bz]});var Ye=t(47957),Ke=t(284),we=t(23267),Ge=t(37084),Fe=t(96308),Je=t(30671),Qe=t(3848),He=t(35423),ze=t(56709),je=t(17009),Ve=t(73162),Xe=t(90455),$e=t(99602),qe=t(71948),ke=t(44850),et=t(98739),le=t(73546),tt=t(86257),st=t(73555),nt=t(77331),it=t(28255),at=t(67376),rt=t(88561),ot=t(91926),lt=t(42673),_t=t(22395),pt=t(14264);class J{constructor(a){this.translate=a,a.addLangs(["en","cs"])}}J.\u0275fac=function(a){return new(a||J)(e.LFG(g.sK))},J.\u0275mod=e.oAB({type:J}),J.\u0275inj=e.cJS({imports:[M.ez,F,Ye.Bb,Ke.c,T.lN,K.UX,K.u5,E.Ps,we.SJ,Ge.To,g.aw.forChild({}),G.ot,Fe.JX,Je.p0,Qe.Nh,He.dp,G.ot,ze.p9,Y.Is,A.LD,je.ZX,R.Cq,Ve.Cv,h.AV,Xe.rP,$e.FA,U.XK,qe.Fk,ke.t,U.si,et.TU,le.QW,tt.T5,st._t,le.QW,nt.Hi,it.Tx,at.Cl,rt.r,ot.A,lt.g,I.ez,v.rD,_t.d4,pt.m]})}}]);