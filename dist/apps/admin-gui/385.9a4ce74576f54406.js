(self.webpackChunkadmin_gui=self.webpackChunkadmin_gui||[]).push([[385],{89397:function(w,k){!function(o){"use strict";function u(Y,K){return K.forEach(function(ut){ut&&"string"!=typeof ut&&!Array.isArray(ut)&&Object.keys(ut).forEach(function(it){if("default"!==it&&!(it in Y)){var G=Object.getOwnPropertyDescriptor(ut,it);Object.defineProperty(Y,it,G.get?G:{enumerable:!0,get:function(){return ut[it]}})}})}),Object.freeze(Y)}var it,ut,x={exports:{}};it="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,ut=function(G){var ft,It,M=void 0!==(G=G||{})?G:{};M.ready=new Promise(function(T,I){ft=T,It=I});var Yt,Zt={};for(Yt in M)M.hasOwnProperty(Yt)&&(Zt[Yt]=M[Yt]);var Nt,Jt,ie="./this.program",xt="";"undefined"!=typeof document&&document.currentScript&&(xt=document.currentScript.src),it&&(xt=it),xt=0!==xt.indexOf("blob:")?xt.substr(0,xt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Nt=function(T){var I=new XMLHttpRequest;return I.open("GET",T,!1),I.send(null),I.responseText},Jt=function(T,I,U){var Q=new XMLHttpRequest;Q.open("GET",T,!0),Q.responseType="arraybuffer",Q.onload=function(){200==Q.status||0==Q.status&&Q.response?I(Q.response):U()},Q.onerror=U,Q.send(null)};var Ze,_e=M.print||console.log.bind(console),Te=M.printErr||console.warn.bind(console);for(Yt in Zt)Zt.hasOwnProperty(Yt)&&(M[Yt]=Zt[Yt]);Zt=null,M.thisProgram&&(ie=M.thisProgram),M.wasmBinary&&(Ze=M.wasmBinary),"object"!=typeof WebAssembly&&Dn("no native wasm support detected");var yn,Pe=!1;function mn(T,I){T||Dn("Assertion failed: "+I)}var je,dn,En,Ue,ci,Ve="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function kn(T,I,U){for(var Q=I+U,ct=I;T[ct]&&!(ct>=Q);)++ct;if(ct-I>16&&T.subarray&&Ve)return Ve.decode(T.subarray(I,ct));for(var yt="";I<ct;){var kt=T[I++];if(128&kt){var Pt=63&T[I++];if(192!=(224&kt)){var ae=63&T[I++];if((kt=224==(240&kt)?(15&kt)<<12|Pt<<6|ae:(7&kt)<<18|Pt<<12|ae<<6|63&T[I++])<65536)yt+=String.fromCharCode(kt);else{var De=kt-65536;yt+=String.fromCharCode(55296|De>>10,56320|1023&De)}}else yt+=String.fromCharCode((31&kt)<<6|Pt)}else yt+=String.fromCharCode(kt)}return yt}function de(T,I){return T?kn(En,T,I):""}function gn(T,I,U,Q){if(!(Q>0))return 0;for(var ct=U,yt=U+Q-1,kt=0;kt<T.length;++kt){var Pt=T.charCodeAt(kt);if(Pt>=55296&&Pt<=57343&&(Pt=65536+((1023&Pt)<<10)|1023&T.charCodeAt(++kt)),Pt<=127){if(U>=yt)break;I[U++]=Pt}else if(Pt<=2047){if(U+1>=yt)break;I[U++]=192|Pt>>6,I[U++]=128|63&Pt}else if(Pt<=65535){if(U+2>=yt)break;I[U++]=224|Pt>>12,I[U++]=128|Pt>>6&63,I[U++]=128|63&Pt}else{if(U+3>=yt)break;I[U++]=240|Pt>>18,I[U++]=128|Pt>>12&63,I[U++]=128|Pt>>6&63,I[U++]=128|63&Pt}}return I[U]=0,U-ct}function ni(T){for(var I=0,U=0;U<T.length;++U){var Q=T.charCodeAt(U);Q>=55296&&Q<=57343&&(Q=65536+((1023&Q)<<10)|1023&T.charCodeAt(++U)),Q<=127?++I:I+=Q<=2047?2:Q<=65535?3:4}return I}function an(T,I){return T%I>0&&(T+=I-T%I),T}function Rn(T){je=T,M.HEAP8=dn=new Int8Array(T),M.HEAP16=new Int16Array(T),M.HEAP32=Ue=new Int32Array(T),M.HEAPU8=En=new Uint8Array(T),M.HEAPU16=new Uint16Array(T),M.HEAPU32=new Uint32Array(T),M.HEAPF32=new Float32Array(T),M.HEAPF64=ci=new Float64Array(T)}var vn,Hn=[],Kn=[],Me=[];var ve=0,Be=null;function en(T){ve++,M.monitorRunDependencies&&M.monitorRunDependencies(ve)}function Zn(T){if(ve--,M.monitorRunDependencies&&M.monitorRunDependencies(ve),0==ve&&Be){var I=Be;Be=null,I()}}function Dn(T){M.onAbort&&M.onAbort(T),Te(T="Aborted("+T+")"),Pe=!0,T+=". Build with -s ASSERTIONS=1 for more info.";var I=new WebAssembly.RuntimeError(T);throw It(I),I}M.preloadedImages={},M.preloadedAudios={};var _n;function Di(T){return T.startsWith("data:application/octet-stream;base64,")}function ti(T){try{if(T==_n&&Ze)return new Uint8Array(Ze);throw"both async and sync fetching of the wasm failed"}catch(I){Dn(I)}}Di(_n="expatlib.wasm")||(_n=function pt(T){return M.locateFile?M.locateFile(T,xt):xt+T}(_n));var cn,Tn,ei={11694:function(T){var I=M.getCache(M.CExpatJS)[T];if(!I.hasOwnProperty("startElement"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::startElement.";I.startElement()},11912:function(T){var I=M.getCache(M.CExpatJS)[T];if(!I.hasOwnProperty("endElement"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::endElement.";I.endElement()},12124:function(T){var I=M.getCache(M.CExpatJS)[T];if(!I.hasOwnProperty("characterData"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::characterData.";I.characterData()}};function ui(T){for(;T.length>0;){var I=T.shift();if("function"!=typeof I){var U=I.func;"number"==typeof U?void 0===I.arg?Mn(U)():Mn(U)(I.arg):U(void 0===I.arg?null:I.arg)}else I(M)}}function Mn(T){return vn.get(T)}var Le={splitPath:function(T){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(T).slice(1)},normalizeArray:function(T,I){for(var U=0,Q=T.length-1;Q>=0;Q--){var ct=T[Q];"."===ct?T.splice(Q,1):".."===ct?(T.splice(Q,1),U++):U&&(T.splice(Q,1),U--)}if(I)for(;U;U--)T.unshift("..");return T},normalize:function(T){var I="/"===T.charAt(0),U="/"===T.substr(-1);return!(T=Le.normalizeArray(T.split("/").filter(function(Q){return!!Q}),!I).join("/"))&&!I&&(T="."),T&&U&&(T+="/"),(I?"/":"")+T},dirname:function(T){var I=Le.splitPath(T),U=I[0],Q=I[1];return U||Q?(Q&&(Q=Q.substr(0,Q.length-1)),U+Q):"."},basename:function(T){if("/"===T)return"/";var I=(T=(T=Le.normalize(T)).replace(/\/$/,"")).lastIndexOf("/");return-1===I?T:T.substr(I+1)},extname:function(T){return Le.splitPath(T)[3]},join:function(){var T=Array.prototype.slice.call(arguments,0);return Le.normalize(T.join("/"))},join2:function(T,I){return Le.normalize(T+"/"+I)}};var Bn={resolve:function(){for(var T="",I=!1,U=arguments.length-1;U>=-1&&!I;U--){var Q=U>=0?arguments[U]:E.cwd();if("string"!=typeof Q)throw new TypeError("Arguments to path.resolve must be strings");if(!Q)return"";T=Q+"/"+T,I="/"===Q.charAt(0)}return(I?"/":"")+(T=Le.normalizeArray(T.split("/").filter(function(ct){return!!ct}),!I).join("/"))||"."},relative:function(T,I){function U(De){for(var Ge=0;Ge<De.length&&""===De[Ge];Ge++);for(var qe=De.length-1;qe>=0&&""===De[qe];qe--);return Ge>qe?[]:De.slice(Ge,qe-Ge+1)}T=Bn.resolve(T).substr(1),I=Bn.resolve(I).substr(1);for(var Q=U(T.split("/")),ct=U(I.split("/")),yt=Math.min(Q.length,ct.length),kt=yt,Pt=0;Pt<yt;Pt++)if(Q[Pt]!==ct[Pt]){kt=Pt;break}var ae=[];for(Pt=kt;Pt<Q.length;Pt++)ae.push("..");return(ae=ae.concat(ct.slice(kt))).join("/")}},fn={ttys:[],init:function(){},shutdown:function(){},register:function(T,I){fn.ttys[T]={input:[],output:[],ops:I},E.registerDevice(T,fn.stream_ops)},stream_ops:{open:function(T){var I=fn.ttys[T.node.rdev];if(!I)throw new E.ErrnoError(43);T.tty=I,T.seekable=!1},close:function(T){T.tty.ops.flush(T.tty)},flush:function(T){T.tty.ops.flush(T.tty)},read:function(T,I,U,Q,ct){if(!T.tty||!T.tty.ops.get_char)throw new E.ErrnoError(60);for(var yt=0,kt=0;kt<Q;kt++){var Pt;try{Pt=T.tty.ops.get_char(T.tty)}catch(ae){throw new E.ErrnoError(29)}if(void 0===Pt&&0===yt)throw new E.ErrnoError(6);if(null==Pt)break;yt++,I[U+kt]=Pt}return yt&&(T.node.timestamp=Date.now()),yt},write:function(T,I,U,Q,ct){if(!T.tty||!T.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var yt=0;yt<Q;yt++)T.tty.ops.put_char(T.tty,I[U+yt])}catch(kt){throw new E.ErrnoError(29)}return Q&&(T.node.timestamp=Date.now()),yt}},default_tty_ops:{get_char:function(T){if(!T.input.length){var I=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(I=window.prompt("Input: "))&&(I+="\n"):"function"==typeof readline&&null!==(I=readline())&&(I+="\n"),!I)return null;T.input=xe(I,!0)}return T.input.shift()},put_char:function(T,I){null===I||10===I?(_e(kn(T.output,0)),T.output=[]):0!=I&&T.output.push(I)},flush:function(T){T.output&&T.output.length>0&&(_e(kn(T.output,0)),T.output=[])}},default_tty1_ops:{put_char:function(T,I){null===I||10===I?(Te(kn(T.output,0)),T.output=[]):0!=I&&T.output.push(I)},flush:function(T){T.output&&T.output.length>0&&(Te(kn(T.output,0)),T.output=[])}}};var X={ops_table:null,mount:function(T){return X.createNode(null,"/",16895,0)},createNode:function(T,I,U,Q){if(E.isBlkdev(U)||E.isFIFO(U))throw new E.ErrnoError(63);X.ops_table||(X.ops_table={dir:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,lookup:X.node_ops.lookup,mknod:X.node_ops.mknod,rename:X.node_ops.rename,unlink:X.node_ops.unlink,rmdir:X.node_ops.rmdir,readdir:X.node_ops.readdir,symlink:X.node_ops.symlink},stream:{llseek:X.stream_ops.llseek}},file:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:{llseek:X.stream_ops.llseek,read:X.stream_ops.read,write:X.stream_ops.write,allocate:X.stream_ops.allocate,mmap:X.stream_ops.mmap,msync:X.stream_ops.msync}},link:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,readlink:X.node_ops.readlink},stream:{}},chrdev:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:E.chrdev_stream_ops}});var ct=E.createNode(T,I,U,Q);return E.isDir(ct.mode)?(ct.node_ops=X.ops_table.dir.node,ct.stream_ops=X.ops_table.dir.stream,ct.contents={}):E.isFile(ct.mode)?(ct.node_ops=X.ops_table.file.node,ct.stream_ops=X.ops_table.file.stream,ct.usedBytes=0,ct.contents=null):E.isLink(ct.mode)?(ct.node_ops=X.ops_table.link.node,ct.stream_ops=X.ops_table.link.stream):E.isChrdev(ct.mode)&&(ct.node_ops=X.ops_table.chrdev.node,ct.stream_ops=X.ops_table.chrdev.stream),ct.timestamp=Date.now(),T&&(T.contents[I]=ct,T.timestamp=ct.timestamp),ct},getFileDataAsTypedArray:function(T){return T.contents?T.contents.subarray?T.contents.subarray(0,T.usedBytes):new Uint8Array(T.contents):new Uint8Array(0)},expandFileStorage:function(T,I){var U=T.contents?T.contents.length:0;if(!(U>=I)){I=Math.max(I,U*(U<1048576?2:1.125)>>>0),0!=U&&(I=Math.max(I,256));var ct=T.contents;T.contents=new Uint8Array(I),T.usedBytes>0&&T.contents.set(ct.subarray(0,T.usedBytes),0)}},resizeFileStorage:function(T,I){if(T.usedBytes!=I)if(0==I)T.contents=null,T.usedBytes=0;else{var U=T.contents;T.contents=new Uint8Array(I),U&&T.contents.set(U.subarray(0,Math.min(I,T.usedBytes))),T.usedBytes=I}},node_ops:{getattr:function(T){var I={};return I.dev=E.isChrdev(T.mode)?T.id:1,I.ino=T.id,I.mode=T.mode,I.nlink=1,I.uid=0,I.gid=0,I.rdev=T.rdev,I.size=E.isDir(T.mode)?4096:E.isFile(T.mode)?T.usedBytes:E.isLink(T.mode)?T.link.length:0,I.atime=new Date(T.timestamp),I.mtime=new Date(T.timestamp),I.ctime=new Date(T.timestamp),I.blksize=4096,I.blocks=Math.ceil(I.size/I.blksize),I},setattr:function(T,I){void 0!==I.mode&&(T.mode=I.mode),void 0!==I.timestamp&&(T.timestamp=I.timestamp),void 0!==I.size&&X.resizeFileStorage(T,I.size)},lookup:function(T,I){throw E.genericErrors[44]},mknod:function(T,I,U,Q){return X.createNode(T,I,U,Q)},rename:function(T,I,U){if(E.isDir(T.mode)){var Q;try{Q=E.lookupNode(I,U)}catch(yt){}if(Q)for(var ct in Q.contents)throw new E.ErrnoError(55)}delete T.parent.contents[T.name],T.parent.timestamp=Date.now(),T.name=U,I.contents[U]=T,I.timestamp=T.parent.timestamp,T.parent=I},unlink:function(T,I){delete T.contents[I],T.timestamp=Date.now()},rmdir:function(T,I){var U=E.lookupNode(T,I);for(var Q in U.contents)throw new E.ErrnoError(55);delete T.contents[I],T.timestamp=Date.now()},readdir:function(T){var I=[".",".."];for(var U in T.contents)!T.contents.hasOwnProperty(U)||I.push(U);return I},symlink:function(T,I,U){var Q=X.createNode(T,I,41471,0);return Q.link=U,Q},readlink:function(T){if(!E.isLink(T.mode))throw new E.ErrnoError(28);return T.link}},stream_ops:{read:function(T,I,U,Q,ct){var yt=T.node.contents;if(ct>=T.node.usedBytes)return 0;var kt=Math.min(T.node.usedBytes-ct,Q);if(kt>8&&yt.subarray)I.set(yt.subarray(ct,ct+kt),U);else for(var Pt=0;Pt<kt;Pt++)I[U+Pt]=yt[ct+Pt];return kt},write:function(T,I,U,Q,ct,yt){if(I.buffer===dn.buffer&&(yt=!1),!Q)return 0;var kt=T.node;if(kt.timestamp=Date.now(),I.subarray&&(!kt.contents||kt.contents.subarray)){if(yt)return kt.contents=I.subarray(U,U+Q),kt.usedBytes=Q,Q;if(0===kt.usedBytes&&0===ct)return kt.contents=I.slice(U,U+Q),kt.usedBytes=Q,Q;if(ct+Q<=kt.usedBytes)return kt.contents.set(I.subarray(U,U+Q),ct),Q}if(X.expandFileStorage(kt,ct+Q),kt.contents.subarray&&I.subarray)kt.contents.set(I.subarray(U,U+Q),ct);else for(var Pt=0;Pt<Q;Pt++)kt.contents[ct+Pt]=I[U+Pt];return kt.usedBytes=Math.max(kt.usedBytes,ct+Q),Q},llseek:function(T,I,U){var Q=I;if(1===U?Q+=T.position:2===U&&E.isFile(T.node.mode)&&(Q+=T.node.usedBytes),Q<0)throw new E.ErrnoError(28);return Q},allocate:function(T,I,U){X.expandFileStorage(T.node,I+U),T.node.usedBytes=Math.max(T.node.usedBytes,I+U)},mmap:function(T,I,U,Q,ct,yt){if(0!==I)throw new E.ErrnoError(28);if(!E.isFile(T.node.mode))throw new E.ErrnoError(43);var kt,Pt,ae=T.node.contents;if(2&yt||ae.buffer!==je){if((Q>0||Q+U<ae.length)&&(ae=ae.subarray?ae.subarray(Q,Q+U):Array.prototype.slice.call(ae,Q,Q+U)),Pt=!0,!(kt=function V(T){Dn()}()))throw new E.ErrnoError(48);dn.set(ae,kt)}else Pt=!1,kt=ae.byteOffset;return{ptr:kt,allocated:Pt}},msync:function(T,I,U,Q,ct){if(!E.isFile(T.node.mode))throw new E.ErrnoError(43);return 2&ct||X.stream_ops.write(T,I,0,Q,U,!1),0}}};var E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(T,I){if(I=I||{},!(T=Bn.resolve(E.cwd(),T)))return{path:"",node:null};var U={follow_mount:!0,recurse_count:0};for(var Q in U)void 0===I[Q]&&(I[Q]=U[Q]);if(I.recurse_count>8)throw new E.ErrnoError(32);for(var ct=Le.normalizeArray(T.split("/").filter(function(Re){return!!Re}),!1),yt=E.root,kt="/",Pt=0;Pt<ct.length;Pt++){var ae=Pt===ct.length-1;if(ae&&I.parent)break;if(yt=E.lookupNode(yt,ct[Pt]),kt=Le.join2(kt,ct[Pt]),E.isMountpoint(yt)&&(!ae||ae&&I.follow_mount)&&(yt=yt.mounted.root),!ae||I.follow)for(var De=0;E.isLink(yt.mode);){var Ge=E.readlink(kt);if(kt=Bn.resolve(Le.dirname(kt),Ge),yt=E.lookupPath(kt,{recurse_count:I.recurse_count}).node,De++>40)throw new E.ErrnoError(32)}}return{path:kt,node:yt}},getPath:function(T){for(var I;;){if(E.isRoot(T)){var U=T.mount.mountpoint;return I?"/"!==U[U.length-1]?U+"/"+I:U+I:U}I=I?T.name+"/"+I:T.name,T=T.parent}},hashName:function(T,I){for(var U=0,Q=0;Q<I.length;Q++)U=(U<<5)-U+I.charCodeAt(Q)|0;return(T+U>>>0)%E.nameTable.length},hashAddNode:function(T){var I=E.hashName(T.parent.id,T.name);T.name_next=E.nameTable[I],E.nameTable[I]=T},hashRemoveNode:function(T){var I=E.hashName(T.parent.id,T.name);if(E.nameTable[I]===T)E.nameTable[I]=T.name_next;else for(var U=E.nameTable[I];U;){if(U.name_next===T){U.name_next=T.name_next;break}U=U.name_next}},lookupNode:function(T,I){var U=E.mayLookup(T);if(U)throw new E.ErrnoError(U,T);for(var Q=E.hashName(T.id,I),ct=E.nameTable[Q];ct;ct=ct.name_next)if(ct.parent.id===T.id&&ct.name===I)return ct;return E.lookup(T,I)},createNode:function(T,I,U,Q){var ct=new E.FSNode(T,I,U,Q);return E.hashAddNode(ct),ct},destroyNode:function(T){E.hashRemoveNode(T)},isRoot:function(T){return T===T.parent},isMountpoint:function(T){return!!T.mounted},isFile:function(T){return 32768==(61440&T)},isDir:function(T){return 16384==(61440&T)},isLink:function(T){return 40960==(61440&T)},isChrdev:function(T){return 8192==(61440&T)},isBlkdev:function(T){return 24576==(61440&T)},isFIFO:function(T){return 4096==(61440&T)},isSocket:function(T){return 49152==(49152&T)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(T){var I=E.flagModes[T];if(void 0===I)throw new Error("Unknown file open mode: "+T);return I},flagsToPermissionString:function(T){var I=["r","w","rw"][3&T];return 512&T&&(I+="w"),I},nodePermissions:function(T,I){return E.ignorePermissions?0:I.includes("r")&&!(292&T.mode)||I.includes("w")&&!(146&T.mode)||I.includes("x")&&!(73&T.mode)?2:0},mayLookup:function(T){return E.nodePermissions(T,"x")||(T.node_ops.lookup?0:2)},mayCreate:function(T,I){try{return E.lookupNode(T,I),20}catch(Q){}return E.nodePermissions(T,"wx")},mayDelete:function(T,I,U){var Q;try{Q=E.lookupNode(T,I)}catch(yt){return yt.errno}var ct=E.nodePermissions(T,"wx");if(ct)return ct;if(U){if(!E.isDir(Q.mode))return 54;if(E.isRoot(Q)||E.getPath(Q)===E.cwd())return 10}else if(E.isDir(Q.mode))return 31;return 0},mayOpen:function(T,I){return T?E.isLink(T.mode)?32:E.isDir(T.mode)&&("r"!==E.flagsToPermissionString(I)||512&I)?31:E.nodePermissions(T,E.flagsToPermissionString(I)):44},MAX_OPEN_FDS:4096,nextfd:function(T,I){I=I||E.MAX_OPEN_FDS;for(var U=T=T||0;U<=I;U++)if(!E.streams[U])return U;throw new E.ErrnoError(33)},getStream:function(T){return E.streams[T]},createStream:function(T,I,U){E.FSStream||(E.FSStream=function(){},E.FSStream.prototype={object:{get:function(){return this.node},set:function(kt){this.node=kt}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var Q=new E.FSStream;for(var ct in T)Q[ct]=T[ct];T=Q;var yt=E.nextfd(I,U);return T.fd=yt,E.streams[yt]=T,T},closeStream:function(T){E.streams[T]=null},chrdev_stream_ops:{open:function(T){var I=E.getDevice(T.node.rdev);T.stream_ops=I.stream_ops,T.stream_ops.open&&T.stream_ops.open(T)},llseek:function(){throw new E.ErrnoError(70)}},major:function(T){return T>>8},minor:function(T){return 255&T},makedev:function(T,I){return T<<8|I},registerDevice:function(T,I){E.devices[T]={stream_ops:I}},getDevice:function(T){return E.devices[T]},getMounts:function(T){for(var I=[],U=[T];U.length;){var Q=U.pop();I.push(Q),U.push.apply(U,Q.mounts)}return I},syncfs:function(T,I){"function"==typeof T&&(I=T,T=!1),E.syncFSRequests++,E.syncFSRequests>1&&Te("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var U=E.getMounts(E.root.mount),Q=0;function ct(kt){return E.syncFSRequests--,I(kt)}function yt(kt){if(kt)return yt.errored?void 0:(yt.errored=!0,ct(kt));++Q>=U.length&&ct(null)}U.forEach(function(kt){if(!kt.type.syncfs)return yt(null);kt.type.syncfs(kt,T,yt)})},mount:function(T,I,U){var yt,Q="/"===U,ct=!U;if(Q&&E.root)throw new E.ErrnoError(10);if(!Q&&!ct){var kt=E.lookupPath(U,{follow_mount:!1});if(U=kt.path,E.isMountpoint(yt=kt.node))throw new E.ErrnoError(10);if(!E.isDir(yt.mode))throw new E.ErrnoError(54)}var Pt={type:T,opts:I,mountpoint:U,mounts:[]},ae=T.mount(Pt);return ae.mount=Pt,Pt.root=ae,Q?E.root=ae:yt&&(yt.mounted=Pt,yt.mount&&yt.mount.mounts.push(Pt)),ae},unmount:function(T){var I=E.lookupPath(T,{follow_mount:!1});if(!E.isMountpoint(I.node))throw new E.ErrnoError(28);var U=I.node,Q=U.mounted,ct=E.getMounts(Q);Object.keys(E.nameTable).forEach(function(kt){for(var Pt=E.nameTable[kt];Pt;){var ae=Pt.name_next;ct.includes(Pt.mount)&&E.destroyNode(Pt),Pt=ae}}),U.mounted=null;var yt=U.mount.mounts.indexOf(Q);U.mount.mounts.splice(yt,1)},lookup:function(T,I){return T.node_ops.lookup(T,I)},mknod:function(T,I,U){var ct=E.lookupPath(T,{parent:!0}).node,yt=Le.basename(T);if(!yt||"."===yt||".."===yt)throw new E.ErrnoError(28);var kt=E.mayCreate(ct,yt);if(kt)throw new E.ErrnoError(kt);if(!ct.node_ops.mknod)throw new E.ErrnoError(63);return ct.node_ops.mknod(ct,yt,I,U)},create:function(T,I){return I=void 0!==I?I:438,I&=4095,E.mknod(T,I|=32768,0)},mkdir:function(T,I){return I=void 0!==I?I:511,I&=1023,E.mknod(T,I|=16384,0)},mkdirTree:function(T,I){for(var U=T.split("/"),Q="",ct=0;ct<U.length;++ct)if(U[ct]){Q+="/"+U[ct];try{E.mkdir(Q,I)}catch(yt){if(20!=yt.errno)throw yt}}},mkdev:function(T,I,U){return void 0===U&&(U=I,I=438),E.mknod(T,I|=8192,U)},symlink:function(T,I){if(!Bn.resolve(T))throw new E.ErrnoError(44);var Q=E.lookupPath(I,{parent:!0}).node;if(!Q)throw new E.ErrnoError(44);var ct=Le.basename(I),yt=E.mayCreate(Q,ct);if(yt)throw new E.ErrnoError(yt);if(!Q.node_ops.symlink)throw new E.ErrnoError(63);return Q.node_ops.symlink(Q,ct,T)},rename:function(T,I){var Pt,ae,U=Le.dirname(T),Q=Le.dirname(I),ct=Le.basename(T),yt=Le.basename(I);if(Pt=E.lookupPath(T,{parent:!0}).node,ae=E.lookupPath(I,{parent:!0}).node,!Pt||!ae)throw new E.ErrnoError(44);if(Pt.mount!==ae.mount)throw new E.ErrnoError(75);var qe,De=E.lookupNode(Pt,ct),Ge=Bn.relative(T,Q);if("."!==Ge.charAt(0))throw new E.ErrnoError(28);if("."!==(Ge=Bn.relative(I,U)).charAt(0))throw new E.ErrnoError(55);try{qe=E.lookupNode(ae,yt)}catch(wn){}if(De!==qe){var Re=E.isDir(De.mode),Ye=E.mayDelete(Pt,ct,Re);if(Ye)throw new E.ErrnoError(Ye);if(Ye=qe?E.mayDelete(ae,yt,Re):E.mayCreate(ae,yt))throw new E.ErrnoError(Ye);if(!Pt.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(De)||qe&&E.isMountpoint(qe))throw new E.ErrnoError(10);if(ae!==Pt&&(Ye=E.nodePermissions(Pt,"w")))throw new E.ErrnoError(Ye);E.hashRemoveNode(De);try{Pt.node_ops.rename(De,ae,yt)}catch(wn){throw wn}finally{E.hashAddNode(De)}}},rmdir:function(T){var U=E.lookupPath(T,{parent:!0}).node,Q=Le.basename(T),ct=E.lookupNode(U,Q),yt=E.mayDelete(U,Q,!0);if(yt)throw new E.ErrnoError(yt);if(!U.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(ct))throw new E.ErrnoError(10);U.node_ops.rmdir(U,Q),E.destroyNode(ct)},readdir:function(T){var U=E.lookupPath(T,{follow:!0}).node;if(!U.node_ops.readdir)throw new E.ErrnoError(54);return U.node_ops.readdir(U)},unlink:function(T){var U=E.lookupPath(T,{parent:!0}).node,Q=Le.basename(T),ct=E.lookupNode(U,Q),yt=E.mayDelete(U,Q,!1);if(yt)throw new E.ErrnoError(yt);if(!U.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(ct))throw new E.ErrnoError(10);U.node_ops.unlink(U,Q),E.destroyNode(ct)},readlink:function(T){var U=E.lookupPath(T).node;if(!U)throw new E.ErrnoError(44);if(!U.node_ops.readlink)throw new E.ErrnoError(28);return Bn.resolve(E.getPath(U.parent),U.node_ops.readlink(U))},stat:function(T,I){var Q=E.lookupPath(T,{follow:!I}).node;if(!Q)throw new E.ErrnoError(44);if(!Q.node_ops.getattr)throw new E.ErrnoError(63);return Q.node_ops.getattr(Q)},lstat:function(T){return E.stat(T,!0)},chmod:function(T,I,U){var Q;if(!(Q="string"==typeof T?E.lookupPath(T,{follow:!U}).node:T).node_ops.setattr)throw new E.ErrnoError(63);Q.node_ops.setattr(Q,{mode:4095&I|-4096&Q.mode,timestamp:Date.now()})},lchmod:function(T,I){E.chmod(T,I,!0)},fchmod:function(T,I){var U=E.getStream(T);if(!U)throw new E.ErrnoError(8);E.chmod(U.node,I)},chown:function(T,I,U,Q){var ct;if(!(ct="string"==typeof T?E.lookupPath(T,{follow:!Q}).node:T).node_ops.setattr)throw new E.ErrnoError(63);ct.node_ops.setattr(ct,{timestamp:Date.now()})},lchown:function(T,I,U){E.chown(T,I,U,!0)},fchown:function(T,I,U){var Q=E.getStream(T);if(!Q)throw new E.ErrnoError(8);E.chown(Q.node,I,U)},truncate:function(T,I){if(I<0)throw new E.ErrnoError(28);var U;if(!(U="string"==typeof T?E.lookupPath(T,{follow:!0}).node:T).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(U.mode))throw new E.ErrnoError(31);if(!E.isFile(U.mode))throw new E.ErrnoError(28);var ct=E.nodePermissions(U,"w");if(ct)throw new E.ErrnoError(ct);U.node_ops.setattr(U,{size:I,timestamp:Date.now()})},ftruncate:function(T,I){var U=E.getStream(T);if(!U)throw new E.ErrnoError(8);if(0==(2097155&U.flags))throw new E.ErrnoError(28);E.truncate(U.node,I)},utime:function(T,I,U){var ct=E.lookupPath(T,{follow:!0}).node;ct.node_ops.setattr(ct,{timestamp:Math.max(I,U)})},open:function(T,I,U,Q,ct){if(""===T)throw new E.ErrnoError(44);var yt;if(U=void 0===U?438:U,U=64&(I="string"==typeof I?E.modeStringToFlags(I):I)?4095&U|32768:0,"object"==typeof T)yt=T;else{T=Le.normalize(T);try{yt=E.lookupPath(T,{follow:!(131072&I)}).node}catch(Ge){}}var Pt=!1;if(64&I)if(yt){if(128&I)throw new E.ErrnoError(20)}else yt=E.mknod(T,U,0),Pt=!0;if(!yt)throw new E.ErrnoError(44);if(E.isChrdev(yt.mode)&&(I&=-513),65536&I&&!E.isDir(yt.mode))throw new E.ErrnoError(54);if(!Pt){var ae=E.mayOpen(yt,I);if(ae)throw new E.ErrnoError(ae)}512&I&&E.truncate(yt,0),I&=-131713;var De=E.createStream({node:yt,path:E.getPath(yt),id:yt.id,flags:I,mode:yt.mode,seekable:!0,position:0,stream_ops:yt.stream_ops,node_ops:yt.node_ops,ungotten:[],error:!1},Q,ct);return De.stream_ops.open&&De.stream_ops.open(De),M.logReadFiles&&!(1&I)&&(E.readFiles||(E.readFiles={}),T in E.readFiles||(E.readFiles[T]=1)),De},close:function(T){if(E.isClosed(T))throw new E.ErrnoError(8);T.getdents&&(T.getdents=null);try{T.stream_ops.close&&T.stream_ops.close(T)}catch(I){throw I}finally{E.closeStream(T.fd)}T.fd=null},isClosed:function(T){return null===T.fd},llseek:function(T,I,U){if(E.isClosed(T))throw new E.ErrnoError(8);if(!T.seekable||!T.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=U&&1!=U&&2!=U)throw new E.ErrnoError(28);return T.position=T.stream_ops.llseek(T,I,U),T.ungotten=[],T.position},read:function(T,I,U,Q,ct){if(Q<0||ct<0)throw new E.ErrnoError(28);if(E.isClosed(T))throw new E.ErrnoError(8);if(1==(2097155&T.flags))throw new E.ErrnoError(8);if(E.isDir(T.node.mode))throw new E.ErrnoError(31);if(!T.stream_ops.read)throw new E.ErrnoError(28);var yt=void 0!==ct;if(yt){if(!T.seekable)throw new E.ErrnoError(70)}else ct=T.position;var kt=T.stream_ops.read(T,I,U,Q,ct);return yt||(T.position+=kt),kt},write:function(T,I,U,Q,ct,yt){if(Q<0||ct<0)throw new E.ErrnoError(28);if(E.isClosed(T))throw new E.ErrnoError(8);if(0==(2097155&T.flags))throw new E.ErrnoError(8);if(E.isDir(T.node.mode))throw new E.ErrnoError(31);if(!T.stream_ops.write)throw new E.ErrnoError(28);T.seekable&&1024&T.flags&&E.llseek(T,0,2);var kt=void 0!==ct;if(kt){if(!T.seekable)throw new E.ErrnoError(70)}else ct=T.position;var Pt=T.stream_ops.write(T,I,U,Q,ct,yt);return kt||(T.position+=Pt),Pt},allocate:function(T,I,U){if(E.isClosed(T))throw new E.ErrnoError(8);if(I<0||U<=0)throw new E.ErrnoError(28);if(0==(2097155&T.flags))throw new E.ErrnoError(8);if(!E.isFile(T.node.mode)&&!E.isDir(T.node.mode))throw new E.ErrnoError(43);if(!T.stream_ops.allocate)throw new E.ErrnoError(138);T.stream_ops.allocate(T,I,U)},mmap:function(T,I,U,Q,ct,yt){if(0!=(2&ct)&&0==(2&yt)&&2!=(2097155&T.flags))throw new E.ErrnoError(2);if(1==(2097155&T.flags))throw new E.ErrnoError(2);if(!T.stream_ops.mmap)throw new E.ErrnoError(43);return T.stream_ops.mmap(T,I,U,Q,ct,yt)},msync:function(T,I,U,Q,ct){return T&&T.stream_ops.msync?T.stream_ops.msync(T,I,U,Q,ct):0},munmap:function(T){return 0},ioctl:function(T,I,U){if(!T.stream_ops.ioctl)throw new E.ErrnoError(59);return T.stream_ops.ioctl(T,I,U)},readFile:function(T,I){if((I=I||{}).flags=I.flags||0,I.encoding=I.encoding||"binary","utf8"!==I.encoding&&"binary"!==I.encoding)throw new Error('Invalid encoding type "'+I.encoding+'"');var U,Q=E.open(T,I.flags),yt=E.stat(T).size,kt=new Uint8Array(yt);return E.read(Q,kt,0,yt,0),"utf8"===I.encoding?U=kn(kt,0):"binary"===I.encoding&&(U=kt),E.close(Q),U},writeFile:function(T,I,U){(U=U||{}).flags=U.flags||577;var Q=E.open(T,U.flags,U.mode);if("string"==typeof I){var ct=new Uint8Array(ni(I)+1),yt=gn(I,ct,0,ct.length);E.write(Q,ct,0,yt,void 0,U.canOwn)}else{if(!ArrayBuffer.isView(I))throw new Error("Unsupported data type");E.write(Q,I,0,I.byteLength,void 0,U.canOwn)}E.close(Q)},cwd:function(){return E.currentPath},chdir:function(T){var I=E.lookupPath(T,{follow:!0});if(null===I.node)throw new E.ErrnoError(44);if(!E.isDir(I.node.mode))throw new E.ErrnoError(54);var U=E.nodePermissions(I.node,"x");if(U)throw new E.ErrnoError(U);E.currentPath=I.path},createDefaultDirectories:function(){E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:function(){E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:function(){return 0},write:function(I,U,Q,ct,yt){return ct}}),E.mkdev("/dev/null",E.makedev(1,3)),fn.register(E.makedev(5,0),fn.default_tty_ops),fn.register(E.makedev(6,0),fn.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var T=function Ii(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var T=new Uint8Array(1);return function(){return crypto.getRandomValues(T),T[0]}}return function(){Dn("randomDevice")}}();E.createDevice("/dev","random",T),E.createDevice("/dev","urandom",T),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){E.mkdir("/proc");var T=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:function(){var I=E.createNode(T,"fd",16895,73);return I.node_ops={lookup:function(U,Q){var yt=E.getStream(+Q);if(!yt)throw new E.ErrnoError(8);var kt={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return yt.path}}};return kt.parent=kt,kt}},I}},{},"/proc/self/fd")},createStandardStreams:function(){M.stdin?E.createDevice("/dev","stdin",M.stdin):E.symlink("/dev/tty","/dev/stdin"),M.stdout?E.createDevice("/dev","stdout",null,M.stdout):E.symlink("/dev/tty","/dev/stdout"),M.stderr?E.createDevice("/dev","stderr",null,M.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:function(){E.ErrnoError||(E.ErrnoError=function(I,U){this.node=U,this.setErrno=function(Q){this.errno=Q},this.setErrno(I),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(function(T){E.genericErrors[T]=new E.ErrnoError(T),E.genericErrors[T].stack="<generic error, no stack>"}))},staticInit:function(){E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(X,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:X}},init:function(T,I,U){E.init.initialized=!0,E.ensureErrnoError(),M.stdin=T||M.stdin,M.stdout=I||M.stdout,M.stderr=U||M.stderr,E.createStandardStreams()},quit:function(){E.init.initialized=!1;var T=M._fflush;T&&T(0);for(var I=0;I<E.streams.length;I++){var U=E.streams[I];!U||E.close(U)}},getMode:function(T,I){var U=0;return T&&(U|=365),I&&(U|=146),U},findObject:function(T,I){var U=E.analyzePath(T,I);return U.exists?U.object:null},analyzePath:function(T,I){try{T=(U=E.lookupPath(T,{follow:!I})).path}catch(ct){}var Q={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var U=E.lookupPath(T,{parent:!0});Q.parentExists=!0,Q.parentPath=U.path,Q.parentObject=U.node,Q.name=Le.basename(T),U=E.lookupPath(T,{follow:!I}),Q.exists=!0,Q.path=U.path,Q.object=U.node,Q.name=U.node.name,Q.isRoot="/"===U.path}catch(ct){Q.error=ct.errno}return Q},createPath:function(T,I,U,Q){T="string"==typeof T?T:E.getPath(T);for(var ct=I.split("/").reverse();ct.length;){var yt=ct.pop();if(yt){var kt=Le.join2(T,yt);try{E.mkdir(kt)}catch(Pt){}T=kt}}return kt},createFile:function(T,I,U,Q,ct){var yt=Le.join2("string"==typeof T?T:E.getPath(T),I),kt=E.getMode(Q,ct);return E.create(yt,kt)},createDataFile:function(T,I,U,Q,ct,yt){var kt=I?Le.join2("string"==typeof T?T:E.getPath(T),I):T,Pt=E.getMode(Q,ct),ae=E.create(kt,Pt);if(U){if("string"==typeof U){for(var De=new Array(U.length),Ge=0,qe=U.length;Ge<qe;++Ge)De[Ge]=U.charCodeAt(Ge);U=De}E.chmod(ae,146|Pt);var Re=E.open(ae,577);E.write(Re,U,0,U.length,0,yt),E.close(Re),E.chmod(ae,Pt)}return ae},createDevice:function(T,I,U,Q){var ct=Le.join2("string"==typeof T?T:E.getPath(T),I),yt=E.getMode(!!U,!!Q);E.createDevice.major||(E.createDevice.major=64);var kt=E.makedev(E.createDevice.major++,0);return E.registerDevice(kt,{open:function(Pt){Pt.seekable=!1},close:function(Pt){Q&&Q.buffer&&Q.buffer.length&&Q(10)},read:function(Pt,ae,De,Ge,qe){for(var Re=0,Ye=0;Ye<Ge;Ye++){var wn;try{wn=U()}catch(di){throw new E.ErrnoError(29)}if(void 0===wn&&0===Re)throw new E.ErrnoError(6);if(null==wn)break;Re++,ae[De+Ye]=wn}return Re&&(Pt.node.timestamp=Date.now()),Re},write:function(Pt,ae,De,Ge,qe){for(var Re=0;Re<Ge;Re++)try{Q(ae[De+Re])}catch(Ye){throw new E.ErrnoError(29)}return Ge&&(Pt.node.timestamp=Date.now()),Re}}),E.mkdev(ct,yt,kt)},forceLoadFile:function(T){if(T.isDevice||T.isFolder||T.link||T.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Nt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{T.contents=xe(Nt(T.url),!0),T.usedBytes=T.contents.length}catch(I){throw new E.ErrnoError(29)}},createLazyFile:function(T,I,U,Q,ct){function yt(){this.lengthKnown=!1,this.chunks=[]}if(yt.prototype.get=function(Re){if(!(Re>this.length-1||Re<0)){var Ye=Re%this.chunkSize;return this.getter(Re/this.chunkSize|0)[Ye]}},yt.prototype.setDataGetter=function(Re){this.getter=Re},yt.prototype.cacheLength=function(){var Re=new XMLHttpRequest;if(Re.open("HEAD",U,!1),Re.send(null),!(Re.status>=200&&Re.status<300||304===Re.status))throw new Error("Couldn't load "+U+". Status: "+Re.status);var wn,Ye=Number(Re.getResponseHeader("Content-length")),di=(wn=Re.getResponseHeader("Accept-Ranges"))&&"bytes"===wn,rr=(wn=Re.getResponseHeader("Content-Encoding"))&&"gzip"===wn,Li=1048576;di||(Li=Ye);var ii=this;ii.setDataGetter(function(Mi){var ar=Mi*Li,si=(Mi+1)*Li-1;if(si=Math.min(si,Ye-1),void 0===ii.chunks[Mi]&&(ii.chunks[Mi]=function(Mi,ar){if(Mi>ar)throw new Error("invalid range ("+Mi+", "+ar+") or no bytes requested!");if(ar>Ye-1)throw new Error("only "+Ye+" bytes available! programmer error!");var si=new XMLHttpRequest;if(si.open("GET",U,!1),Ye!==Li&&si.setRequestHeader("Range","bytes="+Mi+"-"+ar),"undefined"!=typeof Uint8Array&&(si.responseType="arraybuffer"),si.overrideMimeType&&si.overrideMimeType("text/plain; charset=x-user-defined"),si.send(null),!(si.status>=200&&si.status<300||304===si.status))throw new Error("Couldn't load "+U+". Status: "+si.status);return void 0!==si.response?new Uint8Array(si.response||[]):xe(si.responseText||"",!0)}(ar,si)),void 0===ii.chunks[Mi])throw new Error("doXHR failed!");return ii.chunks[Mi]}),(rr||!Ye)&&(Li=Ye=1,Ye=this.getter(0).length,Li=Ye,_e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ye,this._chunkSize=Li,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Pt,ae=E.createFile(T,I,Pt={isDevice:!1,url:U},Q,ct);Pt.contents?ae.contents=Pt.contents:Pt.url&&(ae.contents=null,ae.url=Pt.url),Object.defineProperties(ae,{usedBytes:{get:function(){return this.contents.length}}});var De={};return Object.keys(ae.stream_ops).forEach(function(qe){var Re=ae.stream_ops[qe];De[qe]=function(){return E.forceLoadFile(ae),Re.apply(null,arguments)}}),De.read=function(Re,Ye,wn,di,rr){E.forceLoadFile(ae);var Li=Re.node.contents;if(rr>=Li.length)return 0;var fi=Math.min(Li.length-rr,di);if(Li.slice)for(var ii=0;ii<fi;ii++)Ye[wn+ii]=Li[rr+ii];else for(ii=0;ii<fi;ii++)Ye[wn+ii]=Li.get(rr+ii);return fi},ae.stream_ops=De,ae},createPreloadedFile:function(T,I,U,Q,ct,yt,kt,Pt,ae,De){Browser.init();var Ge=I?Bn.resolve(Le.join2(T,I)):T;function qe(Re){function Ye(di){De&&De(),Pt||E.createDataFile(T,I,di,Q,ct,ae),yt&&yt(),Zn()}var wn=!1;M.preloadPlugins.forEach(function(di){wn||di.canHandle(Ge)&&(di.handle(Re,Ge,Ye,function(){kt&&kt(),Zn()}),wn=!0)}),wn||Ye(Re)}en(),"string"==typeof U?function ht(T,I,U,Q){var ct=Q?"":"al "+T;Jt(T,function(yt){mn(yt,'Loading data file "'+T+'" failed (no arrayBuffer).'),I(new Uint8Array(yt)),ct&&Zn()},function(yt){if(!U)throw'Loading data file "'+T+'" failed.';U()}),ct&&en()}(U,function(Re){qe(Re)},kt):qe(U)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(T,I,U){I=I||function(){},U=U||function(){};var Q=E.indexedDB();try{var ct=Q.open(E.DB_NAME(),E.DB_VERSION)}catch(yt){return U(yt)}ct.onupgradeneeded=function(){_e("creating db"),ct.result.createObjectStore(E.DB_STORE_NAME)},ct.onsuccess=function(){var Pt=ct.result.transaction([E.DB_STORE_NAME],"readwrite"),ae=Pt.objectStore(E.DB_STORE_NAME),De=0,Ge=0,qe=T.length;function Re(){0==Ge?I():U()}T.forEach(function(Ye){var wn=ae.put(E.analyzePath(Ye).object.contents,Ye);wn.onsuccess=function(){++De+Ge==qe&&Re()},wn.onerror=function(){Ge++,De+Ge==qe&&Re()}}),Pt.onerror=U},ct.onerror=U},loadFilesFromDB:function(T,I,U){I=I||function(){},U=U||function(){};var Q=E.indexedDB();try{var ct=Q.open(E.DB_NAME(),E.DB_VERSION)}catch(yt){return U(yt)}ct.onupgradeneeded=U,ct.onsuccess=function(){var kt=ct.result;try{var Pt=kt.transaction([E.DB_STORE_NAME],"readonly")}catch(Ye){return void U(Ye)}var ae=Pt.objectStore(E.DB_STORE_NAME),De=0,Ge=0,qe=T.length;function Re(){0==Ge?I():U()}T.forEach(function(Ye){var wn=ae.get(Ye);wn.onsuccess=function(){E.analyzePath(Ye).exists&&E.unlink(Ye),E.createDataFile(Le.dirname(Ye),Le.basename(Ye),wn.result,!0,!0,!0),++De+Ge==qe&&Re()},wn.onerror=function(){Ge++,De+Ge==qe&&Re()}}),Pt.onerror=U},ct.onerror=U}},At={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(T,I,U){if("/"===I[0])return I;var Q;if(-100===T)Q=E.cwd();else{var ct=E.getStream(T);if(!ct)throw new E.ErrnoError(8);Q=ct.path}if(0==I.length){if(!U)throw new E.ErrnoError(44);return Q}return Le.join2(Q,I)},doStat:function(T,I,U){try{var Q=T(I)}catch(ct){if(ct&&ct.node&&Le.normalize(I)!==Le.normalize(E.getPath(ct.node)))return-54;throw ct}return Ue[U>>2]=Q.dev,Ue[U+4>>2]=0,Ue[U+8>>2]=Q.ino,Ue[U+12>>2]=Q.mode,Ue[U+16>>2]=Q.nlink,Ue[U+20>>2]=Q.uid,Ue[U+24>>2]=Q.gid,Ue[U+28>>2]=Q.rdev,Ue[U+32>>2]=0,Tn=[Q.size>>>0,(cn=Q.size,+Math.abs(cn)>=1?cn>0?(0|Math.min(+Math.floor(cn/4294967296),4294967295))>>>0:~~+Math.ceil((cn-+(~~cn>>>0))/4294967296)>>>0:0)],Ue[U+40>>2]=Tn[0],Ue[U+44>>2]=Tn[1],Ue[U+48>>2]=4096,Ue[U+52>>2]=Q.blocks,Ue[U+56>>2]=Q.atime.getTime()/1e3|0,Ue[U+60>>2]=0,Ue[U+64>>2]=Q.mtime.getTime()/1e3|0,Ue[U+68>>2]=0,Ue[U+72>>2]=Q.ctime.getTime()/1e3|0,Ue[U+76>>2]=0,Tn=[Q.ino>>>0,(cn=Q.ino,+Math.abs(cn)>=1?cn>0?(0|Math.min(+Math.floor(cn/4294967296),4294967295))>>>0:~~+Math.ceil((cn-+(~~cn>>>0))/4294967296)>>>0:0)],Ue[U+80>>2]=Tn[0],Ue[U+84>>2]=Tn[1],0},doMsync:function(T,I,U,Q,ct){var yt=En.slice(T,T+U);E.msync(I,yt,ct,U,Q)},doMkdir:function(T,I){return"/"===(T=Le.normalize(T))[T.length-1]&&(T=T.substr(0,T.length-1)),E.mkdir(T,I,0),0},doMknod:function(T,I,U){switch(61440&I){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return E.mknod(T,I,U),0},doReadlink:function(T,I,U){if(U<=0)return-28;var Q=E.readlink(T),ct=Math.min(U,ni(Q)),yt=dn[I+ct];return function Xn(T,I,U){return gn(T,En,I,U)}(Q,I,U+1),dn[I+ct]=yt,ct},doAccess:function(T,I){if(-8&I)return-28;var Q=E.lookupPath(T,{follow:!0}).node;if(!Q)return-44;var ct="";return 4&I&&(ct+="r"),2&I&&(ct+="w"),1&I&&(ct+="x"),ct&&E.nodePermissions(Q,ct)?-2:0},doDup:function(T,I,U){var Q=E.getStream(U);return Q&&E.close(Q),E.open(T,I,0,U,U).fd},doReadv:function(T,I,U,Q){for(var ct=0,yt=0;yt<U;yt++){var Pt=Ue[I+(8*yt+4)>>2],ae=E.read(T,dn,Ue[I+8*yt>>2],Pt,Q);if(ae<0)return-1;if(ct+=ae,ae<Pt)break}return ct},doWritev:function(T,I,U,Q){for(var ct=0,yt=0;yt<U;yt++){var ae=E.write(T,dn,Ue[I+8*yt>>2],Ue[I+(8*yt+4)>>2],Q);if(ae<0)return-1;ct+=ae}return ct},varargs:void 0,get:function(){return At.varargs+=4,Ue[At.varargs-4>>2]},getStr:function(T){return de(T)},getStreamFromFD:function(T){var I=E.getStream(T);if(!I)throw new E.ErrnoError(8);return I},get64:function(T,I){return T}};var Ht=[];function mt(T){try{return yn.grow(T-je.byteLength+65535>>>16),Rn(yn.buffer),1}catch(I){}}var wt={};function te(){if(!te.strings){var I={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ie||"./this.program"};for(var U in wt)void 0===wt[U]?delete I[U]:I[U]=wt[U];var Q=[];for(var U in I)Q.push(U+"="+I[U]);te.strings=Q}return te.strings}var ze=function(T,I,U,Q){T||(T=this),this.parent=T,this.mount=T.mount,this.mounted=null,this.id=E.nextInode++,this.name=I,this.mode=U,this.node_ops={},this.stream_ops={},this.rdev=Q};function xe(T,I,U){var Q=U>0?U:ni(T)+1,ct=new Array(Q),yt=gn(T,ct,0,ct.length);return I&&(ct.length=yt),ct}Object.defineProperties(ze.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(T){T?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(T){T?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=ze,E.staticInit();var Xe={h:function Ot(T,I,U){At.varargs=U;try{var Q=At.getStr(T),ct=U?At.get():0;return E.open(Q,I,ct).fd}catch(kt){if(void 0===E||!(kt instanceof E.ErrnoError))throw kt;return-kt.errno}},b:function Bt(){Dn("")},a:function qt(T,I,U){var Q=function re(T,I){var U;for(Ht.length=0,I>>=2;U=En[T++];){var Q=U<105;Q&&1&I&&I++,Ht.push(Q?ci[I++>>1]:Ue[I]),++I}return Ht}(I,U);return ei[T].apply(null,Q)},k:function j(T,I,U){En.copyWithin(T,I,I+U)},e:function Ct(T){var I=En.length,U=2147483648;if((T>>>=0)>U)return!1;for(var Q=1;Q<=4;Q*=2){var ct=I*(1+.2/Q);if(ct=Math.min(ct,T+100663296),mt(Math.min(U,an(Math.max(T,ct),65536))))return!0}return!1},f:function Dt(T,I){var U=0;return te().forEach(function(Q,ct){var yt=I+U;Ue[T+4*ct>>2]=yt,function Yn(T,I,U){for(var Q=0;Q<T.length;++Q)dn[I++>>0]=T.charCodeAt(Q);U||(dn[I>>0]=0)}(Q,yt),U+=Q.length+1}),0},g:function he(T,I){var U=te();Ue[T>>2]=U.length;var Q=0;return U.forEach(function(ct){Q+=ct.length+1}),Ue[I>>2]=Q,0},d:function O(T){try{var I=At.getStreamFromFD(T);return E.close(I),0}catch(U){if(void 0===E||!(U instanceof E.ErrnoError))throw U;return U.errno}},i:function le(T,I,U,Q){try{var ct=At.getStreamFromFD(T),yt=At.doReadv(ct,I,U);return Ue[Q>>2]=yt,0}catch(kt){if(void 0===E||!(kt instanceof E.ErrnoError))throw kt;return kt.errno}},j:function ke(T,I,U,Q,ct){try{var yt=At.getStreamFromFD(T),Pt=4294967296*U+(I>>>0),ae=9007199254740992;return Pt<=-ae||Pt>=ae?-61:(E.llseek(yt,Pt,Q),Tn=[yt.position>>>0,(cn=yt.position,+Math.abs(cn)>=1?cn>0?(0|Math.min(+Math.floor(cn/4294967296),4294967295))>>>0:~~+Math.ceil((cn-+(~~cn>>>0))/4294967296)>>>0:0)],Ue[ct>>2]=Tn[0],Ue[ct+4>>2]=Tn[1],yt.getdents&&0===Pt&&0===Q&&(yt.getdents=null),0)}catch(De){if(void 0===E||!(De instanceof E.ErrnoError))throw De;return De.errno}},c:function Ie(T,I,U,Q){try{var ct=At.getStreamFromFD(T),yt=At.doWritev(ct,I,U);return Ue[Q>>2]=yt,0}catch(kt){if(void 0===E||!(kt instanceof E.ErrnoError))throw kt;return kt.errno}},l:function nn(T){var I=Date.now();return Ue[T>>2]=I/1e3|0,Ue[T+4>>2]=I%1e3*1e3|0,0}};(function In(){var T={a:Xe};function I(kt,Pt){M.asm=kt.exports,Rn((yn=M.asm.m).buffer),vn=M.asm.G,function se(T){Kn.unshift(T)}(M.asm.n),Zn()}function U(kt){I(kt.instance)}function Q(kt){return function wi(){return Ze||"function"!=typeof fetch?Promise.resolve().then(function(){return ti(_n)}):fetch(_n,{credentials:"same-origin"}).then(function(T){if(!T.ok)throw"failed to load wasm binary file at '"+_n+"'";return T.arrayBuffer()}).catch(function(){return ti(_n)})}().then(function(Pt){return WebAssembly.instantiate(Pt,T)}).then(function(Pt){return Pt}).then(kt,function(Pt){Te("failed to asynchronously prepare wasm: "+Pt),Dn(Pt)})}if(en(),M.instantiateWasm)try{return M.instantiateWasm(T,I)}catch(kt){return Te("Module.instantiateWasm callback failed with error: "+kt),!1}return function ct(){return Ze||"function"!=typeof WebAssembly.instantiateStreaming||Di(_n)||"function"!=typeof fetch?Q(U):fetch(_n,{credentials:"same-origin"}).then(function(kt){return WebAssembly.instantiateStreaming(kt,T).then(U,function(ae){return Te("wasm streaming compile failed: "+ae),Te("falling back to ArrayBuffer instantiation"),Q(U)})})}().catch(It),{}})(),M.___wasm_call_ctors=function(){return(M.___wasm_call_ctors=M.asm.n).apply(null,arguments)};var Nn,nt=M._emscripten_bind_CExpat_CExpat_0=function(){return(nt=M._emscripten_bind_CExpat_CExpat_0=M.asm.o).apply(null,arguments)},_t=M._emscripten_bind_CExpat_version_0=function(){return(_t=M._emscripten_bind_CExpat_version_0=M.asm.p).apply(null,arguments)},gt=M._emscripten_bind_CExpat_create_0=function(){return(gt=M._emscripten_bind_CExpat_create_0=M.asm.q).apply(null,arguments)},St=M._emscripten_bind_CExpat_destroy_0=function(){return(St=M._emscripten_bind_CExpat_destroy_0=M.asm.r).apply(null,arguments)},zt=M._emscripten_bind_CExpat_parse_1=function(){return(zt=M._emscripten_bind_CExpat_parse_1=M.asm.s).apply(null,arguments)},ee=M._emscripten_bind_CExpat_tag_0=function(){return(ee=M._emscripten_bind_CExpat_tag_0=M.asm.t).apply(null,arguments)},Qt=M._emscripten_bind_CExpat_attrs_0=function(){return(Qt=M._emscripten_bind_CExpat_attrs_0=M.asm.u).apply(null,arguments)},me=M._emscripten_bind_CExpat_content_0=function(){return(me=M._emscripten_bind_CExpat_content_0=M.asm.v).apply(null,arguments)},ye=M._emscripten_bind_CExpat_startElement_0=function(){return(ye=M._emscripten_bind_CExpat_startElement_0=M.asm.w).apply(null,arguments)},Wt=M._emscripten_bind_CExpat_endElement_0=function(){return(Wt=M._emscripten_bind_CExpat_endElement_0=M.asm.x).apply(null,arguments)},oe=M._emscripten_bind_CExpat_characterData_0=function(){return(oe=M._emscripten_bind_CExpat_characterData_0=M.asm.y).apply(null,arguments)},Oe=M._emscripten_bind_CExpat___destroy___0=function(){return(Oe=M._emscripten_bind_CExpat___destroy___0=M.asm.z).apply(null,arguments)},Ee=M._emscripten_bind_VoidPtr___destroy___0=function(){return(Ee=M._emscripten_bind_VoidPtr___destroy___0=M.asm.A).apply(null,arguments)},$e=M._emscripten_bind_CExpatJS_CExpatJS_0=function(){return($e=M._emscripten_bind_CExpatJS_CExpatJS_0=M.asm.B).apply(null,arguments)},Wn=M._emscripten_bind_CExpatJS_startElement_0=function(){return(Wn=M._emscripten_bind_CExpatJS_startElement_0=M.asm.C).apply(null,arguments)},On=M._emscripten_bind_CExpatJS_endElement_0=function(){return(On=M._emscripten_bind_CExpatJS_endElement_0=M.asm.D).apply(null,arguments)},An=M._emscripten_bind_CExpatJS_characterData_0=function(){return(An=M._emscripten_bind_CExpatJS_characterData_0=M.asm.E).apply(null,arguments)},we=M._emscripten_bind_CExpatJS___destroy___0=function(){return(we=M._emscripten_bind_CExpatJS___destroy___0=M.asm.F).apply(null,arguments)};function Jn(T){function I(){Nn||(Nn=!0,M.calledRun=!0,!Pe&&(function jn(){!M.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,ui(Kn)}(),ft(M),M.onRuntimeInitialized&&M.onRuntimeInitialized(),function Tt(){if(M.postRun)for("function"==typeof M.postRun&&(M.postRun=[M.postRun]);M.postRun.length;)T=M.postRun.shift(),Me.unshift(T);var T;ui(Me)}()))}ve>0||(function $n(){if(M.preRun)for("function"==typeof M.preRun&&(M.preRun=[M.preRun]);M.preRun.length;)T=M.preRun.shift(),Hn.unshift(T);var T;ui(Hn)}(),ve>0)||(M.setStatus?(M.setStatus("Running..."),setTimeout(function(){setTimeout(function(){M.setStatus("")},1),I()},1)):I())}if(M._malloc=function(){return(M._malloc=M.asm.H).apply(null,arguments)},Be=function T(){Nn||Jn(),Nn||(Be=T)},M.run=Jn,M.preInit)for("function"==typeof M.preInit&&(M.preInit=[M.preInit]);M.preInit.length>0;)M.preInit.pop()();function sn(){}function on(T){return(T||sn).__cache__}function Un(T,I){var U=on(I),Q=U[T];return Q||((Q=Object.create((I||sn).prototype)).ptr=T,U[T]=Q)}Jn(),(sn.prototype=Object.create(sn.prototype)).constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},M.WrapperObject=sn,M.getCache=on,M.wrapPointer=Un,M.castObject=function Vi(T,I){return Un(T.ptr,I)},M.NULL=Un(0),M.destroy=function hi(T){if(!T.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";T.__destroy__(),delete on(T.__class__)[T.ptr]},M.compare=function zi(T,I){return T.ptr===I.ptr},M.getPointer=function Qn(T){return T.ptr},M.getClass=function Ai(T){return T.__class__};var ln={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(ln.needed){for(var T=0;T<ln.temps.length;T++)M._free(ln.temps[T]);ln.temps.length=0,M._free(ln.buffer),ln.buffer=0,ln.size+=ln.needed,ln.needed=0}ln.buffer||(ln.size+=128,ln.buffer=M._malloc(ln.size),mn(ln.buffer)),ln.pos=0},alloc:function(T,I){mn(ln.buffer);var ct,Q=T.length*I.BYTES_PER_ELEMENT;return ln.pos+(Q=Q+7&-8)>=ln.size?(mn(Q>0),ln.needed+=Q,ct=M._malloc(Q),ln.temps.push(ct)):(ct=ln.buffer+ln.pos,ln.pos+=Q),ct},copy:function(T,I,U){switch(U>>>=0,I.BYTES_PER_ELEMENT){case 2:U>>>=1;break;case 4:U>>>=2;break;case 8:U>>>=3}for(var ct=0;ct<T.length;ct++)I[U+ct]=T[ct]}};function Ft(){this.ptr=nt(),on(Ft)[this.ptr]=this}function Ce(){throw"cannot construct a VoidPtr, no constructor in IDL"}function jt(){this.ptr=$e(),on(jt)[this.ptr]=this}return(Ft.prototype=Object.create(sn.prototype)).constructor=Ft,Ft.prototype.__class__=Ft,Ft.__cache__={},M.CExpat=Ft,Ft.prototype.version=Ft.prototype.version=function(){return de(_t(this.ptr))},Ft.prototype.create=Ft.prototype.create=function(){return!!gt(this.ptr)},Ft.prototype.destroy=Ft.prototype.destroy=function(){St(this.ptr)},Ft.prototype.parse=Ft.prototype.parse=function(T){var I=this.ptr;return ln.prepare(),T=T&&"object"==typeof T?T.ptr:function Yi(T){if("string"==typeof T){var I=xe(T),U=ln.alloc(I,dn);return ln.copy(I,dn,U),U}return T}(T),!!zt(I,T)},Ft.prototype.tag=Ft.prototype.tag=function(){return de(ee(this.ptr))},Ft.prototype.attrs=Ft.prototype.attrs=function(){return de(Qt(this.ptr))},Ft.prototype.content=Ft.prototype.content=function(){return de(me(this.ptr))},Ft.prototype.startElement=Ft.prototype.startElement=function(){ye(this.ptr)},Ft.prototype.endElement=Ft.prototype.endElement=function(){Wt(this.ptr)},Ft.prototype.characterData=Ft.prototype.characterData=function(){oe(this.ptr)},Ft.prototype.__destroy__=Ft.prototype.__destroy__=function(){Oe(this.ptr)},(Ce.prototype=Object.create(sn.prototype)).constructor=Ce,Ce.prototype.__class__=Ce,Ce.__cache__={},M.VoidPtr=Ce,Ce.prototype.__destroy__=Ce.prototype.__destroy__=function(){Ee(this.ptr)},(jt.prototype=Object.create(Ft.prototype)).constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},M.CExpatJS=jt,jt.prototype.startElement=jt.prototype.startElement=function(){Wn(this.ptr)},jt.prototype.endElement=jt.prototype.endElement=function(){On(this.ptr)},jt.prototype.characterData=jt.prototype.characterData=function(){An(this.ptr)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){we(this.ptr)},G.ready},x.exports=ut;var _=Object.freeze(u({__proto__:null,default:x.exports},[x.exports]));var t=function m(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}().__hpcc_wasmFolder||void 0;function c(Y){if(!arguments.length)return t;var K=t;return t=Y,K}function d(Y,K,ut){var it=Y.default||Y;return it.__hpcc_promise||(it.__hpcc_promise=it({wasmBinary:ut,locateFile:function(G,M){return"".concat(function h(Y,K){for(;Y.charAt(Y.length-1)===K;)Y=Y.substring(0,Y.length-1);return Y}(K||c()||M||".","/"),"/").concat(function g(Y,K){for(;Y.charAt(0)===K;)Y=Y.substring(1);return Y}(G,"/"))}})),it.__hpcc_promise}var p=function(){function Y(K,ut){this.tag=K,this.attrs=ut,this._content=""}return Object.defineProperty(Y.prototype,"content",{get:function(){return this._content},enumerable:!1,configurable:!0}),Y.prototype.appendContent=function(K){this._content+=K},Y}(),C=function(){function Y(){this._stack=[]}return Y.prototype.parse=function(K,ut,it){return N(K,this,ut,it)},Y.prototype.top=function(){return this._stack[this._stack.length-1]},Y.prototype.startElement=function(K,ut){var it=new p(K,ut);return this._stack.push(it),it},Y.prototype.endElement=function(K){return this._stack.pop()},Y.prototype.characterData=function(K){this.top().appendContent(K)},Y}();function N(Y,K,ut,it){return d(_,ut,it).then(function(G){var M=new G.CExpatJS;M.startElement=function(){K.startElement(this.tag(),function A(Y){var K={},ut=Y,it="".concat(String.fromCharCode(1)),G="".concat(it).concat(it);return ut.split(G).filter(function(M){return!!M}).forEach(function(M){var ft=M.split(it);K[ft[0]]=ft[1]}),K}(this.attrs()))},M.endElement=function(){K.endElement(this.tag())},M.characterData=function(){K.characterData(this.content())},M.create();var ft=M.parse(Y);return M.destroy(),G.destroy(M),ft})}var P={exports:{}};!function(Y,K){var ut=function(){var it="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(G){var ft,It,M=void 0!==(G=G||{})?G:{};M.ready=new Promise(function(y,D){ft=y,It=D});var Yt,Zt={};for(Yt in M)M.hasOwnProperty(Yt)&&(Zt[Yt]=M[Yt]);var Jt,ge,ie="./this.program",Ut=function(y,D){throw D},pt="";"undefined"!=typeof document&&document.currentScript&&(pt=document.currentScript.src),it&&(pt=it),pt=0!==pt.indexOf("blob:")?pt.substr(0,pt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Jt=function(y){var D=new XMLHttpRequest;return D.open("GET",y,!1),D.send(null),D.responseText},ge=function(y,D,B){var $=new XMLHttpRequest;$.open("GET",y,!0),$.responseType="arraybuffer",$.onload=function(){200==$.status||0==$.status&&$.response?D($.response):B()},$.onerror=B,$.send(null)};var Te=M.print||console.log.bind(console),Ze=M.printErr||console.warn.bind(console);for(Yt in Zt)Zt.hasOwnProperty(Yt)&&(M[Yt]=Zt[Yt]);Zt=null,M.thisProgram&&(ie=M.thisProgram),M.quit&&(Ut=M.quit);var Ve,yn=0;M.wasmBinary&&(Ve=M.wasmBinary);var kn=M.noExitRuntime||!0;"object"!=typeof WebAssembly&&Tn("no native wasm support detected");var de,gn=!1;function Xn(y,D){y||Tn("Assertion failed: "+D)}var Rn,vn,Hn,Kn,Me,$n,ni="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Yn(y,D,B){for(var $=D+B,dt=D;y[dt]&&!(dt>=$);)++dt;if(dt-D>16&&y.subarray&&ni)return ni.decode(y.subarray(D,dt));for(var Et="";D<dt;){var Lt=y[D++];if(128&Lt){var Vt=63&y[D++];if(192!=(224&Lt)){var ce=63&y[D++];if((Lt=224==(240&Lt)?(15&Lt)<<12|Vt<<6|ce:(7&Lt)<<18|Vt<<12|ce<<6|63&y[D++])<65536)Et+=String.fromCharCode(Lt);else{var He=Lt-65536;Et+=String.fromCharCode(55296|He>>10,56320|1023&He)}}else Et+=String.fromCharCode((31&Lt)<<6|Vt)}else Et+=String.fromCharCode(Lt)}return Et}function an(y,D){return y?Yn(Hn,y,D):""}function je(y,D,B,$){if(!($>0))return 0;for(var dt=B,Et=B+$-1,Lt=0;Lt<y.length;++Lt){var Vt=y.charCodeAt(Lt);if(Vt>=55296&&Vt<=57343&&(Vt=65536+((1023&Vt)<<10)|1023&y.charCodeAt(++Lt)),Vt<=127){if(B>=Et)break;D[B++]=Vt}else if(Vt<=2047){if(B+1>=Et)break;D[B++]=192|Vt>>6,D[B++]=128|63&Vt}else if(Vt<=65535){if(B+2>=Et)break;D[B++]=224|Vt>>12,D[B++]=128|Vt>>6&63,D[B++]=128|63&Vt}else{if(B+3>=Et)break;D[B++]=240|Vt>>18,D[B++]=128|Vt>>12&63,D[B++]=128|Vt>>6&63,D[B++]=128|63&Vt}}return D[B]=0,B-dt}function En(y){for(var D=0,B=0;B<y.length;++B){var $=y.charCodeAt(B);$>=55296&&$<=57343&&($=65536+((1023&$)<<10)|1023&y.charCodeAt(++B)),$<=127?++D:D+=$<=2047?2:$<=65535?3:4}return D}function ci(y,D){return y%D>0&&(y+=D-y%D),y}function jn(y){Rn=y,M.HEAP8=vn=new Int8Array(y),M.HEAP16=Kn=new Int16Array(y),M.HEAP32=Me=new Int32Array(y),M.HEAPU8=Hn=new Uint8Array(y),M.HEAPU16=new Uint16Array(y),M.HEAPU32=new Uint32Array(y),M.HEAPF32=new Float32Array(y),M.HEAPF64=$n=new Float64Array(y)}var Tt,Gt=[],se=[],fe=[];var _n=0,ti=null;function In(y){_n++,M.monitorRunDependencies&&M.monitorRunDependencies(_n)}function cn(y){if(_n--,M.monitorRunDependencies&&M.monitorRunDependencies(_n),0==_n&&ti){var D=ti;ti=null,D()}}function Tn(y){M.onAbort&&M.onAbort(y),Ze(y="Aborted("+y+")"),gn=!0,y+=". Build with -s ASSERTIONS=1 for more info.";var D=new WebAssembly.RuntimeError(y);throw It(D),D}M.preloadedImages={},M.preloadedAudios={};var Mn;function ui(y){return y.startsWith("data:application/octet-stream;base64,")}function Le(y){try{if(y==Mn&&Ve)return new Uint8Array(Ve);throw"both async and sync fetching of the wasm failed"}catch(D){Tn(D)}}ui(Mn="graphvizlib.wasm")||(Mn=function Nt(y){return M.locateFile?M.locateFile(y,pt):pt+y}(Mn));var fn,V,At,X={161580:function(y,D){var B=an(y),$=an(D);O.createPath("/",qt.dirname(B)),O.writeFile(qt.join("/",B),$)}};function ht(y){for(;y.length>0;){var D=y.shift();if("function"!=typeof D){var B=D.func;"number"==typeof B?void 0===D.arg?E(B)():E(B)(D.arg):B(void 0===D.arg?null:D.arg)}else D(M)}}function E(y){return Tt.get(y)}At=function(){return performance.now()};function Bt(y){return Me[kt()>>2]=y,y}var qt={splitPath:function(y){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(y).slice(1)},normalizeArray:function(y,D){for(var B=0,$=y.length-1;$>=0;$--){var dt=y[$];"."===dt?y.splice($,1):".."===dt?(y.splice($,1),B++):B&&(y.splice($,1),B--)}if(D)for(;B;B--)y.unshift("..");return y},normalize:function(y){var D="/"===y.charAt(0),B="/"===y.substr(-1);return!(y=qt.normalizeArray(y.split("/").filter(function($){return!!$}),!D).join("/"))&&!D&&(y="."),y&&B&&(y+="/"),(D?"/":"")+y},dirname:function(y){var D=qt.splitPath(y),B=D[0],$=D[1];return B||$?($&&($=$.substr(0,$.length-1)),B+$):"."},basename:function(y){if("/"===y)return"/";var D=(y=(y=qt.normalize(y)).replace(/\/$/,"")).lastIndexOf("/");return-1===D?y:y.substr(D+1)},extname:function(y){return qt.splitPath(y)[3]},join:function(){var y=Array.prototype.slice.call(arguments,0);return qt.normalize(y.join("/"))},join2:function(y,D){return qt.normalize(y+"/"+D)}};var mt={resolve:function(){for(var y="",D=!1,B=arguments.length-1;B>=-1&&!D;B--){var $=B>=0?arguments[B]:O.cwd();if("string"!=typeof $)throw new TypeError("Arguments to path.resolve must be strings");if(!$)return"";y=$+"/"+y,D="/"===$.charAt(0)}return(D?"/":"")+(y=qt.normalizeArray(y.split("/").filter(function(dt){return!!dt}),!D).join("/"))||"."},relative:function(y,D){function B(He){for(var un=0;un<He.length&&""===He[un];un++);for(var bn=He.length-1;bn>=0&&""===He[bn];bn--);return un>bn?[]:He.slice(un,bn-un+1)}y=mt.resolve(y).substr(1),D=mt.resolve(D).substr(1);for(var $=B(y.split("/")),dt=B(D.split("/")),Et=Math.min($.length,dt.length),Lt=Et,Vt=0;Vt<Et;Vt++)if($[Vt]!==dt[Vt]){Lt=Vt;break}var ce=[];for(Vt=Lt;Vt<$.length;Vt++)ce.push("..");return(ce=ce.concat(dt.slice(Lt))).join("/")}},Ct={ttys:[],init:function(){},shutdown:function(){},register:function(y,D){Ct.ttys[y]={input:[],output:[],ops:D},O.registerDevice(y,Ct.stream_ops)},stream_ops:{open:function(y){var D=Ct.ttys[y.node.rdev];if(!D)throw new O.ErrnoError(43);y.tty=D,y.seekable=!1},close:function(y){y.tty.ops.flush(y.tty)},flush:function(y){y.tty.ops.flush(y.tty)},read:function(y,D,B,$,dt){if(!y.tty||!y.tty.ops.get_char)throw new O.ErrnoError(60);for(var Et=0,Lt=0;Lt<$;Lt++){var Vt;try{Vt=y.tty.ops.get_char(y.tty)}catch(ce){throw new O.ErrnoError(29)}if(void 0===Vt&&0===Et)throw new O.ErrnoError(6);if(null==Vt)break;Et++,D[B+Lt]=Vt}return Et&&(y.node.timestamp=Date.now()),Et},write:function(y,D,B,$,dt){if(!y.tty||!y.tty.ops.put_char)throw new O.ErrnoError(60);try{for(var Et=0;Et<$;Et++)y.tty.ops.put_char(y.tty,D[B+Et])}catch(Lt){throw new O.ErrnoError(29)}return $&&(y.node.timestamp=Date.now()),Et}},default_tty_ops:{get_char:function(y){if(!y.input.length){var D=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(D=window.prompt("Input: "))&&(D+="\n"):"function"==typeof readline&&null!==(D=readline())&&(D+="\n"),!D)return null;y.input=Yi(D,!0)}return y.input.shift()},put_char:function(y,D){null===D||10===D?(Te(Yn(y.output,0)),y.output=[]):0!=D&&y.output.push(D)},flush:function(y){y.output&&y.output.length>0&&(Te(Yn(y.output,0)),y.output=[])}},default_tty1_ops:{put_char:function(y,D){null===D||10===D?(Ze(Yn(y.output,0)),y.output=[]):0!=D&&y.output.push(D)},flush:function(y){y.output&&y.output.length>0&&(Ze(Yn(y.output,0)),y.output=[])}}};function te(y){y=function Xt(y,D){return Math.ceil(y/D)*D}(y,65536);var D=Ge(65536,y);return D?(function wt(y,D){Hn.fill(0,y,y+D)}(D,y),D):0}var Dt={ops_table:null,mount:function(y){return Dt.createNode(null,"/",16895,0)},createNode:function(y,D,B,$){if(O.isBlkdev(B)||O.isFIFO(B))throw new O.ErrnoError(63);Dt.ops_table||(Dt.ops_table={dir:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr,lookup:Dt.node_ops.lookup,mknod:Dt.node_ops.mknod,rename:Dt.node_ops.rename,unlink:Dt.node_ops.unlink,rmdir:Dt.node_ops.rmdir,readdir:Dt.node_ops.readdir,symlink:Dt.node_ops.symlink},stream:{llseek:Dt.stream_ops.llseek}},file:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr},stream:{llseek:Dt.stream_ops.llseek,read:Dt.stream_ops.read,write:Dt.stream_ops.write,allocate:Dt.stream_ops.allocate,mmap:Dt.stream_ops.mmap,msync:Dt.stream_ops.msync}},link:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr,readlink:Dt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr},stream:O.chrdev_stream_ops}});var dt=O.createNode(y,D,B,$);return O.isDir(dt.mode)?(dt.node_ops=Dt.ops_table.dir.node,dt.stream_ops=Dt.ops_table.dir.stream,dt.contents={}):O.isFile(dt.mode)?(dt.node_ops=Dt.ops_table.file.node,dt.stream_ops=Dt.ops_table.file.stream,dt.usedBytes=0,dt.contents=null):O.isLink(dt.mode)?(dt.node_ops=Dt.ops_table.link.node,dt.stream_ops=Dt.ops_table.link.stream):O.isChrdev(dt.mode)&&(dt.node_ops=Dt.ops_table.chrdev.node,dt.stream_ops=Dt.ops_table.chrdev.stream),dt.timestamp=Date.now(),y&&(y.contents[D]=dt,y.timestamp=dt.timestamp),dt},getFileDataAsTypedArray:function(y){return y.contents?y.contents.subarray?y.contents.subarray(0,y.usedBytes):new Uint8Array(y.contents):new Uint8Array(0)},expandFileStorage:function(y,D){var B=y.contents?y.contents.length:0;if(!(B>=D)){D=Math.max(D,B*(B<1048576?2:1.125)>>>0),0!=B&&(D=Math.max(D,256));var dt=y.contents;y.contents=new Uint8Array(D),y.usedBytes>0&&y.contents.set(dt.subarray(0,y.usedBytes),0)}},resizeFileStorage:function(y,D){if(y.usedBytes!=D)if(0==D)y.contents=null,y.usedBytes=0;else{var B=y.contents;y.contents=new Uint8Array(D),B&&y.contents.set(B.subarray(0,Math.min(D,y.usedBytes))),y.usedBytes=D}},node_ops:{getattr:function(y){var D={};return D.dev=O.isChrdev(y.mode)?y.id:1,D.ino=y.id,D.mode=y.mode,D.nlink=1,D.uid=0,D.gid=0,D.rdev=y.rdev,D.size=O.isDir(y.mode)?4096:O.isFile(y.mode)?y.usedBytes:O.isLink(y.mode)?y.link.length:0,D.atime=new Date(y.timestamp),D.mtime=new Date(y.timestamp),D.ctime=new Date(y.timestamp),D.blksize=4096,D.blocks=Math.ceil(D.size/D.blksize),D},setattr:function(y,D){void 0!==D.mode&&(y.mode=D.mode),void 0!==D.timestamp&&(y.timestamp=D.timestamp),void 0!==D.size&&Dt.resizeFileStorage(y,D.size)},lookup:function(y,D){throw O.genericErrors[44]},mknod:function(y,D,B,$){return Dt.createNode(y,D,B,$)},rename:function(y,D,B){if(O.isDir(y.mode)){var $;try{$=O.lookupNode(D,B)}catch(Et){}if($)for(var dt in $.contents)throw new O.ErrnoError(55)}delete y.parent.contents[y.name],y.parent.timestamp=Date.now(),y.name=B,D.contents[B]=y,D.timestamp=y.parent.timestamp,y.parent=D},unlink:function(y,D){delete y.contents[D],y.timestamp=Date.now()},rmdir:function(y,D){var B=O.lookupNode(y,D);for(var $ in B.contents)throw new O.ErrnoError(55);delete y.contents[D],y.timestamp=Date.now()},readdir:function(y){var D=[".",".."];for(var B in y.contents)!y.contents.hasOwnProperty(B)||D.push(B);return D},symlink:function(y,D,B){var $=Dt.createNode(y,D,41471,0);return $.link=B,$},readlink:function(y){if(!O.isLink(y.mode))throw new O.ErrnoError(28);return y.link}},stream_ops:{read:function(y,D,B,$,dt){var Et=y.node.contents;if(dt>=y.node.usedBytes)return 0;var Lt=Math.min(y.node.usedBytes-dt,$);if(Lt>8&&Et.subarray)D.set(Et.subarray(dt,dt+Lt),B);else for(var Vt=0;Vt<Lt;Vt++)D[B+Vt]=Et[dt+Vt];return Lt},write:function(y,D,B,$,dt,Et){if(D.buffer===vn.buffer&&(Et=!1),!$)return 0;var Lt=y.node;if(Lt.timestamp=Date.now(),D.subarray&&(!Lt.contents||Lt.contents.subarray)){if(Et)return Lt.contents=D.subarray(B,B+$),Lt.usedBytes=$,$;if(0===Lt.usedBytes&&0===dt)return Lt.contents=D.slice(B,B+$),Lt.usedBytes=$,$;if(dt+$<=Lt.usedBytes)return Lt.contents.set(D.subarray(B,B+$),dt),$}if(Dt.expandFileStorage(Lt,dt+$),Lt.contents.subarray&&D.subarray)Lt.contents.set(D.subarray(B,B+$),dt);else for(var Vt=0;Vt<$;Vt++)Lt.contents[dt+Vt]=D[B+Vt];return Lt.usedBytes=Math.max(Lt.usedBytes,dt+$),$},llseek:function(y,D,B){var $=D;if(1===B?$+=y.position:2===B&&O.isFile(y.node.mode)&&($+=y.node.usedBytes),$<0)throw new O.ErrnoError(28);return $},allocate:function(y,D,B){Dt.expandFileStorage(y.node,D+B),y.node.usedBytes=Math.max(y.node.usedBytes,D+B)},mmap:function(y,D,B,$,dt,Et){if(0!==D)throw new O.ErrnoError(28);if(!O.isFile(y.node.mode))throw new O.ErrnoError(43);var Lt,Vt,ce=y.node.contents;if(2&Et||ce.buffer!==Rn){if(($>0||$+B<ce.length)&&(ce=ce.subarray?ce.subarray($,$+B):Array.prototype.slice.call(ce,$,$+B)),Vt=!0,!(Lt=te(B)))throw new O.ErrnoError(48);vn.set(ce,Lt)}else Vt=!1,Lt=ce.byteOffset;return{ptr:Lt,allocated:Vt}},msync:function(y,D,B,$,dt){if(!O.isFile(y.node.mode))throw new O.ErrnoError(43);return 2&dt||Dt.stream_ops.write(y,D,0,$,B,!1),0}}};var O={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(y,D){if(D=D||{},!(y=mt.resolve(O.cwd(),y)))return{path:"",node:null};var B={follow_mount:!0,recurse_count:0};for(var $ in B)void 0===D[$]&&(D[$]=B[$]);if(D.recurse_count>8)throw new O.ErrnoError(32);for(var dt=qt.normalizeArray(y.split("/").filter(function(Je){return!!Je}),!1),Et=O.root,Lt="/",Vt=0;Vt<dt.length;Vt++){var ce=Vt===dt.length-1;if(ce&&D.parent)break;if(Et=O.lookupNode(Et,dt[Vt]),Lt=qt.join2(Lt,dt[Vt]),O.isMountpoint(Et)&&(!ce||ce&&D.follow_mount)&&(Et=Et.mounted.root),!ce||D.follow)for(var He=0;O.isLink(Et.mode);){var un=O.readlink(Lt);if(Lt=mt.resolve(qt.dirname(Lt),un),Et=O.lookupPath(Lt,{recurse_count:D.recurse_count}).node,He++>40)throw new O.ErrnoError(32)}}return{path:Lt,node:Et}},getPath:function(y){for(var D;;){if(O.isRoot(y)){var B=y.mount.mountpoint;return D?"/"!==B[B.length-1]?B+"/"+D:B+D:B}D=D?y.name+"/"+D:y.name,y=y.parent}},hashName:function(y,D){for(var B=0,$=0;$<D.length;$++)B=(B<<5)-B+D.charCodeAt($)|0;return(y+B>>>0)%O.nameTable.length},hashAddNode:function(y){var D=O.hashName(y.parent.id,y.name);y.name_next=O.nameTable[D],O.nameTable[D]=y},hashRemoveNode:function(y){var D=O.hashName(y.parent.id,y.name);if(O.nameTable[D]===y)O.nameTable[D]=y.name_next;else for(var B=O.nameTable[D];B;){if(B.name_next===y){B.name_next=y.name_next;break}B=B.name_next}},lookupNode:function(y,D){var B=O.mayLookup(y);if(B)throw new O.ErrnoError(B,y);for(var $=O.hashName(y.id,D),dt=O.nameTable[$];dt;dt=dt.name_next)if(dt.parent.id===y.id&&dt.name===D)return dt;return O.lookup(y,D)},createNode:function(y,D,B,$){var dt=new O.FSNode(y,D,B,$);return O.hashAddNode(dt),dt},destroyNode:function(y){O.hashRemoveNode(y)},isRoot:function(y){return y===y.parent},isMountpoint:function(y){return!!y.mounted},isFile:function(y){return 32768==(61440&y)},isDir:function(y){return 16384==(61440&y)},isLink:function(y){return 40960==(61440&y)},isChrdev:function(y){return 8192==(61440&y)},isBlkdev:function(y){return 24576==(61440&y)},isFIFO:function(y){return 4096==(61440&y)},isSocket:function(y){return 49152==(49152&y)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(y){var D=O.flagModes[y];if(void 0===D)throw new Error("Unknown file open mode: "+y);return D},flagsToPermissionString:function(y){var D=["r","w","rw"][3&y];return 512&y&&(D+="w"),D},nodePermissions:function(y,D){return O.ignorePermissions?0:D.includes("r")&&!(292&y.mode)||D.includes("w")&&!(146&y.mode)||D.includes("x")&&!(73&y.mode)?2:0},mayLookup:function(y){return O.nodePermissions(y,"x")||(y.node_ops.lookup?0:2)},mayCreate:function(y,D){try{return O.lookupNode(y,D),20}catch($){}return O.nodePermissions(y,"wx")},mayDelete:function(y,D,B){var $;try{$=O.lookupNode(y,D)}catch(Et){return Et.errno}var dt=O.nodePermissions(y,"wx");if(dt)return dt;if(B){if(!O.isDir($.mode))return 54;if(O.isRoot($)||O.getPath($)===O.cwd())return 10}else if(O.isDir($.mode))return 31;return 0},mayOpen:function(y,D){return y?O.isLink(y.mode)?32:O.isDir(y.mode)&&("r"!==O.flagsToPermissionString(D)||512&D)?31:O.nodePermissions(y,O.flagsToPermissionString(D)):44},MAX_OPEN_FDS:4096,nextfd:function(y,D){D=D||O.MAX_OPEN_FDS;for(var B=y=y||0;B<=D;B++)if(!O.streams[B])return B;throw new O.ErrnoError(33)},getStream:function(y){return O.streams[y]},createStream:function(y,D,B){O.FSStream||(O.FSStream=function(){},O.FSStream.prototype={object:{get:function(){return this.node},set:function(Lt){this.node=Lt}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var $=new O.FSStream;for(var dt in y)$[dt]=y[dt];y=$;var Et=O.nextfd(D,B);return y.fd=Et,O.streams[Et]=y,y},closeStream:function(y){O.streams[y]=null},chrdev_stream_ops:{open:function(y){var D=O.getDevice(y.node.rdev);y.stream_ops=D.stream_ops,y.stream_ops.open&&y.stream_ops.open(y)},llseek:function(){throw new O.ErrnoError(70)}},major:function(y){return y>>8},minor:function(y){return 255&y},makedev:function(y,D){return y<<8|D},registerDevice:function(y,D){O.devices[y]={stream_ops:D}},getDevice:function(y){return O.devices[y]},getMounts:function(y){for(var D=[],B=[y];B.length;){var $=B.pop();D.push($),B.push.apply(B,$.mounts)}return D},syncfs:function(y,D){"function"==typeof y&&(D=y,y=!1),O.syncFSRequests++,O.syncFSRequests>1&&Ze("warning: "+O.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var B=O.getMounts(O.root.mount),$=0;function dt(Lt){return O.syncFSRequests--,D(Lt)}function Et(Lt){if(Lt)return Et.errored?void 0:(Et.errored=!0,dt(Lt));++$>=B.length&&dt(null)}B.forEach(function(Lt){if(!Lt.type.syncfs)return Et(null);Lt.type.syncfs(Lt,y,Et)})},mount:function(y,D,B){var Et,$="/"===B,dt=!B;if($&&O.root)throw new O.ErrnoError(10);if(!$&&!dt){var Lt=O.lookupPath(B,{follow_mount:!1});if(B=Lt.path,O.isMountpoint(Et=Lt.node))throw new O.ErrnoError(10);if(!O.isDir(Et.mode))throw new O.ErrnoError(54)}var Vt={type:y,opts:D,mountpoint:B,mounts:[]},ce=y.mount(Vt);return ce.mount=Vt,Vt.root=ce,$?O.root=ce:Et&&(Et.mounted=Vt,Et.mount&&Et.mount.mounts.push(Vt)),ce},unmount:function(y){var D=O.lookupPath(y,{follow_mount:!1});if(!O.isMountpoint(D.node))throw new O.ErrnoError(28);var B=D.node,$=B.mounted,dt=O.getMounts($);Object.keys(O.nameTable).forEach(function(Lt){for(var Vt=O.nameTable[Lt];Vt;){var ce=Vt.name_next;dt.includes(Vt.mount)&&O.destroyNode(Vt),Vt=ce}}),B.mounted=null;var Et=B.mount.mounts.indexOf($);B.mount.mounts.splice(Et,1)},lookup:function(y,D){return y.node_ops.lookup(y,D)},mknod:function(y,D,B){var dt=O.lookupPath(y,{parent:!0}).node,Et=qt.basename(y);if(!Et||"."===Et||".."===Et)throw new O.ErrnoError(28);var Lt=O.mayCreate(dt,Et);if(Lt)throw new O.ErrnoError(Lt);if(!dt.node_ops.mknod)throw new O.ErrnoError(63);return dt.node_ops.mknod(dt,Et,D,B)},create:function(y,D){return D=void 0!==D?D:438,D&=4095,O.mknod(y,D|=32768,0)},mkdir:function(y,D){return D=void 0!==D?D:511,D&=1023,O.mknod(y,D|=16384,0)},mkdirTree:function(y,D){for(var B=y.split("/"),$="",dt=0;dt<B.length;++dt)if(B[dt]){$+="/"+B[dt];try{O.mkdir($,D)}catch(Et){if(20!=Et.errno)throw Et}}},mkdev:function(y,D,B){return void 0===B&&(B=D,D=438),O.mknod(y,D|=8192,B)},symlink:function(y,D){if(!mt.resolve(y))throw new O.ErrnoError(44);var $=O.lookupPath(D,{parent:!0}).node;if(!$)throw new O.ErrnoError(44);var dt=qt.basename(D),Et=O.mayCreate($,dt);if(Et)throw new O.ErrnoError(Et);if(!$.node_ops.symlink)throw new O.ErrnoError(63);return $.node_ops.symlink($,dt,y)},rename:function(y,D){var Vt,ce,B=qt.dirname(y),$=qt.dirname(D),dt=qt.basename(y),Et=qt.basename(D);if(Vt=O.lookupPath(y,{parent:!0}).node,ce=O.lookupPath(D,{parent:!0}).node,!Vt||!ce)throw new O.ErrnoError(44);if(Vt.mount!==ce.mount)throw new O.ErrnoError(75);var bn,He=O.lookupNode(Vt,dt),un=mt.relative(y,$);if("."!==un.charAt(0))throw new O.ErrnoError(28);if("."!==(un=mt.relative(D,B)).charAt(0))throw new O.ErrnoError(55);try{bn=O.lookupNode(ce,Et)}catch(Ln){}if(He!==bn){var Je=O.isDir(He.mode),Ke=O.mayDelete(Vt,dt,Je);if(Ke)throw new O.ErrnoError(Ke);if(Ke=bn?O.mayDelete(ce,Et,Je):O.mayCreate(ce,Et))throw new O.ErrnoError(Ke);if(!Vt.node_ops.rename)throw new O.ErrnoError(63);if(O.isMountpoint(He)||bn&&O.isMountpoint(bn))throw new O.ErrnoError(10);if(ce!==Vt&&(Ke=O.nodePermissions(Vt,"w")))throw new O.ErrnoError(Ke);O.hashRemoveNode(He);try{Vt.node_ops.rename(He,ce,Et)}catch(Ln){throw Ln}finally{O.hashAddNode(He)}}},rmdir:function(y){var B=O.lookupPath(y,{parent:!0}).node,$=qt.basename(y),dt=O.lookupNode(B,$),Et=O.mayDelete(B,$,!0);if(Et)throw new O.ErrnoError(Et);if(!B.node_ops.rmdir)throw new O.ErrnoError(63);if(O.isMountpoint(dt))throw new O.ErrnoError(10);B.node_ops.rmdir(B,$),O.destroyNode(dt)},readdir:function(y){var B=O.lookupPath(y,{follow:!0}).node;if(!B.node_ops.readdir)throw new O.ErrnoError(54);return B.node_ops.readdir(B)},unlink:function(y){var B=O.lookupPath(y,{parent:!0}).node,$=qt.basename(y),dt=O.lookupNode(B,$),Et=O.mayDelete(B,$,!1);if(Et)throw new O.ErrnoError(Et);if(!B.node_ops.unlink)throw new O.ErrnoError(63);if(O.isMountpoint(dt))throw new O.ErrnoError(10);B.node_ops.unlink(B,$),O.destroyNode(dt)},readlink:function(y){var B=O.lookupPath(y).node;if(!B)throw new O.ErrnoError(44);if(!B.node_ops.readlink)throw new O.ErrnoError(28);return mt.resolve(O.getPath(B.parent),B.node_ops.readlink(B))},stat:function(y,D){var $=O.lookupPath(y,{follow:!D}).node;if(!$)throw new O.ErrnoError(44);if(!$.node_ops.getattr)throw new O.ErrnoError(63);return $.node_ops.getattr($)},lstat:function(y){return O.stat(y,!0)},chmod:function(y,D,B){var $;if(!($="string"==typeof y?O.lookupPath(y,{follow:!B}).node:y).node_ops.setattr)throw new O.ErrnoError(63);$.node_ops.setattr($,{mode:4095&D|-4096&$.mode,timestamp:Date.now()})},lchmod:function(y,D){O.chmod(y,D,!0)},fchmod:function(y,D){var B=O.getStream(y);if(!B)throw new O.ErrnoError(8);O.chmod(B.node,D)},chown:function(y,D,B,$){var dt;if(!(dt="string"==typeof y?O.lookupPath(y,{follow:!$}).node:y).node_ops.setattr)throw new O.ErrnoError(63);dt.node_ops.setattr(dt,{timestamp:Date.now()})},lchown:function(y,D,B){O.chown(y,D,B,!0)},fchown:function(y,D,B){var $=O.getStream(y);if(!$)throw new O.ErrnoError(8);O.chown($.node,D,B)},truncate:function(y,D){if(D<0)throw new O.ErrnoError(28);var B;if(!(B="string"==typeof y?O.lookupPath(y,{follow:!0}).node:y).node_ops.setattr)throw new O.ErrnoError(63);if(O.isDir(B.mode))throw new O.ErrnoError(31);if(!O.isFile(B.mode))throw new O.ErrnoError(28);var dt=O.nodePermissions(B,"w");if(dt)throw new O.ErrnoError(dt);B.node_ops.setattr(B,{size:D,timestamp:Date.now()})},ftruncate:function(y,D){var B=O.getStream(y);if(!B)throw new O.ErrnoError(8);if(0==(2097155&B.flags))throw new O.ErrnoError(28);O.truncate(B.node,D)},utime:function(y,D,B){var dt=O.lookupPath(y,{follow:!0}).node;dt.node_ops.setattr(dt,{timestamp:Math.max(D,B)})},open:function(y,D,B,$,dt){if(""===y)throw new O.ErrnoError(44);var Et;if(B=void 0===B?438:B,B=64&(D="string"==typeof D?O.modeStringToFlags(D):D)?4095&B|32768:0,"object"==typeof y)Et=y;else{y=qt.normalize(y);try{Et=O.lookupPath(y,{follow:!(131072&D)}).node}catch(un){}}var Vt=!1;if(64&D)if(Et){if(128&D)throw new O.ErrnoError(20)}else Et=O.mknod(y,B,0),Vt=!0;if(!Et)throw new O.ErrnoError(44);if(O.isChrdev(Et.mode)&&(D&=-513),65536&D&&!O.isDir(Et.mode))throw new O.ErrnoError(54);if(!Vt){var ce=O.mayOpen(Et,D);if(ce)throw new O.ErrnoError(ce)}512&D&&O.truncate(Et,0),D&=-131713;var He=O.createStream({node:Et,path:O.getPath(Et),id:Et.id,flags:D,mode:Et.mode,seekable:!0,position:0,stream_ops:Et.stream_ops,node_ops:Et.node_ops,ungotten:[],error:!1},$,dt);return He.stream_ops.open&&He.stream_ops.open(He),M.logReadFiles&&!(1&D)&&(O.readFiles||(O.readFiles={}),y in O.readFiles||(O.readFiles[y]=1)),He},close:function(y){if(O.isClosed(y))throw new O.ErrnoError(8);y.getdents&&(y.getdents=null);try{y.stream_ops.close&&y.stream_ops.close(y)}catch(D){throw D}finally{O.closeStream(y.fd)}y.fd=null},isClosed:function(y){return null===y.fd},llseek:function(y,D,B){if(O.isClosed(y))throw new O.ErrnoError(8);if(!y.seekable||!y.stream_ops.llseek)throw new O.ErrnoError(70);if(0!=B&&1!=B&&2!=B)throw new O.ErrnoError(28);return y.position=y.stream_ops.llseek(y,D,B),y.ungotten=[],y.position},read:function(y,D,B,$,dt){if($<0||dt<0)throw new O.ErrnoError(28);if(O.isClosed(y))throw new O.ErrnoError(8);if(1==(2097155&y.flags))throw new O.ErrnoError(8);if(O.isDir(y.node.mode))throw new O.ErrnoError(31);if(!y.stream_ops.read)throw new O.ErrnoError(28);var Et=void 0!==dt;if(Et){if(!y.seekable)throw new O.ErrnoError(70)}else dt=y.position;var Lt=y.stream_ops.read(y,D,B,$,dt);return Et||(y.position+=Lt),Lt},write:function(y,D,B,$,dt,Et){if($<0||dt<0)throw new O.ErrnoError(28);if(O.isClosed(y))throw new O.ErrnoError(8);if(0==(2097155&y.flags))throw new O.ErrnoError(8);if(O.isDir(y.node.mode))throw new O.ErrnoError(31);if(!y.stream_ops.write)throw new O.ErrnoError(28);y.seekable&&1024&y.flags&&O.llseek(y,0,2);var Lt=void 0!==dt;if(Lt){if(!y.seekable)throw new O.ErrnoError(70)}else dt=y.position;var Vt=y.stream_ops.write(y,D,B,$,dt,Et);return Lt||(y.position+=Vt),Vt},allocate:function(y,D,B){if(O.isClosed(y))throw new O.ErrnoError(8);if(D<0||B<=0)throw new O.ErrnoError(28);if(0==(2097155&y.flags))throw new O.ErrnoError(8);if(!O.isFile(y.node.mode)&&!O.isDir(y.node.mode))throw new O.ErrnoError(43);if(!y.stream_ops.allocate)throw new O.ErrnoError(138);y.stream_ops.allocate(y,D,B)},mmap:function(y,D,B,$,dt,Et){if(0!=(2&dt)&&0==(2&Et)&&2!=(2097155&y.flags))throw new O.ErrnoError(2);if(1==(2097155&y.flags))throw new O.ErrnoError(2);if(!y.stream_ops.mmap)throw new O.ErrnoError(43);return y.stream_ops.mmap(y,D,B,$,dt,Et)},msync:function(y,D,B,$,dt){return y&&y.stream_ops.msync?y.stream_ops.msync(y,D,B,$,dt):0},munmap:function(y){return 0},ioctl:function(y,D,B){if(!y.stream_ops.ioctl)throw new O.ErrnoError(59);return y.stream_ops.ioctl(y,D,B)},readFile:function(y,D){if((D=D||{}).flags=D.flags||0,D.encoding=D.encoding||"binary","utf8"!==D.encoding&&"binary"!==D.encoding)throw new Error('Invalid encoding type "'+D.encoding+'"');var B,$=O.open(y,D.flags),Et=O.stat(y).size,Lt=new Uint8Array(Et);return O.read($,Lt,0,Et,0),"utf8"===D.encoding?B=Yn(Lt,0):"binary"===D.encoding&&(B=Lt),O.close($),B},writeFile:function(y,D,B){(B=B||{}).flags=B.flags||577;var $=O.open(y,B.flags,B.mode);if("string"==typeof D){var dt=new Uint8Array(En(D)+1),Et=je(D,dt,0,dt.length);O.write($,dt,0,Et,void 0,B.canOwn)}else{if(!ArrayBuffer.isView(D))throw new Error("Unsupported data type");O.write($,D,0,D.byteLength,void 0,B.canOwn)}O.close($)},cwd:function(){return O.currentPath},chdir:function(y){var D=O.lookupPath(y,{follow:!0});if(null===D.node)throw new O.ErrnoError(44);if(!O.isDir(D.node.mode))throw new O.ErrnoError(54);var B=O.nodePermissions(D.node,"x");if(B)throw new O.ErrnoError(B);O.currentPath=D.path},createDefaultDirectories:function(){O.mkdir("/tmp"),O.mkdir("/home"),O.mkdir("/home/web_user")},createDefaultDevices:function(){O.mkdir("/dev"),O.registerDevice(O.makedev(1,3),{read:function(){return 0},write:function(D,B,$,dt,Et){return dt}}),O.mkdev("/dev/null",O.makedev(1,3)),Ct.register(O.makedev(5,0),Ct.default_tty_ops),Ct.register(O.makedev(6,0),Ct.default_tty1_ops),O.mkdev("/dev/tty",O.makedev(5,0)),O.mkdev("/dev/tty1",O.makedev(6,0));var y=function j(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var y=new Uint8Array(1);return function(){return crypto.getRandomValues(y),y[0]}}return function(){Tn("randomDevice")}}();O.createDevice("/dev","random",y),O.createDevice("/dev","urandom",y),O.mkdir("/dev/shm"),O.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){O.mkdir("/proc");var y=O.mkdir("/proc/self");O.mkdir("/proc/self/fd"),O.mount({mount:function(){var D=O.createNode(y,"fd",16895,73);return D.node_ops={lookup:function(B,$){var Et=O.getStream(+$);if(!Et)throw new O.ErrnoError(8);var Lt={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return Et.path}}};return Lt.parent=Lt,Lt}},D}},{},"/proc/self/fd")},createStandardStreams:function(){M.stdin?O.createDevice("/dev","stdin",M.stdin):O.symlink("/dev/tty","/dev/stdin"),M.stdout?O.createDevice("/dev","stdout",null,M.stdout):O.symlink("/dev/tty","/dev/stdout"),M.stderr?O.createDevice("/dev","stderr",null,M.stderr):O.symlink("/dev/tty1","/dev/stderr"),O.open("/dev/stdin",0),O.open("/dev/stdout",1),O.open("/dev/stderr",1)},ensureErrnoError:function(){O.ErrnoError||(O.ErrnoError=function(D,B){this.node=B,this.setErrno=function($){this.errno=$},this.setErrno(D),this.message="FS error"},O.ErrnoError.prototype=new Error,O.ErrnoError.prototype.constructor=O.ErrnoError,[44].forEach(function(y){O.genericErrors[y]=new O.ErrnoError(y),O.genericErrors[y].stack="<generic error, no stack>"}))},staticInit:function(){O.ensureErrnoError(),O.nameTable=new Array(4096),O.mount(Dt,{},"/"),O.createDefaultDirectories(),O.createDefaultDevices(),O.createSpecialDirectories(),O.filesystems={MEMFS:Dt}},init:function(y,D,B){O.init.initialized=!0,O.ensureErrnoError(),M.stdin=y||M.stdin,M.stdout=D||M.stdout,M.stderr=B||M.stderr,O.createStandardStreams()},quit:function(){O.init.initialized=!1;var y=M._fflush;y&&y(0);for(var D=0;D<O.streams.length;D++){var B=O.streams[D];!B||O.close(B)}},getMode:function(y,D){var B=0;return y&&(B|=365),D&&(B|=146),B},findObject:function(y,D){var B=O.analyzePath(y,D);return B.exists?B.object:null},analyzePath:function(y,D){try{y=(B=O.lookupPath(y,{follow:!D})).path}catch(dt){}var $={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var B=O.lookupPath(y,{parent:!0});$.parentExists=!0,$.parentPath=B.path,$.parentObject=B.node,$.name=qt.basename(y),B=O.lookupPath(y,{follow:!D}),$.exists=!0,$.path=B.path,$.object=B.node,$.name=B.node.name,$.isRoot="/"===B.path}catch(dt){$.error=dt.errno}return $},createPath:function(y,D,B,$){y="string"==typeof y?y:O.getPath(y);for(var dt=D.split("/").reverse();dt.length;){var Et=dt.pop();if(Et){var Lt=qt.join2(y,Et);try{O.mkdir(Lt)}catch(Vt){}y=Lt}}return Lt},createFile:function(y,D,B,$,dt){var Et=qt.join2("string"==typeof y?y:O.getPath(y),D),Lt=O.getMode($,dt);return O.create(Et,Lt)},createDataFile:function(y,D,B,$,dt,Et){var Lt=D?qt.join2("string"==typeof y?y:O.getPath(y),D):y,Vt=O.getMode($,dt),ce=O.create(Lt,Vt);if(B){if("string"==typeof B){for(var He=new Array(B.length),un=0,bn=B.length;un<bn;++un)He[un]=B.charCodeAt(un);B=He}O.chmod(ce,146|Vt);var Je=O.open(ce,577);O.write(Je,B,0,B.length,0,Et),O.close(Je),O.chmod(ce,Vt)}return ce},createDevice:function(y,D,B,$){var dt=qt.join2("string"==typeof y?y:O.getPath(y),D),Et=O.getMode(!!B,!!$);O.createDevice.major||(O.createDevice.major=64);var Lt=O.makedev(O.createDevice.major++,0);return O.registerDevice(Lt,{open:function(Vt){Vt.seekable=!1},close:function(Vt){$&&$.buffer&&$.buffer.length&&$(10)},read:function(Vt,ce,He,un,bn){for(var Je=0,Ke=0;Ke<un;Ke++){var Ln;try{Ln=B()}catch(Pi){throw new O.ErrnoError(29)}if(void 0===Ln&&0===Je)throw new O.ErrnoError(6);if(null==Ln)break;Je++,ce[He+Ke]=Ln}return Je&&(Vt.node.timestamp=Date.now()),Je},write:function(Vt,ce,He,un,bn){for(var Je=0;Je<un;Je++)try{$(ce[He+Je])}catch(Ke){throw new O.ErrnoError(29)}return un&&(Vt.node.timestamp=Date.now()),Je}}),O.mkdev(dt,Et,Lt)},forceLoadFile:function(y){if(y.isDevice||y.isFolder||y.link||y.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Jt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{y.contents=Yi(Jt(y.url),!0),y.usedBytes=y.contents.length}catch(D){throw new O.ErrnoError(29)}},createLazyFile:function(y,D,B,$,dt){function Et(){this.lengthKnown=!1,this.chunks=[]}if(Et.prototype.get=function(Je){if(!(Je>this.length-1||Je<0)){var Ke=Je%this.chunkSize;return this.getter(Je/this.chunkSize|0)[Ke]}},Et.prototype.setDataGetter=function(Je){this.getter=Je},Et.prototype.cacheLength=function(){var Je=new XMLHttpRequest;if(Je.open("HEAD",B,!1),Je.send(null),!(Je.status>=200&&Je.status<300||304===Je.status))throw new Error("Couldn't load "+B+". Status: "+Je.status);var Ln,Ke=Number(Je.getResponseHeader("Content-length")),Pi=(Ln=Je.getResponseHeader("Accept-Ranges"))&&"bytes"===Ln,Tr=(Ln=Je.getResponseHeader("Content-Encoding"))&&"gzip"===Ln,Ri=1048576;Pi||(Ri=Ke);var ki=this;ki.setDataGetter(function($i){var br=$i*Ri,gi=($i+1)*Ri-1;if(gi=Math.min(gi,Ke-1),void 0===ki.chunks[$i]&&(ki.chunks[$i]=function($i,br){if($i>br)throw new Error("invalid range ("+$i+", "+br+") or no bytes requested!");if(br>Ke-1)throw new Error("only "+Ke+" bytes available! programmer error!");var gi=new XMLHttpRequest;if(gi.open("GET",B,!1),Ke!==Ri&&gi.setRequestHeader("Range","bytes="+$i+"-"+br),"undefined"!=typeof Uint8Array&&(gi.responseType="arraybuffer"),gi.overrideMimeType&&gi.overrideMimeType("text/plain; charset=x-user-defined"),gi.send(null),!(gi.status>=200&&gi.status<300||304===gi.status))throw new Error("Couldn't load "+B+". Status: "+gi.status);return void 0!==gi.response?new Uint8Array(gi.response||[]):Yi(gi.responseText||"",!0)}(br,gi)),void 0===ki.chunks[$i])throw new Error("doXHR failed!");return ki.chunks[$i]}),(Tr||!Ke)&&(Ri=Ke=1,Ke=this.getter(0).length,Ri=Ke,Te("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ke,this._chunkSize=Ri,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Vt,ce=O.createFile(y,D,Vt={isDevice:!1,url:B},$,dt);Vt.contents?ce.contents=Vt.contents:Vt.url&&(ce.contents=null,ce.url=Vt.url),Object.defineProperties(ce,{usedBytes:{get:function(){return this.contents.length}}});var He={};return Object.keys(ce.stream_ops).forEach(function(bn){var Je=ce.stream_ops[bn];He[bn]=function(){return O.forceLoadFile(ce),Je.apply(null,arguments)}}),He.read=function(Je,Ke,Ln,Pi,Tr){O.forceLoadFile(ce);var Ri=Je.node.contents;if(Tr>=Ri.length)return 0;var kr=Math.min(Ri.length-Tr,Pi);if(Ri.slice)for(var ki=0;ki<kr;ki++)Ke[Ln+ki]=Ri[Tr+ki];else for(ki=0;ki<kr;ki++)Ke[Ln+ki]=Ri.get(Tr+ki);return kr},ce.stream_ops=He,ce},createPreloadedFile:function(y,D,B,$,dt,Et,Lt,Vt,ce,He){Browser.init();var un=D?mt.resolve(qt.join2(y,D)):y;function bn(Je){function Ke(Pi){He&&He(),Vt||O.createDataFile(y,D,Pi,$,dt,ce),Et&&Et(),cn()}var Ln=!1;M.preloadPlugins.forEach(function(Pi){Ln||Pi.canHandle(un)&&(Pi.handle(Je,un,Ke,function(){Lt&&Lt(),cn()}),Ln=!0)}),Ln||Ke(Je)}In(),"string"==typeof B?function he(y,D,B,$){var dt=$?"":"al "+y;ge(y,function(Et){Xn(Et,'Loading data file "'+y+'" failed (no arrayBuffer).'),D(new Uint8Array(Et)),dt&&cn()},function(Et){if(!B)throw'Loading data file "'+y+'" failed.';B()}),dt&&In()}(B,function(Je){bn(Je)},Lt):bn(B)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(y,D,B){D=D||function(){},B=B||function(){};var $=O.indexedDB();try{var dt=$.open(O.DB_NAME(),O.DB_VERSION)}catch(Et){return B(Et)}dt.onupgradeneeded=function(){Te("creating db"),dt.result.createObjectStore(O.DB_STORE_NAME)},dt.onsuccess=function(){var Vt=dt.result.transaction([O.DB_STORE_NAME],"readwrite"),ce=Vt.objectStore(O.DB_STORE_NAME),He=0,un=0,bn=y.length;function Je(){0==un?D():B()}y.forEach(function(Ke){var Ln=ce.put(O.analyzePath(Ke).object.contents,Ke);Ln.onsuccess=function(){++He+un==bn&&Je()},Ln.onerror=function(){un++,He+un==bn&&Je()}}),Vt.onerror=B},dt.onerror=B},loadFilesFromDB:function(y,D,B){D=D||function(){},B=B||function(){};var $=O.indexedDB();try{var dt=$.open(O.DB_NAME(),O.DB_VERSION)}catch(Et){return B(Et)}dt.onupgradeneeded=B,dt.onsuccess=function(){var Lt=dt.result;try{var Vt=Lt.transaction([O.DB_STORE_NAME],"readonly")}catch(Ke){return void B(Ke)}var ce=Vt.objectStore(O.DB_STORE_NAME),He=0,un=0,bn=y.length;function Je(){0==un?D():B()}y.forEach(function(Ke){var Ln=ce.get(Ke);Ln.onsuccess=function(){O.analyzePath(Ke).exists&&O.unlink(Ke),O.createDataFile(qt.dirname(Ke),qt.basename(Ke),Ln.result,!0,!0,!0),++He+un==bn&&Je()},Ln.onerror=function(){un++,He+un==bn&&Je()}}),Vt.onerror=B},dt.onerror=B}},le={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(y,D,B){if("/"===D[0])return D;var $;if(-100===y)$=O.cwd();else{var dt=O.getStream(y);if(!dt)throw new O.ErrnoError(8);$=dt.path}if(0==D.length){if(!B)throw new O.ErrnoError(44);return $}return qt.join2($,D)},doStat:function(y,D,B){try{var $=y(D)}catch(dt){if(dt&&dt.node&&qt.normalize(D)!==qt.normalize(O.getPath(dt.node)))return-54;throw dt}return Me[B>>2]=$.dev,Me[B+4>>2]=0,Me[B+8>>2]=$.ino,Me[B+12>>2]=$.mode,Me[B+16>>2]=$.nlink,Me[B+20>>2]=$.uid,Me[B+24>>2]=$.gid,Me[B+28>>2]=$.rdev,Me[B+32>>2]=0,V=[$.size>>>0,(fn=$.size,+Math.abs(fn)>=1?fn>0?(0|Math.min(+Math.floor(fn/4294967296),4294967295))>>>0:~~+Math.ceil((fn-+(~~fn>>>0))/4294967296)>>>0:0)],Me[B+40>>2]=V[0],Me[B+44>>2]=V[1],Me[B+48>>2]=4096,Me[B+52>>2]=$.blocks,Me[B+56>>2]=$.atime.getTime()/1e3|0,Me[B+60>>2]=0,Me[B+64>>2]=$.mtime.getTime()/1e3|0,Me[B+68>>2]=0,Me[B+72>>2]=$.ctime.getTime()/1e3|0,Me[B+76>>2]=0,V=[$.ino>>>0,(fn=$.ino,+Math.abs(fn)>=1?fn>0?(0|Math.min(+Math.floor(fn/4294967296),4294967295))>>>0:~~+Math.ceil((fn-+(~~fn>>>0))/4294967296)>>>0:0)],Me[B+80>>2]=V[0],Me[B+84>>2]=V[1],0},doMsync:function(y,D,B,$,dt){var Et=Hn.slice(y,y+B);O.msync(D,Et,dt,B,$)},doMkdir:function(y,D){return"/"===(y=qt.normalize(y))[y.length-1]&&(y=y.substr(0,y.length-1)),O.mkdir(y,D,0),0},doMknod:function(y,D,B){switch(61440&D){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return O.mknod(y,D,B),0},doReadlink:function(y,D,B){if(B<=0)return-28;var $=O.readlink(y),dt=Math.min(B,En($)),Et=vn[D+dt];return function dn(y,D,B){return je(y,Hn,D,B)}($,D,B+1),vn[D+dt]=Et,dt},doAccess:function(y,D){if(-8&D)return-28;var $=O.lookupPath(y,{follow:!0}).node;if(!$)return-44;var dt="";return 4&D&&(dt+="r"),2&D&&(dt+="w"),1&D&&(dt+="x"),dt&&O.nodePermissions($,dt)?-2:0},doDup:function(y,D,B){var $=O.getStream(B);return $&&O.close($),O.open(y,D,0,B,B).fd},doReadv:function(y,D,B,$){for(var dt=0,Et=0;Et<B;Et++){var Vt=Me[D+(8*Et+4)>>2],ce=O.read(y,vn,Me[D+8*Et>>2],Vt,$);if(ce<0)return-1;if(dt+=ce,ce<Vt)break}return dt},doWritev:function(y,D,B,$){for(var dt=0,Et=0;Et<B;Et++){var ce=O.write(y,vn,Me[D+8*Et>>2],Me[D+(8*Et+4)>>2],$);if(ce<0)return-1;dt+=ce}return dt},varargs:void 0,get:function(){return le.varargs+=4,Me[le.varargs-4>>2]},getStr:function(y){return an(y)},getStreamFromFD:function(y){var D=O.getStream(y);if(!D)throw new O.ErrnoError(8);return D},get64:function(y,D){return y}};var Qt=[];function oe(y){try{return de.grow(y-Rn.byteLength+65535>>>16),jn(de.buffer),1}catch(D){}}var Ee={};function Wn(){if(!Wn.strings){var D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ie||"./this.program"};for(var B in Ee)void 0===Ee[B]?delete D[B]:D[B]=Ee[B];var $=[];for(var B in D)$.push(B+"="+D[B]);Wn.strings=$}return Wn.strings}var Qn=function(y,D,B,$){y||(y=this),this.parent=y,this.mount=y.mount,this.mounted=null,this.id=O.nextInode++,this.name=D,this.mode=B,this.node_ops={},this.stream_ops={},this.rdev=$};function Yi(y,D,B){var $=B>0?B:En(y)+1,dt=new Array($),Et=je(y,dt,0,dt.length);return D&&(dt.length=Et),dt}Object.defineProperties(Qn.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(y){y?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(y){y?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return O.isDir(this.mode)}},isDevice:{get:function(){return O.isChrdev(this.mode)}}}),O.FSNode=Qn,O.staticInit();var Ft={A:function re(y,D){return function Ht(y,D){var B;if(0===y)B=Date.now();else{if(1!==y&&4!==y)return Bt(28),-1;B=At()}return Me[D>>2]=B/1e3|0,Me[D+4>>2]=B%1e3*1e3*1e3|0,0}(y,D)},B:function ke(y,D){try{return y=le.getStr(y),le.doAccess(y,D)}catch(B){if(void 0===O||!(B instanceof O.ErrnoError))throw B;return-B.errno}},h:function Ie(y,D,B){le.varargs=B;try{var $=le.getStreamFromFD(y);switch(D){case 0:return(dt=le.get())<0?-28:O.open($.path,$.flags,0,dt).fd;case 1:case 2:case 6:case 7:return 0;case 3:return $.flags;case 4:var dt=le.get();return $.flags|=dt,0;case 5:return dt=le.get(),Kn[dt+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return Bt(28),-1}}catch(Vt){if(void 0===O||!(Vt instanceof O.ErrnoError))throw Vt;return-Vt.errno}},x:function nn(y,D){try{var B=le.getStreamFromFD(y);return le.doStat(O.stat,B.path,D)}catch($){if(void 0===O||!($ instanceof O.ErrnoError))throw $;return-$.errno}},u:function ze(y,D,B,$){try{D=le.getStr(D);var dt=256&$,Et=4096&$;return $&=-4353,D=le.calculateAt(y,D,Et),le.doStat(dt?O.lstat:O.stat,D,B)}catch(Lt){if(void 0===O||!(Lt instanceof O.ErrnoError))throw Lt;return-Lt.errno}},y:function We(y,D,B){le.varargs=B;try{var $=le.getStreamFromFD(y);switch(D){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return $.tty?0:-59;case 21519:if(!$.tty)return-59;var dt=le.get();return Me[dt>>2]=0,0;case 21520:return $.tty?-28:-59;case 21531:return dt=le.get(),O.ioctl($,D,dt);default:Tn("bad ioctl syscall "+D)}}catch(Et){if(void 0===O||!(Et instanceof O.ErrnoError))throw Et;return-Et.errno}},k:function xe(y,D,B,$,dt,Et){try{return function pe(y,D,B,$,dt,Et){Et<<=12;var Lt,Vt=!1;if(0!=(16&$)&&y%65536!=0)return-28;if(0!=(32&$)){if(!(Lt=te(D)))return-48;Vt=!0}else{var ce=O.getStream(dt);if(!ce)return-8;var He=O.mmap(ce,y,D,Et,B,$);Lt=He.ptr,Vt=He.allocated}return le.mappings[Lt]={malloc:Lt,len:D,allocated:Vt,fd:dt,prot:B,flags:$,offset:Et},Lt}(y,D,B,$,dt,Et)}catch(Lt){if(void 0===O||!(Lt instanceof O.ErrnoError))throw Lt;return-Lt.errno}},j:function nt(y,D){try{return function Xe(y,D){var B=le.mappings[y];if(0===D||!B)return-28;if(D===B.len){var $=O.getStream(B.fd);$&&2&B.prot&&le.doMsync(y,$,D,B.flags,B.offset),le.mappings[y]=null,B.allocated&&yt(B.malloc)}return 0}(y,D)}catch(B){if(void 0===O||!(B instanceof O.ErrnoError))throw B;return-B.errno}},e:function _t(y,D,B){le.varargs=B;try{var $=le.getStr(y),dt=B?le.get():0;return O.open($,D,dt).fd}catch(Lt){if(void 0===O||!(Lt instanceof O.ErrnoError))throw Lt;return-Lt.errno}},v:function gt(y,D){try{return y=le.getStr(y),le.doStat(O.stat,y,D)}catch(B){if(void 0===O||!(B instanceof O.ErrnoError))throw B;return-B.errno}},z:function St(y){try{return y=le.getStr(y),O.unlink(y),0}catch(D){if(void 0===O||!(D instanceof O.ErrnoError))throw D;return-D.errno}},r:function zt(){throw"longjmp"},q:function ee(){Tn("")},C:function ye(y,D,B){var $=function me(y,D){var B;for(Qt.length=0,D>>=2;B=Hn[y++];){var $=B<105;$&&1&D&&D++,Qt.push($?$n[D++>>1]:Me[D]),++D}return Qt}(D,B);return X[y].apply(null,$)},o:function Wt(y,D,B){Hn.copyWithin(y,D,D+B)},p:function Oe(y){var D=Hn.length,B=2147483648;if((y>>>=0)>B)return!1;for(var $=1;$<=4;$*=2){var dt=D*(1+.2/$);if(dt=Math.min(dt,y+100663296),oe(Math.min(B,ci(Math.max(y,dt),65536))))return!0}return!1},s:function On(y,D){var B=0;return Wn().forEach(function($,dt){var Et=D+B;Me[y+4*dt>>2]=Et,function Ue(y,D,B){for(var $=0;$<y.length;++$)vn[D++>>0]=y.charCodeAt($);B||(vn[D>>0]=0)}($,Et),B+=$.length+1}),0},t:function An(y,D){var B=Wn();Me[y>>2]=B.length;var $=0;return B.forEach(function(dt){$+=dt.length+1}),Me[D>>2]=$,0},a:function we(y){!function rr(y,D){!function Li(y){(function Be(){return kn||!1})()||(M.onExit&&M.onExit(y),gn=!0),Ut(y,new wn(y))}(y)}(y)},d:function Nn(y){try{var D=le.getStreamFromFD(y);return O.close(D),0}catch(B){if(void 0===O||!(B instanceof O.ErrnoError))throw B;return B.errno}},i:function Jn(y,D,B,$){try{var dt=le.getStreamFromFD(y),Et=le.doReadv(dt,D,B);return Me[$>>2]=Et,0}catch(Lt){if(void 0===O||!(Lt instanceof O.ErrnoError))throw Lt;return Lt.errno}},n:function sn(y,D,B,$,dt){try{var Et=le.getStreamFromFD(y),Vt=4294967296*B+(D>>>0),ce=9007199254740992;return Vt<=-ce||Vt>=ce?-61:(O.llseek(Et,Vt,$),V=[Et.position>>>0,(fn=Et.position,+Math.abs(fn)>=1?fn>0?(0|Math.min(+Math.floor(fn/4294967296),4294967295))>>>0:~~+Math.ceil((fn-+(~~fn>>>0))/4294967296)>>>0:0)],Me[dt>>2]=V[0],Me[dt+4>>2]=V[1],Et.getdents&&0===Vt&&0===$&&(Et.getdents=null),0)}catch(He){if(void 0===O||!(He instanceof O.ErrnoError))throw He;return He.errno}},g:function on(y,D,B,$){try{var dt=le.getStreamFromFD(y),Et=le.doWritev(dt,D,B);return Me[$>>2]=Et,0}catch(Lt){if(void 0===O||!(Lt instanceof O.ErrnoError))throw Lt;return Lt.errno}},c:function Un(){return yn},w:function Vi(y){var D=Date.now();return Me[y>>2]=D/1e3|0,Me[y+4>>2]=D%1e3*1e3|0,0},l:function Re(y,D,B,$,dt,Et,Lt){var Vt=Pt();try{return E(y)(D,B,$,dt,Et,Lt)}catch(ce){if(ae(Vt),ce!==ce+0&&"longjmp"!==ce)throw ce;De(1,0)}},m:function qe(y,D){var B=Pt();try{E(y)(D)}catch($){if(ae(B),$!==$+0&&"longjmp"!==$)throw $;De(1,0)}},b:function hi(y){!function(y){yn=y}(y)},f:function zi(y){var D=Date.now()/1e3|0;return y&&(Me[y>>2]=D),D}};(function Bn(){var y={a:Ft};function D(Lt,Vt){M.asm=Lt.exports,jn((de=M.asm.D).buffer),Tt=M.asm.M,function qn(y){se.unshift(y)}(M.asm.E),cn()}function B(Lt){D(Lt.instance)}function $(Lt){return function Ii(){return Ve||"function"!=typeof fetch?Promise.resolve().then(function(){return Le(Mn)}):fetch(Mn,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+Mn+"'";return y.arrayBuffer()}).catch(function(){return Le(Mn)})}().then(function(Vt){return WebAssembly.instantiate(Vt,y)}).then(function(Vt){return Vt}).then(Lt,function(Vt){Ze("failed to asynchronously prepare wasm: "+Vt),Tn(Vt)})}if(In(),M.instantiateWasm)try{return M.instantiateWasm(y,D)}catch(Lt){return Ze("Module.instantiateWasm callback failed with error: "+Lt),!1}return function dt(){return Ve||"function"!=typeof WebAssembly.instantiateStreaming||ui(Mn)||"function"!=typeof fetch?$(B):fetch(Mn,{credentials:"same-origin"}).then(function(Lt){return WebAssembly.instantiateStreaming(Lt,y).then(B,function(ce){return Ze("wasm streaming compile failed: "+ce),Ze("falling back to ArrayBuffer instantiation"),$(B)})})}().catch(It),{}})(),M.___wasm_call_ctors=function(){return(M.___wasm_call_ctors=M.asm.E).apply(null,arguments)};var Ce=M._emscripten_bind_VoidPtr___destroy___0=function(){return(Ce=M._emscripten_bind_VoidPtr___destroy___0=M.asm.F).apply(null,arguments)},jt=M._emscripten_bind_Graphviz_Graphviz_2=function(){return(jt=M._emscripten_bind_Graphviz_Graphviz_2=M.asm.G).apply(null,arguments)},T=M._emscripten_bind_Graphviz_version_0=function(){return(T=M._emscripten_bind_Graphviz_version_0=M.asm.H).apply(null,arguments)},I=M._emscripten_bind_Graphviz_lastError_0=function(){return(I=M._emscripten_bind_Graphviz_lastError_0=M.asm.I).apply(null,arguments)},U=M._emscripten_bind_Graphviz_layout_3=function(){return(U=M._emscripten_bind_Graphviz_layout_3=M.asm.J).apply(null,arguments)},Q=M._emscripten_bind_Graphviz_createFile_2=function(){return(Q=M._emscripten_bind_Graphviz_createFile_2=M.asm.K).apply(null,arguments)},ct=M._emscripten_bind_Graphviz___destroy___0=function(){return(ct=M._emscripten_bind_Graphviz___destroy___0=M.asm.L).apply(null,arguments)};M._malloc=function(){return(M._malloc=M.asm.N).apply(null,arguments)};var Ye,yt=M._free=function(){return(yt=M._free=M.asm.O).apply(null,arguments)},kt=M.___errno_location=function(){return(kt=M.___errno_location=M.asm.P).apply(null,arguments)},Pt=M.stackSave=function(){return(Pt=M.stackSave=M.asm.Q).apply(null,arguments)},ae=M.stackRestore=function(){return(ae=M.stackRestore=M.asm.R).apply(null,arguments)},De=M._setThrew=function(){return(De=M._setThrew=M.asm.S).apply(null,arguments)},Ge=M._memalign=function(){return(Ge=M._memalign=M.asm.T).apply(null,arguments)};function wn(y){this.name="ExitStatus",this.message="Program terminated with exit("+y+")",this.status=y}function di(y){function D(){Ye||(Ye=!0,M.calledRun=!0,!gn&&(function en(){!M.noFSInit&&!O.init.initialized&&O.init(),O.ignorePermissions=!1,ht(se)}(),ft(M),M.onRuntimeInitialized&&M.onRuntimeInitialized(),function Zn(){if(M.postRun)for("function"==typeof M.postRun&&(M.postRun=[M.postRun]);M.postRun.length;)y=M.postRun.shift(),fe.unshift(y);var y;ht(fe)}()))}_n>0||(function Ne(){if(M.preRun)for("function"==typeof M.preRun&&(M.preRun=[M.preRun]);M.preRun.length;)y=M.preRun.shift(),Gt.unshift(y);var y;ht(Gt)}(),_n>0)||(M.setStatus?(M.setStatus("Running..."),setTimeout(function(){setTimeout(function(){M.setStatus("")},1),D()},1)):D())}if(ti=function y(){Ye||di(),Ye||(ti=y)},M.run=di,M.preInit)for("function"==typeof M.preInit&&(M.preInit=[M.preInit]);M.preInit.length>0;)M.preInit.pop()();function fi(){}function ii(y){return(y||fi).__cache__}function Mi(y,D){var B=ii(D),$=B[y];return $||(($=Object.create((D||fi).prototype)).ptr=y,B[y]=$)}di(),(fi.prototype=Object.create(fi.prototype)).constructor=fi,fi.prototype.__class__=fi,fi.__cache__={},M.WrapperObject=fi,M.getCache=ii,M.wrapPointer=Mi,M.castObject=function ar(y,D){return Mi(y.ptr,D)},M.NULL=Mi(0),M.destroy=function si(y){if(!y.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";y.__destroy__(),delete ii(y.__class__)[y.ptr]},M.compare=function Sa(y,D){return y.ptr===D.ptr},M.getPointer=function as(y){return y.ptr},M.getClass=function ss(y){return y.__class__};var Fn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Fn.needed){for(var y=0;y<Fn.temps.length;y++)M._free(Fn.temps[y]);Fn.temps.length=0,M._free(Fn.buffer),Fn.buffer=0,Fn.size+=Fn.needed,Fn.needed=0}Fn.buffer||(Fn.size+=128,Fn.buffer=M._malloc(Fn.size),Xn(Fn.buffer)),Fn.pos=0},alloc:function(y,D){Xn(Fn.buffer);var dt,$=y.length*D.BYTES_PER_ELEMENT;return Fn.pos+($=$+7&-8)>=Fn.size?(Xn($>0),Fn.needed+=$,dt=M._malloc($),Fn.temps.push(dt)):(dt=Fn.buffer+Fn.pos,Fn.pos+=$),dt},copy:function(y,D,B){switch(B>>>=0,D.BYTES_PER_ELEMENT){case 2:B>>>=1;break;case 4:B>>>=2;break;case 8:B>>>=3}for(var dt=0;dt<y.length;dt++)D[B+dt]=y[dt]}};function Lr(y){if("string"==typeof y){var D=Yi(y),B=Fn.alloc(D,vn);return Fn.copy(D,vn,B),B}return y}function qi(){throw"cannot construct a VoidPtr, no constructor in IDL"}function pi(y,D){y&&"object"==typeof y&&(y=y.ptr),D&&"object"==typeof D&&(D=D.ptr),this.ptr=jt(y,D),ii(pi)[this.ptr]=this}return(qi.prototype=Object.create(fi.prototype)).constructor=qi,qi.prototype.__class__=qi,qi.__cache__={},M.VoidPtr=qi,qi.prototype.__destroy__=qi.prototype.__destroy__=function(){Ce(this.ptr)},(pi.prototype=Object.create(fi.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},M.Graphviz=pi,pi.prototype.version=pi.prototype.version=function(){return an(T(this.ptr))},pi.prototype.lastError=pi.prototype.lastError=function(){return an(I(this.ptr))},pi.prototype.layout=pi.prototype.layout=function(y,D,B){var $=this.ptr;return Fn.prepare(),y=y&&"object"==typeof y?y.ptr:Lr(y),D=D&&"object"==typeof D?D.ptr:Lr(D),B=B&&"object"==typeof B?B.ptr:Lr(B),an(U($,y,D,B))},pi.prototype.createFile=pi.prototype.createFile=function(y,D){var B=this.ptr;Fn.prepare(),y=y&&"object"==typeof y?y.ptr:Lr(y),D=D&&"object"==typeof D?D.ptr:Lr(D),Q(B,y,D)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){ct(this.ptr)},G.ready}}();Y.exports=ut}(P);var Z=Object.freeze(u({__proto__:null,default:P.exports},[P.exports])),H=function(){return H=Object.assign||function(Y){for(var K,ut=1,it=arguments.length;ut<it;ut++)for(var G in K=arguments[ut])Object.prototype.hasOwnProperty.call(K,G)&&(Y[G]=K[G]);return Y},H.apply(this,arguments)},z=function(Y,K,ut){if(ut||2===arguments.length)for(var M,it=0,G=K.length;it<G;it++)(M||!(it in K))&&(M||(M=Array.prototype.slice.call(K,0,it)),M[it]=K[it]);return Y.concat(M||Array.prototype.slice.call(K))};function tt(Y){return{path:Y.path,data:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="'.concat(Y.width,'" height="').concat(Y.height,'"></svg>')}}function ot(Y,K){var ut=H({images:[],files:[]},K);z(z([],ut.files,!0),function rt(Y){return Y.map(tt)}(ut.images),!0).forEach(function(it){return Y.createFile(it.path,it.data)})}var et={layout:function(Y,K,ut,it){return void 0===K&&(K="svg"),void 0===ut&&(ut="dot"),Y?d(Z,null==it?void 0:it.wasmFolder,null==it?void 0:it.wasmBinary).then(function(G){var M=new G.Graphviz(void 0!==(null==it?void 0:it.yInvert)&&(null==it?void 0:it.yInvert),void 0!==(null==it?void 0:it.nop)?null==it?void 0:it.nop:0);ot(M,it);var ft=M.layout(Y,K,ut);if(G.destroy(M),!ft)throw new Error(G.Graphviz.prototype.lastError());return ft}):Promise.resolve("")},circo:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"circo",ut)},dot:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"dot",ut)},fdp:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"fdp",ut)},sfdp:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"sfdp",ut)},neato:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"neato",ut)},osage:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"osage",ut)},patchwork:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"patchwork",ut)},twopi:function(Y,K,ut){return void 0===K&&(K="svg"),this.layout(Y,K,"twopi",ut)}},q=function(){function Y(K){this._wasm=K}return Y.prototype.layout=function(K,ut,it,G){if(void 0===ut&&(ut="svg"),void 0===it&&(it="dot"),!K)return"";var M=new this._wasm.Graphviz((null==G?void 0:G.yInvert)?1:0,(null==G?void 0:G.nop)?null==G?void 0:G.nop:0);ot(M,G);var ft=M.layout(K,ut,it);if(this._wasm.destroy(M),!ft)throw new Error(this._wasm.Graphviz.prototype.lastError());return ft},Y.prototype.circo=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"circo",it)},Y.prototype.dot=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"dot",it)},Y.prototype.fdp=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"fdp",it)},Y.prototype.sfdp=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"sfdp",it)},Y.prototype.neato=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"neato",it)},Y.prototype.osage=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"osage",it)},Y.prototype.patchwork=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"patchwork",it)},Y.prototype.twopi=function(K,ut,it){return void 0===ut&&(ut="svg"),this.layout(K,ut,"twopi",it)},Y}();o.GraphvizSync=q,o.StackElement=p,o.StackParser=C,o.expatVersion=function L(Y,K){return d(_,Y,K).then(function(ut){return ut.CExpat.prototype.version()})},o.graphviz=et,o.graphvizSync=function at(Y,K){return d(Z,Y,K).then(function(ut){return new q(ut)})},o.graphvizVersion=function J(Y,K){return d(Z,Y,K).then(function(ut){return ut.Graphviz.prototype.version()})},o.parse=N,o.wasmFolder=c,Object.defineProperty(o,"__esModule",{value:!0})}(k)},23385:(w,k,o)=>{"use strict";o.r(k),o.d(k,{AdminModule:()=>ab});var u={};o.r(u),o.d(u,{forceCenter:()=>Bf,forceCollide:()=>cl,forceLink:()=>pl,forceManyBody:()=>gl,forceRadial:()=>dp,forceSimulation:()=>ml,forceX:()=>fp,forceY:()=>pp});var x={};o.r(x),o.d(x,{dispatch:()=>ca.Z});var v={};o.r(v),o.d(v,{interval:()=>gp,now:()=>tr.zO,timeout:()=>ua.Z,timer:()=>tr.HT,timerFlush:()=>tr.R8});var _=o(69808),m=o(30325),l=o(69024),t=o(5e3),c=o(77968),h=o(4235),g=o(25245),d=o(61283),p=o(51062);const C=function(){return{color:"black"}};let A=(()=>{class n{constructor(e,i){this.sideMenuService=e,this.sideMenuItemService=i}ngOnInit(){this.sideMenuService.setAdminItems([])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.D),t.Y36(l.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-page"]],decls:7,vars:5,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","admin-theme"],[1,"page-title","d-flex"],["svgIcon","perun-perun-admin",1,"perun-icon","icon-scale",3,"ngStyle"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.TgZ(2,"h1",1),t._UZ(3,"mat-icon",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngStyle",t.DdM(4,C)),t.xp6(1),t.hij(" ",t.lcZ(5,2,"ADMIN.TITLE")," "))},directives:[h.W,g.Hw,_.PC,d.A],pipes:[p.X$],styles:[""]}),n})();var L=o(71135);let N=(()=>{class n{constructor(){this.navItems=[{cssIcon:"perun-attributes",url:"/admin/attributes",label:"MENU_ITEMS.ADMIN.ATTRIBUTES",style:"admin-btn"},{cssIcon:"perun-user",url:"/admin/users",label:"MENU_ITEMS.ADMIN.USERS",style:"admin-btn"},{cssIcon:"perun-owner-grey",url:"/admin/owners",label:"MENU_ITEMS.ADMIN.OWNERS",style:"admin-btn"},{cssIcon:"perun-service",url:"/admin/services",label:"MENU_ITEMS.ADMIN.SERVICES",style:"admin-btn"},{cssIcon:"perun-preview",url:"/admin/visualizer",label:"MENU_ITEMS.ADMIN.VISUALIZER",style:"admin-btn"},{cssIcon:"perun-external-sources",url:"/admin/ext_sources",label:"MENU_ITEMS.ADMIN.EXT_SOURCES",style:"admin-btn"},{cssIcon:"perun-audit-log",url:"/admin/audit_log",label:"MENU_ITEMS.ADMIN.AUDIT_LOG",style:"admin-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-overview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-menu-buttons-field",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("items",i.navItems)("size","small"))},directives:[L.L],styles:[""]}),n})();var P=o(20449),R=o(48966),Z=o(32075),H=o(36908),z=o(9315),tt=o(20773),rt=o(98380),ot=o(47423);function J(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function et(n,r){1&n&&t._UZ(0,"th",16)}function q(n,r){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function at(n,r){1&n&&t._UZ(0,"tr",18)}function Y(n,r){1&n&&t._UZ(0,"tr",19)}function K(n,r){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",9),t.ynx(8,10),t.YNc(9,et,1,0,"th",11),t.YNc(10,q,2,1,"td",12),t.BQk(),t.YNc(11,at,1,0,"tr",13),t.YNc(12,Y,1,0,"tr",14),t.qZA(),t.TgZ(13,"app-alert",15),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TEXT_LINE1")," "),t.xp6(3),t.hij(" ",t.lcZ(6,8,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TEXT_LINE2")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.hij(" ",t.lcZ(15,10,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.WARNING")," ")}}let ut=(()=>{class n{constructor(e,i,a,s,f){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=s,this.attributesManager=f,this.displayedColumns=["name"],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.dataSource=new Z.by(this.data.attributes)}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0;const e=[];for(const i of this.data.attributes)e.push(i.id);this.attributesManager.deleteAttributeDefinitions(e).subscribe(()=>{this.translate.get("DIALOGS.DELETE_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(H.V6),t.Y36(p.sK),t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-attribute-definition-dialog"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","font-weight-bolder",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",1,"mt-3"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,J,1,0,"mat-spinner",1),t.YNc(5,K,16,12,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.onSubmit()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(t.lcZ(3,9,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,11,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,13,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.CONFIRM")," "))},directives:[R.uh,_.O5,tt.$g,R.xY,Z.BZ,Z.w1,Z.fO,Z.ge,Z.Dz,Z.ev,Z.as,Z.XQ,Z.nj,Z.Gk,rt.w,R.H8,ot.lW],pipes:[p.X$],styles:[""]}),n})();var it=o(45323),G=o(67322),M=o(98833),ft=o(93075),It=o(74533),Zt=o(74107),Yt=o(90508),ie=o(32368),Ut=o(29772),xt=o(77446);function pt(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function Nt(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function Jt(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function ge(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function _e(n,r){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Te(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_SELECT_SOMETHING")))}function Ze(n,r){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function yn(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_SELECT_SOMETHING")))}function Pe(n,r){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function mn(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_SELECT_SOMETHING")))}function Ve(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"mat-form-field",9),t.TgZ(2,"label"),t.TgZ(3,"input",10),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.friendlyName=a}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.YNc(5,Nt,3,3,"mat-error",11),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"mat-form-field",9),t.TgZ(8,"label"),t.TgZ(9,"input",10),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.displayName=a}),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.YNc(11,Jt,3,3,"mat-error",11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-form-field",9),t.TgZ(14,"label"),t.TgZ(15,"textarea",12),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.description=a}),t.ALo(16,"translate"),t._uU(17,"        "),t.qZA(),t.qZA(),t.YNc(18,ge,3,3,"mat-error",11),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"mat-form-field",9),t.TgZ(21,"mat-placeholder"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-select",13),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().entity=a}),t.YNc(25,_e,2,2,"mat-option",14),t.qZA(),t.YNc(26,Te,3,3,"mat-error",11),t.qZA(),t._UZ(27,"br"),t.TgZ(28,"mat-form-field",9),t.TgZ(29,"mat-placeholder"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"mat-select",13),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().definitionType=a}),t.YNc(33,Ze,2,2,"mat-option",14),t.qZA(),t.YNc(34,yn,3,3,"mat-error",11),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"mat-form-field",9),t.TgZ(37,"mat-placeholder"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-select",13),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().valueType=a}),t.YNc(41,Pe,2,2,"mat-option",14),t.qZA(),t.YNc(42,mn,3,3,"mat-error",11),t.qZA(),t._UZ(43,"br"),t.TgZ(44,"div",15),t.TgZ(45,"p"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"p",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().attDef.unique=!1}),t._uU(49,"OFF"),t.qZA(),t.TgZ(50,"mat-slide-toggle",17),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.unique=a}),t.ALo(51,"translate"),t._uU(52," ON "),t.qZA(),t.qZA(),t.TgZ(53,"div",18),t.TgZ(54,"p",19),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"p",20),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.qZA(),t.TgZ(60,"div",21),t.TgZ(61,"p",22),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"mat-checkbox",23),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readSelf=a}),t.qZA(),t.TgZ(65,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeSelf=a}),t.qZA(),t.qZA(),t.TgZ(66,"div",21),t.TgZ(67,"p",22),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readSelfPublic=a}),t.qZA(),t.TgZ(71,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeSelfPublic=a}),t.qZA(),t.qZA(),t.TgZ(72,"div",21),t.TgZ(73,"p",22),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"mat-checkbox",26),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readSelfVo=a}),t.qZA(),t.TgZ(77,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeSelfVo=a}),t.qZA(),t.qZA(),t.TgZ(78,"div",21),t.TgZ(79,"p",22),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"mat-checkbox",27),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readVo=a}),t.qZA(),t.TgZ(83,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeVo=a}),t.qZA(),t.qZA(),t.TgZ(84,"div",21),t.TgZ(85,"p",22),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"mat-checkbox",28),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readGroup=a}),t.qZA(),t.TgZ(89,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeGroup=a}),t.qZA(),t.qZA(),t.TgZ(90,"div",21),t.TgZ(91,"p",22),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"mat-checkbox",26),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readFacility=a}),t.qZA(),t.TgZ(95,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeFacility=a}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,46,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FRIENDLY_NAME")),t.Q6J("ngModel",e.attDef.friendlyName),t.xp6(2),t.Q6J("ngIf",""===e.attDef.friendlyName),t.xp6(4),t.s9C("placeholder",t.lcZ(10,48,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DISPLAY_NAME")),t.Q6J("ngModel",e.attDef.displayName),t.xp6(2),t.Q6J("ngIf",""===e.attDef.displayName),t.xp6(4),t.s9C("placeholder",t.lcZ(16,50,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DESCRIPTION")),t.Q6J("ngModel",e.attDef.description),t.xp6(3),t.Q6J("ngIf",""===e.attDef.description),t.xp6(4),t.Oqu(t.lcZ(23,52,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ENTITY")),t.xp6(2),t.Q6J("ngModel",e.entity),t.xp6(1),t.Q6J("ngForOf",e.entities),t.xp6(1),t.Q6J("ngIf",""===e.attDef.entity),t.xp6(4),t.Oqu(t.lcZ(31,54,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DEFINITION")),t.xp6(2),t.Q6J("ngModel",e.definitionType),t.xp6(1),t.Q6J("ngForOf",e.definitionTypes),t.xp6(1),t.Q6J("ngIf",""===e.definitionType),t.xp6(4),t.Oqu(t.lcZ(39,56,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VALUE_TYPE")),t.xp6(2),t.Q6J("ngModel",e.valueType),t.xp6(1),t.Q6J("ngForOf",e.valueTypes),t.xp6(1),t.Q6J("ngIf",""===e.valueType),t.xp6(4),t.Oqu(t.lcZ(47,58,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.UNIQUE")),t.xp6(4),t.s9C("matTooltip",t.lcZ(51,60,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TOOLTIP_UNIQUE")),t.Q6J("matTooltipDisabled",!e.disableUniqueToggle())("disabled",e.disableUniqueToggle())("ngModel",e.attDef.unique),t.xp6(5),t.Oqu(t.lcZ(56,62,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.READ")),t.xp6(3),t.Oqu(t.lcZ(59,64,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.WRITE")),t.xp6(4),t.Oqu(t.lcZ(63,66,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF")),t.xp6(2),t.Q6J("ngModel",e.readSelf),t.xp6(1),t.Q6J("ngModel",e.writeSelf),t.xp6(3),t.Oqu(t.lcZ(69,68,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_PUBLIC")),t.xp6(2),t.Q6J("ngModel",e.readSelfPublic),t.xp6(1),t.Q6J("ngModel",e.writeSelfPublic),t.xp6(3),t.Oqu(t.lcZ(75,70,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_VO")),t.xp6(2),t.Q6J("ngModel",e.readSelfVo),t.xp6(1),t.Q6J("ngModel",e.writeSelfVo),t.xp6(3),t.Oqu(t.lcZ(81,72,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VO")),t.xp6(2),t.Q6J("ngModel",e.readVo),t.xp6(1),t.Q6J("ngModel",e.writeVo),t.xp6(3),t.Oqu(t.lcZ(87,74,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.GROUP")),t.xp6(2),t.Q6J("ngModel",e.readGroup),t.xp6(1),t.Q6J("ngModel",e.writeGroup),t.xp6(3),t.Oqu(t.lcZ(93,76,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FACILITY")),t.xp6(2),t.Q6J("ngModel",e.readFacility),t.xp6(1),t.Q6J("ngModel",e.writeFacility)}}let kn=(()=>{class n{constructor(e,i,a,s){this.dialogRef=e,this.notificator=i,this.translate=a,this.attributesManager=s,this.loading=!1,this.entities=["facility","resource","group","group_resource","host","member","member_group","member_resource","user","user_ext_source","user_facility","vo","entityless"],this.definitionTypes=["def","opt","virt","core"],this.definitionType="",this.valueTypes=["String","Integer","Boolean","Array","LinkedHashMap"],this.valueType="",this.readSelf=!1,this.readSelfPublic=!1,this.readSelfVo=!1,this.readVo=!1,this.readGroup=!1,this.readFacility=!1,this.writeSelf=!1,this.writeSelfPublic=!1,this.writeSelfVo=!1,this.writeVo=!1,this.writeGroup=!1,this.writeFacility=!1}ngOnInit(){this.attDef={beanName:"",description:"",displayName:"",entity:"",friendlyName:"",id:void 0,namespace:"",type:"",unique:!1,writable:!1}}onSubmit(){this.loading=!0,this.attDef.namespace="urn:perun:"+this.entity+":attribute-def:"+this.definitionType,this.readValueType(),this.attributesManager.createAttributeDefinition({attribute:this.attDef}).subscribe(e=>{this.attDef=e,this.attributesManager.setAttributeRights({rights:this.readRights()}).subscribe(()=>{this.translate.get("DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}readRights(){const e=[],i={};i.attributeId=this.attDef.id,i.role=it.u.SELF,i.rights=[],this.readSelf&&i.rights.push("READ"),this.readSelfPublic&&i.rights.push("READ_PUBLIC"),this.readSelfVo&&i.rights.push("READ_VO"),this.writeSelf&&i.rights.push("WRITE"),this.writeSelfPublic&&i.rights.push("WRITE_PUBLIC"),this.writeSelfVo&&i.rights.push("WRITE_VO"),e.push(i);const a={};a.attributeId=this.attDef.id,a.role=it.u.VOADMIN,a.rights=[],this.readVo&&a.rights.push(z.Us.READ),this.writeVo&&a.rights.push(z.Us.WRITE),e.push(a);const s={};s.attributeId=this.attDef.id,s.role=it.u.GROUPADMIN,s.rights=[],this.readGroup&&s.rights.push(z.Us.READ),this.writeGroup&&s.rights.push(z.Us.WRITE),e.push(s);const f={};return f.attributeId=this.attDef.id,f.role=it.u.FACILITYADMIN,f.rights=[],this.readFacility&&f.rights.push(z.Us.READ),this.writeFacility&&f.rights.push(z.Us.WRITE),e.push(f),e}readValueType(){switch(this.valueType){case"String":this.attDef.type="java.lang.String";break;case"Integer":this.attDef.type="java.lang.Integer";break;case"Boolean":this.attDef.type="java.lang.Boolean";break;case"Array":this.attDef.type="java.util.ArrayList";break;case"LinkedHashMap":this.attDef.type="java.util.LinkedHashMap"}}disableConfirmButton(){return""===this.attDef.friendlyName||""===this.attDef.displayName||""===this.attDef.description||""===this.entity||""===this.definitionType||""===this.valueType||this.loading}disableUniqueToggle(){return("virt"===this.definitionType||"entityless"===this.entity)&&(this.attDef.unique=!1,!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(H.V6),t.Y36(p.sK),t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-attribute-definition-dialog"]],decls:14,vars:16,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","accent","matTooltipPosition","above",1,"ml-2",3,"disabled","matTooltip","matTooltipDisabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],[1,"form-field-width"],["matInput","","required","",1,"form-field-width",3,"ngModel","placeholder","ngModelChange"],[4,"ngIf"],["matInput","","cdkTextareaAutosize","","required","",1,"form-field-width",3,"ngModel","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","mt-3"],[1,"pointer","ml-4",3,"click"],["color","accent","matTooltipPosition","above",1,"ml-2",3,"matTooltip","matTooltipDisabled","disabled","ngModel","ngModelChange"],[1,"d-flex","flex-row","mt-2"],[1,"ml-5","pl-4"],[1,"ml-4"],[1,"d-flex","flex-row"],[1,""],[1,"ml-5","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5",3,"ngModel","ngModelChange"],[1,"ml-3",3,"ngModel","ngModelChange"],[1,"ml-4","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5","pl-4",3,"ngModel","ngModelChange"],[1,"ml-4","pl-4",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,pt,1,0,"mat-spinner",2),t.YNc(5,Ve,96,78,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.onSubmit()}),t.ALo(11,"translate"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,8,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,10,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(11,12,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TOOLTIP_CONFIRM")),t.Q6J("disabled",i.disableConfirmButton())("matTooltipDisabled",!i.disableConfirmButton()),t.xp6(2),t.hij(" ",t.lcZ(13,14,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.CONFIRM")," "))},directives:[R.uh,_.O5,tt.$g,R.xY,G.KE,M.Nt,ft.Fj,ft.Q7,ft.JJ,ft.On,G.TO,It.IC,G.UY,Zt.gD,_.sg,Yt.ey,ie.Rr,Ut.gM,xt.oG,R.H8,ot.lW],pipes:[p.X$],styles:[".unique-toggle-label[_ngcontent-%COMP%]{font-size:1.125rem}.form-field-width[_ngcontent-%COMP%]{width:450px}.pointer[_ngcontent-%COMP%]{cursor:pointer}textarea[cdktextareaautosize].mat-input-element[_ngcontent-%COMP%]{overflow:hidden}"]}),n})();var de=o(9244),gn=o(10036);function Xn(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function ni(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"app-alert",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",10),t.TgZ(5,"input",11),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().value=a}),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.IMPORT_ATTRIBUTE.INFO")," "),t.xp6(3),t.Q6J("ngModel",e.value)("placeholder",t.lcZ(6,5,"DIALOGS.IMPORT_ATTRIBUTE.HINT"))}}let Yn=(()=>{class n{constructor(e,i,a,s){this.dialogRef=e,this.notificator=i,this.translate=a,this.attributesManager=s,this.value="",this.loading=!1}create(){try{this.loading=!0,this.attributeData=JSON.parse(this.value),this.attributesManager.createAttributeDefinition({attribute:this.attributeData.attributeDefinition}).subscribe(e=>{for(let i=0;i<this.attributeData.attributeRights.length;i++)this.attributeData.attributeRights[i].attributeId=e.id;this.attributesManager.setAttributeRights({rights:this.attributeData.attributeRights}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.IMPORT_ATTRIBUTE_DEFINITION.SUCCESS")),this.dialogRef.close(!0)})},()=>this.loading=!1)}catch(e){console.log(e),this.notificator.showError(e),this.loading=!1}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(H.V6),t.Y36(p.sK),t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attribute-import-dialog"]],decls:13,vars:12,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","accent",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],["alert_type","info"],[1,"w-100"],["matInput","","required","",3,"ngModel","placeholder","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Xn,1,0,"mat-spinner",2),t.YNc(5,ni,7,7,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.dialogRef.close()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.create()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,6,"DIALOGS.IMPORT_ATTRIBUTE.TITLE")," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.IMPORT_ATTRIBUTE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",0===i.value.trim().length||i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.IMPORT_ATTRIBUTE.CREATE")," "))},directives:[R.uh,_.O5,tt.$g,R.xY,rt.w,G.KE,M.Nt,ft.Fj,ft.Q7,ft.JJ,ft.On,R.H8,ot.lW],pipes:[p.X$],styles:[""]}),n})();var an=o(96214),je=o(7434),dn=o(84847),En=o(36769),Ue=o(69287),ci=o(60205),Rn=o(387),vn=o(18750),Hn=o(43532);function Kn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",22),t.TgZ(1,"mat-checkbox",23),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw(2);return a?s.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Me(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"mat-checkbox",25),t.NdJ("change",function(a){const f=t.CHM(e).$implicit,b=t.oxw(2);return a?b.selection.toggle(f):null})("click",function(a){return a.stopPropagation()}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))}}function $n(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.KEY")," "))}function jn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",27),t.TgZ(1,"label"),t.TgZ(2,"input",28),t.NdJ("ngModelChange",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onValueChange(s)})("ngModelChange",function(a){return t.CHM(e).$implicit[0]=a}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngModel",e[0])}}function Tt(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.VALUE")," "))}function Gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",27),t.TgZ(1,"perun-web-apps-attribute-value",29),t.NdJ("sendEventToParent2",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onValueChange(s)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("attribute",e[1])}}function se(n,r){1&n&&t._UZ(0,"tr",30)}function fe(n,r){1&n&&t._UZ(0,"tr",31)}function ve(n,r){if(1&n&&(t.TgZ(0,"div",10),t.TgZ(1,"perun-web-apps-table-wrapper",11),t.TgZ(2,"table",12),t.ynx(3,13),t.YNc(4,Kn,2,3,"th",14),t.YNc(5,Me,2,2,"td",15),t.BQk(),t.ynx(6,16),t.YNc(7,$n,3,3,"th",17),t.YNc(8,jn,3,1,"td",18),t.BQk(),t.ynx(9,19),t.YNc(10,Tt,3,3,"th",17),t.YNc(11,Gt,2,1,"td",18),t.BQk(),t.YNc(12,se,1,0,"tr",20),t.YNc(13,fe,1,0,"tr",21),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("tableId",e.tableId)("dataLength",e.dataSource.filteredData.length)("hideExport",!0)("pageSizeOptions",e.pageSizeOptions),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function Be(n,r){1&n&&t._UZ(0,"mat-spinner",32)}function Ne(n,r){1&n&&(t.TgZ(0,"app-alert",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.NO_KEYS_WARNING")," "))}let en=(()=>{class n{constructor(e,i,a,s,f){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=s,this.attributesManager=f,this.switchView=new t.vpe,this.records=[],this.displayedColumns=["select","key","value"],this.dataSource=new Z.by,this.selection=new P.Ov(!0,[]),this.isAddButtonDisabled=!1,this.pageSizeOptions=de.f7}set matSort(e){this.sort=e}ngOnChanges(){this.ngOnInit()}ngOnInit(){this.loading=!0,this.attDef=this.data.attDef,this.attributesManager.getEntitylessKeys(this.attDef.id).subscribe(e=>{this.attributesManager.getEntitylessAttributesByName(`${this.attDef.namespace}:${this.attDef.friendlyName}`).subscribe(i=>{let a=0;this.records=[];for(const s of e)this.records.push([s,i[a]]),a++;this.dataSource=new Z.by(this.records),this.setDataSource(),this.loading=!1})})}setDataSource(){!this.child||!this.child.paginator||this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator)}onSave(){this.updateMapAttributes();for(const e of this.selection.selected)this.attributesManager.setEntitylessAttribute({key:e[0],attribute:e[1]}).subscribe(()=>{this.translate.get("SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.SAVE_SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.ngOnInit()})});this.selection.clear(),this.isAddButtonDisabled=!1}onRemove(){for(const e of this.selection.selected)this.attributesManager.removeEntitylessAttribute(e[0],e[1].id).subscribe(()=>{this.translate.get("SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.REMOVE_SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.ngOnInit()})});this.ngOnInit(),this.selection.clear(),this.isAddButtonDisabled=!1}onAdd(){const e=["",this.attDef];e[1].value=void 0,this.records.unshift(e),this.dataSource.data=this.records,this.setDataSource(),this.selection.clear(),this.selection.select(e),this.isAddButtonDisabled=!0}onCancel(){this.dialogRef.close(!1)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e[1].id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onValueChange(e){this.selection.select(e)}updateMapAttributes(){for(const e of this.items.toArray())"java.util.LinkedHashMap"===e.attribute.type&&e.updateMapAttribute()}ngAfterViewInit(){this.children.changes.subscribe(e=>{this.child=e.first,this.dataSource.paginator=this.child.paginator})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(H.V6),t.Y36(p.sK),t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-entityless-attribute-keys-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(dn.YE,7),t.Gf(de.l9,5),t.Gf(Rn.Mw,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.matSort=a.first),t.iGM(a=t.CRH())&&(i.children=a),t.iGM(a=t.CRH())&&(i.items=a)}},inputs:{attDef:"attDef",tableId:"tableId"},outputs:{switchView:"switchView"},features:[t.TTD],decls:19,vars:19,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"mt-3"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","accent",1,"ml-2",3,"click"],["mat-flat-button","","color","accent","matTooltip","save or remove new attribute first","matTooltipPosition","above",1,"ml-2",3,"disabled","matTooltipDisabled","click"],["mat-flat-button","","color","warn",1,"ml-2",3,"click"],["mat-dialog-content","",1,"mt-3",3,"hidden"],["class","card mt-3",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],["alert_type","warn","class","mt-3",4,"ngIf"],[1,"card","mt-3"],[3,"tableId","dataLength","hideExport","pageSizeOptions"],["mat-table","","matSort","","matSortActive","key","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","New key",1,"mt-2",3,"ngModel","ngModelChange"],[3,"attribute","sendEventToParent2"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],[1,"ml-auto","mr-auto"],["alert_type","warn",1,"mt-3"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.switchView.emit()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.onSave()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.onAdd()}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return i.onRemove()}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.YNc(16,ve,14,7,"div",7),t.YNc(17,Be,1,0,"mat-spinner",8),t.YNc(18,Ne,3,3,"app-alert",9),t.qZA()),2&e&&(t.xp6(1),t.Oqu(i.attDef.namespace+":"+i.attDef.friendlyName),t.xp6(3),t.hij(" ",t.lcZ(5,11,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.CANCEL")," "),t.xp6(3),t.hij(" ",t.lcZ(8,13,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.SAVE")," "),t.xp6(2),t.Q6J("disabled",i.isAddButtonDisabled)("matTooltipDisabled",!i.isAddButtonDisabled),t.xp6(1),t.hij(" ",t.lcZ(11,15,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.ADD")," "),t.xp6(3),t.hij(" ",t.lcZ(14,17,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.REMOVE")," "),t.xp6(2),t.Q6J("hidden",i.loading),t.xp6(1),t.Q6J("ngIf",i.records&&i.records.length),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",0===i.records.length))},directives:[R.uh,R.H8,ot.lW,Ut.gM,R.xY,_.O5,vn.l,Z.BZ,dn.YE,Z.w1,Z.fO,Z.ge,xt.oG,Z.Dz,Z.ev,dn.nU,M.Nt,ft.Fj,ft.JJ,ft.On,Hn.M,Z.as,Z.XQ,Z.nj,Z.Gk,tt.$g,rt.w],pipes:[p.X$],styles:[".mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}"]}),n})();const Zn=["copiedTooltip"];function Dn(n,r){1&n&&t._UZ(0,"mat-spinner",12)}function qn(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function Di(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}const _n=function(){return["id","name","enabled","script"]};function ti(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"mat-form-field",3),t.TgZ(2,"label"),t.TgZ(3,"input",14),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).attDef.displayName=a}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.YNc(5,qn,3,3,"mat-error",2),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"mat-form-field",3),t.TgZ(8,"label"),t.TgZ(9,"textarea",15),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).attDef.description=a}),t.ALo(10,"translate"),t._uU(11,"              "),t.qZA(),t.qZA(),t.YNc(12,Di,3,3,"mat-error",2),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"div",16),t.TgZ(15,"p"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"p",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).attDef.unique=!1}),t._uU(19,"OFF"),t.qZA(),t.TgZ(20,"mat-slide-toggle",18),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).attDef.unique=a}),t.ALo(21,"translate"),t._uU(22," ON "),t.qZA(),t.qZA(),t.TgZ(23,"div",19),t.TgZ(24,"p",20),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"p",21),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.TgZ(30,"div",22),t.TgZ(31,"p",23),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readSelf=a}),t.qZA(),t.TgZ(35,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeSelf=a}),t.qZA(),t.qZA(),t.TgZ(36,"div",22),t.TgZ(37,"p",23),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-checkbox",26),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readSelfPublic=a}),t.qZA(),t.TgZ(41,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeSelfPublic=a}),t.qZA(),t.qZA(),t.TgZ(42,"div",22),t.TgZ(43,"p",23),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"mat-checkbox",27),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readSelfVo=a}),t.qZA(),t.TgZ(47,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeSelfVo=a}),t.qZA(),t.qZA(),t.TgZ(48,"div",22),t.TgZ(49,"p",23),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"mat-checkbox",28),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readVo=a}),t.qZA(),t.TgZ(53,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeVo=a}),t.qZA(),t.qZA(),t.TgZ(54,"div",22),t.TgZ(55,"p",23),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"mat-checkbox",29),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readGroup=a}),t.qZA(),t.TgZ(59,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeGroup=a}),t.qZA(),t.qZA(),t.TgZ(60,"div",22),t.TgZ(61,"p",23),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"mat-checkbox",27),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readFacility=a}),t.qZA(),t.TgZ(65,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeFacility=a}),t.qZA(),t.qZA(),t.TgZ(66,"div",30),t.TgZ(67,"p"),t._uU(68),t.ALo(69,"translate"),t.qZA(),t._UZ(70,"app-services-list",31),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(3),t.s9C("placeholder",t.lcZ(4,35,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DISPLAY_NAME")),t.Q6J("ngModel",e.attDef.displayName),t.xp6(2),t.Q6J("ngIf",""===e.attDef.displayName),t.xp6(4),t.s9C("placeholder",t.lcZ(10,37,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DESCRIPTION")),t.Q6J("ngModel",e.attDef.description),t.xp6(3),t.Q6J("ngIf",""===e.attDef.description),t.xp6(4),t.Oqu(t.lcZ(17,39,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.UNIQUE")),t.xp6(4),t.s9C("matTooltip",t.lcZ(21,41,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_UNIQUE")),t.Q6J("matTooltipDisabled",!e.disableUniqueToggle())("disabled",e.disableUniqueToggle())("ngModel",e.attDef.unique),t.xp6(5),t.Oqu(t.lcZ(26,43,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.READ")),t.xp6(3),t.Oqu(t.lcZ(29,45,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.WRITE")),t.xp6(4),t.Oqu(t.lcZ(33,47,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF")),t.xp6(2),t.Q6J("ngModel",e.readSelf),t.xp6(1),t.Q6J("ngModel",e.writeSelf),t.xp6(3),t.Oqu(t.lcZ(39,49,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_PUBLIC")),t.xp6(2),t.Q6J("ngModel",e.readSelfPublic),t.xp6(1),t.Q6J("ngModel",e.writeSelfPublic),t.xp6(3),t.Oqu(t.lcZ(45,51,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_VO")),t.xp6(2),t.Q6J("ngModel",e.readSelfVo),t.xp6(1),t.Q6J("ngModel",e.writeSelfVo),t.xp6(3),t.Oqu(t.lcZ(51,53,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VO")),t.xp6(2),t.Q6J("ngModel",e.readVo),t.xp6(1),t.Q6J("ngModel",e.writeVo),t.xp6(3),t.Oqu(t.lcZ(57,55,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.GROUP")),t.xp6(2),t.Q6J("ngModel",e.readGroup),t.xp6(1),t.Q6J("ngModel",e.writeGroup),t.xp6(3),t.Oqu(t.lcZ(63,57,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FACILITY")),t.xp6(2),t.Q6J("ngModel",e.readFacility),t.xp6(1),t.Q6J("ngModel",e.writeFacility),t.xp6(3),t.Oqu(t.lcZ(69,59,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SERVICES")),t.xp6(2),t.Q6J("services",e.services)("displayedColumns",t.DdM(61,_n))("disableRouting",!0)}}function wi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).switchShowKeys()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SHOW_KEYS")," "))}function In(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",3),t.TgZ(2,"h1",4),t._uU(3),t.qZA(),t.YNc(4,Dn,1,0,"mat-spinner",5),t.YNc(5,ti,71,62,"div",6),t.TgZ(6,"div",7),t.YNc(7,wi,3,3,"button",8),t.TgZ(8,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCopy()}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t.ALo(15,"translate"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.attDef.namespace+":"+e.attDef.friendlyName),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(2),t.Q6J("ngIf","entityless"===e.attDef.entity),t.xp6(2),t.hij(" ",t.lcZ(10,10,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FOR_IMPORT")," "),t.xp6(3),t.hij(" ",t.lcZ(13,12,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(15,14,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_CONFIRM")),t.Q6J("disabled",e.disableConfirmButton()||e.loading)("matTooltipDisabled",!e.disableConfirmButton()),t.xp6(2),t.hij(" ",t.lcZ(17,16,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CONFIRM")," ")}}function cn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-entityless-attribute-keys-list",33),t.NdJ("switchView",function(){return t.CHM(e),t.oxw().switchShowKeys()}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("tableId",e.tableId)("attDef",e.attDef)}}let Tn=(()=>{class n{constructor(e,i,a,s,f,b,S,F){this.dialog=e,this.dialogRef=i,this.data=a,this.notificator=s,this.translate=f,this.clipboard=b,this.attributesManager=S,this.serviceService=F,this.showKeys=!1,this.activatedComponent="Edit",this.readSelf=!1,this.readSelfPublic=!1,this.readSelfVo=!1,this.readVo=!1,this.readGroup=!1,this.readFacility=!1,this.writeSelf=!1,this.writeSelfPublic=!1,this.writeSelfVo=!1,this.writeVo=!1,this.writeGroup=!1,this.writeFacility=!1,this.tableId=gn.Wv,this.loading=!1}ngOnInit(){this.loading=!0,this.dialogRef.addPanelClass("mat-dialog-height-transition"),this.attDef=this.data.attDef,this.serviceService.getServicesByAttributeDefinition(this.attDef.id).subscribe(e=>{this.services=e,this.attributesManager.getAttributeRights(this.attDef.id).subscribe(i=>{this.fromRightsToCheckboxes(i),this.loading=!1},()=>this.loading=!1)},()=>this.loading=!1)}disableConfirmButton(){return""===this.attDef.displayName||""===this.attDef.description}disableUniqueToggle(){return this.attDef.namespace.includes("virt")||this.attDef.namespace.includes("core")||"entityless"===this.attDef.entity}onSubmit(){this.loading=!0,this.attributesManager.updateAttributeDefinition({attributeDefinition:this.attDef}).subscribe(e=>{this.attDef=e,this.attributesManager.setAttributeRights({rights:this.fromCheckboxesToRights()}).subscribe(()=>{this.translate.get("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}fromCheckboxesToRights(){const e=[],i={};i.attributeId=this.attDef.id,i.role=it.u.SELF,i.rights=[],this.readSelf&&i.rights.push("READ"),this.readSelfPublic&&i.rights.push("READ_PUBLIC"),this.readSelfVo&&i.rights.push("READ_VO"),this.writeSelf&&i.rights.push("WRITE"),this.writeSelfPublic&&i.rights.push("WRITE_PUBLIC"),this.writeSelfVo&&i.rights.push("WRITE_VO"),e.push(i);const a={};a.attributeId=this.attDef.id,a.role=it.u.VOADMIN,a.rights=[],this.readVo&&a.rights.push("READ"),this.writeVo&&a.rights.push("WRITE"),e.push(a);const s={};s.attributeId=this.attDef.id,s.role=it.u.GROUPADMIN,s.rights=[],this.readGroup&&s.rights.push(z.Us.READ),this.writeGroup&&s.rights.push("WRITE"),e.push(s);const f={};return f.attributeId=this.attDef.id,f.role=it.u.FACILITYADMIN,f.rights=[],this.readFacility&&f.rights.push("READ"),this.writeFacility&&f.rights.push("WRITE"),e.push(f),e}fromRightsToCheckboxes(e){for(const i of e)switch(i.role){case it.u.SELF:i.rights.includes("READ")&&(this.readSelf=!0),i.rights.includes("READ_PUBLIC")&&(this.readSelfPublic=!0),i.rights.includes("READ_VO")&&(this.readSelfVo=!0),i.rights.includes("WRITE")&&(this.writeSelf=!0),i.rights.includes("WRITE_PUBLIC")&&(this.writeSelfPublic=!0),i.rights.includes("WRITE_VO")&&(this.writeSelfVo=!0);break;case it.u.GROUPADMIN:i.rights.includes("READ")&&(this.readGroup=!0),i.rights.includes("WRITE")&&(this.writeGroup=!0);break;case it.u.FACILITYADMIN:i.rights.includes("READ")&&(this.readFacility=!0),i.rights.includes("WRITE")&&(this.writeFacility=!0);break;case it.u.VOADMIN:i.rights.includes("READ")&&(this.readVo=!0),i.rights.includes("WRITE")&&(this.writeVo=!0)}}switchShowKeys(){this.showKeys=!this.showKeys,this.showKeys?(this.dialogRef.updateSize("800px"),this.activatedComponent="Entityless"):(this.dialogRef.updateSize("700px"),this.activatedComponent="Edit")}onCopy(){const e={attributeDefinition:this.attDef,attributeRights:this.fromCheckboxesToRights()};this.clipboard.copy(JSON.stringify(e))?this.notificator.showSuccess(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPIED")):this.notificator.showError(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FAILED"))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.uw),t.Y36(R.so),t.Y36(R.WI),t.Y36(H.V6),t.Y36(p.sK),t.Y36(Ue.TU),t.Y36(z.H8),t.Y36(z.KK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-attribute-definition-dialog"]],viewQuery:function(e,i){if(1&e&&t.Gf(Zn,5),2&e){let a;t.iGM(a=t.CRH())&&(i.copiedToolTip=a.first)}},decls:4,vars:2,consts:[[1,"admin-theme"],[1,"parent"],[4,"ngIf"],[1,"width-650"],["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","","class","ml-0",3,"click",4,"ngIf"],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","",1,"ml-2",3,"click"],["mat-flat-button","","color","accent","matTooltipPosition","above",1,"ml-2",3,"disabled","matTooltip","matTooltipDisabled","click"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],["matInput","","required","",1,"width-650",3,"ngModel","placeholder","ngModelChange"],["matInput","","cdkTextareaAutosize","","required","",1,"width-650",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-row","mt-3"],[1,"pointer","ml-4",3,"click"],["color","accent","matTooltipPosition","above",1,"ml-2",3,"matTooltip","matTooltipDisabled","disabled","ngModel","ngModelChange"],[1,"d-flex","flex-row","mt-2"],[1,"ml-5","pl-4"],[1,"ml-4"],[1,"d-flex","flex-row"],[1,""],[1,"ml-5","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5",3,"ngModel","ngModelChange"],[1,"ml-3",3,"ngModel","ngModelChange"],[1,"ml-4","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5","pl-4",3,"ngModel","ngModelChange"],[1,"ml-4","pl-4",3,"ngModel","ngModelChange"],[1,"mt-4"],[3,"services","displayedColumns","disableRouting"],["mat-flat-button","",1,"ml-0",3,"click"],[3,"tableId","attDef","switchView"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,In,18,18,"div",2),t.YNc(3,cn,2,2,"div",2),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",!i.showKeys),t.xp6(1),t.Q6J("ngIf",i.showKeys))},directives:[_.O5,R.uh,tt.$g,R.xY,G.KE,M.Nt,ft.Fj,ft.Q7,ft.JJ,ft.On,G.TO,It.IC,ie.Rr,Ut.gM,xt.oG,ci.Q,R.H8,ot.lW,en],pipes:[p.X$],styles:[".unique-toggle-label[_ngcontent-%COMP%]{font-size:1.125rem}.width-650[_ngcontent-%COMP%]{width:650px!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{overflow:hidden}.parent[_ngcontent-%COMP%]{display:flex}.parent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}textarea[cdktextareaautosize].mat-input-element[_ngcontent-%COMP%]{overflow:hidden}"],data:{animation:[En.SG,En.GH,En.Ls]}}),n})(),ei=(()=>{class n{transform(e){if(null===e)return null;const i=e;return i.substring(i.lastIndexOf(":")+1,i.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"nameSpaceToDef",type:n,pure:!0}),n})(),ui=(()=>{class n{transform(e){if(null===e)return null;const i=e;return i.substring(i.lastIndexOf(".")+1,i.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"attributeTypeClean",type:n,pure:!0}),n})();function Mn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",19),t.TgZ(1,"mat-checkbox",20),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw();return a?s.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Le(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",21),t.TgZ(1,"mat-checkbox",22),t.NdJ("change",function(a){const f=t.CHM(e).$implicit,b=t.oxw();return a?b.selection.toggle(f):null})("click",function(a){return a.stopPropagation()}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))}}function Ii(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_ID")," "))}function Bn(n,r){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.id)}}function fn(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_FRIENDLY_NAME")," "))}function V(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function X(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_ENTITY")," "))}function ht(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.entity)}}function E(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_DEF")," "))}function At(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"nameSpaceToDef"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.namespace))}}function Ot(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_TYPE")," "))}function Bt(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"attributeTypeClean"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.type))}}function Ht(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_UNIQUE")," "))}function re(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.unique)}}function qt(n,r){1&n&&t._UZ(0,"tr",26)}function j(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().onRowClick(s)}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("cursor-pointer",!e.disableRouting)}}function mt(n,r){1&n&&(t.TgZ(0,"app-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.NO_ATTRIBUTES"),"\n"))}function Ct(n,r){1&n&&(t.TgZ(0,"app-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT"),"\n"))}let wt=(()=>{class n{constructor(e,i,a){this.dialog=e,this.authResolver=i,this.tableCheckbox=a,this.selection=new P.Ov(!0,[]),this.displayedColumns=["select","id","friendlyName","entity","namespace","type","unique"],this.disableRouting=!1,this.refreshEvent=new t.vpe,this.pageSizeOptions=de.f7}set matSort(e){this.sort=e,this.setDataSource()}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(e=>"id"!==e)),this.dataSource=new Z.by(this.definitions),this.setDataSource()}ngAfterViewInit(){this.dataSource.paginator=this.child.paginator}getDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"friendlyName":return e.friendlyName;case"entity":return e.entity;case"namespace":if(e.namespace){const a=e.namespace;return a.substring(a.lastIndexOf(":")+1,a.length)}return"";case"type":if(e.type){const a=e.type;return a.substring(a.lastIndexOf(".")+1,a.length)}return"";case"unique":return e.unique?"true":"false";default:return""}}exportData(e){(0,de.O6)((0,de.Xn)(this.dataSource.filteredData,this.displayedColumns,this.getDataForColumn,this),e)}setDataSource(){this.dataSource&&(this.dataSource.filter=this.filterValue,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(e,i)=>(0,de.Sd)(e,i,this.displayedColumns,this.getDataForColumn,this),this.dataSource.sortData=(e,i)=>(0,de.pR)(e,i,this.getDataForColumn,this),this.dataSource.paginator=this.child.paginator)}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onRowClick(e){if(!this.disableRouting){const i=(0,de.kZ)();i.width="700px",i.data={attDef:e},this.dialog.open(Tn,i).afterClosed().subscribe(s=>{s&&(this.selection.clear(),this.refreshEvent.emit())})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.uw),t.Y36(H.x4),t.Y36(H.UA))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attr-def-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(dn.YE,7),t.Gf(de.l9,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.matSort=a.first),t.iGM(a=t.CRH())&&(i.child=a.first)}},inputs:{definitions:"definitions",selection:"selection",displayedColumns:"displayedColumns",filterValue:"filterValue",tableId:"tableId",disableRouting:"disableRouting"},outputs:{refreshEvent:"refreshEvent"},features:[t.TTD],decls:29,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],[1,"overflow-auto"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","friendlyName"],["mat-cell","",4,"matCellDef"],["matColumnDef","entity"],["matColumnDef","namespace"],["matColumnDef","type"],["matColumnDef","unique"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",3,"cursor-pointer","click",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item",3,"click"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(s){return i.exportData(s)}),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.ynx(4,4),t.YNc(5,Mn,2,3,"th",5),t.YNc(6,Le,2,2,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,Ii,3,3,"th",8),t.YNc(9,Bn,2,1,"td",9),t.BQk(),t.ynx(10,10),t.YNc(11,fn,3,3,"th",8),t.YNc(12,V,2,1,"td",11),t.BQk(),t.ynx(13,12),t.YNc(14,X,3,3,"th",8),t.YNc(15,ht,2,1,"td",11),t.BQk(),t.ynx(16,13),t.YNc(17,E,3,3,"th",8),t.YNc(18,At,3,3,"td",11),t.BQk(),t.ynx(19,14),t.YNc(20,Ot,3,3,"th",8),t.YNc(21,Bt,3,3,"td",11),t.BQk(),t.ynx(22,15),t.YNc(23,Ht,3,3,"th",8),t.YNc(24,re,2,1,"td",11),t.BQk(),t.YNc(25,qt,1,0,"tr",16),t.YNc(26,j,1,2,"tr",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,mt,3,3,"app-alert",18),t.YNc(28,Ct,3,3,"app-alert",18)),2&e&&(t.Q6J("hidden",0===i.dataSource.filteredData.length||0===i.definitions.length),t.xp6(1),t.Q6J("tableId",i.tableId)("dataLength",i.dataSource.filteredData.length)("pageSizeOptions",i.pageSizeOptions),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.definitions.length),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.filteredData.length&&0!==i.definitions.length))},directives:[vn.l,Z.BZ,dn.YE,Z.w1,Z.fO,Z.ge,xt.oG,Z.Dz,Z.ev,dn.nU,Z.as,Z.XQ,Z.nj,Z.Gk,_.O5,rt.w],pipes:[p.X$,ei,ui],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function Xt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCreate()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.CREATE")," "))}function te(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onImport()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.IMPORT")," "))}function Dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onDelete()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selected.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.ATTRIBUTES.DELETE")," ")}}function he(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function O(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-attr-def-list",10),t.NdJ("refreshEvent",function(){return t.CHM(e),t.oxw().refreshTable()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("definitions",e.attrDefinitions)("selection",e.selected)("filterValue",e.filterValue)("disableRouting",!e.authResolver.isPerunAdmin())}}let le=(()=>{class n{constructor(e,i,a){this.dialog=e,this.attributesManager=i,this.authResolver=a,this.attrDefinitions=[],this.selected=new P.Ov(!0,[]),this.filterValue="",this.tableId=gn.uM}ngOnInit(){this.refreshTable()}onCreate(){const e=(0,de.kZ)();e.width="500px",this.dialog.open(kn,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onDelete(){const e=(0,de.kZ)();e.width="450px",e.data={attributes:this.selected.selected,theme:"admin-theme"},this.dialog.open(ut,e).afterClosed().subscribe(a=>{a&&(this.refreshTable(),this.selected.clear())})}refreshTable(){this.loading=!0,this.attributesManager.getAllAttributeDefinitions().subscribe(e=>{this.attrDefinitions=e,this.loading=!1})}applyFilter(e){this.filterValue=e}onImport(){const e=(0,de.kZ)();e.width="700px",this.dialog.open(Yn,e).afterClosed().subscribe(a=>{!0===a&&this.refreshTable()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.uw),t.Y36(z.H8),t.Y36(H.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-attributes"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:11,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent","class","mr-2 action-button",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"tableId","definitions","selection","filterValue","disableRouting","refreshEvent",4,"ngIf"],["mat-flat-button","","color","accent",1,"mr-2","action-button",3,"click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"tableId","definitions","selection","filterValue","disableRouting","refreshEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,Xt,3,3,"button",2),t.YNc(6,te,3,3,"button",2),t.YNc(7,Dt,3,4,"button",3),t.TgZ(8,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(9,he,1,0,"mat-spinner",5),t.YNc(10,O,1,5,"app-attr-def-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"ADMIN.ATTRIBUTES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.ATTRIBUTES.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,_.O5,ot.lW,je.L,tt.$g,wt],pipes:[p.X$],styles:[""]}),n})(),ke=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-visualizer"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"app-animated-router-outlet")},directives:[d.A],styles:[""]}),n})();var Ie=o(9921);let nn=(()=>{class n{constructor(e){this.attributesManager=e}ngOnInit(){this.attributesManager.getAttributeModulesDependenciesGraphText("DOT").subscribe(e=>{const i=e.graph.replace("\\t","").replace("\\n","").replace("\\","");(0,Ie.graphviz)("#dependenciesGraph",{zoom:!1}).renderDot(i)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizer-attr-modules"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:4,vars:3,consts:[[1,"page-subtitle"],["id","dependenciesGraph",1,"card"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"div",1)),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.VISUALIZER.ATTR_DEPENDENCIES.TITLE"),"\n"))},pipes:[p.X$],styles:["#dependenciesGraph[_ngcontent-%COMP%]{overflow-y:scroll}"]}),n})(),ze=(()=>{class n{constructor(){this.items=[{cssIcon:"perun-module-dependencies",url:"attrDependencies",label:"MENU_ITEMS.VISUALIZER.ATTR_DEPENDENCIES",style:"admin-btn"},{cssIcon:"perun-user-destination-relationship",url:"userDestinationRelationship",label:"MENU_ITEMS.VISUALIZER.USER_DESTINATION",style:"admin-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizer-overview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-menu-buttons-field",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("items",i.items)("size","small"))},directives:[L.L],styles:[""]}),n})();var We=o(80013),pe=o(75778),xe=o(22868),Xe=o(87545),nt=o(92081),_t=o(91079),gt=o(79814);function St(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_USER"))}function zt(n,r){1&n&&t._UZ(0,"mat-spinner",17),2&n&&t.Q6J("diameter",20)("strokeWidth",2)}function ee(n,r){if(1&n&&(t.TgZ(0,"mat-option",18),t.TgZ(1,"span",19),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.firstName+" "+e.lastName),t.xp6(2),t.hij("#",e.id,""),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function Qt(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_DESTINATION"))}function me(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_SERVICE"))}function ye(n,r){if(1&n&&(t.TgZ(0,"mat-radio-button",20),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let Wt=(()=>{class n{constructor(e,i,a,s,f,b){this.usersService=e,this.translate=i,this.facilityManager=a,this.serviceService=s,this.router=f,this.notificator=b,this.searchField=new ft.NI,this.chosenService="",this.availableServices=[],this.loading=!1,this.destination=""}ngOnInit(){this.searchField.setValue(""),this.users=this.searchField.valueChanges.pipe((0,We.b)(400),(0,pe.x)(),(0,xe.b)(()=>this.loading=!0),(0,Xe.w)(e=>this.usersService.findUsers(e)),(0,xe.b)(()=>this.loading=!1)),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.SELECT_NO_SERVICE").subscribe(e=>{this.noServiceText=e,this.availableServices.push(this.noServiceText)})}validateName(e){""!==this.searchField.value?this.usersService.findUsers(this.searchField.value).subscribe(i=>{for(const a of i){if((a.firstName+" "+a.lastName).toLowerCase()===this.searchField.value.toLowerCase()){this.selectedUser=a,e.selected.completed=!0,e.next();break}this.selectedUser=null}this.selectedUser||this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_WRONG_NAME").subscribe(a=>{this.notificator.showError(a)})}):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NO_NAME").subscribe(i=>{this.notificator.showError(i)})}validateDestination(e){""!==this.destination?(this.availableServices=[],this.availableServices.push(this.noServiceText),this.chosenService="",this.facilityManager.getFacilitiesByDestination(this.destination).subscribe(i=>{if(0!==i.length){e.selected.completed=!0,e.next();for(const a of i)this.serviceService.getAllRichDestinationsForFacility(a.id).subscribe(s=>{for(const f of s)f.destination===this.destination&&-1===this.availableServices.indexOf(f.service.name)&&this.availableServices.push(f.service.name)})}else this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_WRONG_DESTINATION").subscribe(a=>{this.notificator.showError(a)})})):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NO_DESTINATION").subscribe(i=>{this.notificator.showError(i)})}getGraph(){""!==this.chosenService?this.router.navigate(["admin/visualizer/userDestinationRelationship/graph"],this.chosenService===this.noServiceText?{queryParams:{user:this.selectedUser.id,destination:this.destination,service:"noService"}}:{queryParams:{user:this.selectedUser.id,destination:this.destination,service:this.chosenService}}):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NOT_CHOSEN_SERVICE").subscribe(e=>{this.notificator.showError(e)})}notCompleted(e){e.selected.completed=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Fv),t.Y36(p.sK),t.Y36(z.IQ),t.Y36(z.KK),t.Y36(m.F0),t.Y36(H.V6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-destination-relationship"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:46,vars:36,consts:[[1,"p-3","card","settings-card","col-12","col-xl-5"],[1,"page-subtitle"],["linear",""],["stepper",""],["completed","false"],["matStepLabel",""],[1,"w-100"],["matInput","","type","text",3,"placeholder","formControl","matAutocomplete","ngModelChange","keydown.enter"],["matSuffix","",3,"diameter","strokeWidth",4,"ngIf"],["align","start"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mt-2",3,"click"],["matInput","","type","text",3,"placeholder","ngModel","ngModelChange","keydown.enter"],["mat-stroked-button","","matStepperPrevious","",1,"mt-2"],[1,"mb-2",3,"ngModel","ngModelChange"],["class","flex-column d-flex","color","primary",3,"value",4,"ngFor","ngForOf"],["matSuffix","",3,"diameter","strokeWidth"],[3,"value"],[1,"text-muted"],["color","primary",1,"flex-column","d-flex",3,"value"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-vertical-stepper",2,3),t.TgZ(6,"mat-step",4),t.YNc(7,St,2,3,"ng-template",5),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"input",7),t.NdJ("ngModelChange",function(){t.CHM(a);const f=t.MAs(5);return i.notCompleted(f)})("keydown.enter",function(){t.CHM(a);const f=t.MAs(5);return i.validateName(f)}),t.ALo(10,"translate"),t.qZA(),t.YNc(11,zt,1,2,"mat-spinner",8),t.TgZ(12,"mat-hint",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"mat-autocomplete",null,10),t.YNc(17,ee,4,4,"mat-option",11),t.ALo(18,"async"),t.qZA(),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"button",12),t.NdJ("click",function(){t.CHM(a);const f=t.MAs(5);return i.validateName(f)}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"mat-step",4),t.YNc(24,Qt,2,3,"ng-template",5),t.TgZ(25,"mat-form-field",6),t.TgZ(26,"input",13),t.NdJ("ngModelChange",function(f){return i.destination=f})("ngModelChange",function(){t.CHM(a);const f=t.MAs(5);return i.notCompleted(f)})("keydown.enter",function(){t.CHM(a);const f=t.MAs(5);return i.validateDestination(f)}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div"),t.TgZ(29,"button",14),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",12),t.NdJ("click",function(){t.CHM(a);const f=t.MAs(5);return i.validateDestination(f)}),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"mat-step"),t.YNc(36,me,2,3,"ng-template",5),t.TgZ(37,"mat-radio-group",15),t.NdJ("ngModelChange",function(f){return i.chosenService=f}),t.YNc(38,ye,2,2,"mat-radio-button",16),t.qZA(),t.TgZ(39,"div"),t.TgZ(40,"button",14),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"button",12),t.NdJ("click",function(){return i.getGraph()}),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const a=t.MAs(16);t.xp6(2),t.hij(" ",t.lcZ(3,16,"ADMIN.VISUALIZER.USER_DESTINATION.TITLE")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(10,18,"ADMIN.VISUALIZER.USER_DESTINATION.USER_EXAMPLE")),t.Q6J("formControl",i.searchField)("matAutocomplete",a),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(2),t.Oqu(t.lcZ(14,20,"ADMIN.VISUALIZER.USER_DESTINATION.USER_HINT")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(18,22,i.users)),t.xp6(4),t.hij(" ",t.lcZ(22,24,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_NEXT")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(27,26,"ADMIN.VISUALIZER.USER_DESTINATION.DESTINATION_EXAMPLE")),t.Q6J("ngModel",i.destination),t.xp6(4),t.hij(" ",t.lcZ(31,28,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_BACK")," "),t.xp6(3),t.hij(" ",t.lcZ(34,30,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_NEXT")," "),t.xp6(4),t.Q6J("ngModel",i.chosenService),t.xp6(1),t.Q6J("ngForOf",i.availableServices),t.xp6(3),t.hij(" ",t.lcZ(42,32,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_BACK")," "),t.xp6(3),t.hij(" ",t.lcZ(45,34,"ADMIN.VISUALIZER.USER_DESTINATION.SUBMIT_BUTTON")," ")}},directives:[nt.Vq,nt.C0,nt.VY,G.KE,M.Nt,ft.Fj,_t.ZL,ft.JJ,ft.oH,_.O5,tt.$g,G.R9,G.bx,_t.XC,_.sg,Yt.ey,ot.lW,ft.On,nt.fd,gt.VQ,gt.U0],pipes:[p.X$,_.Ov],styles:[""]}),n})();var oe=o(70655);function Oe(n,r,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+r)/6,(n._y0+4*n._y1+e)/6)}function Ee(n){this._context=n}function Wn(n,r){this._basis=new Ee(n),this._beta=r}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oe(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oe(this,n,r)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r}},Wn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,r=this._y,e=n.length-1;if(e>0)for(var S,i=n[0],a=r[0],s=n[e]-i,f=r[e]-a,b=-1;++b<=e;)this._basis.point(this._beta*n[b]+(1-this._beta)*(i+(S=b/e)*s),this._beta*r[b]+(1-this._beta)*(a+S*f));this._x=this._y=null,this._basis.lineEnd()},point:function(n,r){this._x.push(+n),this._y.push(+r)}};const On=function n(r){function e(i){return 1===r?new Ee(i):new Wn(i,r)}return e.beta=function(i){return n(+i)},e}(.85);var An=o(8929),we=o(41777);function Nn(){}function Jn(n){return null==n?Nn:function(){return this.querySelector(n)}}function on(){return[]}function Qn(n){return new Array(n.length)}function ln(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function Ce(n,r,e,i,a,s){for(var b,f=0,S=r.length,F=s.length;f<F;++f)(b=r[f])?(b.__data__=s[f],i[f]=b):e[f]=new ln(n,s[f]);for(;f<S;++f)(b=r[f])&&(a[f]=b)}function jt(n,r,e,i,a,s,f){var b,S,vt,F={},W=r.length,lt=s.length,st=new Array(W);for(b=0;b<W;++b)(S=r[b])&&(st[b]=vt="$"+f.call(S,S.__data__,b,r),vt in F?a[b]=S:F[vt]=S);for(b=0;b<lt;++b)(S=F[vt="$"+f.call(n,s[b],b,s)])?(i[b]=S,S.__data__=s[b],F[vt]=null):e[b]=new ln(n,s[b]);for(b=0;b<W;++b)(S=r[b])&&F[st[b]]===S&&(a[b]=S)}function kt(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}ln.prototype={constructor:ln,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Ye="http://www.w3.org/1999/xhtml";const wn={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function di(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),wn.hasOwnProperty(r)?{space:wn[r],local:n}:n}function rr(n){return function(){this.removeAttribute(n)}}function Li(n){return function(){this.removeAttributeNS(n.space,n.local)}}function fi(n,r){return function(){this.setAttribute(n,r)}}function ii(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function Mi(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function ar(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Sa(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function as(n){return function(){this.style.removeProperty(n)}}function ss(n,r,e){return function(){this.style.setProperty(n,r,e)}}function Fn(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function qi(n,r){return n.style.getPropertyValue(r)||Sa(n).getComputedStyle(n,null).getPropertyValue(r)}function pi(n){return function(){delete this[n]}}function y(n,r){return function(){this[n]=r}}function D(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function $(n){return n.trim().split(/^|\s+/)}function dt(n){return n.classList||new Et(n)}function Et(n){this._node=n,this._names=$(n.getAttribute("class")||"")}function Lt(n,r){for(var e=dt(n),i=-1,a=r.length;++i<a;)e.add(r[i])}function Vt(n,r){for(var e=dt(n),i=-1,a=r.length;++i<a;)e.remove(r[i])}function ce(n){return function(){Lt(this,n)}}function He(n){return function(){Vt(this,n)}}function un(n,r){return function(){(r.apply(this,arguments)?Lt:Vt)(this,n)}}function Je(){this.textContent=""}function Ke(n){return function(){this.textContent=n}}function Ln(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function Tr(){this.innerHTML=""}function Ri(n){return function(){this.innerHTML=n}}function kr(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function $i(){this.nextSibling&&this.parentNode.appendChild(this)}function gi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cu(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===Ye&&r.documentElement.namespaceURI===Ye?r.createElement(n):r.createElementNS(e,n)}}function wu(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function go(n){var r=di(n);return(r.local?wu:Cu)(r)}function Eu(){return null}function Du(){var n=this.parentNode;n&&n.removeChild(this)}function ku(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function Iu(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}Et.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var _o={},Ir=null;function Fu(n,r,e){return n=vo(n,r,e),function(i){var a=i.relatedTarget;(!a||a!==this&&!(8&a.compareDocumentPosition(this)))&&n.call(this,i)}}function vo(n,r,e){return function(i){var a=Ir;Ir=i;try{n.call(this,this.__data__,r,e)}finally{Ir=a}}}function Pu(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function Ru(n){return function(){var r=this.__on;if(r){for(var s,e=0,i=-1,a=r.length;e<a;++e)s=r[e],n.type&&s.type!==n.type||s.name!==n.name?r[++i]=s:this.removeEventListener(s.type,s.listener,s.capture);++i?r.length=i:delete this.__on}}}function Zu(n,r,e){var i=_o.hasOwnProperty(n.type)?Fu:vo;return function(a,s,f){var S,b=this.__on,F=i(r,s,f);if(b)for(var W=0,lt=b.length;W<lt;++W)if((S=b[W]).type===n.type&&S.name===n.name)return this.removeEventListener(S.type,S.listener,S.capture),this.addEventListener(S.type,S.listener=F,S.capture=e),void(S.value=r);this.addEventListener(n.type,F,e),S={type:n.type,name:n.name,value:r,listener:F,capture:e},b?b.push(S):this.__on=[S]}}function xo(n,r,e){var i=Sa(n),a=i.CustomEvent;"function"==typeof a?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),n.dispatchEvent(a)}function Uu(n,r){return function(){return xo(this,n,r)}}function Gu(n,r){return function(){return xo(this,n,r.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(_o={mouseenter:"mouseover",mouseleave:"mouseout"}));var yo=[null];function Hi(n,r){this._groups=n,this._parents=r}function To(n){return"string"==typeof n?new Hi([[document.querySelector(n)]],[document.documentElement]):new Hi([[n]],yo)}function bo(n,r,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+r)/6,(n._y0+4*n._y1+e)/6)}function Da(n){this._context=n}function Co(n,r){this._basis=new Da(n),this._beta=r}Hi.prototype=function zu(){return new Hi([[document.documentElement]],yo)}.prototype={constructor:Hi,select:function sn(n){"function"!=typeof n&&(n=Jn(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,F,s=r[a],f=s.length,b=i[a]=new Array(f),W=0;W<f;++W)(S=s[W])&&(F=n.call(S,S.__data__,W,s))&&("__data__"in S&&(F.__data__=S.__data__),b[W]=F);return new Hi(i,this._parents)},selectAll:function Vi(n){"function"!=typeof n&&(n=function Un(n){return null==n?on:function(){return this.querySelectorAll(n)}}(n));for(var r=this._groups,e=r.length,i=[],a=[],s=0;s<e;++s)for(var S,f=r[s],b=f.length,F=0;F<b;++F)(S=f[F])&&(i.push(n.call(S,S.__data__,F,f)),a.push(S));return new Hi(i,a)},filter:function zi(n){"function"!=typeof n&&(n=function hi(n){return function(){return this.matches(n)}}(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],f=s.length,b=i[a]=[],F=0;F<f;++F)(S=s[F])&&n.call(S,S.__data__,F,s)&&b.push(S);return new Hi(i,this._parents)},data:function T(n,r){if(!n)return vt=new Array(this.size()),F=-1,this.each(function(be){vt[++F]=be}),vt;var e=r?jt:Ce,i=this._parents,a=this._groups;"function"!=typeof n&&(n=function Yi(n){return function(){return n}}(n));for(var s=a.length,f=new Array(s),b=new Array(s),S=new Array(s),F=0;F<s;++F){var W=i[F],lt=a[F],st=lt.length,vt=n.call(W,W&&W.__data__,F,i),Mt=vt.length,Rt=b[F]=new Array(Mt),bt=f[F]=new Array(Mt);e(W,lt,Rt,bt,S[F]=new Array(st),vt,r);for(var Se,Fe,ne=0,Kt=0;ne<Mt;++ne)if(Se=Rt[ne]){for(ne>=Kt&&(Kt=ne+1);!(Fe=bt[Kt])&&++Kt<Mt;);Se._next=Fe||null}}return(f=new Hi(f,i))._enter=b,f._exit=S,f},enter:function Ai(){return new Hi(this._enter||this._groups.map(Qn),this._parents)},exit:function I(){return new Hi(this._exit||this._groups.map(Qn),this._parents)},join:function U(n,r,e){var i=this.enter(),a=this,s=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=r&&(a=r(a)),null==e?s.remove():e(s),i&&a?i.merge(a).order():a},merge:function Q(n){for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),f=new Array(i),b=0;b<s;++b)for(var st,S=r[b],F=e[b],W=S.length,lt=f[b]=new Array(W),vt=0;vt<W;++vt)(st=S[vt]||F[vt])&&(lt[vt]=st);for(;b<i;++b)f[b]=r[b];return new Hi(f,this._parents)},order:function ct(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var f,i=n[r],a=i.length-1,s=i[a];--a>=0;)(f=i[a])&&(s&&4^f.compareDocumentPosition(s)&&s.parentNode.insertBefore(f,s),s=f);return this},sort:function yt(n){function r(lt,st){return lt&&st?n(lt.__data__,st.__data__):!lt-!st}n||(n=kt);for(var e=this._groups,i=e.length,a=new Array(i),s=0;s<i;++s){for(var F,f=e[s],b=f.length,S=a[s]=new Array(b),W=0;W<b;++W)(F=f[W])&&(S[W]=F);S.sort(r)}return new Hi(a,this._parents).order()},call:function Pt(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function ae(){var n=new Array(this.size()),r=-1;return this.each(function(){n[++r]=this}),n},node:function De(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],a=0,s=i.length;a<s;++a){var f=i[a];if(f)return f}return null},size:function Ge(){var n=0;return this.each(function(){++n}),n},empty:function qe(){return!this.node()},each:function Re(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var b,a=r[e],s=0,f=a.length;s<f;++s)(b=a[s])&&n.call(b,b.__data__,s,a);return this},attr:function si(n,r){var e=di(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?Li:rr:"function"==typeof r?e.local?ar:Mi:e.local?ii:fi)(e,r))},style:function Lr(n,r,e){return arguments.length>1?this.each((null==r?as:"function"==typeof r?Fn:ss)(n,r,null==e?"":e)):qi(this.node(),n)},property:function B(n,r){return arguments.length>1?this.each((null==r?pi:"function"==typeof r?D:y)(n,r)):this.node()[n]},classed:function bn(n,r){var e=$(n+"");if(arguments.length<2){for(var i=dt(this.node()),a=-1,s=e.length;++a<s;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof r?un:r?ce:He)(e,r))},text:function Pi(n){return arguments.length?this.each(null==n?Je:("function"==typeof n?Ln:Ke)(n)):this.node().textContent},html:function ki(n){return arguments.length?this.each(null==n?Tr:("function"==typeof n?kr:Ri)(n)):this.node().innerHTML},raise:function br(){return this.each($i)},lower:function bu(){return this.each(gi)},append:function Au(n){var r="function"==typeof n?n:go(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function Su(n,r){var e="function"==typeof n?n:go(n),i=null==r?Eu:"function"==typeof r?r:Jn(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Lu(){return this.each(Du)},clone:function Mu(n){return this.select(n?Iu:ku)},datum:function Ou(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Bu(n,r,e){var a,f,i=Pu(n+""),s=i.length;if(!(arguments.length<2)){for(b=r?Zu:Ru,null==e&&(e=!1),a=0;a<s;++a)this.each(b(i[a],r,e));return this}var b=this.node().__on;if(b)for(var W,S=0,F=b.length;S<F;++S)for(a=0,W=b[S];a<s;++a)if((f=i[a]).type===W.type&&f.name===W.name)return W.value},dispatch:function Vu(n,r){return this.each(("function"==typeof r?Gu:Uu)(n,r))}},Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bo(this,n,r)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r}},Co.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,r=this._y,e=n.length-1;if(e>0)for(var S,i=n[0],a=r[0],s=n[e]-i,f=r[e]-a,b=-1;++b<=e;)this._basis.point(this._beta*n[b]+(1-this._beta)*(i+(S=b/e)*s),this._beta*r[b]+(1-this._beta)*(a+S*f));this._x=this._y=null,this._basis.lineEnd()},point:function(n,r){this._x.push(+n),this._y.push(+r)}};const Yu=function n(r){function e(i){return 1===r?new Da(i):new Co(i,r)}return e.beta=function(i){return n(+i)},e}(.85);var os=Math.PI,ls=2*os,Mr=1e-6,Hu=ls-Mr;function cs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wo(){return new cs}cs.prototype=wo.prototype={constructor:cs,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,i){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(n,r,e,i,a,s){this._+="C"+ +n+","+ +r+","+ +e+","+ +i+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(n,r,e,i,a){var s=this._x1,f=this._y1,b=(e=+e)-(n=+n),S=(i=+i)-(r=+r),F=s-n,W=f-r,lt=F*F+W*W;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(lt>Mr)if(Math.abs(W*b-S*F)>Mr&&a){var st=e-s,vt=i-f,Mt=b*b+S*S,Rt=st*st+vt*vt,bt=Math.sqrt(Mt),$t=Math.sqrt(lt),ne=a*Math.tan((os-Math.acos((Mt+lt-Rt)/(2*bt*$t)))/2),Kt=ne/$t,Se=ne/bt;Math.abs(Kt-1)>Mr&&(this._+="L"+(n+Kt*F)+","+(r+Kt*W)),this._+="A"+a+","+a+",0,0,"+ +(W*st>F*vt)+","+(this._x1=n+Se*b)+","+(this._y1=r+Se*S)}else this._+="L"+(this._x1=n)+","+(this._y1=r)},arc:function(n,r,e,i,a,s){n=+n,r=+r,s=!!s;var f=(e=+e)*Math.cos(i),b=e*Math.sin(i),S=n+f,F=r+b,W=1^s,lt=s?i-a:a-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+S+","+F:(Math.abs(this._x1-S)>Mr||Math.abs(this._y1-F)>Mr)&&(this._+="L"+S+","+F),e&&(lt<0&&(lt=lt%ls+ls),lt>Hu?this._+="A"+e+","+e+",0,1,"+W+","+(n-f)+","+(r-b)+"A"+e+","+e+",0,1,"+W+","+(this._x1=S)+","+(this._y1=F):lt>Mr&&(this._+="A"+e+","+e+",0,"+ +(lt>=os)+","+W+","+(this._x1=n+e*Math.cos(a))+","+(this._y1=r+e*Math.sin(a))))},rect:function(n,r,e,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};const Wu=wo;function La(n){return function(){return n}}function Ao(n){this._context=n}function Xu(n){return new Ao(n)}function $u(n){return n[0]}function Ju(n){return n[1]}Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;default:this._context.lineTo(n,r)}}};var Eo=Math.PI;function Do(n){return(1-Math.cos(Eo*n))/2}function ju(){}function us(n){return null==n?ju:function(){return this.querySelector(n)}}function Ku(){return[]}function Lo(n){return null==n?Ku:function(){return this.querySelectorAll(n)}}function ko(n){return function(){return this.matches(n)}}function Io(n){return new Array(n.length)}function ka(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function rh(n,r,e,i,a,s){for(var b,f=0,S=r.length,F=s.length;f<F;++f)(b=r[f])?(b.__data__=s[f],i[f]=b):e[f]=new ka(n,s[f]);for(;f<S;++f)(b=r[f])&&(a[f]=b)}function ah(n,r,e,i,a,s,f){var b,S,vt,F={},W=r.length,lt=s.length,st=new Array(W);for(b=0;b<W;++b)(S=r[b])&&(st[b]=vt="$"+f.call(S,S.__data__,b,r),vt in F?a[b]=S:F[vt]=S);for(b=0;b<lt;++b)(S=F[vt="$"+f.call(n,s[b],b,s)])?(i[b]=S,S.__data__=s[b],F[vt]=null):e[b]=new ka(n,s[b]);for(b=0;b<W;++b)(S=r[b])&&F[st[b]]===S&&(a[b]=S)}function dh(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}ka.prototype={constructor:ka,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var hs="http://www.w3.org/1999/xhtml";const Oo={svg:"http://www.w3.org/2000/svg",xhtml:hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ia(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),Oo.hasOwnProperty(r)?{space:Oo[r],local:n}:n}function xh(n){return function(){this.removeAttribute(n)}}function yh(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Th(n,r){return function(){this.setAttribute(n,r)}}function bh(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function Ch(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function wh(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function No(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Eh(n){return function(){this.style.removeProperty(n)}}function Sh(n,r,e){return function(){this.style.setProperty(n,r,e)}}function Dh(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function zr(n,r){return n.style.getPropertyValue(r)||No(n).getComputedStyle(n,null).getPropertyValue(r)}function kh(n){return function(){delete this[n]}}function Ih(n,r){return function(){this[n]=r}}function Mh(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function Fo(n){return n.trim().split(/^|\s+/)}function ds(n){return n.classList||new Po(n)}function Po(n){this._node=n,this._names=Fo(n.getAttribute("class")||"")}function Ro(n,r){for(var e=ds(n),i=-1,a=r.length;++i<a;)e.add(r[i])}function Zo(n,r){for(var e=ds(n),i=-1,a=r.length;++i<a;)e.remove(r[i])}function Nh(n){return function(){Ro(this,n)}}function Fh(n){return function(){Zo(this,n)}}function Ph(n,r){return function(){(r.apply(this,arguments)?Ro:Zo)(this,n)}}function Zh(){this.textContent=""}function Bh(n){return function(){this.textContent=n}}function Uh(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function Vh(){this.innerHTML=""}function zh(n){return function(){this.innerHTML=n}}function Yh(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function Wh(){this.nextSibling&&this.parentNode.appendChild(this)}function $h(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qh(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===hs&&r.documentElement.namespaceURI===hs?r.createElement(n):r.createElementNS(e,n)}}function jh(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Bo(n){var r=Ia(n);return(r.local?jh:Qh)(r)}function Kh(){return null}function ed(){var n=this.parentNode;n&&n.removeChild(this)}function id(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function rd(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}Po.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Uo={},Or=null;function ld(n,r,e){return n=Go(n,r,e),function(i){var a=i.relatedTarget;(!a||a!==this&&!(8&a.compareDocumentPosition(this)))&&n.call(this,i)}}function Go(n,r,e){return function(i){var a=Or;Or=i;try{n.call(this,this.__data__,r,e)}finally{Or=a}}}function cd(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function ud(n){return function(){var r=this.__on;if(r){for(var s,e=0,i=-1,a=r.length;e<a;++e)s=r[e],n.type&&s.type!==n.type||s.name!==n.name?r[++i]=s:this.removeEventListener(s.type,s.listener,s.capture);++i?r.length=i:delete this.__on}}}function hd(n,r,e){var i=Uo.hasOwnProperty(n.type)?ld:Go;return function(a,s,f){var S,b=this.__on,F=i(r,s,f);if(b)for(var W=0,lt=b.length;W<lt;++W)if((S=b[W]).type===n.type&&S.name===n.name)return this.removeEventListener(S.type,S.listener,S.capture),this.addEventListener(S.type,S.listener=F,S.capture=e),void(S.value=r);this.addEventListener(n.type,F,e),S={type:n.type,name:n.name,value:r,listener:F,capture:e},b?b.push(S):this.__on=[S]}}function Vo(n,r,e){var i=No(n),a=i.CustomEvent;"function"==typeof a?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),n.dispatchEvent(a)}function fd(n,r){return function(){return Vo(this,n,r)}}function pd(n,r){return function(){return Vo(this,n,r.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Uo={mouseenter:"mouseover",mouseleave:"mouseout"}));var gd=[null];function Ki(n,r){this._groups=n,this._parents=r}function zo(){return new Ki([[document.documentElement]],gd)}Ki.prototype=zo.prototype={constructor:Ki,select:function qu(n){"function"!=typeof n&&(n=us(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,F,s=r[a],f=s.length,b=i[a]=new Array(f),W=0;W<f;++W)(S=s[W])&&(F=n.call(S,S.__data__,W,s))&&("__data__"in S&&(F.__data__=S.__data__),b[W]=F);return new Ki(i,this._parents)},selectAll:function th(n){"function"!=typeof n&&(n=Lo(n));for(var r=this._groups,e=r.length,i=[],a=[],s=0;s<e;++s)for(var S,f=r[s],b=f.length,F=0;F<b;++F)(S=f[F])&&(i.push(n.call(S,S.__data__,F,f)),a.push(S));return new Ki(i,a)},filter:function eh(n){"function"!=typeof n&&(n=ko(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],f=s.length,b=i[a]=[],F=0;F<f;++F)(S=s[F])&&n.call(S,S.__data__,F,s)&&b.push(S);return new Ki(i,this._parents)},data:function sh(n,r){if(!n)return vt=new Array(this.size()),F=-1,this.each(function(be){vt[++F]=be}),vt;var e=r?ah:rh,i=this._parents,a=this._groups;"function"!=typeof n&&(n=function ih(n){return function(){return n}}(n));for(var s=a.length,f=new Array(s),b=new Array(s),S=new Array(s),F=0;F<s;++F){var W=i[F],lt=a[F],st=lt.length,vt=n.call(W,W&&W.__data__,F,i),Mt=vt.length,Rt=b[F]=new Array(Mt),bt=f[F]=new Array(Mt);e(W,lt,Rt,bt,S[F]=new Array(st),vt,r);for(var Se,Fe,ne=0,Kt=0;ne<Mt;++ne)if(Se=Rt[ne]){for(ne>=Kt&&(Kt=ne+1);!(Fe=bt[Kt])&&++Kt<Mt;);Se._next=Fe||null}}return(f=new Ki(f,i))._enter=b,f._exit=S,f},enter:function nh(){return new Ki(this._enter||this._groups.map(Io),this._parents)},exit:function oh(){return new Ki(this._exit||this._groups.map(Io),this._parents)},join:function lh(n,r,e){var i=this.enter(),a=this,s=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=r&&(a=r(a)),null==e?s.remove():e(s),i&&a?i.merge(a).order():a},merge:function ch(n){for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),f=new Array(i),b=0;b<s;++b)for(var st,S=r[b],F=e[b],W=S.length,lt=f[b]=new Array(W),vt=0;vt<W;++vt)(st=S[vt]||F[vt])&&(lt[vt]=st);for(;b<i;++b)f[b]=r[b];return new Ki(f,this._parents)},order:function uh(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var f,i=n[r],a=i.length-1,s=i[a];--a>=0;)(f=i[a])&&(s&&4^f.compareDocumentPosition(s)&&s.parentNode.insertBefore(f,s),s=f);return this},sort:function hh(n){function r(lt,st){return lt&&st?n(lt.__data__,st.__data__):!lt-!st}n||(n=dh);for(var e=this._groups,i=e.length,a=new Array(i),s=0;s<i;++s){for(var F,f=e[s],b=f.length,S=a[s]=new Array(b),W=0;W<b;++W)(F=f[W])&&(S[W]=F);S.sort(r)}return new Ki(a,this._parents).order()},call:function fh(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function ph(){var n=new Array(this.size()),r=-1;return this.each(function(){n[++r]=this}),n},node:function mh(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],a=0,s=i.length;a<s;++a){var f=i[a];if(f)return f}return null},size:function gh(){var n=0;return this.each(function(){++n}),n},empty:function _h(){return!this.node()},each:function vh(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var b,a=r[e],s=0,f=a.length;s<f;++s)(b=a[s])&&n.call(b,b.__data__,s,a);return this},attr:function Ah(n,r){var e=Ia(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?yh:xh:"function"==typeof r?e.local?wh:Ch:e.local?bh:Th)(e,r))},style:function Lh(n,r,e){return arguments.length>1?this.each((null==r?Eh:"function"==typeof r?Dh:Sh)(n,r,null==e?"":e)):zr(this.node(),n)},property:function Oh(n,r){return arguments.length>1?this.each((null==r?kh:"function"==typeof r?Mh:Ih)(n,r)):this.node()[n]},classed:function Rh(n,r){var e=Fo(n+"");if(arguments.length<2){for(var i=ds(this.node()),a=-1,s=e.length;++a<s;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof r?Ph:r?Nh:Fh)(e,r))},text:function Gh(n){return arguments.length?this.each(null==n?Zh:("function"==typeof n?Uh:Bh)(n)):this.node().textContent},html:function Hh(n){return arguments.length?this.each(null==n?Vh:("function"==typeof n?Yh:zh)(n)):this.node().innerHTML},raise:function Xh(){return this.each(Wh)},lower:function Jh(){return this.each($h)},append:function qh(n){var r="function"==typeof n?n:Bo(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function td(n,r){var e="function"==typeof n?n:Bo(n),i=null==r?Kh:"function"==typeof r?r:us(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function nd(){return this.each(ed)},clone:function ad(n){return this.select(n?rd:id)},datum:function sd(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function dd(n,r,e){var a,f,i=cd(n+""),s=i.length;if(!(arguments.length<2)){for(b=r?hd:ud,null==e&&(e=!1),a=0;a<s;++a)this.each(b(i[a],r,e));return this}var b=this.node().__on;if(b)for(var W,S=0,F=b.length;S<F;++S)for(a=0,W=b[S];a<s;++a)if((f=i[a]).type===W.type&&f.name===W.name)return W.value},dispatch:function md(n,r){return this.each(("function"==typeof r?pd:fd)(n,r))}};const la=zo;var ca=o(25922),tr=o(49194),ua=o(73339),_d=(0,ca.Z)("start","end","cancel","interrupt"),vd=[];function Na(n,r,e,i,a,s){var f=n.__transition;if(f){if(e in f)return}else n.__transition={};!function xd(n,r,e){var a,i=n.__transition;function f(F){var W,lt,st,vt;if(1!==e.state)return S();for(W in i)if((vt=i[W]).name===e.name){if(3===vt.state)return(0,ua.Z)(f);4===vt.state?(vt.state=6,vt.timer.stop(),vt.on.call("interrupt",n,n.__data__,vt.index,vt.group),delete i[W]):+W<r&&(vt.state=6,vt.timer.stop(),vt.on.call("cancel",n,n.__data__,vt.index,vt.group),delete i[W])}if((0,ua.Z)(function(){3===e.state&&(e.state=4,e.timer.restart(b,e.delay,e.time),b(F))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(st=e.tween.length),W=0,lt=-1;W<st;++W)(vt=e.tween[W].value.call(n,n.__data__,e.index,e.group))&&(a[++lt]=vt);a.length=lt+1}}function b(F){for(var W=F<e.duration?e.ease.call(null,F/e.duration):(e.timer.restart(S),e.state=5,1),lt=-1,st=a.length;++lt<st;)a[lt].call(n,W);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),S())}function S(){for(var F in e.state=6,e.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=e,e.timer=(0,tr.HT)(function s(F){e.state=1,e.timer.restart(f,e.delay,e.time),e.delay<=F&&f(F-e.delay)},0,e.time)}(n,e,{name:r,index:i,group:a,on:_d,tween:vd,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function ms(n,r){var e=er(n,r);if(e.state>0)throw new Error("too late; already scheduled");return e}function fr(n,r){var e=er(n,r);if(e.state>3)throw new Error("too late; already running");return e}function er(n,r){var e=n.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}var Xo=o(75349);function bd(n,r){var e,i;return function(){var a=fr(this,n),s=a.tween;if(s!==e)for(var f=0,b=(i=e=s).length;f<b;++f)if(i[f].name===r){(i=i.slice()).splice(f,1);break}a.tween=i}}function Cd(n,r,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var s=fr(this,n),f=s.tween;if(f!==i){a=(i=f).slice();for(var b={name:r,value:e},S=0,F=a.length;S<F;++S)if(a[S].name===r){a[S]=b;break}S===F&&a.push(b)}s.tween=a}}function gs(n,r,e){var i=n._id;return n.each(function(){var a=fr(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return er(a,i).value[r]}}var Fa=o(52786),Pa=o(6738),Ra=o(23534),$o=o(23096);function Jo(n,r){var e;return("number"==typeof r?Pa.Z:r instanceof Fa.ZP?Ra.ZP:(e=(0,Fa.ZP)(r))?(r=e,Ra.ZP):$o.Z)(n,r)}function Ad(n){return function(){this.removeAttribute(n)}}function Ed(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Sd(n,r,e){var i,s,a=e+"";return function(){var f=this.getAttribute(n);return f===a?null:f===i?s:s=r(i=f,e)}}function Dd(n,r,e){var i,s,a=e+"";return function(){var f=this.getAttributeNS(n.space,n.local);return f===a?null:f===i?s:s=r(i=f,e)}}function Ld(n,r,e){var i,a,s;return function(){var f,S,b=e(this);return null==b?void this.removeAttribute(n):(f=this.getAttribute(n))===(S=b+"")?null:f===i&&S===a?s:(a=S,s=r(i=f,b))}}function kd(n,r,e){var i,a,s;return function(){var f,S,b=e(this);return null==b?void this.removeAttributeNS(n.space,n.local):(f=this.getAttributeNS(n.space,n.local))===(S=b+"")?null:f===i&&S===a?s:(a=S,s=r(i=f,b))}}function Md(n,r){return function(e){this.setAttribute(n,r.call(this,e))}}function Od(n,r){return function(e){this.setAttributeNS(n.space,n.local,r.call(this,e))}}function Nd(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Od(n,s)),e}return a._value=r,a}function Fd(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Md(n,s)),e}return a._value=r,a}function Rd(n,r){return function(){ms(this,n).delay=+r.apply(this,arguments)}}function Zd(n,r){return r=+r,function(){ms(this,n).delay=r}}function Ud(n,r){return function(){fr(this,n).duration=+r.apply(this,arguments)}}function Gd(n,r){return r=+r,function(){fr(this,n).duration=r}}function zd(n,r){if("function"!=typeof r)throw new Error;return function(){fr(this,n).ease=r}}function $d(n,r,e){var i,a,s=function Xd(n){return(n+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||"start"===r})}(r)?ms:fr;return function(){var f=s(this,n),b=f.on;b!==i&&(a=(i=b).copy()).on(r,e),f.on=a}}var tf=la.prototype.constructor;function Qo(n){return function(){this.style.removeProperty(n)}}function lf(n,r,e){return function(i){this.style.setProperty(n,r.call(this,i),e)}}function cf(n,r,e){var i,a;function s(){var f=r.apply(this,arguments);return f!==a&&(i=(a=f)&&lf(n,f,e)),i}return s._value=r,s}function pf(n){return function(r){this.textContent=n.call(this,r)}}function mf(n){var r,e;function i(){var a=n.apply(this,arguments);return a!==e&&(r=(e=a)&&pf(a)),r}return i._value=n,i}var xf=0;function pr(n,r,e,i){this._groups=n,this._parents=r,this._name=e,this._id=i}function jo(){return++xf}var Yr=la.prototype;pr.prototype=function yf(n){return la().transition(n)}.prototype={constructor:pr,select:function qd(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=us(n));for(var i=this._groups,a=i.length,s=new Array(a),f=0;f<a;++f)for(var W,lt,b=i[f],S=b.length,F=s[f]=new Array(S),st=0;st<S;++st)(W=b[st])&&(lt=n.call(W,W.__data__,st,b))&&("__data__"in W&&(lt.__data__=W.__data__),F[st]=lt,Na(F[st],r,e,st,F,er(W,e)));return new pr(s,this._parents,r,e)},selectAll:function Kd(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=Lo(n));for(var i=this._groups,a=i.length,s=[],f=[],b=0;b<a;++b)for(var W,S=i[b],F=S.length,lt=0;lt<F;++lt)if(W=S[lt]){for(var vt,st=n.call(W,W.__data__,lt,S),Mt=er(W,e),Rt=0,bt=st.length;Rt<bt;++Rt)(vt=st[Rt])&&Na(vt,r,e,Rt,st,Mt);s.push(st),f.push(W)}return new pr(s,f,r,e)},filter:function Hd(n){"function"!=typeof n&&(n=ko(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],f=s.length,b=i[a]=[],F=0;F<f;++F)(S=s[F])&&n.call(S,S.__data__,F,s)&&b.push(S);return new pr(i,this._parents,this._name,this._id)},merge:function Wd(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),f=new Array(i),b=0;b<s;++b)for(var st,S=r[b],F=e[b],W=S.length,lt=f[b]=new Array(W),vt=0;vt<W;++vt)(st=S[vt]||F[vt])&&(lt[vt]=st);for(;b<i;++b)f[b]=r[b];return new pr(f,this._parents,this._name,this._id)},selection:function ef(){return new tf(this._groups,this._parents)},transition:function _f(){for(var n=this._name,r=this._id,e=jo(),i=this._groups,a=i.length,s=0;s<a;++s)for(var S,f=i[s],b=f.length,F=0;F<b;++F)if(S=f[F]){var W=er(S,r);Na(S,n,e,F,f,{time:W.time+W.delay+W.duration,delay:0,duration:W.duration,ease:W.ease})}return new pr(i,this._parents,n,e)},call:Yr.call,nodes:Yr.nodes,node:Yr.node,size:Yr.size,empty:Yr.empty,each:Yr.each,on:function Jd(n,r){var e=this._id;return arguments.length<2?er(this.node(),e).on.on(n):this.each($d(e,n,r))},attr:function Id(n,r){var e=Ia(n),i="transform"===e?Xo.w:Jo;return this.attrTween(n,"function"==typeof r?(e.local?kd:Ld)(e,i,gs(this,"attr."+n,r)):null==r?(e.local?Ed:Ad)(e):(e.local?Dd:Sd)(e,i,r))},attrTween:function Pd(n,r){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=Ia(n);return this.tween(e,(i.local?Nd:Fd)(i,r))},style:function of(n,r,e){var i="transform"==(n+="")?Xo.Y:Jo;return null==r?this.styleTween(n,function nf(n,r){var e,i,a;return function(){var s=zr(this,n),f=(this.style.removeProperty(n),zr(this,n));return s===f?null:s===e&&f===i?a:a=r(e=s,i=f)}}(n,i)).on("end.style."+n,Qo(n)):"function"==typeof r?this.styleTween(n,function af(n,r,e){var i,a,s;return function(){var f=zr(this,n),b=e(this),S=b+"";return null==b&&(this.style.removeProperty(n),S=b=zr(this,n)),f===S?null:f===i&&S===a?s:(a=S,s=r(i=f,b))}}(n,i,gs(this,"style."+n,r))).each(function sf(n,r){var e,i,a,b,s="style."+r,f="end."+s;return function(){var S=fr(this,n),F=S.on,W=null==S.value[s]?b||(b=Qo(r)):void 0;(F!==e||a!==W)&&(i=(e=F).copy()).on(f,a=W),S.on=i}}(this._id,n)):this.styleTween(n,function rf(n,r,e){var i,s,a=e+"";return function(){var f=zr(this,n);return f===a?null:f===i?s:s=r(i=f,e)}}(n,i,r),e).on("end.style."+n,null)},styleTween:function uf(n,r,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,cf(n,r,null==e?"":e))},text:function ff(n){return this.tween("text","function"==typeof n?function df(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(gs(this,"text",n)):function hf(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function gf(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,mf(n))},remove:function jd(){return this.on("end.remove",function Qd(n){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function wd(n,r){var e=this._id;if(n+="",arguments.length<2){for(var f,i=er(this.node(),e).tween,a=0,s=i.length;a<s;++a)if((f=i[a]).name===n)return f.value;return null}return this.each((null==r?bd:Cd)(e,n,r))},delay:function Bd(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Rd:Zd)(r,n)):er(this.node(),r).delay},duration:function Vd(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Ud:Gd)(r,n)):er(this.node(),r).duration},ease:function Yd(n){var r=this._id;return arguments.length?this.each(zd(r,n)):er(this.node(),r).ease},end:function vf(){var n,r,e=this,i=e._id,a=e.size();return new Promise(function(s,f){var b={value:f},S={value:function(){0==--a&&s()}};e.each(function(){var F=fr(this,i),W=F.on;W!==n&&((r=(n=W).copy())._.cancel.push(b),r._.interrupt.push(b),r._.end.push(S)),F.on=r})})}};var qo=o(27065),_s={time:null,delay:0,duration:250,ease:qo.tw};function Tf(n,r){for(var e;!(e=n.__transition)||!(e=e[r]);)if(!(n=n.parentNode))return _s.time=(0,tr.zO)(),_s;return e}la.prototype.interrupt=function Td(n){return this.each(function(){!function yd(n,r){var i,a,f,e=n.__transition,s=!0;if(e){for(f in r=null==r?null:r+"",e)(i=e[f]).name===r?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[f]):s=!1;s&&delete n.__transition}}(this,n)})},la.prototype.transition=function bf(n){var r,e;n instanceof pr?(r=n._id,n=n._name):(r=jo(),(e=_s).time=(0,tr.zO)(),n=null==n?null:n+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var S,f=i[s],b=f.length,F=0;F<b;++F)(S=f[F])&&Na(S,n,r,F,f,e||Tf(S,r));return new pr(i,this._parents,n,r)};var Ko=o(42654),tl=o(32916),el=o(21086),nl=o(23753),wf=o(87224);function Mf(n){return void 0===n}function Pf(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}function Rf(n){return Array.isArray(n)?n:Array.from(n)}function ha(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var i=function(lt,st){return{a:lt.a*st.a+lt.c*st.b,c:lt.a*st.c+lt.c*st.d,e:lt.a*st.e+lt.c*st.f+lt.e,b:lt.b*st.a+lt.d*st.b,d:lt.b*st.c+lt.d*st.d,f:lt.b*st.e+lt.d*st.f+lt.f}};switch((r=Array.isArray(r[0])?r[0]:r).length){case 0:throw new Error("no matrices provided");case 1:return r[0];case 2:return i(r[0],r[1]);default:var a=r,s=Rf(a),f=s[0],b=s[1],S=s.slice(2),F=i(f,b);return ha.apply(void 0,[F].concat(Pf(S)))}}function al(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e:n,b:0,d:1,f:r}}function Za(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;const sl=Symbol("implicit");function vs(){var n=new Map,r=[],e=[],i=sl;function a(s){var f=s+"",b=n.get(f);if(!b){if(i!==sl)return i;n.set(f,b=r.push(s))}return e[(b-1)%e.length]}return a.domain=function(s){if(!arguments.length)return r.slice();r=[],n=new Map;for(const f of s){const b=f+"";n.has(b)||n.set(b,r.push(f))}return a},a.range=function(s){return arguments.length?(e=Array.from(s),a):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return vs(r,e).unknown(i)},Za.apply(a,arguments),a}var Wr=o(59695);function Bf(n,r){var e;function i(){var a,f,s=e.length,b=0,S=0;for(a=0;a<s;++a)b+=(f=e[a]).x,S+=f.y;for(b=b/s-n,S=S/s-r,a=0;a<s;++a)(f=e[a]).x-=b,f.y-=S}return null==n&&(n=0),null==r&&(r=0),i.initialize=function(a){e=a},i.x=function(a){return arguments.length?(n=+a,i):n},i.y=function(a){return arguments.length?(r=+a,i):r},i}function _i(n){return function(){return n}}function Cr(){return 1e-6*(Math.random()-.5)}function ol(n,r,e,i){if(isNaN(r)||isNaN(e))return n;var a,lt,st,vt,Mt,Rt,bt,$t,ne,s=n._root,f={data:i},b=n._x0,S=n._y0,F=n._x1,W=n._y1;if(!s)return n._root=f,n;for(;s.length;)if((Rt=r>=(lt=(b+F)/2))?b=lt:F=lt,(bt=e>=(st=(S+W)/2))?S=st:W=st,a=s,!(s=s[$t=bt<<1|Rt]))return a[$t]=f,n;if(vt=+n._x.call(null,s.data),Mt=+n._y.call(null,s.data),r===vt&&e===Mt)return f.next=s,a?a[$t]=f:n._root=f,n;do{a=a?a[$t]=new Array(4):n._root=new Array(4),(Rt=r>=(lt=(b+F)/2))?b=lt:F=lt,(bt=e>=(st=(S+W)/2))?S=st:W=st}while(($t=bt<<1|Rt)==(ne=(Mt>=st)<<1|vt>=lt));return a[ne]=s,a[$t]=f,n}function Zi(n,r,e,i,a){this.node=n,this.x0=r,this.y0=e,this.x1=i,this.y1=a}function qf(n){return n[0]}function tp(n){return n[1]}function xs(n,r,e){var i=new ys(null==r?qf:r,null==e?tp:e,NaN,NaN,NaN,NaN);return null==n?i:i.addAll(n)}function ys(n,r,e,i,a,s){this._x=n,this._y=r,this._x0=e,this._y0=i,this._x1=a,this._y1=s,this._root=void 0}function ll(n){for(var r={data:n.data},e=r;n=n.next;)e=e.next={data:n.data};return r}var Bi=xs.prototype=ys.prototype;function np(n){return n.x+n.vx}function ip(n){return n.y+n.vy}function cl(n){var r,e,i=1,a=1;function s(){for(var S,W,lt,st,vt,Mt,Rt,F=r.length,bt=0;bt<a;++bt)for(W=xs(r,np,ip).visitAfter(f),S=0;S<F;++S)Rt=(Mt=e[(lt=r[S]).index])*Mt,st=lt.x+lt.vx,vt=lt.y+lt.vy,W.visit($t);function $t(ne,Kt,Se,Fe,be){var hn=ne.data,xn=ne.r,Sn=Mt+xn;if(!hn)return Kt>st+Sn||Fe<st-Sn||Se>vt+Sn||be<vt-Sn;if(hn.index>lt.index){var Vn=st-hn.x-hn.vx,zn=vt-hn.y-hn.vy,mi=Vn*Vn+zn*zn;mi<Sn*Sn&&(0===Vn&&(mi+=(Vn=Cr())*Vn),0===zn&&(mi+=(zn=Cr())*zn),mi=(Sn-(mi=Math.sqrt(mi)))/mi*i,lt.vx+=(Vn*=mi)*(Sn=(xn*=xn)/(Rt+xn)),lt.vy+=(zn*=mi)*Sn,hn.vx-=Vn*(Sn=1-Sn),hn.vy-=zn*Sn)}}}function f(S){if(S.data)return S.r=e[S.data.index];for(var F=S.r=0;F<4;++F)S[F]&&S[F].r>S.r&&(S.r=S[F].r)}function b(){if(r){var S,W,F=r.length;for(e=new Array(F),S=0;S<F;++S)e[(W=r[S]).index]=+n(W,S,r)}}return"function"!=typeof n&&(n=_i(null==n?1:+n)),s.initialize=function(S){r=S,b()},s.iterations=function(S){return arguments.length?(a=+S,s):a},s.strength=function(S){return arguments.length?(i=+S,s):i},s.radius=function(S){return arguments.length?(n="function"==typeof S?S:_i(+S),b(),s):n},s}Bi.copy=function(){var e,i,n=new ys(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ll(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(i=r.source[a])&&(i.length?e.push({source:i,target:r.target[a]=new Array(4)}):r.target[a]=ll(i));return n},Bi.add=function Uf(n){var r=+this._x.call(null,n),e=+this._y.call(null,n);return ol(this.cover(r,e),r,e,n)},Bi.addAll=function Gf(n){var r,e,a,s,i=n.length,f=new Array(i),b=new Array(i),S=1/0,F=1/0,W=-1/0,lt=-1/0;for(e=0;e<i;++e)isNaN(a=+this._x.call(null,r=n[e]))||isNaN(s=+this._y.call(null,r))||(f[e]=a,b[e]=s,a<S&&(S=a),a>W&&(W=a),s<F&&(F=s),s>lt&&(lt=s));if(S>W||F>lt)return this;for(this.cover(S,F).cover(W,lt),e=0;e<i;++e)ol(this,f[e],b[e],n[e]);return this},Bi.cover=function Vf(n,r){if(isNaN(n=+n)||isNaN(r=+r))return this;var e=this._x0,i=this._y0,a=this._x1,s=this._y1;if(isNaN(e))a=(e=Math.floor(n))+1,s=(i=Math.floor(r))+1;else{for(var S,F,f=a-e,b=this._root;e>n||n>=a||i>r||r>=s;)switch(F=(r<i)<<1|n<e,S=new Array(4),S[F]=b,b=S,f*=2,F){case 0:a=e+f,s=i+f;break;case 1:e=a-f,s=i+f;break;case 2:a=e+f,i=s-f;break;case 3:e=a-f,i=s-f}this._root&&this._root.length&&(this._root=b)}return this._x0=e,this._y0=i,this._x1=a,this._y1=s,this},Bi.data=function zf(){var n=[];return this.visit(function(r){if(!r.length)do{n.push(r.data)}while(r=r.next)}),n},Bi.extent=function Yf(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Bi.find=function Hf(n,r,e){var i,f,b,S,F,Mt,Rt,a=this._x0,s=this._y0,W=this._x1,lt=this._y1,st=[],vt=this._root;for(vt&&st.push(new Zi(vt,a,s,W,lt)),null==e?e=1/0:(a=n-e,s=r-e,W=n+e,lt=r+e,e*=e);Mt=st.pop();)if(!(!(vt=Mt.node)||(f=Mt.x0)>W||(b=Mt.y0)>lt||(S=Mt.x1)<a||(F=Mt.y1)<s))if(vt.length){var bt=(f+S)/2,$t=(b+F)/2;st.push(new Zi(vt[3],bt,$t,S,F),new Zi(vt[2],f,$t,bt,F),new Zi(vt[1],bt,b,S,$t),new Zi(vt[0],f,b,bt,$t)),(Rt=(r>=$t)<<1|n>=bt)&&(Mt=st[st.length-1],st[st.length-1]=st[st.length-1-Rt],st[st.length-1-Rt]=Mt)}else{var ne=n-+this._x.call(null,vt.data),Kt=r-+this._y.call(null,vt.data),Se=ne*ne+Kt*Kt;if(Se<e){var Fe=Math.sqrt(e=Se);a=n-Fe,s=r-Fe,W=n+Fe,lt=r+Fe,i=vt.data}}return i},Bi.remove=function Wf(n){if(isNaN(W=+this._x.call(null,n))||isNaN(lt=+this._y.call(null,n)))return this;var r,i,a,s,W,lt,st,vt,Mt,Rt,bt,$t,e=this._root,f=this._x0,b=this._y0,S=this._x1,F=this._y1;if(!e)return this;if(e.length)for(;;){if((Mt=W>=(st=(f+S)/2))?f=st:S=st,(Rt=lt>=(vt=(b+F)/2))?b=vt:F=vt,r=e,!(e=e[bt=Rt<<1|Mt]))return this;if(!e.length)break;(r[bt+1&3]||r[bt+2&3]||r[bt+3&3])&&(i=r,$t=bt)}for(;e.data!==n;)if(a=e,!(e=e.next))return this;return(s=e.next)&&delete e.next,a?(s?a.next=s:delete a.next,this):r?(s?r[bt]=s:delete r[bt],(e=r[0]||r[1]||r[2]||r[3])&&e===(r[3]||r[2]||r[1]||r[0])&&!e.length&&(i?i[$t]=e:this._root=e),this):(this._root=s,this)},Bi.removeAll=function Xf(n){for(var r=0,e=n.length;r<e;++r)this.remove(n[r]);return this},Bi.root=function $f(){return this._root},Bi.size=function Jf(){var n=0;return this.visit(function(r){if(!r.length)do{++n}while(r=r.next)}),n},Bi.visit=function Qf(n){var e,a,s,f,b,S,r=[],i=this._root;for(i&&r.push(new Zi(i,this._x0,this._y0,this._x1,this._y1));e=r.pop();)if(!n(i=e.node,s=e.x0,f=e.y0,b=e.x1,S=e.y1)&&i.length){var F=(s+b)/2,W=(f+S)/2;(a=i[3])&&r.push(new Zi(a,F,W,b,S)),(a=i[2])&&r.push(new Zi(a,s,W,F,S)),(a=i[1])&&r.push(new Zi(a,F,f,b,W)),(a=i[0])&&r.push(new Zi(a,s,f,F,W))}return this},Bi.visitAfter=function jf(n){var i,r=[],e=[];for(this._root&&r.push(new Zi(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var a=i.node;if(a.length){var s,f=i.x0,b=i.y0,S=i.x1,F=i.y1,W=(f+S)/2,lt=(b+F)/2;(s=a[0])&&r.push(new Zi(s,f,b,W,lt)),(s=a[1])&&r.push(new Zi(s,W,b,S,lt)),(s=a[2])&&r.push(new Zi(s,f,lt,W,F)),(s=a[3])&&r.push(new Zi(s,W,lt,S,F))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this},Bi.x=function Kf(n){return arguments.length?(this._x=n,this):this._x},Bi.y=function ep(n){return arguments.length?(this._y=n,this):this._y};var Ji="$";function Ba(){}function ul(n,r){var e=new Ba;if(n instanceof Ba)n.each(function(b,S){e.set(S,b)});else if(Array.isArray(n)){var s,i=-1,a=n.length;if(null==r)for(;++i<a;)e.set(i,n[i]);else for(;++i<a;)e.set(r(s=n[i],i,n),s)}else if(n)for(var f in n)e.set(f,n[f]);return e}Ba.prototype=ul.prototype={constructor:Ba,has:function(n){return Ji+n in this},get:function(n){return this[Ji+n]},set:function(n,r){return this[Ji+n]=r,this},remove:function(n){var r=Ji+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===Ji&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===Ji&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===Ji&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===Ji&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===Ji&&++n;return n},empty:function(){for(var n in this)if(n[0]===Ji)return!1;return!0},each:function(n){for(var r in this)r[0]===Ji&&n(this[r],r.slice(1),this)}};const Ts=ul;function Ua(){}var Nr=Ts.prototype;function op(n){return n.index}function fl(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function pl(n){var i,s,f,b,S,r=op,e=function W(Rt){return 1/Math.min(b[Rt.source.index],b[Rt.target.index])},a=_i(30),F=1;function lt(Rt){for(var bt=0,$t=n.length;bt<F;++bt)for(var Kt,Se,Fe,be,hn,xn,Sn,ne=0;ne<$t;++ne)be=(Fe=(Kt=n[ne]).target).x+Fe.vx-(Se=Kt.source).x-Se.vx||Cr(),hn=Fe.y+Fe.vy-Se.y-Se.vy||Cr(),hn*=xn=((xn=Math.sqrt(be*be+hn*hn))-s[ne])/xn*Rt*i[ne],Fe.vx-=(be*=xn)*(Sn=S[ne]),Fe.vy-=hn*Sn,Se.vx+=be*(Sn=1-Sn),Se.vy+=hn*Sn}function st(){if(f){var Rt,Kt,bt=f.length,$t=n.length,ne=Ts(f,r);for(Rt=0,b=new Array(bt);Rt<$t;++Rt)(Kt=n[Rt]).index=Rt,"object"!=typeof Kt.source&&(Kt.source=fl(ne,Kt.source)),"object"!=typeof Kt.target&&(Kt.target=fl(ne,Kt.target)),b[Kt.source.index]=(b[Kt.source.index]||0)+1,b[Kt.target.index]=(b[Kt.target.index]||0)+1;for(Rt=0,S=new Array($t);Rt<$t;++Rt)S[Rt]=b[(Kt=n[Rt]).source.index]/(b[Kt.source.index]+b[Kt.target.index]);i=new Array($t),vt(),s=new Array($t),Mt()}}function vt(){if(f)for(var Rt=0,bt=n.length;Rt<bt;++Rt)i[Rt]=+e(n[Rt],Rt,n)}function Mt(){if(f)for(var Rt=0,bt=n.length;Rt<bt;++Rt)s[Rt]=+a(n[Rt],Rt,n)}return null==n&&(n=[]),lt.initialize=function(Rt){f=Rt,st()},lt.links=function(Rt){return arguments.length?(n=Rt,st(),lt):n},lt.id=function(Rt){return arguments.length?(r=Rt,lt):r},lt.iterations=function(Rt){return arguments.length?(F=+Rt,lt):F},lt.strength=function(Rt){return arguments.length?(e="function"==typeof Rt?Rt:_i(+Rt),vt(),lt):e},lt.distance=function(Rt){return arguments.length?(a="function"==typeof Rt?Rt:_i(+Rt),Mt(),lt):a},lt}function lp(n){return n.x}function cp(n){return n.y}Ua.prototype=function sp(n,r){var e=new Ua;if(n instanceof Ua)n.each(function(s){e.add(s)});else if(n){var i=-1,a=n.length;if(null==r)for(;++i<a;)e.add(n[i]);else for(;++i<a;)e.add(r(n[i],i,n))}return e}.prototype={constructor:Ua,has:Nr.has,add:function(n){return this[Ji+(n+="")]=n,this},remove:Nr.remove,clear:Nr.clear,values:Nr.keys,size:Nr.size,empty:Nr.empty,each:Nr.each};var hp=Math.PI*(3-Math.sqrt(5));function ml(n){var r,e=1,i=.001,a=1-Math.pow(i,1/300),s=0,f=.6,b=Ts(),S=(0,tr.HT)(W),F=(0,ca.Z)("tick","end");function W(){lt(),F.call("tick",r),e<i&&(S.stop(),F.call("end",r))}function lt(Mt){var Rt,$t,bt=n.length;void 0===Mt&&(Mt=1);for(var ne=0;ne<Mt;++ne)for(e+=(s-e)*a,b.each(function(Kt){Kt(e)}),Rt=0;Rt<bt;++Rt)null==($t=n[Rt]).fx?$t.x+=$t.vx*=f:($t.x=$t.fx,$t.vx=0),null==$t.fy?$t.y+=$t.vy*=f:($t.y=$t.fy,$t.vy=0);return r}function st(){for(var bt,Mt=0,Rt=n.length;Mt<Rt;++Mt){if((bt=n[Mt]).index=Mt,null!=bt.fx&&(bt.x=bt.fx),null!=bt.fy&&(bt.y=bt.fy),isNaN(bt.x)||isNaN(bt.y)){var $t=10*Math.sqrt(Mt),ne=Mt*hp;bt.x=$t*Math.cos(ne),bt.y=$t*Math.sin(ne)}(isNaN(bt.vx)||isNaN(bt.vy))&&(bt.vx=bt.vy=0)}}function vt(Mt){return Mt.initialize&&Mt.initialize(n),Mt}return null==n&&(n=[]),st(),r={tick:lt,restart:function(){return S.restart(W),r},stop:function(){return S.stop(),r},nodes:function(Mt){return arguments.length?(n=Mt,st(),b.each(vt),r):n},alpha:function(Mt){return arguments.length?(e=+Mt,r):e},alphaMin:function(Mt){return arguments.length?(i=+Mt,r):i},alphaDecay:function(Mt){return arguments.length?(a=+Mt,r):+a},alphaTarget:function(Mt){return arguments.length?(s=+Mt,r):s},velocityDecay:function(Mt){return arguments.length?(f=1-Mt,r):1-f},force:function(Mt,Rt){return arguments.length>1?(null==Rt?b.remove(Mt):b.set(Mt,vt(Rt)),r):b.get(Mt)},find:function(Mt,Rt,bt){var Kt,Se,Fe,be,hn,$t=0,ne=n.length;for(null==bt?bt=1/0:bt*=bt,$t=0;$t<ne;++$t)(Fe=(Kt=Mt-(be=n[$t]).x)*Kt+(Se=Rt-be.y)*Se)<bt&&(hn=be,bt=Fe);return hn},on:function(Mt,Rt){return arguments.length>1?(F.on(Mt,Rt),r):F.on(Mt)}}}function gl(){var n,r,e,a,i=_i(-30),s=1,f=1/0,b=.81;function S(st){var vt,Mt=n.length,Rt=xs(n,lp,cp).visitAfter(W);for(e=st,vt=0;vt<Mt;++vt)r=n[vt],Rt.visit(lt)}function F(){if(n){var st,Mt,vt=n.length;for(a=new Array(vt),st=0;st<vt;++st)a[(Mt=n[st]).index]=+i(Mt,st,n)}}function W(st){var Mt,Rt,$t,ne,Kt,vt=0,bt=0;if(st.length){for($t=ne=Kt=0;Kt<4;++Kt)(Mt=st[Kt])&&(Rt=Math.abs(Mt.value))&&(vt+=Mt.value,bt+=Rt,$t+=Rt*Mt.x,ne+=Rt*Mt.y);st.x=$t/bt,st.y=ne/bt}else{(Mt=st).x=Mt.data.x,Mt.y=Mt.data.y;do{vt+=a[Mt.data.index]}while(Mt=Mt.next)}st.value=vt}function lt(st,vt,Mt,Rt){if(!st.value)return!0;var bt=st.x-r.x,$t=st.y-r.y,ne=Rt-vt,Kt=bt*bt+$t*$t;if(ne*ne/b<Kt)return Kt<f&&(0===bt&&(Kt+=(bt=Cr())*bt),0===$t&&(Kt+=($t=Cr())*$t),Kt<s&&(Kt=Math.sqrt(s*Kt)),r.vx+=bt*st.value*e/Kt,r.vy+=$t*st.value*e/Kt),!0;if(!(st.length||Kt>=f)){(st.data!==r||st.next)&&(0===bt&&(Kt+=(bt=Cr())*bt),0===$t&&(Kt+=($t=Cr())*$t),Kt<s&&(Kt=Math.sqrt(s*Kt)));do{st.data!==r&&(r.vx+=bt*(ne=a[st.data.index]*e/Kt),r.vy+=$t*ne)}while(st=st.next)}}return S.initialize=function(st){n=st,F()},S.strength=function(st){return arguments.length?(i="function"==typeof st?st:_i(+st),F(),S):i},S.distanceMin=function(st){return arguments.length?(s=st*st,S):Math.sqrt(s)},S.distanceMax=function(st){return arguments.length?(f=st*st,S):Math.sqrt(f)},S.theta=function(st){return arguments.length?(b=st*st,S):Math.sqrt(b)},S}function dp(n,r,e){var i,s,f,a=_i(.1);function b(F){for(var W=0,lt=i.length;W<lt;++W){var st=i[W],vt=st.x-r||1e-6,Mt=st.y-e||1e-6,Rt=Math.sqrt(vt*vt+Mt*Mt),bt=(f[W]-Rt)*s[W]*F/Rt;st.vx+=vt*bt,st.vy+=Mt*bt}}function S(){if(i){var F,W=i.length;for(s=new Array(W),f=new Array(W),F=0;F<W;++F)f[F]=+n(i[F],F,i),s[F]=isNaN(f[F])?0:+a(i[F],F,i)}}return"function"!=typeof n&&(n=_i(+n)),null==r&&(r=0),null==e&&(e=0),b.initialize=function(F){i=F,S()},b.strength=function(F){return arguments.length?(a="function"==typeof F?F:_i(+F),S(),b):a},b.radius=function(F){return arguments.length?(n="function"==typeof F?F:_i(+F),S(),b):n},b.x=function(F){return arguments.length?(r=+F,b):r},b.y=function(F){return arguments.length?(e=+F,b):e},b}function fp(n){var e,i,a,r=_i(.1);function s(b){for(var W,S=0,F=e.length;S<F;++S)(W=e[S]).vx+=(a[S]-W.x)*i[S]*b}function f(){if(e){var b,S=e.length;for(i=new Array(S),a=new Array(S),b=0;b<S;++b)i[b]=isNaN(a[b]=+n(e[b],b,e))?0:+r(e[b],b,e)}}return"function"!=typeof n&&(n=_i(null==n?0:+n)),s.initialize=function(b){e=b,f()},s.strength=function(b){return arguments.length?(r="function"==typeof b?b:_i(+b),f(),s):r},s.x=function(b){return arguments.length?(n="function"==typeof b?b:_i(+b),f(),s):n},s}function pp(n){var e,i,a,r=_i(.1);function s(b){for(var W,S=0,F=e.length;S<F;++S)(W=e[S]).vy+=(a[S]-W.y)*i[S]*b}function f(){if(e){var b,S=e.length;for(i=new Array(S),a=new Array(S),b=0;b<S;++b)i[b]=isNaN(a[b]=+n(e[b],b,e))?0:+r(e[b],b,e)}}return"function"!=typeof n&&(n=_i(null==n?0:+n)),s.initialize=function(b){e=b,f()},s.strength=function(b){return arguments.length?(r="function"==typeof b?b:_i(+b),f(),s):r},s.y=function(b){return arguments.length?(n="function"==typeof b?b:_i(+b),f(),s):n},s}var mp=o(67824);function gp(n,r,e){var i=new tr.B7,a=r;return null==r?(i.restart(n,r,e),i):(r=+r,e=null==e?(0,tr.zO)():+e,i.restart(function s(f){f+=a,i.restart(s,a+=r,e),n(f)},r,e),i)}const _p=["linkTemplate"],vp=["nodeTemplate"],xp=["clusterTemplate"],yp=["defsTemplate"],Tp=["miniMapNodeTemplate"],bp=["nodeElement"],Cp=["linkElement"];function wp(n,r){if(1&n&&(t.O4$(),t.GkF(0,14)),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.defsTemplate)}}function Ap(n,r){if(1&n&&(t.O4$(),t._UZ(0,"path",15)),2&n){const e=r.$implicit;t.uIk("d",e.textPath)("id",e.id)}}const da=function(n){return{$implicit:n}};function Ep(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Sp(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",21),t._UZ(1,"rect"),t.TgZ(2,"text",22),t._uU(3),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("width",e.dimension.width)("height",e.dimension.height)("fill",null==e.data?null:e.data.color),t.xp6(1),t.uIk("x",10)("y",e.dimension.height/2),t.xp6(1),t.hij(" ",e.label," ")}}function Dp(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",16,17),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClick(s)}),t.YNc(2,Ep,1,4,"ng-container",18),t.YNc(3,Sp,4,6,"g",19),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldClusters.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.clusterTemplate),t.xp6(1),t.Q6J("ngIf",!i.clusterTemplate)}}function Lp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function kp(n,r){if(1&n&&(t.O4$(),t._UZ(0,"path",26)),2&n){const e=t.oxw().$implicit;t.uIk("d",e.line)}}function Ip(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",23,24),t.YNc(2,Lp,1,4,"ng-container",18),t.YNc(3,kp,1,1,"path",25),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2);t.Q6J("id",e.id),t.xp6(2),t.Q6J("ngIf",i.linkTemplate),t.xp6(1),t.Q6J("ngIf",!i.linkTemplate)}}function Mp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Op(n,r){if(1&n&&(t.O4$(),t._UZ(0,"circle",30)),2&n){const e=t.oxw().$implicit;t.uIk("cx",e.dimension.width/2)("cy",e.dimension.height/2)("fill",null==e.data?null:e.data.color)}}function Np(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",27,28),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClick(s)})("mousedown",function(a){const f=t.CHM(e).$implicit;return t.oxw(2).onNodeMouseDown(a,f)}),t.YNc(2,Mp,1,4,"ng-container",18),t.YNc(3,Op,1,3,"circle",29),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldNodes.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.nodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.nodeTemplate)}}function Fp(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",4),t.NdJ("touchstart",function(a){return t.CHM(e),t.oxw().onTouchStart(a)})("touchend",function(a){return t.CHM(e),t.oxw().onTouchEnd(a)}),t.TgZ(1,"defs"),t.YNc(2,wp,1,1,"ng-container",5),t.YNc(3,Ap,1,2,"path",6),t.qZA(),t.TgZ(4,"rect",7),t.NdJ("mousedown",function(){return t.CHM(e),t.oxw().isPanning=!0}),t.qZA(),t.Hsn(5),t.TgZ(6,"g",8),t.YNc(7,Dp,4,6,"g",9),t.qZA(),t.TgZ(8,"g",10),t.YNc(9,Ip,4,3,"g",11),t.qZA(),t.TgZ(10,"g",12),t.YNc(11,Np,4,6,"g",13),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",e.defsTemplate),t.xp6(1),t.Q6J("ngForOf",e.graph.edges),t.xp6(1),t.uIk("width",100*e.dims.width)("height",100*e.dims.height)("transform","translate("+50*(-e.dims.width||0)+","+50*(-e.dims.height||0)+")"),t.xp6(3),t.Q6J("ngForOf",e.graph.clusters)("ngForTrackBy",e.trackNodeBy),t.xp6(2),t.Q6J("ngForOf",e.graph.edges)("ngForTrackBy",e.trackLinkBy),t.xp6(2),t.Q6J("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy)}}function Pp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Rp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Zp(n,r){if(1&n&&(t.O4$(),t._UZ(0,"circle",30)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.uIk("cx",e.dimension.width/2/i.minimapScaleCoefficient)("cy",e.dimension.height/2/i.minimapScaleCoefficient)("fill",null==e.data?null:e.data.color)}}function Bp(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",36,28),t.YNc(2,Pp,1,4,"ng-container",18),t.YNc(3,Rp,1,4,"ng-container",18),t.YNc(4,Zp,1,3,"circle",29),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldNodes.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.miniMapNodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function Up(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",31),t.TgZ(1,"rect",32),t.NdJ("mousedown",function(a){return t.CHM(e),t.oxw().onMinimapPanTo(a)}),t.qZA(),t.TgZ(2,"g"),t.TgZ(3,"g",33),t.YNc(4,Bp,5,7,"g",34),t.qZA(),t.TgZ(5,"rect",35),t.NdJ("mousedown",function(){return t.CHM(e),t.oxw().onMinimapDragMouseDown()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.uIk("transform",e.minimapTransform)("clip-path","url(#"+e.minimapClipPathId+")"),t.xp6(1),t.uIk("width",e.graphDims.width/e.minimapScaleCoefficient)("height",e.graphDims.height/e.minimapScaleCoefficient),t.xp6(1),t.Udp("transform","translate("+-e.minimapOffsetX/e.minimapScaleCoefficient+"px,"+-e.minimapOffsetY/e.minimapScaleCoefficient+"px)"),t.xp6(1),t.Udp("transform","scale("+1/e.minimapScaleCoefficient+")"),t.xp6(1),t.Q6J("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy),t.xp6(1),t.ekj("panning",e.isMinimapPanning),t.uIk("transform","translate("+e.panOffsetX/e.zoomLevel/-e.minimapScaleCoefficient+","+e.panOffsetY/e.zoomLevel/-e.minimapScaleCoefficient+")")("width",e.width/e.minimapScaleCoefficient/e.zoomLevel)("height",e.height/e.minimapScaleCoefficient/e.zoomLevel)}}const Gp=["*"],_l={};function mr(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,_l[n]?mr():(_l[n]=!0,n)}var Xr=(()=>{return(n=Xr||(Xr={})).Both="both",n.Horizontal="horizontal",n.Vertical="vertical",Xr;var n})(),$r=(()=>{return(n=$r||($r={})).UpperLeft="UpperLeft",n.UpperRight="UpperRight",$r;var n})();function Vp(n,r,e){e=e||{};let i,a,s,f=null,b=0;function S(){b=!1===e.leading?0:+new Date,f=null,s=n.apply(i,a)}return function(){const F=+new Date;!b&&!1===e.leading&&(b=F);const W=r-(F-b);return i=this,a=arguments,W<=0?(clearTimeout(f),f=null,b=F,s=n.apply(i,a)):!f&&!1!==e.trailing&&(f=setTimeout(S,W)),s}}function zp(n,r){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:Vp(s.value,n,r)}),this[a]}}}}let vl=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Yp{constructor(r,e,i){"string"==typeof r&&(r=vl.find(a=>a.name===r)),this.colorDomain=r.domain,this.domain=e,this.customColors=i,this.scale=this.generateColorScheme(r,this.domain)}generateColorScheme(r,e){return"string"==typeof r&&(r=vl.find(i=>i.name===r)),vs().range(r.domain).domain(e)}getColor(r){if(null==r)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(r);const e=r.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(r)}}let Wp=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.visible=new t.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275dir=t.lG2({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),n})();var Jr=(()=>{return(n=Jr||(Jr={})).LEFT_TO_RIGHT="LR",n.RIGHT_TO_LEFT="RL",n.TOP_TO_BOTTOM="TB",n.BOTTOM_TO_TOM="BT",Jr;var n})();function Qr(n){return"string"==typeof n?{id:n,x:0,y:0}:n}function yl(n,r){return"number"==typeof r?n[r]:r}const Tl={dagre:class Xp{constructor(){this.defaultSettings={orientation:Jr.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Wr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;for(const e in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[e],a=r.nodes.find(s=>s.id===i.id);a.position={x:i.x,y:i.y},a.dimension={width:i.width,height:i.height}}return r}updateEdge(r,e){const i=r.nodes.find(S=>S.id===e.source),a=r.nodes.find(S=>S.id===e.target),s=i.position.y<=a.position.y?-1:1;return e.points=[{x:i.position.x,y:i.position.y-s*(i.dimension.height/2)},{x:a.position.x,y:a.position.y+s*(a.dimension.height/2)}],r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Wr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreCluster:class $p{constructor(){this.defaultSettings={orientation:Jr.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Wr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;const e=i=>{const a=this.dagreGraph._nodes[i.id];return Object.assign(Object.assign({},i),{position:{x:a.x,y:a.y},dimension:{width:a.width,height:a.height}})};return r.clusters=(r.clusters||[]).map(e),r.nodes=r.nodes.map(e),r}updateEdge(r,e){const i=r.nodes.find(S=>S.id===e.source),a=r.nodes.find(S=>S.id===e.target),s=i.position.y<=a.position.y?-1:1;return e.points=[{x:i.position.x,y:i.position.y-s*(i.dimension.height/2)},{x:a.position.x,y:a.position.y+s*(a.dimension.height/2)}],r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Wr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreClusters=r.clusters||[],this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(const i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(a=>{this.dagreGraph.setParent(a,i.id)});for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreNodesOnly:class Qp{constructor(){this.defaultSettings={orientation:Jr.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Wr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;for(const e in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[e],a=r.nodes.find(s=>s.id===i.id);a.position={x:i.x,y:i.y},a.dimension={width:i.width,height:i.height}}for(const e of r.edges)this.updateEdge(r,e);return r}updateEdge(r,e){const i=r.nodes.find(Mt=>Mt.id===e.source),a=r.nodes.find(Mt=>Mt.id===e.target),s="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",f="y"===s?"x":"y",b="y"===s?"height":"width",S=i.position[s]<=a.position[s]?-1:1,F={[f]:i.position[f],[s]:i.position[s]-S*(i.dimension[b]/2)},W={[f]:a.position[f],[s]:a.position[s]+S*(a.dimension[b]/2)},lt=this.settings.curveDistance||this.defaultSettings.curveDistance;e.points=[F,{[f]:F[f],[s]:F[s]-S*lt},{[f]:W[f],[s]:W[s]+S*lt},W];const vt=r.edgeLabels[`${e.source}\x01${e.target}\x01\0`];return vt&&(vt.points=e.points),r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Wr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},d3ForceDirected:class jp{constructor(){this.defaultSettings={force:ml().force("charge",gl().strength(-150)).force("collide",cl(5)),forceLink:pl().id(r=>r.id).distance(()=>100)},this.settings={},this.outputGraph$=new An.xQ}run(r){return this.inputGraph=r,this.d3Graph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign({},e))],edges:[...this.inputGraph.edges.map(e=>Object.assign({},e))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(r,e){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(r){return this.outputGraph.nodes=this.d3Graph.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||mr(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(e=>Object.assign(Object.assign({},e),{source:Qr(e.source).id,target:Qr(e.target).id,points:[{x:Qr(e.source).x,y:Qr(e.source).y},{x:Qr(e.target).x,y:Qr(e.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(r,e){this.settings.force.alphaTarget(.3).restart();const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(this.draggingStart={x:e.x-i.x,y:e.y-i.y},i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDrag(r,e){if(!r)return;const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDragEnd(r,e){if(!r)return;const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}},colaForceDirected:class qp{constructor(){this.defaultSettings={force:(0,mp.d3adaptor)(Object.assign(Object.assign(Object.assign({},x),u),v)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new An.xQ}run(r){return this.inputGraph=r,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign(Object.assign({},e),{width:e.dimension?e.dimension.width:20,height:e.dimension?e.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(e=>({padding:5,groups:e.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(a=>a.id===i)).filter(i=>i>=0),leaves:e.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(a=>a.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(e=>{const i=this.inputGraph.nodes.findIndex(s=>e.source===s.id),a=this.inputGraph.nodes.findIndex(s=>e.target===s.id);if(-1!==i&&-1!==a)return Object.assign(Object.assign({},e),{source:i,target:a})}).filter(e=>!!e)],groupLinks:[...this.inputGraph.edges.map(e=>{const i=this.inputGraph.nodes.findIndex(s=>e.source===s.id),a=this.inputGraph.nodes.findIndex(s=>e.target===s.id);if(!(i>=0&&a>=0))return e}).filter(e=>!!e)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(r,e){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(r){return this.outputGraph.nodes=r.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||mr(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=r.links.map(e=>{const i=yl(r.nodes,e.source),a=yl(r.nodes,e.target);return Object.assign(Object.assign({},e),{source:i.id,target:a.id,points:[i.bounds.rayIntersection(a.bounds.cx(),a.bounds.cy()),a.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]})}).concat(r.groupLinks.map(e=>{const i=r.nodes.find(b=>b.id===e.source),a=r.nodes.find(b=>b.id===e.target),s=i||r.groups.find(b=>b.id===e.source),f=a||r.groups.find(b=>b.id===e.target);return Object.assign(Object.assign({},e),{source:s.id,target:f.id,points:[s.bounds.rayIntersection(f.bounds.cx(),f.bounds.cy()),f.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy())]})})),this.outputGraph.clusters=r.groups.map((e,i)=>Object.assign(Object.assign({},this.inputGraph.clusters[i]),{dimension:{width:e.bounds?e.bounds.width():20,height:e.bounds?e.bounds.height():20},position:{x:e.bounds?e.bounds.x+e.bounds.width()/2:0,y:e.bounds?e.bounds.y+e.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(r,e){const i=this.outputGraph.nodes.findIndex(s=>s.id===r.id),a=this.internalGraph.nodes[i];!a||(this.draggingStart={x:a.x-e.x,y:a.y-e.y},a.fixed=1,this.settings.force.start())}onDrag(r,e){if(!r)return;const i=this.outputGraph.nodes.findIndex(s=>s.id===r.id),a=this.internalGraph.nodes[i];!a||(a.x=this.draggingStart.x+e.x,a.y=this.draggingStart.y+e.y)}onDragEnd(r,e){if(!r)return;const i=this.outputGraph.nodes.findIndex(s=>s.id===r.id),a=this.internalGraph.nodes[i];!a||(a.fixed=0)}}};let bl=(()=>{class n{getLayout(e){if(Tl[e])return new Tl[e];throw new Error(`Unknown layout type '${e}'`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Kp=(()=>{class n{constructor(){this.mouseWheelUp=new t.vpe,this.mouseWheelDown=new t.vpe}onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onWheel(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){window.event&&(e=window.event);const i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY||e.deltaX)),s=e.wheelDelta?i<0:i>0;(e.wheelDelta?i>0:i<0)?this.mouseWheelUp.emit(e):s&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","mouseWheel",""]],hostBindings:function(e,i){1&e&&t.NdJ("mousewheel",function(s){return i.onMouseWheelChrome(s)})("DOMMouseScroll",function(s){return i.onMouseWheelFirefox(s)})("wheel",function(s){return i.onWheel(s)})("onmousewheel",function(s){return i.onMouseWheelIE(s)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),n})(),tm=(()=>{class n{constructor(e,i,a,s){this.el=e,this.zone=i,this.cd=a,this.layoutService=s,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=Xr.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=$r.UpperRight,this.scheme="cool",this.animations=!0,this.select=new t.vpe,this.activate=new t.vpe,this.deactivate=new t.vpe,this.zoomChange=new t.vpe,this.clickHandler=new t.vpe,this.isMouseMoveCalled=!1,this.graphSubscription=new Ko.w,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=f=>f.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(e){this.zoomTo(Number(e))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(e){this.panTo(Number(e),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(e){this.panTo(null,Number(e))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(e=>{this.panToNodeId(e)})),this.minimapClipPathId=`minimapClip${mr()}`}ngOnChanges(e){this.basicUpdate();const{layoutSettings:a}=e;this.setLayout(this.layout),a&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(e){this.initialized=!1,e||(e="dagre"),"string"==typeof e&&(this.layout=this.layoutService.getLayout(e),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(e){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=e)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const e of this.subscriptions)e.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Wp(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=Yu.beta(1)),this.zone.run(()=>{this.dims=function Hp({width:n,height:r}){let e=n,i=r;return e=Math.max(0,e),i=Math.max(0,i),{width:Math.floor(e),height:Math.floor(i)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new Ko.w;const e=i=>(i.meta||(i.meta={}),i.id||(i.id=mr()),i.dimension?i.meta.forceDimensions=void 0===i.meta.forceDimensions||i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position={x:0,y:0},i.data=i.data?i.data:{},i);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(e):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(e):[],edges:this.links.length>0?[...this.links].map(i=>(i.id||(i.id=mr()),i)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const e=this.layout.run(this.graph),i=e instanceof tl.y?e:(0,el.of)(e);this.graphSubscription.add(i.subscribe(a=>{this.graph=a,this.tick()})),0!==this.graph.nodes.length&&i.pipe((0,wf.P)()).subscribe(()=>this.applyNodeDimensions())}tick(){const e=new Set;this.graph.nodes.map(s=>{s.transform=`translate(${s.position.x-s.dimension.width/2||0}, ${s.position.y-s.dimension.height/2||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),e.add(s.id)});const i=new Set;(this.graph.clusters||[]).map(s=>{s.transform=`translate(${s.position.x-s.dimension.width/2||0}, ${s.position.y-s.dimension.height/2||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),i.add(s.id)}),setTimeout(()=>{this.oldNodes=e,this.oldClusters=i},500);const a=[];for(const s in this.graph.edgeLabels){const f=this.graph.edgeLabels[s],b=s.replace(/[^\w-]*/g,""),S=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let F=this._oldLinks.find(S?Rt=>`${Rt.source}${Rt.target}${Rt.id}`===b:Rt=>`${Rt.source}${Rt.target}`===b);const W=this.graph.edges.find(S?Rt=>`${Rt.source}${Rt.target}${Rt.id}`===b:Rt=>`${Rt.source}${Rt.target}`===b);F?F.data&&W&&W.data&&JSON.stringify(F.data)!==JSON.stringify(W.data)&&(F.data=W.data):F=W||f,F.oldLine=F.line;const lt=f.points,st=this.generateLine(lt),vt=Object.assign({},F);vt.line=st,vt.points=lt,this.updateMidpointOnEdge(vt,lt);const Mt=lt[Math.floor(lt.length/2)];Mt&&(vt.textTransform=`translate(${Mt.x||0},${Mt.y||0})`),vt.textAngle=0,vt.oldLine||(vt.oldLine=vt.line),this.calcDominantBaseline(vt),a.push(vt)}this.graph.edges=a,this.graph.edges&&(this._oldLinks=this.graph.edges.map(s=>{const f=Object.assign({},s);return f.oldLine=s.line,f})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case $r.UpperLeft:return"";case $r.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let e=1/0,i=-1/0,a=1/0,s=-1/0;for(let f=0;f<this.graph.nodes.length;f++){const b=this.graph.nodes[f];e=b.position.x<e?b.position.x:e,a=b.position.y<a?b.position.y:a,i=b.position.x+b.dimension.width>i?b.position.x+b.dimension.width:i,s=b.position.y+b.dimension.height>s?b.position.y+b.dimension.height:s}e-=100,a-=100,i+=100,s+=100,this.graphDims.width=i-e,this.graphDims.height=s-a,this.minimapOffsetX=e,this.minimapOffsetY=a}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(e=>{const i=e.nativeElement,a=this.graph.nodes.find(f=>f.id===i.id);if(!a)return;let s;try{if(s=i.getBBox(),!s.width||!s.height)return}catch(f){return}if(a.dimension.height=this.nodeHeight?a.dimension.height&&a.meta.forceDimensions?a.dimension.height:this.nodeHeight:a.dimension.height&&a.meta.forceDimensions?a.dimension.height:s.height,this.nodeMaxHeight&&(a.dimension.height=Math.max(a.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(a.dimension.height=Math.min(a.dimension.height,this.nodeMinHeight)),this.nodeWidth)a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let f;try{for(const b of i.getElementsByTagName("text")){const S=b.getBBox();f?(S.width>f.width&&(f.width=S.width),S.height>f.height&&(f.height=S.height)):f=S}}catch(b){return}a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:f.width+20}else a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:s.width;this.nodeMaxWidth&&(a.dimension.width=Math.max(a.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(a.dimension.width=Math.min(a.dimension.width,this.nodeMinWidth))})}redrawLines(e=this.animate){this.linkElements.map(i=>{const a=this.graph.edges.find(s=>s.id===i.nativeElement.id);a&&(To(i.nativeElement).select(".line").attr("d",a.oldLine).transition().ease(Do).duration(e?500:0).attr("d",a.line),To(this.el.nativeElement).select(`#${a.id}`).attr("d",a.oldTextPath).transition().ease(Do).duration(e?500:0).attr("d",a.textPath),this.updateMidpointOnEdge(a,a.points))})}calcDominantBaseline(e){const i=e.points[0],a=e.points[e.points.length-1];e.oldTextPath=e.textPath,a.x<i.x?(e.dominantBaseline="text-before-edge",e.textPath=this.generateLine([...e.points].reverse())):(e.dominantBaseline="text-after-edge",e.textPath=e.line)}generateLine(e){return function Qu(){var n=$u,r=Ju,e=La(!0),i=null,a=Xu,s=null;function f(b){var S,W,st,F=b.length,lt=!1;for(null==i&&(s=a(st=Wu())),S=0;S<=F;++S)!(S<F&&e(W=b[S],S,b))===lt&&((lt=!lt)?s.lineStart():s.lineEnd()),lt&&s.point(+n(W,S,b),+r(W,S,b));if(st)return s=null,st+""||null}return f.x=function(b){return arguments.length?(n="function"==typeof b?b:La(+b),f):n},f.y=function(b){return arguments.length?(r="function"==typeof b?b:La(+b),f):r},f.defined=function(b){return arguments.length?(e="function"==typeof b?b:La(!!b),f):e},f.curve=function(b){return arguments.length?(a=b,null!=i&&(s=a(i)),f):a},f.context=function(b){return arguments.length?(null==b?i=s=null:s=a(i=b),f):i},f}().x(a=>a.x).y(a=>a.y).curve(this.curve)(e)}onZoom(e,i){if(this.enableTrackpadSupport&&!e.ctrlKey)return void this.pan(-1*e.deltaX,-1*e.deltaY);const a=1+("in"===i?this.zoomSpeed:-this.zoomSpeed),s=this.zoomLevel*a;if(!(s<=this.minZoomLevel||s>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&e){const f=e.clientX,b=e.clientY,S=this.el.nativeElement.querySelector("svg"),F=S.querySelector("g.chart"),W=S.createSVGPoint();W.x=f,W.y=b;const lt=W.matrixTransform(F.getScreenCTM().inverse());this.pan(lt.x,lt.y,!0),this.zoom(a),this.pan(-lt.x,-lt.y,!0)}else this.zoom(a)}pan(e,i,a=!1){const s=a?1:this.zoomLevel;this.transformationMatrix=ha(this.transformationMatrix,al(e/s,i/s)),this.updateTransform()}panTo(e,i){null==e||isNaN(e)||null==i||isNaN(i)||(this.transformationMatrix=ha(this.transformationMatrix,al((-this.panOffsetX-e*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-i*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(e){this.transformationMatrix=ha(this.transformationMatrix,function Of(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Mf(r)&&(r=n),{a:n,c:0,e:0,b:0,d:r,f:0}}(e,e)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(e){this.transformationMatrix.a=isNaN(e)?this.transformationMatrix.a:Number(e),this.transformationMatrix.d=isNaN(e)?this.transformationMatrix.d:Number(e),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(e){if(!this.draggingEnabled)return;const i=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(i,e),i.position.x+=e.movementX/this.zoomLevel,i.position.y+=e.movementY/this.zoomLevel,i.transform=`translate(${i.position.x-i.dimension.width/2}, ${i.position.y-i.dimension.height/2})`;for(const f of this.graph.edges)if((f.target===i.id||f.source===i.id||f.target.id===i.id||f.source.id===i.id)&&this.layout&&"string"!=typeof this.layout){const b=this.layout.updateEdge(this.graph,f),S=b instanceof tl.y?b:(0,el.of)(b);this.graphSubscription.add(S.subscribe(F=>{this.graph=F,this.redrawEdge(f)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(e){const i=this.generateLine(e.points);this.calcDominantBaseline(e),e.oldLine=e.line,e.line=i}updateTransform(){this.transform=function Ff(n){return function rl(n){return"matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")"}(n)}(function Zf(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(n.a*r)/r,b:Math.round(n.b*r)/r,c:Math.round(n.c*r)/r,d:Math.round(n.d*r)/r,e:Math.round(n.e*r)/r,f:Math.round(n.f*r)/r}}(this.transformationMatrix,100))}onClick(e){this.select.emit(e)}onActivate(e){this.activeEntries.indexOf(e)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const i=this.activeEntries.indexOf(e);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(e=>this.groupResultsBy(e)).reduce((e,i)=>-1!==e.indexOf(i)?e:e.concat([i]),[]).sort()}trackLinkBy(e,i){return i.id}trackNodeBy(e,i){return i.id}setColors(){this.colors=new Yp(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(e){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,e):this.isDragging&&this.draggingEnabled&&this.onDrag(e)}onMouseDown(e){this.isMouseMoveCalled=!1}graphClick(e){this.isMouseMoveCalled||this.clickHandler.emit(e)}onTouchStart(e){this._touchLastX=e.changedTouches[0].clientX,this._touchLastY=e.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(e){if(this.isPanning&&this.panningEnabled){const i=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,s=i-this._touchLastX,f=a-this._touchLastY;this._touchLastX=i,this._touchLastY=a,this.pan(s,f)}}onTouchEnd(e){this.isPanning=!1}onMouseUp(e){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,e)}onNodeMouseDown(e,i){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=i,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(i,e))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(e){this.panTo((e.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(e.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let a=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);a<this.minZoomLevel&&(a=this.minZoomLevel),a>this.maxZoomLevel&&(a=this.maxZoomLevel),a!==this.zoomLevel&&(this.zoomLevel=a,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(e){const i=this.graph.nodes.find(a=>a.id===e);!i||this.panTo(i.position.x,i.position.y)}panWithConstraints(e,i){let a=i.movementX,s=i.movementY;switch(this.isMinimapPanning&&(a=-this.minimapScaleCoefficient*a*this.zoomLevel,s=-this.minimapScaleCoefficient*s*this.zoomLevel),e){case Xr.Horizontal:this.pan(a,0);break;case Xr.Vertical:this.pan(0,s);break;default:this.pan(a,s)}}updateMidpointOnEdge(e,i){if(e&&i)if(i.length%2==1)e.midPoint=i[Math.floor(i.length/2)];else{const a=i[i.length/2],s=i[i.length/2-1];e.midPoint={x:(a.x+s.x)/2,y:(a.y+s.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const a=this.el.nativeElement;if(null!==a.parentNode){const s=a.parentNode.getBoundingClientRect();e=s.width,i=s.height}return e&&i?{width:e,height:i}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const i=(0,nl.R)(window,"resize").pipe((0,We.b)(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(bl))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-graph"]],contentQueries:function(e,i,a){if(1&e&&(t.Suo(a,_p,5),t.Suo(a,vp,5),t.Suo(a,xp,5),t.Suo(a,yp,5),t.Suo(a,Tp,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.linkTemplate=s.first),t.iGM(s=t.CRH())&&(i.nodeTemplate=s.first),t.iGM(s=t.CRH())&&(i.clusterTemplate=s.first),t.iGM(s=t.CRH())&&(i.defsTemplate=s.first),t.iGM(s=t.CRH())&&(i.miniMapNodeTemplate=s.first)}},viewQuery:function(e,i){if(1&e&&(t.Gf(bp,5),t.Gf(Cp,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.nodeElements=a),t.iGM(a=t.CRH())&&(i.linkElements=a)}},hostBindings:function(e,i){1&e&&t.NdJ("mousemove",function(s){return i.onMouseMove(s)},!1,t.evT)("mousedown",function(s){return i.onMouseDown(s)},!1,t.evT)("click",function(s){return i.graphClick(s)},!1,t.evT)("touchmove",function(s){return i.onTouchMove(s)},!1,t.evT)("mouseup",function(s){return i.onMouseUp(s)},!1,t.evT)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[t.TTD],ngContentSelectors:Gp,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("mouseWheelUp",function(s){return i.onZoom(s,"in")})("mouseWheelDown",function(s){return i.onZoom(s,"out")}),t.O4$(),t.TgZ(1,"svg",1),t.YNc(2,Fp,12,12,"g",2),t.TgZ(3,"clipPath"),t._UZ(4,"rect"),t.qZA(),t.YNc(5,Up,6,15,"g",3),t.qZA(),t.qZA()),2&e&&(t.Udp("width",i.width,"px"),t.Q6J("@animationState","active")("@.disabled",!i.animations),t.xp6(1),t.uIk("width",i.width)("height",i.height),t.xp6(1),t.Q6J("ngIf",i.initialized&&i.graph),t.xp6(1),t.uIk("id",i.minimapClipPathId),t.xp6(1),t.uIk("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),t.xp6(1),t.Q6J("ngIf",i.showMiniMap))},directives:[Kp,_.O5,_.tP,_.sg],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,we.X$)("animationState",[(0,we.eR)(":enter",[(0,we.oB)({opacity:0}),(0,we.jt)("500ms 100ms",(0,we.oB)({opacity:1}))])])]},changeDetection:0}),(0,oe.gn)([zp(500)],n.prototype,"updateMinimap",null),n})(),em=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[bl],imports:[[_.ez]]}),n})(),nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez],em]}),n})();var Cl=o(47429);function Cs(n,r,e){n.prototype=r.prototype=e,e.constructor=n}function wl(n,r){var e=Object.create(n.prototype);for(var i in r)e[i]=r[i];return e}function fa(){}o(52016);var Ga=1/.7,jr="\\s*([+-]?\\d+)\\s*",ma="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",am=/^#([0-9a-f]{3,8})$/,sm=new RegExp("^rgb\\("+[jr,jr,jr]+"\\)$"),om=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),lm=new RegExp("^rgba\\("+[jr,jr,jr,ma]+"\\)$"),cm=new RegExp("^rgba\\("+[sr,sr,sr,ma]+"\\)$"),um=new RegExp("^hsl\\("+[ma,sr,sr]+"\\)$"),hm=new RegExp("^hsla\\("+[ma,sr,sr,ma]+"\\)$"),Al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function El(){return this.rgb().formatHex()}function Sl(){return this.rgb().formatRgb()}function Fr(n){var r,e;return n=(n+"").trim().toLowerCase(),(r=am.exec(n))?(e=r[1].length,r=parseInt(r[1],16),6===e?Dl(r):3===e?new Wi(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===e?Va(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===e?Va(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=sm.exec(n))?new Wi(r[1],r[2],r[3],1):(r=om.exec(n))?new Wi(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=lm.exec(n))?Va(r[1],r[2],r[3],r[4]):(r=cm.exec(n))?Va(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=um.exec(n))?Il(r[1],r[2]/100,r[3]/100,1):(r=hm.exec(n))?Il(r[1],r[2]/100,r[3]/100,r[4]):Al.hasOwnProperty(n)?Dl(Al[n]):"transparent"===n?new Wi(NaN,NaN,NaN,0):null}function Dl(n){return new Wi(n>>16&255,n>>8&255,255&n,1)}function Va(n,r,e,i){return i<=0&&(n=r=e=NaN),new Wi(n,r,e,i)}function fm(n){return n instanceof fa||(n=Fr(n)),n?new Wi((n=n.rgb()).r,n.g,n.b,n.opacity):new Wi}function za(n,r,e,i){return 1===arguments.length?fm(n):new Wi(n,r,e,null==i?1:i)}function Wi(n,r,e,i){this.r=+n,this.g=+r,this.b=+e,this.opacity=+i}function Ll(){return"#"+ws(this.r)+ws(this.g)+ws(this.b)}function kl(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function ws(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function Il(n,r,e,i){return i<=0?n=r=e=NaN:e<=0||e>=1?n=r=NaN:r<=0&&(n=NaN),new or(n,r,e,i)}function Ml(n){if(n instanceof or)return new or(n.h,n.s,n.l,n.opacity);if(n instanceof fa||(n=Fr(n)),!n)return new or;if(n instanceof or)return n;var r=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,a=Math.min(r,e,i),s=Math.max(r,e,i),f=NaN,b=s-a,S=(s+a)/2;return b?(f=r===s?(e-i)/b+6*(e<i):e===s?(i-r)/b+2:(r-e)/b+4,b/=S<.5?s+a:2-s-a,f*=60):b=S>0&&S<1?0:f,new or(f,b,S,n.opacity)}function or(n,r,e,i){this.h=+n,this.s=+r,this.l=+e,this.opacity=+i}function As(n,r,e){return 255*(n<60?r+(e-r)*n/60:n<180?e:n<240?r+(e-r)*(240-n)/60:r)}function Ol(n,r,e,i,a){var s=n*n,f=s*n;return((1-3*n+3*s-f)*r+(4-6*s+3*f)*e+(1+3*n+3*s-3*f)*i+f*a)/6}Cs(fa,Fr,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:El,formatHex:El,formatHsl:function dm(){return Ml(this).formatHsl()},formatRgb:Sl,toString:Sl}),Cs(Wi,za,wl(fa,{brighter:function(n){return n=null==n?Ga:Math.pow(Ga,n),new Wi(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Wi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ll,formatHex:Ll,formatRgb:kl,toString:kl})),Cs(or,function pm(n,r,e,i){return 1===arguments.length?Ml(n):new or(n,r,e,null==i?1:i)},wl(fa,{brighter:function(n){return n=null==n?Ga:Math.pow(Ga,n),new or(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new or(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),r=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*r,a=2*e-i;return new Wi(As(n>=240?n-240:n+120,a,i),As(n,a,i),As(n<120?n+240:n-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const Es=n=>()=>n;function Fl(n,r){var e=r-n;return e?function Nl(n,r){return function(e){return n+e*r}}(n,e):Es(isNaN(n)?r:n)}const Ya=function n(r){var e=function vm(n){return 1==(n=+n)?Fl:function(r,e){return e-r?function _m(n,r,e){return n=Math.pow(n,e),r=Math.pow(r,e)-n,e=1/e,function(i){return Math.pow(n+i*r,e)}}(r,e,n):Es(isNaN(r)?e:r)}}(r);function i(a,s){var f=e((a=za(a)).r,(s=za(s)).r),b=e(a.g,s.g),S=e(a.b,s.b),F=Fl(a.opacity,s.opacity);return function(W){return a.r=f(W),a.g=b(W),a.b=S(W),a.opacity=F(W),a+""}}return i.gamma=n,i}(1);function Pl(n){return function(r){var f,b,e=r.length,i=new Array(e),a=new Array(e),s=new Array(e);for(f=0;f<e;++f)b=za(r[f]),i[f]=b.r||0,a[f]=b.g||0,s[f]=b.b||0;return i=n(i),a=n(a),s=n(s),b.opacity=1,function(S){return b.r=i(S),b.g=a(S),b.b=s(S),b+""}}}function lr(n,r){return n=+n,r=+r,function(e){return n*(1-e)+r*e}}Pl(function mm(n){var r=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),a=n[i],s=n[i+1];return Ol((e-i/r)*r,i>0?n[i-1]:2*a-s,a,s,i<r-1?n[i+2]:2*s-a)}}),Pl(function gm(n){var r=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*r);return Ol((e-i/r)*r,n[(i+r-1)%r],n[i%r],n[(i+1)%r],n[(i+2)%r])}});var Ss=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ds=new RegExp(Ss.source,"g");function Zl(n,r){var i,a,s,e=Ss.lastIndex=Ds.lastIndex=0,f=-1,b=[],S=[];for(n+="",r+="";(i=Ss.exec(n))&&(a=Ds.exec(r));)(s=a.index)>e&&(s=r.slice(e,s),b[f]?b[f]+=s:b[++f]=s),(i=i[0])===(a=a[0])?b[f]?b[f]+=a:b[++f]=a:(b[++f]=null,S.push({i:f,x:lr(i,a)})),e=Ds.lastIndex;return e<r.length&&(s=r.slice(e),b[f]?b[f]+=s:b[++f]=s),b.length<2?S[0]?function bm(n){return function(r){return n(r)+""}}(S[0].x):function Tm(n){return function(){return n}}(r):(r=S.length,function(F){for(var lt,W=0;W<r;++W)b[(lt=S[W]).i]=lt.x(F);return b.join("")})}o(29132);var ga=o(37853),Am=(0,ca.Z)("start","end","cancel","interrupt"),Em=[];function Xa(n,r,e,i,a,s){var f=n.__transition;if(f){if(e in f)return}else n.__transition={};!function Sm(n,r,e){var a,i=n.__transition;function f(F){var W,lt,st,vt;if(1!==e.state)return S();for(W in i)if((vt=i[W]).name===e.name){if(3===vt.state)return(0,ua.Z)(f);4===vt.state?(vt.state=6,vt.timer.stop(),vt.on.call("interrupt",n,n.__data__,vt.index,vt.group),delete i[W]):+W<r&&(vt.state=6,vt.timer.stop(),vt.on.call("cancel",n,n.__data__,vt.index,vt.group),delete i[W])}if((0,ua.Z)(function(){3===e.state&&(e.state=4,e.timer.restart(b,e.delay,e.time),b(F))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(st=e.tween.length),W=0,lt=-1;W<st;++W)(vt=e.tween[W].value.call(n,n.__data__,e.index,e.group))&&(a[++lt]=vt);a.length=lt+1}}function b(F){for(var W=F<e.duration?e.ease.call(null,F/e.duration):(e.timer.restart(S),e.state=5,1),lt=-1,st=a.length;++lt<st;)a[lt].call(n,W);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),S())}function S(){for(var F in e.state=6,e.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=e,e.timer=(0,tr.HT)(function s(F){e.state=1,e.timer.restart(f,e.delay,e.time),e.delay<=F&&f(F-e.delay)},0,e.time)}(n,e,{name:r,index:i,group:a,on:Am,tween:Em,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function Ms(n,r){var e=ir(n,r);if(e.state>0)throw new Error("too late; already scheduled");return e}function cr(n,r){var e=ir(n,r);if(e.state>3)throw new Error("too late; already running");return e}function ir(n,r){var e=n.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}var $a,zl=180/Math.PI,Ns={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yl(n,r,e,i,a,s){var f,b,S;return(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f),(S=n*e+r*i)&&(e-=n*S,i-=r*S),(b=Math.sqrt(e*e+i*i))&&(e/=b,i/=b,S/=b),n*i<r*e&&(n=-n,r=-r,S=-S,f=-f),{translateX:a,translateY:s,rotate:Math.atan2(r,n)*zl,skewX:Math.atan(S)*zl,scaleX:f,scaleY:b}}function Hl(n,r,e,i){function a(F){return F.length?F.pop()+" ":""}return function(F,W){var lt=[],st=[];return F=n(F),W=n(W),function s(F,W,lt,st,vt,Mt){if(F!==lt||W!==st){var Rt=vt.push("translate(",null,r,null,e);Mt.push({i:Rt-4,x:lr(F,lt)},{i:Rt-2,x:lr(W,st)})}else(lt||st)&&vt.push("translate("+lt+r+st+e)}(F.translateX,F.translateY,W.translateX,W.translateY,lt,st),function f(F,W,lt,st){F!==W?(F-W>180?W+=360:W-F>180&&(F+=360),st.push({i:lt.push(a(lt)+"rotate(",null,i)-2,x:lr(F,W)})):W&&lt.push(a(lt)+"rotate("+W+i)}(F.rotate,W.rotate,lt,st),function b(F,W,lt,st){F!==W?st.push({i:lt.push(a(lt)+"skewX(",null,i)-2,x:lr(F,W)}):W&&lt.push(a(lt)+"skewX("+W+i)}(F.skewX,W.skewX,lt,st),function S(F,W,lt,st,vt,Mt){if(F!==lt||W!==st){var Rt=vt.push(a(vt)+"scale(",null,",",null,")");Mt.push({i:Rt-4,x:lr(F,lt)},{i:Rt-2,x:lr(W,st)})}else(1!==lt||1!==st)&&vt.push(a(vt)+"scale("+lt+","+st+")")}(F.scaleX,F.scaleY,W.scaleX,W.scaleY,lt,st),F=W=null,function(vt){for(var bt,Mt=-1,Rt=st.length;++Mt<Rt;)lt[(bt=st[Mt]).i]=bt.x(vt);return lt.join("")}}}var Im=Hl(function Lm(n){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return r.isIdentity?Ns:Yl(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Mm=Hl(function km(n){return null!=n&&($a||($a=document.createElementNS("http://www.w3.org/2000/svg","g")),$a.setAttribute("transform",n),n=$a.transform.baseVal.consolidate())?Yl((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Ns},", ",")",")"),Wl=o(36175);function Om(n,r){var e,i;return function(){var a=cr(this,n),s=a.tween;if(s!==e)for(var f=0,b=(i=e=s).length;f<b;++f)if(i[f].name===r){(i=i.slice()).splice(f,1);break}a.tween=i}}function Nm(n,r,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var s=cr(this,n),f=s.tween;if(f!==i){a=(i=f).slice();for(var b={name:r,value:e},S=0,F=a.length;S<F;++S)if(a[S].name===r){a[S]=b;break}S===F&&a.push(b)}s.tween=a}}function Fs(n,r,e){var i=n._id;return n.each(function(){var a=cr(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return ir(a,i).value[r]}}function Xl(n,r){var e;return("number"==typeof r?lr:r instanceof Fr?Ya:(e=Fr(r))?(r=e,Ya):Zl)(n,r)}function Pm(n){return function(){this.removeAttribute(n)}}function Rm(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Zm(n,r,e){var i,s,a=e+"";return function(){var f=this.getAttribute(n);return f===a?null:f===i?s:s=r(i=f,e)}}function Bm(n,r,e){var i,s,a=e+"";return function(){var f=this.getAttributeNS(n.space,n.local);return f===a?null:f===i?s:s=r(i=f,e)}}function Um(n,r,e){var i,a,s;return function(){var f,S,b=e(this);return null==b?void this.removeAttribute(n):(f=this.getAttribute(n))===(S=b+"")?null:f===i&&S===a?s:(a=S,s=r(i=f,b))}}function Gm(n,r,e){var i,a,s;return function(){var f,S,b=e(this);return null==b?void this.removeAttributeNS(n.space,n.local):(f=this.getAttributeNS(n.space,n.local))===(S=b+"")?null:f===i&&S===a?s:(a=S,s=r(i=f,b))}}function zm(n,r){return function(e){this.setAttribute(n,r.call(this,e))}}function Ym(n,r){return function(e){this.setAttributeNS(n.space,n.local,r.call(this,e))}}function Hm(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Ym(n,s)),e}return a._value=r,a}function Wm(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&zm(n,s)),e}return a._value=r,a}function $m(n,r){return function(){Ms(this,n).delay=+r.apply(this,arguments)}}function Jm(n,r){return r=+r,function(){Ms(this,n).delay=r}}function jm(n,r){return function(){cr(this,n).duration=+r.apply(this,arguments)}}function qm(n,r){return r=+r,function(){cr(this,n).duration=r}}function tg(n,r){if("function"!=typeof r)throw new Error;return function(){cr(this,n).ease=r}}var rg=o(97905);function lg(n,r,e){var i,a,s=function og(n){return(n+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||"start"===r})}(r)?Ms:cr;return function(){var f=s(this,n),b=f.on;b!==i&&(a=(i=b).copy()).on(r,e),f.on=a}}var dg=o(29742),pg=o(32037),gg=ga.ZP.prototype.constructor,_a=o(24476);function $l(n){return function(){this.style.removeProperty(n)}}function Cg(n,r,e){return function(i){this.style.setProperty(n,r.call(this,i),e)}}function wg(n,r,e){var i,a;function s(){var f=r.apply(this,arguments);return f!==a&&(i=(a=f)&&Cg(n,f,e)),i}return s._value=r,s}function Lg(n){return function(r){this.textContent=n.call(this,r)}}function kg(n){var r,e;function i(){var a=n.apply(this,arguments);return a!==e&&(r=(e=a)&&Lg(a)),r}return i._value=n,i}var Ng=0;function gr(n,r,e,i){this._groups=n,this._parents=r,this._name=e,this._id=i}function Jl(){return++Ng}var Pr=ga.ZP.prototype;gr.prototype=function Fg(n){return(0,ga.ZP)().transition(n)}.prototype={constructor:gr,select:function fg(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=(0,dg.Z)(n));for(var i=this._groups,a=i.length,s=new Array(a),f=0;f<a;++f)for(var W,lt,b=i[f],S=b.length,F=s[f]=new Array(S),st=0;st<S;++st)(W=b[st])&&(lt=n.call(W,W.__data__,st,b))&&("__data__"in W&&(lt.__data__=W.__data__),F[st]=lt,Xa(F[st],r,e,st,F,ir(W,e)));return new gr(s,this._parents,r,e)},selectAll:function mg(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=(0,pg.Z)(n));for(var i=this._groups,a=i.length,s=[],f=[],b=0;b<a;++b)for(var W,S=i[b],F=S.length,lt=0;lt<F;++lt)if(W=S[lt]){for(var vt,st=n.call(W,W.__data__,lt,S),Mt=ir(W,e),Rt=0,bt=st.length;Rt<bt;++Rt)(vt=st[Rt])&&Xa(vt,r,e,Rt,st,Mt);s.push(st),f.push(W)}return new gr(s,f,r,e)},filter:function ag(n){"function"!=typeof n&&(n=(0,rg.Z)(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],f=s.length,b=i[a]=[],F=0;F<f;++F)(S=s[F])&&n.call(S,S.__data__,F,s)&&b.push(S);return new gr(i,this._parents,this._name,this._id)},merge:function sg(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),f=new Array(i),b=0;b<s;++b)for(var st,S=r[b],F=e[b],W=S.length,lt=f[b]=new Array(W),vt=0;vt<W;++vt)(st=S[vt]||F[vt])&&(lt[vt]=st);for(;b<i;++b)f[b]=r[b];return new gr(f,this._parents,this._name,this._id)},selection:function _g(){return new gg(this._groups,this._parents)},transition:function Mg(){for(var n=this._name,r=this._id,e=Jl(),i=this._groups,a=i.length,s=0;s<a;++s)for(var S,f=i[s],b=f.length,F=0;F<b;++F)if(S=f[F]){var W=ir(S,r);Xa(S,n,e,F,f,{time:W.time+W.delay+W.duration,delay:0,duration:W.duration,ease:W.ease})}return new gr(i,this._parents,n,e)},call:Pr.call,nodes:Pr.nodes,node:Pr.node,size:Pr.size,empty:Pr.empty,each:Pr.each,on:function cg(n,r){var e=this._id;return arguments.length<2?ir(this.node(),e).on.on(n):this.each(lg(e,n,r))},attr:function Vm(n,r){var e=(0,Wl.Z)(n),i="transform"===e?Mm:Xl;return this.attrTween(n,"function"==typeof r?(e.local?Gm:Um)(e,i,Fs(this,"attr."+n,r)):null==r?(e.local?Rm:Pm)(e):(e.local?Bm:Zm)(e,i,r))},attrTween:function Xm(n,r){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=(0,Wl.Z)(n);return this.tween(e,(i.local?Hm:Wm)(i,r))},style:function bg(n,r,e){var i="transform"==(n+="")?Im:Xl;return null==r?this.styleTween(n,function vg(n,r){var e,i,a;return function(){var s=(0,_a.S)(this,n),f=(this.style.removeProperty(n),(0,_a.S)(this,n));return s===f?null:s===e&&f===i?a:a=r(e=s,i=f)}}(n,i)).on("end.style."+n,$l(n)):"function"==typeof r?this.styleTween(n,function yg(n,r,e){var i,a,s;return function(){var f=(0,_a.S)(this,n),b=e(this),S=b+"";return null==b&&(this.style.removeProperty(n),S=b=(0,_a.S)(this,n)),f===S?null:f===i&&S===a?s:(a=S,s=r(i=f,b))}}(n,i,Fs(this,"style."+n,r))).each(function Tg(n,r){var e,i,a,b,s="style."+r,f="end."+s;return function(){var S=cr(this,n),F=S.on,W=null==S.value[s]?b||(b=$l(r)):void 0;(F!==e||a!==W)&&(i=(e=F).copy()).on(f,a=W),S.on=i}}(this._id,n)):this.styleTween(n,function xg(n,r,e){var i,s,a=e+"";return function(){var f=(0,_a.S)(this,n);return f===a?null:f===i?s:s=r(i=f,e)}}(n,i,r),e).on("end.style."+n,null)},styleTween:function Ag(n,r,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,wg(n,r,null==e?"":e))},text:function Dg(n){return this.tween("text","function"==typeof n?function Sg(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(Fs(this,"text",n)):function Eg(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function Ig(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,kg(n))},remove:function hg(){return this.on("end.remove",function ug(n){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function Fm(n,r){var e=this._id;if(n+="",arguments.length<2){for(var f,i=ir(this.node(),e).tween,a=0,s=i.length;a<s;++a)if((f=i[a]).name===n)return f.value;return null}return this.each((null==r?Om:Nm)(e,n,r))},delay:function Qm(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?$m:Jm)(r,n)):ir(this.node(),r).delay},duration:function Km(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?jm:qm)(r,n)):ir(this.node(),r).duration},ease:function eg(n){var r=this._id;return arguments.length?this.each(tg(r,n)):ir(this.node(),r).ease},easeVarying:function ig(n){if("function"!=typeof n)throw new Error;return this.each(function ng(n,r){return function(){var e=r.apply(this,arguments);if("function"!=typeof e)throw new Error;cr(this,n).ease=e}}(this._id,n))},end:function Og(){var n,r,e=this,i=e._id,a=e.size();return new Promise(function(s,f){var b={value:f},S={value:function(){0==--a&&s()}};e.each(function(){var F=cr(this,i),W=F.on;W!==n&&((r=(n=W).copy())._.cancel.push(b),r._.interrupt.push(b),r._.end.push(S)),F.on=r}),0===a&&s()})},[Symbol.iterator]:Pr[Symbol.iterator]};var Pg={time:null,delay:0,duration:250,ease:qo.tw};function Rg(n,r){for(var e;!(e=n.__transition)||!(e=e[r]);)if(!(n=n.parentNode))throw new Error(`transition ${r} not found`);return e}ga.ZP.prototype.interrupt=function Dm(n){return this.each(function(){!function Os(n,r){var i,a,f,e=n.__transition,s=!0;if(e){for(f in r=null==r?null:r+"",e)(i=e[f]).name===r?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[f]):s=!1;s&&delete n.__transition}}(this,n)})},ga.ZP.prototype.transition=function Zg(n){var r,e;n instanceof gr?(r=n._id,n=n._name):(r=Jl(),(e=Pg).time=(0,tr.zO)(),n=null==n?null:n+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var S,f=i[s],b=f.length,F=0;F<b;++F)(S=f[F])&&Xa(S,n,r,F,f,e||Rg(S,r));return new gr(i,this._parents,n,r)};Math;function va(n){return{type:n}}function ec(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function Vs(n){let r=n,e=n;function i(f,b,S,F){for(null==S&&(S=0),null==F&&(F=f.length);S<F;){const W=S+F>>>1;e(f[W],b)<0?S=W+1:F=W}return S}return 1===n.length&&(r=(f,b)=>n(f)-b,e=function Qg(n){return(r,e)=>ec(n(r),e)}(n)),{left:i,center:function s(f,b,S,F){null==S&&(S=0),null==F&&(F=f.length);const W=i(f,b,S,F-1);return W>S&&r(f[W-1],b)>-r(f[W],b)?W-1:W},right:function a(f,b,S,F){for(null==S&&(S=0),null==F&&(F=f.length);S<F;){const W=S+F>>>1;e(f[W],b)>0?F=W:S=W+1}return S}}}["w","e"].map(va),["n","s"].map(va),["n","w","e","s","nw","ne","sw","se"].map(va);var zs=Math.sqrt(50),Ys=Math.sqrt(10),Hs=Math.sqrt(2);function Ws(n,r,e){var i=Math.abs(r-n)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/a;return s>=zs?a*=10:s>=Ys?a*=5:s>=Hs&&(a*=2),r<n?-a:a}const vr=1e3,Qi=6e4,xr=60*Qi,Rr=24*xr,Xs=7*Rr,ic=30*Rr,$s=365*Rr;var Js=new Date,Qs=new Date;function Ei(n,r,e,i){function a(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return a.floor=function(s){return n(s=new Date(+s)),s},a.ceil=function(s){return n(s=new Date(s-1)),r(s,1),n(s),s},a.round=function(s){var f=a(s),b=a.ceil(s);return s-f<b-s?f:b},a.offset=function(s,f){return r(s=new Date(+s),null==f?1:Math.floor(f)),s},a.range=function(s,f,b){var F,S=[];if(s=a.ceil(s),b=null==b?1:Math.floor(b),!(s<f&&b>0))return S;do{S.push(F=new Date(+s)),r(s,b),n(s)}while(F<s&&s<f);return S},a.filter=function(s){return Ei(function(f){if(f>=f)for(;n(f),!s(f);)f.setTime(f-1)},function(f,b){if(f>=f)if(b<0)for(;++b<=0;)for(;r(f,-1),!s(f););else for(;--b>=0;)for(;r(f,1),!s(f););})},e&&(a.count=function(s,f){return Js.setTime(+s),Qs.setTime(+f),n(Js),n(Qs),Math.floor(e(Js,Qs))},a.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?a.filter(i?function(f){return i(f)%s==0}:function(f){return a.count(0,f)%s==0}):a:null}),a}var ja=Ei(function(){},function(n,r){n.setTime(+n+r)},function(n,r){return r-n});ja.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Ei(function(r){r.setTime(Math.floor(r/n)*n)},function(r,e){r.setTime(+r+e*n)},function(r,e){return(e-r)/n}):ja:null};const qg=ja;const xa=Ei(function(n){n.setTime(n-n.getMilliseconds())},function(n,r){n.setTime(+n+r*vr)},function(n,r){return(r-n)/vr},function(n){return n.getUTCSeconds()});const sc=Ei(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*vr)},function(n,r){n.setTime(+n+r*Qi)},function(n,r){return(r-n)/Qi},function(n){return n.getMinutes()});const lc=Ei(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*vr-n.getMinutes()*Qi)},function(n,r){n.setTime(+n+r*xr)},function(n,r){return(r-n)/xr},function(n){return n.getHours()});const uc=Ei(n=>n.setHours(0,0,0,0),(n,r)=>n.setDate(n.getDate()+r),(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*Qi)/Rr,n=>n.getDate()-1);function Zr(n){return Ei(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,e){r.setDate(r.getDate()+7*e)},function(r,e){return(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Qi)/Xs})}var js=Zr(0);const dc=(Zr(1),Zr(2),Zr(3),Zr(4),Zr(5),Zr(6),Ei(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,r){n.setMonth(n.getMonth()+r)},function(n,r){return r.getMonth()-n.getMonth()+12*(r.getFullYear()-n.getFullYear())},function(n){return n.getMonth()}));var qs=Ei(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});qs.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ei(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,e){r.setFullYear(r.getFullYear()+e*n)}):null};const fc=qs;const a_=Ei(function(n){n.setUTCSeconds(0,0)},function(n,r){n.setTime(+n+r*Qi)},function(n,r){return(r-n)/Qi},function(n){return n.getUTCMinutes()});const s_=Ei(function(n){n.setUTCMinutes(0,0,0)},function(n,r){n.setTime(+n+r*xr)},function(n,r){return(r-n)/xr},function(n){return n.getUTCHours()});const o_=Ei(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/Rr},function(n){return n.getUTCDate()-1});function Br(n){return Ei(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCDate(r.getUTCDate()+7*e)},function(r,e){return(e-r)/Xs})}var _c=Br(0);const p_=(Br(1),Br(2),Br(3),Br(4),Br(5),Br(6),Ei(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCMonth(n.getUTCMonth()+r)},function(n,r){return r.getUTCMonth()-n.getUTCMonth()+12*(r.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()}));var Ks=Ei(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});Ks.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ei(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCFullYear(r.getUTCFullYear()+e*n)}):null};const m_=Ks;function xc(n,r,e,i,a,s){const f=[[xa,1,vr],[xa,5,5e3],[xa,15,15e3],[xa,30,3e4],[s,1,Qi],[s,5,5*Qi],[s,15,15*Qi],[s,30,30*Qi],[a,1,xr],[a,3,3*xr],[a,6,6*xr],[a,12,12*xr],[i,1,Rr],[i,2,2*Rr],[e,1,Xs],[r,1,ic],[r,3,3*ic],[n,1,$s]];function S(F,W,lt){const st=Math.abs(W-F)/lt,vt=Vs(([,,bt])=>bt).right(f,st);if(vt===f.length)return n.every(Ws(F/$s,W/$s,lt));if(0===vt)return qg.every(Math.max(Ws(F,W,lt),1));const[Mt,Rt]=f[st/f[vt-1][2]<f[vt][2]/st?vt-1:vt];return Mt.every(Rt)}return[function b(F,W,lt){const st=W<F;st&&([F,W]=[W,F]);const vt=lt&&"function"==typeof lt.range?lt:S(F,W,lt),Mt=vt?vt.range(F,+W+1):[];return st?Mt.reverse():Mt},S]}const[rC,aC]=xc(m_,p_,_c,o_,s_,a_),[g_,__]=xc(fc,dc,js,uc,lc,sc);var to=new Date,eo=new Date;function yr(n,r,e,i){function a(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return a.floor=function(s){return n(s=new Date(+s)),s},a.ceil=function(s){return n(s=new Date(s-1)),r(s,1),n(s),s},a.round=function(s){var f=a(s),b=a.ceil(s);return s-f<b-s?f:b},a.offset=function(s,f){return r(s=new Date(+s),null==f?1:Math.floor(f)),s},a.range=function(s,f,b){var F,S=[];if(s=a.ceil(s),b=null==b?1:Math.floor(b),!(s<f&&b>0))return S;do{S.push(F=new Date(+s)),r(s,b),n(s)}while(F<s&&s<f);return S},a.filter=function(s){return yr(function(f){if(f>=f)for(;n(f),!s(f);)f.setTime(f-1)},function(f,b){if(f>=f)if(b<0)for(;++b<=0;)for(;r(f,-1),!s(f););else for(;--b>=0;)for(;r(f,1),!s(f););})},e&&(a.count=function(s,f){return to.setTime(+s),eo.setTime(+f),n(to),n(eo),Math.floor(e(to,eo))},a.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?a.filter(i?function(f){return i(f)%s==0}:function(f){return a.count(0,f)%s==0}):a:null}),a}var bc=6048e5;function Ur(n){return yr(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCDate(r.getUTCDate()+7*e)},function(r,e){return(e-r)/bc})}var Cc=Ur(0),qa=Ur(1),Ka=(Ur(2),Ur(3),Ur(4));const Ac=(Ur(5),Ur(6),yr(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/864e5},function(n){return n.getUTCDate()-1}));function Gr(n){return yr(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,e){r.setDate(r.getDate()+7*e)},function(r,e){return(e-r-6e4*(e.getTimezoneOffset()-r.getTimezoneOffset()))/bc})}var Ec=Gr(0),ts=Gr(1),es=(Gr(2),Gr(3),Gr(4));const Dc=(Gr(5),Gr(6),yr(function(n){n.setHours(0,0,0,0)},function(n,r){n.setDate(n.getDate()+r)},function(n,r){return(r-n-6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()))/864e5},function(n){return n.getDate()-1}));var no=yr(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});no.every=function(n){return isFinite(n=Math.floor(n))&&n>0?yr(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,e){r.setFullYear(r.getFullYear()+e*n)}):null};const ya=no;var io=yr(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});io.every=function(n){return isFinite(n=Math.floor(n))&&n>0?yr(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCFullYear(r.getUTCFullYear()+e*n)}):null};const Ta=io;function ro(n){if(0<=n.y&&n.y<100){var r=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return r.setFullYear(n.y),r}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function ao(n){if(0<=n.y&&n.y<100){var r=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return r.setUTCFullYear(n.y),r}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ba(n,r,e){return{y:n,m:r,d:e,H:0,M:0,S:0,L:0}}var Lc={"-":"",_:" ",0:"0"},Si=/^\s*\d+/,S_=/^%/,D_=/[\\^$*+?|[\]().{}]/g;function Gn(n,r,e){var i=n<0?"-":"",a=(i?-n:n)+"",s=a.length;return i+(s<e?new Array(e-s+1).join(r)+a:a)}function L_(n){return n.replace(D_,"\\$&")}function Ca(n){return new RegExp("^(?:"+n.map(L_).join("|")+")","i")}function wa(n){for(var r={},e=-1,i=n.length;++e<i;)r[n[e].toLowerCase()]=e;return r}function k_(n,r,e){var i=Si.exec(r.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function I_(n,r,e){var i=Si.exec(r.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function M_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function O_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function N_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function F_(n,r,e){var i=Si.exec(r.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function P_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function R_(n,r,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function Z_(n,r,e){var i=Si.exec(r.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function B_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function kc(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function U_(n,r,e){var i=Si.exec(r.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function Ic(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function G_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function V_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function z_(n,r,e){var i=Si.exec(r.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function Y_(n,r,e){var i=Si.exec(r.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function H_(n,r,e){var i=S_.exec(r.slice(e,e+1));return i?e+i[0].length:-1}function W_(n,r,e){var i=Si.exec(r.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function X_(n,r,e){var i=Si.exec(r.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function Mc(n,r){return Gn(n.getDate(),r,2)}function $_(n,r){return Gn(n.getHours(),r,2)}function J_(n,r){return Gn(n.getHours()%12||12,r,2)}function Q_(n,r){return Gn(1+Dc.count(ya(n),n),r,3)}function Oc(n,r){return Gn(n.getMilliseconds(),r,3)}function j_(n,r){return Oc(n,r)+"000"}function q_(n,r){return Gn(n.getMonth()+1,r,2)}function K_(n,r){return Gn(n.getMinutes(),r,2)}function tv(n,r){return Gn(n.getSeconds(),r,2)}function ev(n){var r=n.getDay();return 0===r?7:r}function nv(n,r){return Gn(Ec.count(ya(n)-1,n),r,2)}function iv(n,r){var e=n.getDay();return n=e>=4||0===e?es(n):es.ceil(n),Gn(es.count(ya(n),n)+(4===ya(n).getDay()),r,2)}function rv(n){return n.getDay()}function av(n,r){return Gn(ts.count(ya(n)-1,n),r,2)}function sv(n,r){return Gn(n.getFullYear()%100,r,2)}function ov(n,r){return Gn(n.getFullYear()%1e4,r,4)}function lv(n){var r=n.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Gn(r/60|0,"0",2)+Gn(r%60,"0",2)}function Nc(n,r){return Gn(n.getUTCDate(),r,2)}function cv(n,r){return Gn(n.getUTCHours(),r,2)}function uv(n,r){return Gn(n.getUTCHours()%12||12,r,2)}function hv(n,r){return Gn(1+Ac.count(Ta(n),n),r,3)}function Fc(n,r){return Gn(n.getUTCMilliseconds(),r,3)}function dv(n,r){return Fc(n,r)+"000"}function fv(n,r){return Gn(n.getUTCMonth()+1,r,2)}function pv(n,r){return Gn(n.getUTCMinutes(),r,2)}function mv(n,r){return Gn(n.getUTCSeconds(),r,2)}function gv(n){var r=n.getUTCDay();return 0===r?7:r}function _v(n,r){return Gn(Cc.count(Ta(n)-1,n),r,2)}function vv(n,r){var e=n.getUTCDay();return n=e>=4||0===e?Ka(n):Ka.ceil(n),Gn(Ka.count(Ta(n),n)+(4===Ta(n).getUTCDay()),r,2)}function xv(n){return n.getUTCDay()}function yv(n,r){return Gn(qa.count(Ta(n)-1,n),r,2)}function Tv(n,r){return Gn(n.getUTCFullYear()%100,r,2)}function bv(n,r){return Gn(n.getUTCFullYear()%1e4,r,4)}function Cv(){return"+0000"}function Pc(){return"%"}function Rc(n){return+n}function Zc(n){return Math.floor(+n/1e3)}!function Sv(n){(function E_(n){var r=n.dateTime,e=n.date,i=n.time,a=n.periods,s=n.days,f=n.shortDays,b=n.months,S=n.shortMonths,F=Ca(a),W=wa(a),lt=Ca(s),st=wa(s),vt=Ca(f),Mt=wa(f),Rt=Ca(b),bt=wa(b),$t=Ca(S),ne=wa(S),Kt={a:function Ti(Ae){return f[Ae.getDay()]},A:function dr(Ae){return s[Ae.getDay()]},b:function bi(Ae){return S[Ae.getMonth()]},B:function Ci(Ae){return b[Ae.getMonth()]},c:null,d:Mc,e:Mc,f:j_,H:$_,I:J_,j:Q_,L:Oc,m:q_,M:K_,p:function oi(Ae){return a[+(Ae.getHours()>=12)]},q:function li(Ae){return 1+~~(Ae.getMonth()/3)},Q:Rc,s:Zc,S:tv,u:ev,U:nv,V:iv,w:rv,W:av,x:null,X:null,y:sv,Y:ov,Z:lv,"%":Pc},Se={a:function Aa(Ae){return f[Ae.getUTCDay()]},A:function aa(Ae){return s[Ae.getUTCDay()]},b:function sa(Ae){return S[Ae.getUTCMonth()]},B:function oa(Ae){return b[Ae.getUTCMonth()]},c:null,d:Nc,e:Nc,f:dv,H:cv,I:uv,j:hv,L:Fc,m:fv,M:pv,p:function Fi(Ae){return a[+(Ae.getUTCHours()>=12)]},q:function rs(Ae){return 1+~~(Ae.getUTCMonth()/3)},Q:Rc,s:Zc,S:mv,u:gv,U:_v,V:vv,w:xv,W:yv,x:null,X:null,y:Tv,Y:bv,Z:Cv,"%":Pc},Fe={a:function Vn(Ae,rn,Cn){var ue=vt.exec(rn.slice(Cn));return ue?(Ae.w=Mt[ue[0].toLowerCase()],Cn+ue[0].length):-1},A:function zn(Ae,rn,Cn){var ue=lt.exec(rn.slice(Cn));return ue?(Ae.w=st[ue[0].toLowerCase()],Cn+ue[0].length):-1},b:function mi(Ae,rn,Cn){var ue=$t.exec(rn.slice(Cn));return ue?(Ae.m=ne[ue[0].toLowerCase()],Cn+ue[0].length):-1},B:function vi(Ae,rn,Cn){var ue=Rt.exec(rn.slice(Cn));return ue?(Ae.m=bt[ue[0].toLowerCase()],Cn+ue[0].length):-1},c:function xi(Ae,rn,Cn){return xn(Ae,r,rn,Cn)},d:kc,e:kc,f:Y_,H:Ic,I:Ic,j:U_,L:z_,m:B_,M:G_,p:function Sn(Ae,rn,Cn){var ue=F.exec(rn.slice(Cn));return ue?(Ae.p=W[ue[0].toLowerCase()],Cn+ue[0].length):-1},q:Z_,Q:W_,s:X_,S:V_,u:I_,U:M_,V:O_,w:k_,W:N_,x:function hr(Ae,rn,Cn){return xn(Ae,e,rn,Cn)},X:function yi(Ae,rn,Cn){return xn(Ae,i,rn,Cn)},y:P_,Y:F_,Z:R_,"%":H_};function be(Ae,rn){return function(Cn){var Gi,tn,ai,ue=[],ri=-1,Pn=0,Ui=Ae.length;for(Cn instanceof Date||(Cn=new Date(+Cn));++ri<Ui;)37===Ae.charCodeAt(ri)&&(ue.push(Ae.slice(Pn,ri)),null!=(tn=Lc[Gi=Ae.charAt(++ri)])?Gi=Ae.charAt(++ri):tn="e"===Gi?" ":"0",(ai=rn[Gi])&&(Gi=ai(Cn,tn)),ue.push(Gi),Pn=ri+1);return ue.push(Ae.slice(Pn,ri)),ue.join("")}}function hn(Ae,rn){return function(Cn){var Pn,Ui,ue=ba(1900,void 0,1);if(xn(ue,Ae,Cn+="",0)!=Cn.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(1e3*ue.s+("L"in ue?ue.L:0));if(rn&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+12*ue.p),void 0===ue.m&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ui=(Pn=ao(ba(ue.y,0,1))).getUTCDay(),Pn=Ui>4||0===Ui?qa.ceil(Pn):qa(Pn),Pn=Ac.offset(Pn,7*(ue.V-1)),ue.y=Pn.getUTCFullYear(),ue.m=Pn.getUTCMonth(),ue.d=Pn.getUTCDate()+(ue.w+6)%7):(Ui=(Pn=ro(ba(ue.y,0,1))).getDay(),Pn=Ui>4||0===Ui?ts.ceil(Pn):ts(Pn),Pn=Dc.offset(Pn,7*(ue.V-1)),ue.y=Pn.getFullYear(),ue.m=Pn.getMonth(),ue.d=Pn.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ui="Z"in ue?ao(ba(ue.y,0,1)).getUTCDay():ro(ba(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+7*ue.W-(Ui+5)%7:ue.w+7*ue.U-(Ui+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,ao(ue)):ro(ue)}}function xn(Ae,rn,Cn,ue){for(var Gi,tn,ri=0,Pn=rn.length,Ui=Cn.length;ri<Pn;){if(ue>=Ui)return-1;if(37===(Gi=rn.charCodeAt(ri++))){if(Gi=rn.charAt(ri++),!(tn=Fe[Gi in Lc?rn.charAt(ri++):Gi])||(ue=tn(Ae,Cn,ue))<0)return-1}else if(Gi!=Cn.charCodeAt(ue++))return-1}return ue}return Kt.x=be(e,Kt),Kt.X=be(i,Kt),Kt.c=be(r,Kt),Se.x=be(e,Se),Se.X=be(i,Se),Se.c=be(r,Se),{format:function(Ae){var rn=be(Ae+="",Kt);return rn.toString=function(){return Ae},rn},parse:function(Ae){var rn=hn(Ae+="",!1);return rn.toString=function(){return Ae},rn},utcFormat:function(Ae){var rn=be(Ae+="",Se);return rn.toString=function(){return Ae},rn},utcParse:function(Ae){var rn=hn(Ae+="",!0);return rn.toString=function(){return Ae},rn}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Vs(ec),Vs(function Dv(n){return null===n?NaN:+n}),o(47927),o(32517),o(38914),o(22910),o(65142),o(78986),o(16087);const e0=["caretElm"];function n0(n,r){}const r0=function(n){return{model:n}};function a0(n,r){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,n0,0,0,"ng-template",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.VKq(2,r0,e.context))}}function s0(n,r){if(1&n&&t._UZ(0,"span",6),2&n){const e=t.oxw();t.Q6J("innerHTML",e.title,t.oJD)}}function hx(n,r,e){e=e||{};let i,a,s,f=null,b=0;function S(){b=!1===e.leading?0:+new Date,f=null,s=n.apply(i,a)}return function(){const F=+new Date;!b&&!1===e.leading&&(b=F);const W=r-(F-b);return i=this,a=arguments,W<=0?(clearTimeout(f),f=null,b=F,s=n.apply(i,a)):!f&&!1!==e.trailing&&(f=setTimeout(S,W)),s}}function dx(n,r){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:hx(s.value,n,r)}),this[a]}}}}var pn=(()=>{return(n=pn||(pn={})).Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",pn;var n})();function jc(n,r,e){return e===pn.Top?n.top-7:e===pn.Bottom?n.top+n.height-r.height+7:e===pn.Center?n.top+n.height/2-r.height/2:void 0}function qc(n,r,e){return e===pn.Left?n.left-7:e===pn.Right?n.left+n.width-r.width+7:e===pn.Center?n.left+n.width/2-r.width/2:void 0}class Xi{static calculateVerticalAlignment(r,e,i){let a=jc(r,e,i);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(r,e,i,a){let s;a===pn.Top&&(s=r.height/2-i.height/2+7),a===pn.Bottom&&(s=e.height-r.height/2-i.height/2-7),a===pn.Center&&(s=e.height/2-i.height/2);const f=jc(r,e,a);return f+e.height>window.innerHeight&&(s+=f+e.height-window.innerHeight),s}static calculateHorizontalAlignment(r,e,i){let a=qc(r,e,i);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(r,e,i,a){let s;a===pn.Left&&(s=r.width/2-i.width/2+7),a===pn.Right&&(s=e.width-r.width/2-i.width/2-7),a===pn.Center&&(s=e.width/2-i.width/2);const f=qc(r,e,a);return f+e.width>window.innerWidth&&(s+=f+e.width-window.innerWidth),s}static shouldFlip(r,e,i,a){let s=!1;return i===pn.Right&&r.left+r.width+e.width+a>window.innerWidth&&(s=!0),i===pn.Left&&r.left-e.width-a<0&&(s=!0),i===pn.Top&&r.top-e.height-a<0&&(s=!0),i===pn.Bottom&&r.top+r.height+e.height+a>window.innerHeight&&(s=!0),s}static positionCaret(r,e,i,a,s){let f=0,b=0;return r===pn.Right?(b=-7,f=Xi.calculateVerticalCaret(i,e,a,s)):r===pn.Left?(b=e.width,f=Xi.calculateVerticalCaret(i,e,a,s)):r===pn.Top?(f=e.height,b=Xi.calculateHorizontalCaret(i,e,a,s)):r===pn.Bottom&&(f=-7,b=Xi.calculateHorizontalCaret(i,e,a,s)),{top:f,left:b}}static positionContent(r,e,i,a,s){let f=0,b=0;return r===pn.Right?(b=i.left+i.width+a,f=Xi.calculateVerticalAlignment(i,e,s)):r===pn.Left?(b=i.left-e.width-a,f=Xi.calculateVerticalAlignment(i,e,s)):r===pn.Top?(f=i.top-e.height-a,b=Xi.calculateHorizontalAlignment(i,e,s)):r===pn.Bottom&&(f=i.top+i.height+a,b=Xi.calculateHorizontalAlignment(i,e,s)),{top:f,left:b}}static determinePlacement(r,e,i,a){if(Xi.shouldFlip(i,e,r,a)){if(r===pn.Right)return pn.Left;if(r===pn.Left)return pn.Right;if(r===pn.Top)return pn.Bottom;if(r===pn.Bottom)return pn.Top}return r}}let fx=(()=>{class n{constructor(e,i,a){this.element=e,this.renderer=i,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,_.NF)(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=e.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(e,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,a){const{top:s,left:f}=Xi.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${f}px`)}positionCaret(e,i){const a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:f,left:b}=Xi.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(a,"top",`${f}px`),this.renderer.setStyle(a,"left",`${b}px`)}checkFlip(e,i){this.placement=Xi.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&t.Gf(e0,5),2&e){let a;t.iGM(a=t.CRH())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("resize",function(){return i.onWindowResize()},!1,t.Jf7),2&e&&t.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"span",0,1),t.TgZ(3,"div",2),t.YNc(4,a0,2,4,"span",3),t.YNc(5,s0,1,1,"span",4),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Gre("tooltip-caret position-",i.placement,""),t.Q6J("hidden",!i.showCaret),t.xp6(3),t.Q6J("ngIf",!i.title),t.xp6(1),t.Q6J("ngIf",i.title))},directives:[_.O5,_.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,oe.gn)([dx(100)],n.prototype,"onWindowResize",null),n})(),Kc=(()=>{class n{constructor(e,i,a){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function mx(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const s of a)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const s of a)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},a){a||(a=this.getRootViewContainer());const s=this.getComponentRootNode(a),f=new Cl.u0(s,this.componentFactoryResolver,this.applicationRef,this.injector),b=new Cl.C5(e),S=f.attach(b);return this.projectComponentBindings(S,i),S}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t._Vd),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),lo=(()=>{class n extends class px{constructor(r){this.injectionService=r,this.defaults={},this.components=new Map}getByType(r=this.type){return this.components.get(r)}create(r){return this.createByType(this.type,r)}createByType(r,e){e=this.assignDefaults(e);const i=this.injectComponent(r,e);return this.register(r,i),i}destroy(r){const e=this.components.get(r.componentType);if(e&&e.length){const i=e.indexOf(r);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(r){const e=this.components.get(r);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(r,e){return this.injectionService.appendComponent(r,e)}assignDefaults(r){const e=Object.assign({},this.defaults.inputs),i=Object.assign({},this.defaults.outputs);return!r.inputs&&!r.outputs&&(r={inputs:r}),e&&(r.inputs=Object.assign(Object.assign({},e),r.inputs)),i&&(r.outputs=Object.assign(Object.assign({},i),r.outputs)),r}register(r,e){this.components.has(r)||this.components.set(r,[]),this.components.get(r).push(e)}}{constructor(e){super(e),this.type=fx}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Kc))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez]]}),n})();var na=(()=>{return(n=na||(na={})).popover="popover",n.tooltip="tooltip",na;var n})(),Er=(()=>{return(n=Er||(Er={}))[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",Er;var n})();let fo,uo=(()=>{class n{constructor(e,i,a){this.tooltipService=e,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=pn.Top,this.tooltipAlignment=pn.Center,this.tooltipType=na.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Er.all,this.tooltipImmediateExit=!1,this.show=new t.vpe,this.hide=new t.vpe}get listensForFocus(){return this.tooltipShowEvent===Er.all||this.tooltipShowEvent===Er.focus}get listensForHover(){return this.tooltipShowEvent===Er.all||this.tooltipShowEvent===Er.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(lo),t.Y36(t.s_b),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&t.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),n})(),su=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Kc,lo],imports:[[_.ez]]}),n})();"undefined"!=typeof window?fo=window:"undefined"!=typeof global&&(fo=global);let ji=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,au,su],_.ez,au,su]}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),pu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),mu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})();Math;let mo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji,mo,mu]]}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji,mo,pu]]}),n})(),Bx=(()=>{class n{constructor(){!function Zx(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ji,Sx,pu,Dx,Lx,kx,mu,Ox,Fx,mo,Px,Rx]}),n})();function Ux(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner",3),t.qZA())}function Gx(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_3")," "),t.xp6(3),t.Oqu(e.service)}}function Vx(n,r){1&n&&(t.O4$(),t.TgZ(0,"marker",10),t._UZ(1,"path",11),t.qZA())}function zx(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",12),t._UZ(1,"rect"),t.TgZ(2,"text",13),t._uU(3),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.Q6J("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",e.tooltip),t.xp6(1),t.uIk("width",e.dimension.width)("height",e.dimension.height)("fill",e.color),t.xp6(1),t.uIk("x",10)("y",e.dimension.height/2),t.xp6(1),t.hij(" ",e.label," ")}}function Yx(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",14),t._UZ(1,"path",15),t.TgZ(2,"text",16),t.TgZ(3,"textPath",17),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(3),t.uIk("href","#"+e.id),t.xp6(1),t.hij(" ",e.label," ")}}const Hx=function(n,r){return[n,r]};function Wx(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"strong"),t._uU(8),t.qZA(),t.YNc(9,Gx,5,4,"span",4),t.TgZ(10,"div",5),t.TgZ(11,"ngx-graph",6),t.YNc(12,Vx,2,0,"ng-template",null,7,t.W1O),t.YNc(14,zx,4,9,"ng-template",null,8,t.W1O),t.YNc(16,Yx,5,2,"ng-template",null,9,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,12,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_1")," "),t.xp6(3),t.AsE("",e.user.firstName," ",e.user.lastName,""),t.xp6(1),t.hij(" ",t.lcZ(6,14,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_2")," "),t.xp6(3),t.Oqu(e.destination),t.xp6(1),t.Q6J("ngIf","noService"!==e.service),t.xp6(2),t.Q6J("links",e.hierarchialGraph.links)("nodes",e.hierarchialGraph.nodes)("curve",e.curve)("draggingEnabled",!1)("zoomToFit$",e.zoomToFit$)("view",t.WLB(16,Hx,e.innerWidth,e.innerHeight))}}function Xx(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_3")," "),t.xp6(3),t.Oqu(e.service)}}function $x(n,r){if(1&n&&(t._uU(0),t.ALo(1,"translate"),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"strong"),t._uU(7),t.qZA(),t.YNc(8,Xx,5,4,"span",4),t._uU(9),t.ALo(10,"translate")),2&n){const e=t.oxw(2);t.hij(" ",t.lcZ(1,7,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_1")," "),t.xp6(3),t.AsE("",e.user.firstName," ",e.user.lastName,""),t.xp6(1),t.hij(" ",t.lcZ(5,9,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_2")," "),t.xp6(3),t.Oqu(e.destination),t.xp6(1),t.Q6J("ngIf","noService"!==e.service),t.xp6(1),t.hij(" ",t.lcZ(10,11,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_4")," ")}}function Jx(n,r){if(1&n&&(t.YNc(0,Wx,18,19,"div",1),t.YNc(1,$x,11,13,"ng-template",null,2,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.isConnected)("ngIfElse",e)}}let Qx=(()=>{class n{constructor(e,i,a,s,f,b,S,F,W){this.route=e,this.facilityManager=i,this.userService=a,this.membersService=s,this.serviceService=f,this.resourceManager=b,this.groupService=S,this.voService=F,this.translate=W,this.idCounter=0,this.isConnected=!1,this.loading=!0,this.hierarchialGraph={nodes:[],links:[]},this.curve=On,this.zoomToFit$=new An.xQ}ngOnInit(){this.innerWidth=window.innerWidth<600?window.innerWidth:window.innerWidth-420,this.innerHeight=window.innerHeight,this.getLocalizedNames(),this.route.queryParams.subscribe(e=>{console.log(e),this.destination=e.destination,this.service=e.service,this.userService.getUserById(e.user).subscribe(i=>{this.user=i,this.facilityManager.getFacilitiesByDestination(this.destination).subscribe(a=>{this.facilities=a,this.membersService.getMembersByUser(this.user.id).subscribe(s=>{if(this.membership=s,0===this.membership.length||0===this.facilities.length)return this.loading=!1,void(this.isConnected=!1);this.showGraph()})})})})}showGraph(){const e=""+this.id();this.hierarchialGraph.nodes=[...this.hierarchialGraph.nodes,{id:e,label:this.user.firstName+" "+this.user.lastName,tooltip:this.localUser,color:"#FFFFCC",tip:"user: "+this.user.id}];const b=""+this.id(),S="destination no id";this.hierarchialGraph.nodes="noService"===this.service?[...this.hierarchialGraph.nodes,{id:b,label:this.destination,tooltip:this.localDestination+": "+this.destination,color:"#E0E0E0",tip:S}]:[...this.hierarchialGraph.nodes,{id:b,label:this.service+": "+this.destination,tooltip:this.localService+": "+this.service+", "+this.localDestination+": "+this.destination,color:"#E0E0E0",tip:S}];for(const F of this.facilities)this.serviceService.getAllRichDestinationsForFacility(F.id).subscribe(W=>{this.connectToService(F,W),this.delay(2e3).then(()=>{this.zoomToFit$.next(!0),this.loading=!1})})}connectToService(e,i){this.isConnectedToService(i)&&this.facilityManager.getAssignedResourcesForFacility(e.id).subscribe(a=>{for(let s=0;s<this.membership.length;s++)this.connectToGroups(e,this.membership[s],a)})}connectToGroups(e,i,a){this.facilityManager.getAllowedGroups(e.id,i.voId).subscribe(s=>{0!==s.length&&this.groupService.getMemberGroups(i.id).subscribe(f=>{const b=this.findConnectedGroups(s,f);if(0!==b.length)for(const S of b)this.connectToResource(e,S,a)})})}connectToResource(e,i,a){this.resourceManager.getAssignedResourcesWithGroup(i.id).subscribe(s=>{const f=this.findConnectedResources(s,a);for(const b of f)this.resourceManager.getAssignedServicesToResource(b.id).subscribe(S=>{this.haveService(S)&&(this.isConnected=!0,this.addNodesToGraph(i.voId,i,b,e))})})}addNodesToGraph(e,i,a,s){if(-1===this.findEntityInGraph("Facility: "+s.id)){const f=""+this.id();this.hierarchialGraph.nodes=[...this.hierarchialGraph.nodes,{id:f,label:this.localFacility+": "+s.name,tooltip:s.description,color:"#FFCCFF",tip:"Facility: "+s.id}];const lt={source:f,target:this.hierarchialGraph.nodes[this.findEntityInGraph("destination no id")].id};this.hierarchialGraph.links=[...this.hierarchialGraph.links,lt]}this.voService.getVoById(e).subscribe(f=>{if(-1===this.findEntityInGraph("Vo: "+f.id)){const S=""+this.id();this.hierarchialGraph.nodes=[...this.hierarchialGraph.nodes,{id:S,label:this.localVo+": "+f.shortName,tooltip:f.name,color:"#E5FFCC",tip:"Vo: "+f.id}];const vt={source:this.hierarchialGraph.nodes[this.findEntityInGraph("user: "+this.user.id)].id,target:S};this.hierarchialGraph.links=[...this.hierarchialGraph.links,vt]}if(-1===this.findEntityInGraph("Group: "+i.id)){const S=""+this.id();this.hierarchialGraph.nodes=[...this.hierarchialGraph.nodes,{id:S,label:this.localGroup+": "+i.name,tooltip:i.description,color:"#CCE5FF",tip:"Group: "+i.id}];const vt={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Vo: "+f.id)].id,target:S};this.hierarchialGraph.links=[...this.hierarchialGraph.links,vt]}const b=this.findEntityInGraph("Resource: "+a.id);if(-1!==b){const S={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Group: "+i.id)].id,target:this.hierarchialGraph.nodes[b].id};this.hierarchialGraph.links=[...this.hierarchialGraph.links,S]}else{const S=""+this.id();this.hierarchialGraph.nodes=[...this.hierarchialGraph.nodes,{id:S,label:this.localResource+": "+a.name,tooltip:a.description,color:"#FFCCCC",tip:"Resource: "+a.id}];const vt={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Group: "+i.id)].id,target:S};this.hierarchialGraph.links=[...this.hierarchialGraph.links,vt];const Mt={source:S,target:this.hierarchialGraph.nodes[this.findEntityInGraph("Facility: "+s.id)].id};this.hierarchialGraph.links=[...this.hierarchialGraph.links,Mt]}})}haveService(e){if("noService"===this.service)return!0;for(const i of e)if(this.service===i.name)return!0;return!1}findConnectedGroups(e,i){const a=[];for(let s=0;s<e.length;s++)for(let f=0;f<i.length;f++)e[s].id===i[f].id&&a.push(e[s]);return a}findConnectedResources(e,i){const a=[];for(let s=0;s<e.length;s++)for(let f=0;f<i.length;f++)e[s].id===i[f].id&&a.push(e[s]);return a}findEntityInGraph(e){for(let i=0;i<this.hierarchialGraph.nodes.length;i++)if(this.hierarchialGraph.nodes[i].tip===e)return i;return-1}isConnectedToService(e){for(const i of e)if(i.destination===this.destination&&(i.service.name===this.service||"noService"===this.service))return!0;return!1}id(){return this.idCounter++,this.idCounter}delay(e){return(0,oe.mG)(this,void 0,void 0,function*(){yield new Promise(i=>setTimeout(()=>i(),e)).then(()=>console.log("fired"))})}onResize(){this.innerWidth=window.innerWidth<600?window.innerWidth:window.innerWidth-420,this.innerHeight=window.innerHeight}getLocalizedNames(){this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.USER").subscribe(e=>{this.localUser=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.VO").subscribe(e=>{this.localVo=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.GROUP").subscribe(e=>{this.localGroup=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.RESOURCE").subscribe(e=>{this.localResource=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.FACILITY").subscribe(e=>{this.localFacility=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.SERVICE").subscribe(e=>{this.localService=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.DESTINATION").subscribe(e=>{this.localDestination=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(z.IQ),t.Y36(z.Fv),t.Y36(z.uq),t.Y36(z.KK),t.Y36(z.xk),t.Y36(z.ff),t.Y36(z.YF),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-destination-graph"]],hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("resize",function(s){return i.onResize(s)},!1,t.Jf7),2&e&&t.ekj("router-component",i.true)},decls:6,vars:5,consts:[[1,"page-subtitle"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"ml-auto","mr-auto"],[4,"ngIf"],[1,"card","w-100","h-100"],[1,"chart-container",3,"links","nodes","curve","draggingEnabled","zoomToFit$","view"],["defsTemplate",""],["nodeTemplate",""],["linkTemplate",""],["id","arrow","viewBox","0 -5 10 10","refX","8","refY","0","markerWidth","4","markerHeight","4","orient","auto"],["d","M0,-5L10,0L0,5",1,"arrow-head"],["ngx-tooltip","",1,"node",3,"tooltipPlacement","tooltipType","tooltipTitle"],["alignment-baseline","central"],[1,"edge"],["stroke-width","2","marker-end","url(#arrow)",1,"line"],["text-anchor","end",1,"edge-label"],["startOffset","60%",2,"fill","#000"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,Ux,2,0,"div",1),t.YNc(4,Jx,3,2,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(5);t.xp6(1),t.hij(" ",t.lcZ(2,3,"ADMIN.VISUALIZER.USER_DESTINATION.TITLE"),"\n"),t.xp6(2),t.Q6J("ngIf",i.loading)("ngIfElse",a)}},directives:[_.O5,tt.$g,tm,uo],pipes:[p.X$],styles:[""]}),n})();var jx=o(25828),qx=o(29862),Kx=o(31359);function ty(n,r){1&n&&t._UZ(0,"mat-spinner",3)}function ey(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editUser()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}const ny=function(){return{color:"black"}},iy=function(n){return["/admin/users",n]};function ry(n,r){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"mat-icon",5),t.ALo(2,"translate"),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"a",8),t._uU(6),t.ALo(7,"userFullName"),t.qZA(),t.TgZ(8,"span",9),t._uU(9),t.qZA(),t.YNc(10,ey,3,0,"button",10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"span",11),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",t.lcZ(2,12,"ADMIN_USER.ENTITY")),t.Q6J("ngStyle",t.DdM(22,ny))("svgIcon",e.svgIcon),t.xp6(4),t.Q6J("routerLink",t.VKq(23,iy,e.user.id)),t.xp6(1),t.hij(" ",t.lcZ(7,14,e.user)," "),t.xp6(3),t.hij(" \xa0#",e.user.id," "),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(2),t.AsE("",t.lcZ(13,16,"ADMIN_USER.UUID"),": ",e.user.uuid,""),t.xp6(3),t.lnq(" ",t.lcZ(16,18,"ADMIN_USER.ENTITY"),", ",t.lcZ(17,20,"ADMIN_USER.USER_TYPE"),": ",e.getUserType()," ")}}let ay=(()=>{class n{constructor(e,i,a,s,f,b,S){this.route=e,this.usersService=i,this.sideMenuService=a,this.sideMenuItemService=s,this.dialog=f,this.authResolver=b,this.entityStorageService=S,this.loading=!1,this.svgIcon="perun-user-dark"}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{const i=e.userId;this.entityStorageService.setEntity({id:Number(i),beanName:"User"}),this.path=`/admin/users/${i}`,this.regex="/admin/users/\\d+",this.usersService.getUserById(i).subscribe(a=>{this.user=a,this.user.serviceUser&&(this.svgIcon="perun-service-identity");const s=this.sideMenuItemService.parseUser(a,this.path,this.regex);this.sideMenuService.setAdminItems([s]),this.loading=!1},()=>this.loading=!1)})}editUser(){const e=(0,de.kZ)();e.width="450px",e.data={theme:"admin-theme",user:this.user},this.dialog.open(qx.x,e).afterClosed().subscribe(a=>{a&&this.usersService.getUserById(this.user.id).subscribe(s=>{this.user=s})})}getUserType(){return this.user.serviceUser?"Service":"Person"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(z.Fv),t.Y36(c.D),t.Y36(l.V),t.Y36(R.uw),t.Y36(H.x4),t.Y36(H.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-user-detail-page"]],decls:5,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","user-theme"],["class","mr-auto ml-auto",4,"ngIf"],["class","d-flex page-title-headtitle",4,"ngIf"],[1,"mr-auto","ml-auto"],[1,"d-flex","page-title-headtitle"],[1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle","svgIcon"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"user-link",3,"routerLink"],[1,"text-muted"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"mt-1","entity-info"],["mat-icon-button","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.YNc(2,ty,1,0,"mat-spinner",1),t.YNc(3,ry,18,25,"div",2),t._UZ(4,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&void 0!==i.user))},directives:[h.W,_.O5,tt.$g,g.Hw,Ut.gM,_.PC,m.yS,ot.lW,d.A],pipes:[p.X$,Kx.d],styles:[""]}),n})();var sy=o(17755),oy=o(74837),ly=o(85985),cy=o(98973),uy=o(15935);function hy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onLoad()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.EXT_SOURCES.LOAD")," "))}function dy(n,r){1&n&&t._UZ(0,"mat-spinner",6)}const fy=function(){return["id","name","type"]};function py(n,r){if(1&n&&t._UZ(0,"app-ext-sources-list",7),2&n){const e=t.oxw();t.Q6J("extSources",e.extSources)("filterValue",e.filterValue)("displayedColumns",t.DdM(4,fy))("tableId",e.tableId)}}let my=(()=>{class n{constructor(e,i,a,s){this.extSourceService=e,this.notificator=i,this.translate=a,this.authResolver=s,this.extSources=[],this.filterValue="",this.loading=!1,this.tableId=gn.qy,this.translate.get("ADMIN.EXT_SOURCES.LOAD_SUCCESS").subscribe(f=>this.loadSuccess=f)}ngOnInit(){this.refreshTable()}applyFilter(e){this.filterValue=e}onLoad(){this.extSourceService.loadExtSourcesDefinitions().subscribe(()=>{this.notificator.showSuccess(this.loadSuccess),this.refreshTable()})}refreshTable(){this.loading=!0,this.extSourceService.getExtSources().subscribe(e=>{this.extSources=e,this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.KG),t.Y36(H.V6),t.Y36(p.sK),t.Y36(H.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-ext-sources"]],decls:8,vars:7,consts:[[1,"page-subtitle"],["mat-stroked-button","","class","mr-2",3,"click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"extSources","filterValue","displayedColumns","tableId",4,"ngIf"],["mat-stroked-button","",1,"mr-2",3,"click"],[1,"ml-auto","mr-auto"],[3,"extSources","filterValue","displayedColumns","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,hy,3,3,"button",1),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(6,dy,1,0,"mat-spinner",3),t.YNc(7,py,1,5,"app-ext-sources-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.EXT_SOURCES.TITLE")),t.xp6(2),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.EXT_SOURCES.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[_.O5,ot.lW,je.L,tt.$g,uy.D],pipes:[p.X$],styles:[""]}),n})();var gy=o(6097),_y=o(97453),gu=o(1059),_u=o(24850);function vy(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function xy(n,r){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function yy(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"mat-form-field",8),t._UZ(2,"input",9),t.ALo(3,"translate"),t.TgZ(4,"mat-error"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",8),t._UZ(8,"input",10),t.ALo(9,"translate"),t.TgZ(10,"mat-error"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"mat-autocomplete",11,12),t.YNc(15,xy,2,2,"mat-option",13),t.ALo(16,"async"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.MAs(14),i=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,9,"DIALOGS.ADD_USER_EXT_SOURCE.LOGIN")),t.Q6J("formControl",i.loginControl),t.xp6(3),t.hij(" ",t.lcZ(6,11,"DIALOGS.ADD_USER_EXT_SOURCE.EMPTY_LOGIN")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(9,13,"DIALOGS.ADD_USER_EXT_SOURCE.EXT_SOURCE")),t.Q6J("formControl",i.extSourcesControl)("matAutocomplete",e),t.xp6(3),t.hij(" ",t.lcZ(12,15,"DIALOGS.ADD_USER_EXT_SOURCE.EMPTY_EXT_SOURCE")," "),t.xp6(2),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(16,17,i.filteredExtSources))}}let Ty=(()=>{class n{constructor(e,i,a,s,f,b){this.dialogRef=e,this.data=i,this.extSourcesManagerService=a,this.usersManagerService=s,this.translate=f,this.notificator=b,this.extSources=[],f.get("DIALOGS.ADD_USER_EXT_SOURCE.SUCCESS").subscribe(S=>this.successMessage=S)}ngOnInit(){this.loading=!0,this.loginControl=new ft.NI("",[ft.kI.required,ft.kI.pattern(".*[\\S]+.*")]),this.extSourcesControl=new ft.NI("",[ft.kI.required]),this.loginControl.markAllAsTouched(),this.extSourcesControl.markAllAsTouched(),this.filteredExtSources=this.extSourcesControl.valueChanges.pipe((0,gu.O)(""),(0,_u.U)(e=>this._filter(e))),this.extSourcesManagerService.getExtSources().subscribe(e=>{this.extSources=e,this.filteredExtSources=this.extSourcesControl.valueChanges.pipe((0,gu.O)(""),(0,_u.U)(i=>this._filter(i))),this.loading=!1},()=>this.loading=!1)}displayFn(e){return e?e.name:null}onCancel(){this.dialogRef.close(!1)}onAdd(){this.loading=!0,this.usersManagerService.addUserExtSource({user:this.data.userId,userExtSource:{beanName:"",extSource:this.extSourcesControl.value,id:0,login:this.loginControl.value,userId:this.data.userId}}).subscribe(()=>{this.loading=!1,this.notificator.showSuccess(this.successMessage),this.dialogRef.close(!0)},()=>this.loading=!1)}_filter(e){const i="string"==typeof e?e.toLowerCase():e.name.toLowerCase;return this.extSources.filter(a=>a.name.toLowerCase().includes(i))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(z.KG),t.Y36(z.Fv),t.Y36(p.sK),t.Y36(H.V6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-user-ext-source-dialog"]],decls:13,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-container","user-theme"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[1,"center-self","w-100"],["matInput","","required","",3,"formControl","placeholder"],["matInput","","type","text","required","",3,"formControl","matAutocomplete","placeholder"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,vy,1,0,"mat-spinner",2),t.YNc(5,yy,17,19,"div",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.onAdd()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"DIALOGS.ADD_USER_EXT_SOURCE.TITLE")),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.ADD_USER_EXT_SOURCE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loginControl.invalid||i.extSourcesControl.invalid||i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.ADD_USER_EXT_SOURCE.ADD")," "))},directives:[R.uh,R.xY,_.O5,tt.$g,G.KE,M.Nt,ft.Fj,ft.Q7,ft.JJ,ft.oH,G.TO,_t.ZL,_t.XC,_.sg,Yt.ey,R.H8,ot.lW],pipes:[p.X$,_.Ov],styles:[".column-size[_ngcontent-%COMP%]{width:10rem!important;font-weight:700}.center-self[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.auto-width[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto!important}.auto-width[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{max-width:100%;width:auto}.pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),n})();var vu=o(84379),by=o(80275);function Cy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addIdentity()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"USER_DETAIL.IDENTITIES.ADD"),"\n"))}function wy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeIdentity()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"USER_DETAIL.IDENTITIES.REMOVE"),"\n")}}function Ay(n,r){1&n&&t._UZ(0,"mat-spinner",10)}function Ey(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-user-ext-sources-list",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("displayedColumns",e.displayedColumns)("filterValue",e.filterValue)("selection",e.selection)("userExtSources",e.userExtSources)("tableId",e.tableId)}}let Sy=(()=>{class n{constructor(e,i,a,s,f,b){this.usersManagerService=e,this.storage=i,this.registrarManagerService=a,this.dialog=s,this.route=f,this.authResolver=b,this.userExtSources=[],this.selection=new P.Ov(!1,[]),this.displayedColumns=["select","id","extSourceName","login","lastAccess"],this.tableId=gn.gG,this.filterValue=""}ngOnInit(){this.route.parent.params.subscribe(e=>{this.userId=e.userId}),this.refreshTable()}refreshTable(){this.loading=!0,this.selection.clear(),this.usersManagerService.getRichUserExtSources(this.userId).subscribe(e=>{this.userExtSources=e,this.loading=!1},()=>this.loading=!1)}addIdentity(){const e=(0,de.kZ)();e.width="1000px",e.data={userId:this.userId},this.dialog.open(Ty,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}removeIdentity(){const e=(0,de.kZ)();e.width="450px",e.data={showSuccess:!0,theme:"user-theme",userId:this.userId,extSources:this.selection.selected},this.dialog.open(vu.Lc,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Fv),t.Y36(H.d6),t.Y36(z.tk),t.Y36(R.uw),t.Y36(m.gz),t.Y36(H.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-identities"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["class","mr-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],[1,"admin-theme"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","filterValue","selection","userExtSources","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(4,Cy,3,3,"button",2),t.YNc(5,wy,3,4,"button",3),t.TgZ(6,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,Ay,1,0,"mat-spinner",6),t.qZA(),t.YNc(9,Ey,2,5,"div",7)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"USER_DETAIL.IDENTITIES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","USER_DETAIL.IDENTITIES.FILTER_PLACEHOLDER"),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,_.O5,ot.lW,je.L,tt.$g,by.j],pipes:[p.X$],styles:[""]}),n})();function Dy(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function Ly(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"mat-form-field"),t.TgZ(2,"input",6),t.NdJ("change",function(){return t.CHM(e),t.oxw().makePath()}),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-error"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field"),t.TgZ(8,"input",7),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().description=a}),t.ALo(9,"translate"),t.qZA(),t.qZA(),t.TgZ(10,"mat-form-field"),t._UZ(11,"input",8),t.ALo(12,"translate"),t.TgZ(13,"mat-error"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.TgZ(16,"mat-form-field"),t._UZ(17,"input",8),t.ALo(18,"translate"),t.TgZ(19,"mat-error"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field"),t._UZ(23,"input",8),t.ALo(24,"translate"),t.TgZ(25,"mat-error"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"span",9),t._uU(29),t.ALo(30,"translate"),t.TgZ(31,"mat-checkbox",10),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().status=a}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,17,"DIALOGS.CREATE_EDIT_SERVICE.NAME")),t.Q6J("formControl",e.nameControl),t.xp6(3),t.Oqu(t.lcZ(6,19,"DIALOGS.CREATE_EDIT_SERVICE.RESTRICTION_NAME")),t.xp6(3),t.s9C("placeholder",t.lcZ(9,21,"DIALOGS.CREATE_EDIT_SERVICE.DESCRIPTION")),t.Q6J("ngModel",e.description),t.xp6(3),t.s9C("placeholder",t.lcZ(12,23,"DIALOGS.CREATE_EDIT_SERVICE.DELAY")),t.Q6J("formControl",e.delayControl),t.xp6(3),t.Oqu(t.lcZ(15,25,"DIALOGS.CREATE_EDIT_SERVICE.INVALID_DELAY")),t.xp6(3),t.s9C("placeholder",t.lcZ(18,27,"DIALOGS.CREATE_EDIT_SERVICE.RECURRENCE")),t.Q6J("formControl",e.recurrenceControl),t.xp6(3),t.Oqu(t.lcZ(21,29,"DIALOGS.CREATE_EDIT_SERVICE.INVALID_RECURRENCE")),t.xp6(3),t.s9C("placeholder",t.lcZ(24,31,"DIALOGS.CREATE_EDIT_SERVICE.PATH")),t.Q6J("formControl",e.pathControl),t.xp6(3),t.Oqu(t.lcZ(27,33,"DIALOGS.CREATE_EDIT_SERVICE.REQUIRE_PATH")),t.xp6(3),t.hij("",t.lcZ(30,35,"DIALOGS.CREATE_EDIT_SERVICE.STATUS")," "),t.xp6(2),t.Q6J("ngModel",e.status),t.xp6(1),t.Oqu(t.lcZ(33,37,"DIALOGS.CREATE_EDIT_SERVICE.STATUS_HINT"))}}function ky(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.asEdit?a.onEdit():a.onCreate()}),t._uU(5),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.CREATE_EDIT_SERVICE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",e.nameControl.invalid||e.delayControl.invalid||e.recurrenceControl.invalid||e.pathControl.invalid),t.xp6(1),t.hij(" ",e.buttonText," ")}}let xu=(()=>{class n{constructor(e,i,a,s,f){this.dialogRef=e,this.data=i,this.serviceManager=a,this.notificator=s,this.translate=f,this.loading=!1,this.status=!0,this.nameControl=new ft.NI("",[ft.kI.required,ft.kI.pattern("^[a-zA-Z0-9_]+$")]),this.delayControl=new ft.NI(10,[ft.kI.pattern("^[0-9]*$")]),this.recurrenceControl=new ft.NI(2,[ft.kI.pattern("^[0-9]*$")]),this.pathControl=new ft.NI("",[ft.kI.required]),this.asEdit=!1}ngOnInit(){this.theme=this.data.theme,this.asEdit=void 0!==this.data.service,this.asEdit?(this.nameControl.setValue(this.data.service.name),this.description=this.data.service.description,this.delayControl.setValue(this.data.service.delay),this.recurrenceControl.setValue(this.data.service.recurrence),this.pathControl.setValue(this.data.service.script),this.status=this.data.service.enabled,this.title=this.translate.instant("DIALOGS.CREATE_EDIT_SERVICE.EDIT_TITLE"),this.buttonText=this.translate.instant("DIALOGS.CREATE_EDIT_SERVICE.EDIT")):(this.title=this.translate.instant("DIALOGS.CREATE_EDIT_SERVICE.CREATE_TITLE"),this.buttonText=this.translate.instant("DIALOGS.CREATE_EDIT_SERVICE.CREATE"))}onCreate(){this.loading=!0,this.serviceManager.createServiceWithService({service:{name:this.nameControl.value,description:this.description,delay:this.delayControl.value,recurrence:this.recurrenceControl.value,enabled:this.status,script:this.pathControl.value,id:0,beanName:""}}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.CREATE_EDIT_SERVICE.CREATE_SUCCESS")),this.dialogRef.close(!0),this.loading=!1})}onEdit(){this.loading=!0,this.serviceManager.updateService({service:{name:this.nameControl.value,description:this.description,delay:this.delayControl.value,recurrence:this.recurrenceControl.value,enabled:this.status,script:this.pathControl.value,id:this.data.service.id,beanName:this.data.service.beanName}}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.CREATE_EDIT_SERVICE.EDIT_SUCCESS")),this.dialogRef.close(!0),this.loading=!1})}onCancel(){this.dialogRef.close(!1)}makePath(){const e="./".concat(this.nameControl.value);this.pathControl.setValue(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(z.KK),t.Y36(H.V6),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-service-dialog"]],decls:6,vars:7,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","","class","dialog-container",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"mr-auto","ml-auto"],["mat-dialog-content","",1,"dialog-container"],["matInput","","required","",3,"formControl","placeholder","change"],["matInput","",3,"ngModel","placeholder","ngModelChange"],["matInput","","required","",3,"formControl","placeholder"],[1,"d-flex"],[1,"ml-3",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.qZA(),t.YNc(3,Dy,1,0,"mat-spinner",1),t.YNc(4,Ly,34,39,"div",2),t.YNc(5,ky,6,5,"div",3),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(i.title),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[R.uh,_.O5,tt.$g,R.xY,G.KE,M.Nt,ft.Fj,ft.Q7,ft.JJ,ft.oH,G.TO,ft.On,xt.oG,R.H8,ot.lW],pipes:[p.X$],styles:[""]}),n})();var Iy=o(55663);let yu=(()=>{class n{constructor(e,i,a,s,f){this.dialogRef=e,this.data=i,this.serviceManager=a,this.notificator=s,this.translate=f,this.displayedColumns=["name"],this.dataSource=new Z.by(this.data.services),this.loading=!1,this.force=!1,this.relations=[]}ngOnInit(){this.theme=this.data.theme,this.services=this.data.services,this.relations.push(this.translate.instant("DIALOGS.DELETE_SERVICE.DESTINATION_RELATION")),this.anotherMessage=this.translate.instant("DIALOGS.DELETE_SERVICE.MORE_INFORMATION")}onConfirm(){if(0===this.services.length)return this.dialogRef.close(!0),void this.notificator.showSuccess(this.translate.instant("DIALOGS.DELETE_SERVICE.SUCCESS"));this.loading=!0,this.serviceManager.deleteService(this.services.pop().id,this.force).subscribe(()=>{this.onConfirm(),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}onSubmit(e){this.force=e.force,e.deleted?this.onConfirm():this.onCancel()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(z.KK),t.Y36(H.V6),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-service-dialog"]],decls:2,vars:8,consts:[[3,"entityNames","entityType","relations","anotherMessage","loading","deleted"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"app-delete-entity-dialog",0),t.NdJ("deleted",function(s){return i.onSubmit(s)}),t.qZA(),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(1),t.Q6J("entityNames",i.dataSource)("entityType","services")("relations",i.relations)("anotherMessage",i.anotherMessage)("loading",i.loading))},directives:[Iy.e],styles:[""]}),n})();function My(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().createService()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.SERVICES.CREATE")," "))}function Oy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteService()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.SERVICES.DELETE")," ")}}function Ny(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function Fy(n,r){if(1&n&&t._UZ(0,"app-services-list",10),2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("selection",e.selection)("services",e.services)("filterValue",e.filterValue)}}let Py=(()=>{class n{constructor(e,i,a){this.serviceManager=e,this.dialog=i,this.authResolver=a,this.selection=new P.Ov(!0,[]),this.loading=!1,this.filterValue="",this.tableId=gn.NL}ngOnInit(){this.serviceManager.getServices().subscribe(e=>{this.services=e,this.refreshTable()})}createService(){const e=(0,de.kZ)();e.width="600px",e.data={theme:"admin-theme"},this.dialog.open(xu,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}deleteService(){const e=(0,de.kZ)();e.width="600px",e.data={theme:"admin-theme",services:this.selection.selected},this.dialog.open(yu,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}refreshTable(){this.loading=!0,this.serviceManager.getServices().subscribe(e=>{this.services=e,this.selection.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.KK),t.Y36(R.uw),t.Y36(H.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-services"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","action-button mr-2","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","mr-auto ml-auto",4,"ngIf"],[3,"tableId","selection","services","filterValue",4,"ngIf"],["color","accent","mat-flat-button","",1,"action-button","mr-2",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],[3,"tableId","selection","services","filterValue"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,My,3,3,"button",2),t.YNc(6,Oy,3,4,"button",3),t.TgZ(7,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(8,Ny,1,0,"mat-spinner",5),t.YNc(9,Fy,1,4,"app-services-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"ADMIN.SERVICES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.SERVICES.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,_.O5,ot.lW,je.L,tt.$g,ci.Q],pipes:[p.X$],styles:[""]}),n})();var Ry=o(62109);function Zy(n,r){1&n&&t._UZ(0,"mat-spinner",5)}const By=function(){return["id","name","vo","facility","description"]};function Uy(n,r){if(1&n&&t._UZ(0,"perun-web-apps-resources-list",6),2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("resources",e.resources)("filterValue",e.filterValue)("displayedColumns",t.DdM(4,By))}}let Gy=(()=>{class n{constructor(e,i){this.userManager=e,this.route=i,this.resources=[],this.tableId=gn.kO,this.filterValue=""}ngOnInit(){this.refreshTable()}refreshTable(){this.loading=!0,this.route.parent.params.subscribe(e=>{this.userManager.getAssignedRichResourcesForUser(e.userId).subscribe(a=>{this.resources=a,this.loading=!1})})}resourceFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Fv),t.Y36(m.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-user-resources"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"tableId","resources","filterValue","displayedColumns",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"tableId","resources","filterValue","displayedColumns"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(s){return i.resourceFilter(s)}),t.qZA(),t.YNc(6,Zy,1,0,"mat-spinner",3),t.YNc(7,Uy,1,5,"perun-web-apps-resources-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"USER_DETAIL.RESOURCES.TITLE")),t.xp6(3),t.Q6J("placeholder","SHARED_LIB.PERUN.COMPONENTS.RESOURCES_LIST.TABLE_SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,je.L,_.O5,tt.$g,Ry.C],pipes:[p.X$],styles:[""]}),n})();var Vy=o(61365),zy=o(71103),Yy=o(53984);const Hy=["list"];function Wy(n,r){1&n&&t._UZ(0,"mat-spinner",8)}function Xy(n,r){if(1&n&&t._UZ(0,"perun-web-apps-attributes-list",9,10),2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("attributes",e.attributes)("selection",e.selection)}}let $y=(()=>{class n{constructor(e,i,a,s){this.dialog=e,this.attributesManager=i,this.userService=a,this.route=s,this.loading=!1,this.selection=new P.Ov(!0,[]),this.tableId=gn.rF,this.attributes=[]}ngOnInit(){this.route.params.subscribe(e=>{this.userService.getUserExtSourceById(e.identityId).subscribe(a=>{this.userExtSource=a,this.refreshTable()})})}refreshTable(){this.loading=!0,this.attributesManager.getUserExtSourceAttributes(this.userExtSource.id).subscribe(e=>{this.attributes=(0,de.MX)(e),this.selection.clear(),this.loading=!1})}onAdd(){const e=(0,de.kZ)();e.width="1050px",e.data={entityId:this.userExtSource.id,entity:"ues",notEmptyAttributes:this.attributes,style:"user-theme"},this.dialog.open(zy.n,e).afterClosed().subscribe(a=>{"saved"===a&&this.refreshTable()})}onSave(){this.list.updateMapAttributes();const e=(0,de.kZ)();e.width="450px",e.data={entityId:this.userExtSource.id,entity:"ues",attributes:this.selection.selected},this.dialog.open(vu.wA,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onRemove(){const e=(0,de.kZ)();e.width="450px",e.data={entityId:this.userExtSource.id,entity:"ues",attributes:this.selection.selected},this.dialog.open(Vy.k,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.uw),t.Y36(z.H8),t.Y36(z.Fv),t.Y36(m.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-identity-detail"]],viewQuery:function(e,i){if(1&e&&t.Gf(Hy,5),2&e){let a;t.iGM(a=t.CRH())&&(i.list=a.first)}},decls:26,vars:32,consts:[[1,"page-subtitle"],[1,"mb-2"],[3,"refresh"],["mat-flat-button","","color","accent",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","accent",1,"mr-2",3,"click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],["class","ml-auto mr-auto",4,"ngIf"],[3,"tableId","attributes","selection",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"tableId","attributes","selection"],["list",""]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",1),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"perun-web-apps-refresh-button",2),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(15,"button",3),t.NdJ("click",function(){return i.onSave()}),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",4),t.NdJ("click",function(){return i.onAdd()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",5),t.NdJ("click",function(){return i.onRemove()}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.YNc(24,Wy,1,0,"mat-spinner",6),t.YNc(25,Xy,2,3,"perun-web-apps-attributes-list",7),t.qZA()),2&e&&(t.xp6(2),t.AsE(" ",t.lcZ(3,15,"SHARED.IDENTITY_DETAIL.TITLE")," - ",i.userExtSource?i.userExtSource.extSource.name:""," "),t.xp6(3),t.AsE(" ",t.lcZ(6,17,"SHARED.IDENTITY_DETAIL.TYPE"),": ",i.userExtSource?i.userExtSource.extSource.type:""," "),t.xp6(3),t.AsE(" ",t.lcZ(9,19,"SHARED.IDENTITY_DETAIL.LOGIN"),": ",i.userExtSource?i.userExtSource.login:""," "),t.xp6(3),t.AsE(" ",t.lcZ(12,21,"SHARED.IDENTITY_DETAIL.LAST_ACCESS"),": ",i.userExtSource?t.xi3(13,23,i.userExtSource.lastAccess,"d.M.y H:mm:ss"):""," "),t.xp6(4),t.Q6J("disabled",0===i.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(17,26,"SHARED.IDENTITY_DETAIL.SAVE")," "),t.xp6(3),t.hij(" ",t.lcZ(20,28,"SHARED.IDENTITY_DETAIL.ADD")," "),t.xp6(2),t.Q6J("disabled",0===i.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(23,30,"SHARED.IDENTITY_DETAIL.REMOVE")," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,ot.lW,_.O5,tt.$g,Yy.p],pipes:[p.X$,_.uU],styles:[""]}),n})();function Jy(n,r){1&n&&t._UZ(0,"mat-spinner",3)}function Qy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editService()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}function jy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).removeService()}),t.TgZ(1,"mat-icon"),t._uU(2,"delete_forever"),t.qZA(),t.qZA()}}const qy=function(){return{color:"black"}},Ky=function(n){return["/admin/services",n]};function t1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t._UZ(1,"mat-icon",5),t.ALo(2,"translate"),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"a",8),t._uU(6),t.qZA(),t.TgZ(7,"span",9),t._uU(8),t.qZA(),t.YNc(9,Qy,3,0,"button",10),t.YNc(10,jy,3,0,"button",11),t.qZA(),t.TgZ(11,"span",12),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",12),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"translate"),t.ALo(20,"translate"),t.TgZ(21,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeServiceStatus()}),t.TgZ(22,"mat-icon",14),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",t.lcZ(2,12,"SERVICE_DETAIL.ENTITY")),t.Q6J("ngStyle",t.DdM(22,qy)),t.xp6(4),t.Q6J("routerLink",t.VKq(23,Ky,e.service.id)),t.xp6(1),t.hij(" ",e.service.name," "),t.xp6(2),t.hij(" \xa0 #",e.service.id," "),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(2),t.AsE(" ",t.lcZ(13,14,"SERVICE_DETAIL.DESCRIPTION"),": ",e.service.description," "),t.xp6(3),t.hij(" ",t.lcZ(16,16,"SERVICE_DETAIL.STATUS"),": "),t.xp6(3),t.hij(" ",e.service.enabled?t.lcZ(19,18,"SERVICE_DETAIL.ENABLED"):t.lcZ(20,20,"SERVICE_DETAIL.DISABLED")," "),t.xp6(5),t.hij(" ",e.service.enabled?"check_circle_outline":"block"," ")}}let e1=(()=>{class n{constructor(e,i,a,s,f,b,S,F,W,lt){this.route=e,this.router=i,this.serviceManager=a,this.sideMenuService=s,this.sideMenuItemService=f,this.dialog=b,this.authResolver=S,this.translate=F,this.notificator=W,this.entityStorageService=lt,this.loading=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.serviceId=e.serviceId,this.refresh()})}refresh(){this.serviceManager.getServiceById(this.serviceId).subscribe(e=>{this.service=e,this.entityStorageService.setEntity({id:e.id,beanName:e.beanName});const i=this.sideMenuItemService.parseService(this.service);this.sideMenuService.setAdminItems([i]),this.loading=!1},()=>this.loading=!1)}editService(){const e=(0,de.kZ)();e.width="600px",e.data={theme:"service-theme",service:this.service},this.dialog.open(xu,e).afterClosed().subscribe(a=>{a&&this.ngOnInit()})}removeService(){const e=(0,de.kZ)();e.width="600px",e.data={theme:"service-theme",services:[this.service]},this.dialog.open(yu,e).afterClosed().subscribe(a=>{a&&this.router.navigate(["/admin/services"])})}changeServiceStatus(){this.loading=!0,this.serviceManager.updateService({service:{name:this.service.name,description:this.service.description,delay:this.service.delay,recurrence:this.service.recurrence,enabled:!this.service.enabled,script:this.service.script,id:this.service.id,beanName:this.service.beanName}}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.STATUS_CHANGE_SUCCESS")),this.refresh()},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(z.KK),t.Y36(c.D),t.Y36(l.V),t.Y36(R.uw),t.Y36(H.x4),t.Y36(p.sK),t.Y36(H.V6),t.Y36(H.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-detail-page"]],decls:5,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","service-theme"],["class","ml-auto mr-auto",4,"ngIf"],["class","d-flex page-title-headtitle",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-service",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"service-link",3,"routerLink"],[1,"text-muted"],["aria-label","Edit service","mat-icon-button","",3,"click",4,"ngIf"],["aria-label","Remove service","mat-icon-button","",3,"click",4,"ngIf"],[1,"mt-1","entity-info"],["mat-icon-button","",3,"click"],[1,"align-content-center"],["aria-label","Edit service","mat-icon-button","",3,"click"],["aria-label","Remove service","mat-icon-button","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.YNc(2,Jy,1,0,"mat-spinner",1),t.YNc(3,t1,24,25,"div",2),t._UZ(4,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&void 0!==i.service))},directives:[h.W,_.O5,tt.$g,g.Hw,Ut.gM,_.PC,m.yS,ot.lW,d.A],pipes:[p.X$],styles:[""],data:{animation:[En.Ji]}}),n})(),n1=(()=>{class n{constructor(){this.navItems=[]}ngOnInit(){this.initNavItems()}initNavItems(){this.navItems=[{cssIcon:"perun-attributes",url:"required-attributes",label:"MENU_ITEMS.SERVICE.REQUIRED_ATTRIBUTES",style:"service-btn"},{cssIcon:"perun-service_destination",url:"destinations",label:"MENU_ITEMS.SERVICE.DESTINATIONS",style:"service-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-overview"]],decls:1,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&t._UZ(0,"perun-web-apps-menu-buttons-field",0),2&e&&t.Q6J("items",i.navItems)("size","small")},directives:[L.L],styles:[""]}),n})();function i1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function r1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"perun-web-apps-immediate-filter",6),t.NdJ("filter",function(a){return t.CHM(e),t.oxw().applyFilter(a)}),t.qZA(),t._UZ(2,"app-attr-def-list",7),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("placeholder","DIALOGS.ADD_REQUIRED_ATTRIBUTES.FILTER"),t.xp6(1),t.Q6J("selection",e.selection)("definitions",e.attrDefinitions)("disableRouting",!0)("filterValue",e.filterValue)}}function a1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.CANCEL")," "),t.xp6(2),t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(6,5,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.ADD")," ")}}let s1=(()=>{class n{constructor(e,i,a,s,f,b){this.dialogRef=e,this.data=i,this.serviceManager=a,this.attributesManager=s,this.notificator=f,this.translate=b,this.attrDefinitions=[],this.selection=new P.Ov(!0,[]),this.filterValue="",this.loading=!1}ngOnInit(){this.loading=!0,this.theme=this.data.theme,this.serviceId=this.data.serviceId,this.attributesManager.getAllAttributeDefinitions().subscribe(e=>{this.attrDefinitions=e,this.loading=!1})}onAdd(){this.loading=!0;const e=this.selection.selected.map(i=>i.id);this.serviceManager.addRequiredAttributes(this.serviceId,e).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.ADD_REQUIRED_ATTRIBUTES.SUCCESS")),this.dialogRef.close(!0),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(z.KK),t.Y36(z.H8),t.Y36(H.V6),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-required-attributes"]],decls:7,vars:9,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","","class","dialog-container",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"mr-auto","ml-auto"],["mat-dialog-content","",1,"dialog-container"],[3,"placeholder","filter"],[3,"selection","definitions","disableRouting","filterValue"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","accent",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,i1,1,0,"mat-spinner",1),t.YNc(5,r1,3,5,"div",2),t.YNc(6,a1,7,7,"div",3),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(t.lcZ(3,7,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[R.uh,_.O5,tt.$g,R.xY,je.L,wt,R.H8,ot.lW],pipes:[p.X$],styles:[""]}),n})();function o1(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function l1(n,r){1&n&&t._UZ(0,"th",15)}function c1(n,r){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function u1(n,r){1&n&&t._UZ(0,"tr",17)}function h1(n,r){1&n&&t._UZ(0,"tr",18)}function d1(n,r){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",9),t.ynx(8,10),t.YNc(9,l1,1,0,"th",11),t.YNc(10,c1,2,1,"td",12),t.BQk(),t.YNc(11,u1,1,0,"tr",13),t.YNc(12,h1,1,0,"tr",14),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.DESCRIPTION")),t.xp6(3),t.hij(" ",t.lcZ(6,7,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.ASK")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}let f1=(()=>{class n{constructor(e,i,a,s,f){this.dialogRef=e,this.data=i,this.serviceManager=a,this.notificator=s,this.translate=f,this.displayedColumns=["name"],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.serviceId=this.data.serviceId,this.dataSource=new Z.by(this.data.attrDefinitions)}onConfirm(){this.loading=!0;const e=this.dataSource.data.map(i=>i.id);this.serviceManager.removeRequiredAttributes(this.serviceId,e).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.SUCCESS")),this.dialogRef.close(!0),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(z.KK),t.Y36(H.V6),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-remove-required-attributes"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","font-weight-bolder",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div"),t.YNc(4,o1,1,0,"mat-spinner",1),t.YNc(5,d1,13,9,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.onConfirm()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,9,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.TITLE")),t.xp6(2),t.Tol(i.theme),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,11,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,13,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.REMOVE")," "))},directives:[R.uh,_.O5,tt.$g,R.xY,Z.BZ,Z.w1,Z.fO,Z.ge,Z.Dz,Z.ev,Z.as,Z.XQ,Z.nj,Z.Gk,R.H8,ot.lW],pipes:[p.X$],styles:[""]}),n})();function p1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.ADD")," "))}function m1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemove()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.REMOVE")," ")}}function g1(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function _1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-attr-def-list",10),t.NdJ("refreshEvent",function(){return t.CHM(e),t.oxw().refreshTable()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("definitions",e.attrDefinitions)("selection",e.selection)("filterValue",e.filterValue)("disableRouting",!e.authResolver.isPerunAdmin())}}let v1=(()=>{class n{constructor(e,i,a,s){this.attributeManager=e,this.dialog=i,this.authResolver=a,this.entityStorageService=s,this.loading=!1,this.filterValue="",this.selection=new P.Ov(!0,[]),this.attrDefinitions=[],this.tableId=gn.JO}ngOnInit(){this.loading=!0,this.service=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.attributeManager.getRequiredAttributesDefinition(this.service.id).subscribe(e=>{this.selection.clear(),this.attrDefinitions=e,this.loading=!1})}onAdd(){const e=(0,de.kZ)();e.width="950px",e.data={serviceId:this.service.id,theme:"service-theme"},this.dialog.open(s1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onRemove(){const e=(0,de.kZ)();e.width="650px",e.data={serviceId:this.service.id,attrDefinitions:this.selection.selected,theme:"service-theme"},this.dialog.open(f1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.H8),t.Y36(R.uw),t.Y36(H.x4),t.Y36(H.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-required-attributes"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent","class","mr-2 action-button",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"tableId","definitions","selection","filterValue","disableRouting","refreshEvent",4,"ngIf"],["mat-flat-button","","color","accent",1,"mr-2","action-button",3,"click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"tableId","definitions","selection","filterValue","disableRouting","refreshEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,p1,3,3,"button",2),t.YNc(6,m1,3,4,"button",3),t.TgZ(7,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(8,g1,1,0,"mat-spinner",5),t.YNc(9,_1,1,5,"app-attr-def-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","SERVICE_DETAIL.REQUIRED_ATTRIBUTES.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,_.O5,ot.lW,je.L,tt.$g,wt],pipes:[p.X$],styles:[""]}),n})();var x1=o(46597),y1=o(89466),T1=o(70242);function b1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemove()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.REMOVE")," ")}}function C1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAllow()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.ALLOW")," ")}}function w1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onBlock()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.BLOCK")," ")}}function A1(n,r){1&n&&t._UZ(0,"mat-spinner",9)}const E1=function(){return["select","destinationId","facility","destination","type","status","propagationType"]};function S1(n,r){if(1&n&&t._UZ(0,"app-perun-web-apps-destination-list",10),2&n){const e=t.oxw();t.Q6J("destinations",e.destinations)("selection",e.selection)("tableId",e.tableId)("displayedColumns",t.DdM(5,E1))("filterValue",e.filterValue)}}let D1=(()=>{class n{constructor(e,i,a,s,f,b){this.serviceManager=e,this.notificator=i,this.translate=a,this.dialog=s,this.authResolver=f,this.entityStorageService=b,this.loading=!1,this.filterValue="",this.destinations=[],this.selection=new P.Ov(!0,[]),this.tableId=gn.Cf}ngOnInit(){this.loading=!0,this.service=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.serviceManager.getAllRichDestinationsForService(this.service.id).subscribe(e=>{this.selection.clear(),this.filterValue="",this.destinations=e,this.loading=!1})}blockServiceOnDestinations(e){if(0===e.length)return this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.DESTINATIONS.BLOCK_SUCCESS")),void this.refreshTable();const i=e.pop();this.serviceManager.blockServiceOnDestination(this.service.id,i.id).subscribe(()=>{this.blockServiceOnDestinations(e)},()=>this.loading=!1)}onBlock(){this.loading=!0,this.blockServiceOnDestinations(this.selection.selected)}allowServiceOnDestinations(e){if(0===e.length)return this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.DESTINATIONS.ALLOW_SUCCESS")),void this.refreshTable();const i=e.pop();this.serviceManager.unblockServiceOnDestinationById(this.service.id,i.id).subscribe(()=>{this.allowServiceOnDestinations(e)},()=>this.loading=!1)}onAllow(){this.loading=!0,this.allowServiceOnDestinations(this.selection.selected)}onRemove(){const e=(0,de.kZ)();e.width="500px",e.data={destinations:this.selection.selected,theme:"admin-theme"},this.dialog.open(y1.u,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.KK),t.Y36(H.V6),t.Y36(p.sK),t.Y36(R.uw),t.Y36(H.x4),t.Y36(H.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-destinations"]],decls:11,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent","class","mr-2",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"destinations","selection","tableId","displayedColumns","filterValue",4,"ngIf"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","accent",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"destinations","selection","tableId","displayedColumns","filterValue"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,b1,3,4,"button",2),t.YNc(6,C1,3,4,"button",3),t.YNc(7,w1,3,4,"button",2),t.TgZ(8,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(9,A1,1,0,"mat-spinner",5),t.YNc(10,S1,1,6,"app-perun-web-apps-destination-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"SERVICE_DETAIL.DESTINATIONS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","SERVICE_DETAIL.DESTINATIONS.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,_.O5,ot.lW,je.L,tt.$g,T1.q],pipes:[p.X$],styles:[""]}),n})();function L1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function k1(n,r){1&n&&t._UZ(0,"th",13)}function I1(n,r){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.name)}}function M1(n,r){1&n&&t._UZ(0,"tr",15)}function O1(n,r){1&n&&t._UZ(0,"tr",16)}function N1(n,r){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",7),t.ynx(8,8),t.YNc(9,k1,1,0,"th",9),t.YNc(10,I1,2,1,"td",10),t.BQk(),t.YNc(11,M1,1,0,"tr",11),t.YNc(12,O1,1,0,"tr",12),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,5,"DIALOGS.DELETE_OWNER.DESCRIPTION")," "),t.xp6(3),t.hij(" ",t.lcZ(6,7,"DIALOGS.DELETE_OWNER.ASK")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function F1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.DELETE_OWNER.CANCEL")," "),t.xp6(2),t.Q6J("disabled",e.loading),t.xp6(1),t.hij(" ",t.lcZ(6,5,"DIALOGS.DELETE_OWNER.DELETE")," ")}}let P1=(()=>{class n{constructor(e,i,a,s,f){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=s,this.ownersManagerService=f,this.displayedColumns=["name"],this.owners=[]}ngOnInit(){this.dataSource=new Z.by(this.data),this.owners=this.data}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0,this.owners.length?this.ownersManagerService.deleteOwner(this.owners.pop().id).subscribe(()=>{this.onSubmit()},()=>this.loading=!1):this.translate.get("DIALOGS.DELETE_OWNER.SUCCESS").subscribe(e=>{this.loading=!1,this.notificator.showSuccess(e),this.dialogRef.close(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(H.V6),t.Y36(p.sK),t.Y36(z.aC))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-owner-dialog"]],decls:6,vars:6,consts:[["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","font-weight-bolder",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,L1,1,0,"mat-spinner",1),t.YNc(4,N1,13,9,"div",2),t.YNc(5,F1,7,7,"div",3)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,4,"DIALOGS.DELETE_OWNER.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[R.uh,_.O5,tt.$g,R.xY,Z.BZ,Z.w1,Z.fO,Z.ge,Z.Dz,Z.ev,Z.as,Z.XQ,Z.nj,Z.Gk,R.H8,ot.lW],pipes:[p.X$],styles:[""]}),n})();function R1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function Z1(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.ADD_OWNER.FILL_CONTACT")," "))}function B1(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.ADD_OWNER.CONTACT_FORMAT")," "))}function U1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"mat-form-field"),t._UZ(3,"input",6),t.ALo(4,"translate"),t.TgZ(5,"mat-error"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"mat-form-field"),t._UZ(9,"input",6),t.ALo(10,"translate"),t.YNc(11,Z1,3,3,"mat-error",3),t.YNc(12,B1,3,3,"mat-error",3),t.qZA(),t.TgZ(13,"mat-form-field"),t.TgZ(14,"mat-select",7),t.NdJ("valueChange",function(a){return t.CHM(e),t.oxw().type=a}),t.TgZ(15,"mat-option",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-option",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",10),t.TgZ(22,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",12),t.ALo(26,"translate"),t.TgZ(27,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,15,"DIALOGS.ADD_OWNER.NAME")),t.Q6J("formControl",e.nameCtrl),t.xp6(3),t.hij(" ",t.lcZ(7,17,"DIALOGS.ADD_OWNER.FILL_NAME")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(10,19,"DIALOGS.ADD_OWNER.CONTACT")),t.Q6J("formControl",e.contactCtrl),t.xp6(2),t.Q6J("ngIf",e.contactCtrl.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.contactCtrl.invalid&&!e.contactCtrl.hasError("required")),t.xp6(2),t.Q6J("value",e.type),t.xp6(2),t.Oqu(t.lcZ(17,21,"DIALOGS.ADD_OWNER.TYPE1")),t.xp6(3),t.Oqu(t.lcZ(20,23,"DIALOGS.ADD_OWNER.TYPE2")),t.xp6(4),t.hij(" ",t.lcZ(24,25,"DIALOGS.ADD_OWNER.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(26,27,"DIALOGS.ADD_OWNER.TOOLTIP")),t.Q6J("matTooltipDisabled",e.nameCtrl.valid&&e.contactCtrl.valid),t.xp6(2),t.Q6J("disabled",e.nameCtrl.invalid||e.contactCtrl.invalid),t.xp6(1),t.hij(" ",t.lcZ(29,29,"DIALOGS.ADD_OWNER.CREATE")," ")}}let G1=(()=>{class n{constructor(e,i,a,s){this.dialogRef=e,this.notificator=i,this.ownersManagerService=a,this.translate=s,this.type="1",s.get("DIALOGS.ADD_OWNER.SUCCESS").subscribe(f=>this.successMessage=f)}ngOnInit(){this.nameCtrl=new ft.NI(null,[ft.kI.required,ft.kI.pattern("^[\\w.-]+( [\\w.-]+)*$")]),this.contactCtrl=new ft.NI(null,[ft.kI.required,ft.kI.pattern(de.B2)])}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0,this.ownersManagerService.createOwner({name:this.nameCtrl.value,contact:this.contactCtrl.value,ownerType:Number(this.type)}).subscribe(()=>{this.notificator.showSuccess(this.successMessage),this.loading=!1,this.dialogRef.close(!0)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(H.V6),t.Y36(z.aC),t.Y36(p.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-owner-dialog"]],decls:6,vars:5,consts:[[1,"user-theme"],["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],["mat-dialog-content","",1,"dialog-container"],["matInput","","required","",3,"placeholder","formControl"],[3,"value","valueChange"],["value","1"],["value","0"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["matTooltipPosition","above",3,"matTooltip","matTooltipDisabled"],["mat-flat-button","","color","accent",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,R1,1,0,"mat-spinner",2),t.YNc(5,U1,30,31,"div",3),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"DIALOGS.ADD_OWNER.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[R.uh,_.O5,tt.$g,R.xY,G.KE,M.Nt,ft.Fj,ft.Q7,ft.JJ,ft.oH,G.TO,Zt.gD,Yt.ey,R.H8,ot.lW,Ut.gM],pipes:[p.X$],styles:[""]}),n})();var V1=o(23256);function z1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addOwner()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.OWNERS.ADD")," "))}function Y1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeOwner()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",!e.selected.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.OWNERS.DELETE")," ")}}function H1(n,r){1&n&&t._UZ(0,"mat-spinner",10)}function W1(n,r){if(1&n&&t._UZ(0,"perun-web-apps-owners-list",11),2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("filterValue",e.filterValue)("owners",e.owners)("selection",e.selected)}}let X1=(()=>{class n{constructor(e,i,a){this.ownersManagerService=e,this.dialog=i,this.guiAuthResolver=a,this.owners=[],this.selected=new P.Ov(!0,[]),this.filterValue="",this.tableId=gn.v1}ngOnInit(){this.setAuth(),this.refreshTable()}setAuth(){this.removeAuth=this.guiAuthResolver.isAuthorized("deleteOwner_Owner_policy",[]),this.addAuth=this.guiAuthResolver.isAuthorized("createOwner_Owner_policy",[])}refreshTable(){this.loading=!0,this.ownersManagerService.getAllOwners().subscribe(e=>{this.owners=e,this.selected.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}addOwner(){const e=(0,de.kZ)();e.width="400px",e.data={},this.dialog.open(G1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}removeOwner(){const e=(0,de.kZ)();e.width="400px",e.data=this.selected.selected,this.dialog.open(P1,e).afterClosed().subscribe(a=>{a&&(this.selected.clear(),this.refreshTable())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.aC),t.Y36(R.uw),t.Y36(H.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-owners"]],decls:10,vars:8,consts:[[1,"user-theme"],[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent","class","mr-2 action-button",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"tableId","filterValue","owners","selection",4,"ngIf"],["mat-flat-button","","color","accent",1,"mr-2","action-button",3,"click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"tableId","filterValue","owners","selection"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",2),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,z1,3,3,"button",3),t.YNc(6,Y1,3,4,"button",4),t.TgZ(7,"perun-web-apps-immediate-filter",5),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(8,H1,1,0,"mat-spinner",6),t.YNc(9,W1,1,4,"perun-web-apps-owners-list",7),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"ADMIN.OWNERS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.addAuth),t.xp6(1),t.Q6J("ngIf",i.removeAuth),t.xp6(1),t.Q6J("placeholder","ADMIN.OWNERS.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,_.O5,ot.lW,je.L,tt.$g,V1.Q],pipes:[p.X$],styles:[""]}),n})();var $1=o(74010);function J1(n,r){1&n&&t._UZ(0,"mat-spinner",5)}function Q1(n,r){if(1&n&&t._UZ(0,"perun-web-apps-facilities-list",6),2&n){const e=t.oxw();t.Q6J("tableId",e.tableId)("filterValue",e.filterValue)("facilities",e.facilities)("displayedColumns",e.displayedColumns)}}let j1=(()=>{class n{constructor(e,i){this.facilityManager=e,this.route=i,this.facilities=[],this.filterValue="",this.tableId=gn.zW,this.displayedColumns=["id","name","description"]}ngOnInit(){this.loading=!0,this.route.parent.params.subscribe(e=>{this.userId=e.userId,this.refreshTable()})}refreshTable(){this.loading=!0,this.facilityManager.getAssignedFacilitiesByUser(this.userId).subscribe(e=>{this.facilities=e.map(i=>({facility:i})),this.loading=!1})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.IQ),t.Y36(m.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-facilities"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"tableId","filterValue","facilities","displayedColumns",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"tableId","filterValue","facilities","displayedColumns"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(6,J1,1,0,"mat-spinner",3),t.YNc(7,Q1,1,4,"perun-web-apps-facilities-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"USER_DETAIL.FACILITIES.TITLE")),t.xp6(3),t.Q6J("placeholder","USER_DETAIL.FACILITIES.FILTER_PLACEHOLDER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[an.t,je.L,_.O5,tt.$g,$1.X],pipes:[p.X$],styles:[""]}),n})();var q1=o(62707),Sr=o(53251),K1=o(60526),tT=o(24179),eT=o(12651),nT=o(19191);function iT(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function rT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"perun-web-apps-vo-search-select",7),t.NdJ("voSelected",function(a){return t.CHM(e),t.oxw().loadMember(a)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("vos",e.vos)("vo",e.vos[0])}}function aT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.STATUS")," ")}function sT(n,r){1&n&&t._UZ(0,"mat-spinner",6)}const oT=function(){return["id","recent","name","description","groupStatus","expiration"]};function lT(n,r){if(1&n&&t._UZ(0,"perun-web-apps-groups-list",16),2&n){const e=t.oxw(4);t.Q6J("groups",e.groups)("displayedColumns",t.DdM(2,oT))}}const cT=function(n,r){return["/organizations",n,"members",r]};function uT(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",10),t.TgZ(2,"span",11),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"a",12),t._uU(6),t.qZA(),t.qZA(),t._UZ(7,"app-member-overview-membership",13),t.TgZ(8,"p",14),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,lT,1,3,"perun-web-apps-groups-list",15),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,7,"USER_DETAIL.ACCOUNTS.MEMBER"),":"),t.xp6(2),t.Q6J("routerLink",t.WLB(11,cT,e.selectedVo.id,e.member.id)),t.xp6(1),t.hij("",e.member.id," "),t.xp6(1),t.Q6J("member",e.member)("vo",e.selectedVo),t.xp6(2),t.Oqu(t.lcZ(10,9,"USER_DETAIL.ACCOUNTS.GROUPS")),t.xp6(2),t.Q6J("ngIf",!e.loading)}}function hT(n,r){if(1&n&&(t.YNc(0,sT,1,0,"mat-spinner",1),t.YNc(1,uT,12,14,"div",4)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function dT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_ATT")," ")}function fT(n,r){1&n&&t._UZ(0,"mat-spinner")}function pT(n,r){if(1&n&&t._UZ(0,"app-one-entity-attribute-page",18),2&n){const e=t.oxw(3);t.Q6J("entity","member")("entityId",e.member.id)}}function mT(n,r){if(1&n&&(t.YNc(0,fT,1,0,"mat-spinner",4),t.YNc(1,pT,1,2,"app-one-entity-attribute-page",17)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function gT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_GROUP_ATT")," ")}function _T(n,r){1&n&&t._UZ(0,"mat-spinner")}function vT(n,r){if(1&n&&t._UZ(0,"app-two-entity-attribute-page",20),2&n){const e=t.oxw(3);t.Q6J("firstEntity","member")("firstEntityId",e.member.id)("secondEntity","group")}}function xT(n,r){if(1&n&&(t.YNc(0,_T,1,0,"mat-spinner",4),t.YNc(1,vT,1,3,"app-two-entity-attribute-page",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function yT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_RESOURCE_ATT")," ")}function TT(n,r){1&n&&t._UZ(0,"mat-spinner")}function bT(n,r){if(1&n&&t._UZ(0,"app-two-entity-attribute-page",20),2&n){const e=t.oxw(3);t.Q6J("firstEntity","member")("firstEntityId",e.member.id)("secondEntity","resource")}}function CT(n,r){if(1&n&&(t.YNc(0,TT,1,0,"mat-spinner",4),t.YNc(1,bT,1,3,"app-two-entity-attribute-page",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function wT(n,r){1&n&&(t.TgZ(0,"mat-tab-group"),t.TgZ(1,"mat-tab"),t.YNc(2,aT,2,3,"ng-template",8),t.YNc(3,hT,2,2,"ng-template",9),t.qZA(),t.TgZ(4,"mat-tab"),t.YNc(5,dT,2,3,"ng-template",8),t.YNc(6,mT,2,2,"ng-template",9),t.qZA(),t.TgZ(7,"mat-tab"),t.YNc(8,gT,2,3,"ng-template",8),t.YNc(9,xT,2,2,"ng-template",9),t.qZA(),t.TgZ(10,"mat-tab"),t.YNc(11,yT,2,3,"ng-template",8),t.YNc(12,CT,2,2,"ng-template",9),t.qZA(),t.qZA())}function AT(n,r){1&n&&(t.TgZ(0,"app-alert",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"USER_DETAIL.ACCOUNTS.NO_VOS")))}let ET=(()=>{class n{constructor(e,i,a,s){this.route=e,this.usersService=i,this.membersService=a,this.groupService=s,this.initLoading=!1,this.loading=!1,this.vos=[],this.selectedVo=null,this.member=null,this.groups=[]}ngOnInit(){this.initLoading=!0,this.route.parent.params.subscribe(e=>{this.userId=e.userId,this.usersService.getVosWhereUserIsMember(this.userId).subscribe(i=>{this.vos=i,this.initLoading=!1},()=>this.initLoading=!1)})}loadMember(e){this.loading=!0,this.selectedVo=e,this.membersService.getMemberByUser(this.selectedVo.id,this.userId).subscribe(i=>{this.member=i,this.groupService.getMemberRichGroupsWithAttributesByNames(this.member.id,["urn:perun:member_group:attribute-def:virt:groupStatus"]).subscribe(a=>{this.groups=a,this.loading=!1},()=>this.loading=!1)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(z.Fv),t.Y36(z.uq),t.Y36(z.ff))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-user-accounts"]],decls:8,vars:7,consts:[[1,"page-title"],["class","ml-auto mr-auto",4,"ngIf"],[1,"d-flex"],["class","w-50",3,"vos","vo","voSelected",4,"ngIf"],[4,"ngIf"],["alert_type","warn",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"w-50",3,"vos","vo","voSelected"],["matTabLabel",""],["matTabContent",""],[1,"mt-4","mb-4"],[1,"subtitle","mr-2"],["queryParamsHandling","merge",1,"member-link",3,"routerLink"],[3,"member","vo"],[1,"mt-4","subtitle"],[3,"groups","displayedColumns",4,"ngIf"],[3,"groups","displayedColumns"],[3,"entity","entityId",4,"ngIf"],[3,"entity","entityId"],[3,"firstEntity","firstEntityId","secondEntity",4,"ngIf"],[3,"firstEntity","firstEntityId","secondEntity"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,iT,1,0,"mat-spinner",1),t.TgZ(4,"div",2),t.YNc(5,rT,1,2,"perun-web-apps-vo-search-select",3),t.qZA(),t.YNc(6,wT,13,0,"mat-tab-group",4),t.YNc(7,AT,3,3,"app-alert",5)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,5,"USER_DETAIL.ACCOUNTS.TITLE")),t.xp6(2),t.Q6J("ngIf",i.initLoading),t.xp6(2),t.Q6J("ngIf",!(i.initLoading||0===i.vos.length)),t.xp6(1),t.Q6J("ngIf",!(i.initLoading||0===i.vos.length)),t.xp6(1),t.Q6J("ngIf",!i.initLoading&&0===i.vos.length))},directives:[_.O5,tt.$g,q1.M,Sr.SP,Sr.uX,Sr.uD,Sr.Vc,m.yS,K1.b,tT.W,eT.t,nT.Y,rt.w],pipes:[p.X$],styles:[".subtitle[_ngcontent-%COMP%]{font-size:1.2rem}"]}),n})(),Tu=(()=>{class n{transform(e){if(e)return e.split(".").pop()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"parseEventName",type:n,pure:!0}),n})();function ST(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"DIALOGS.AUDIT_MESSAGE_DETAIL.OBJECTS")," ")}function DT(n,r){if(1&n&&t._UZ(0,"pre",9),2&n){const e=t.oxw();t.Q6J("innerHTML",e.syntaxHighlight(e.eventData),t.oJD)}}function LT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"DIALOGS.AUDIT_MESSAGE_DETAIL.MESSAGE")," ")}function kT(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.message)}}let IT=(()=>{class n{constructor(e,i,a){this.dialogRef=e,this.data=i,this.clipboard=a,this.tabIndex=0,this.eventData={}}ngOnInit(){const e=this.data.message.event;this.actor=this.data.message.actor,this.createdAt=this.data.message.createdAt,e.message&&(this.message=e.message,delete e.message),e.name&&(this.title=e.name,delete e.name),this.eventData=e}tabChanged(e){this.tabIndex=e.index}copyObjects(){this.clipboard.copy(JSON.stringify(this.eventData,null,2))}copyMessage(){this.clipboard.copy(this.message)}syntaxHighlight(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(i){let a="number";return/^"/.test(i)?a=/:$/.test(i)?"key":"string":/true|false/.test(i)?a="boolean":/null/.test(i)&&(a="null"),'<span class="'+a+'">'+i+"</span>"})}onClose(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.so),t.Y36(R.WI),t.Y36(Ue.TU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-message-detail-dialog"]],decls:26,vars:19,consts:[[1,"admin-theme"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"selectedTabChange"],["matTabLabel",""],["matTabContent",""],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-button","",3,"click"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"parseEventName"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-tab-group",3),t.NdJ("selectedTabChange",function(s){return i.tabChanged(s)}),t.TgZ(11,"mat-tab"),t.YNc(12,ST,2,3,"ng-template",4),t.YNc(13,DT,1,1,"ng-template",5),t.qZA(),t.TgZ(14,"mat-tab"),t.YNc(15,LT,2,3,"ng-template",4),t.YNc(16,kT,2,1,"ng-template",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"button",7),t.NdJ("click",function(){return i.onClose()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",8),t.NdJ("click",function(){return 0===i.tabIndex?i.copyObjects():i.copyMessage()}),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"mat-icon"),t._uU(25,"content_copy"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let a;t.xp6(2),t.hij(" ",t.lcZ(3,7,null!==(a=t.lcZ(4,9,i.title))&&void 0!==a?a:"DIALOGS.AUDIT_MESSAGE_DETAIL.TITLE")," "),t.xp6(5),t.HOy(" ",t.lcZ(8,11,"DIALOGS.AUDIT_MESSAGE_DETAIL.ACTOR"),": ",i.actor,", ",t.lcZ(9,13,"DIALOGS.AUDIT_MESSAGE_DETAIL.CREATED_AT"),": ",i.createdAt," "),t.xp6(12),t.hij(" ",t.lcZ(20,15,"DIALOGS.AUDIT_MESSAGE_DETAIL.CLOSE")," "),t.xp6(3),t.hij(" ",t.lcZ(23,17,"DIALOGS.AUDIT_MESSAGE_DETAIL.COPY")," ")}},directives:[R.uh,R.xY,Sr.SP,Sr.uX,Sr.uD,Sr.Vc,R.H8,ot.lW,g.Hw],pipes:[p.X$,Tu],styles:[".key{color:brown}.string{color:green}.number{color:#ff8c00}.boolean{color:#00f}.null{color:#f0f}\n"],encapsulation:2}),n})();var MT=o(86087),OT=o(36787),NT=o(62383);function FT(n,r){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner",17),t.qZA())}function PT(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AUDIT_MESSAGES_LIST.ID")," "))}function RT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function ZT(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AUDIT_MESSAGES_LIST.TIMESTAMP")," "))}function BT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"parseDate"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdAt,!0)," ")}}function UT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.EVENT_NAME")))}function GT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"parseEventName"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.event.name)," ")}}function VT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.ACTOR")))}function zT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.actor," ")}}function YT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.MESSAGE")))}function HT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.event.message," ")}}function WT(n,r){1&n&&t._UZ(0,"th",20)}function XT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"button",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().viewDetails(s)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"AUDIT_MESSAGES_LIST.VIEW_DETAIL")," "))}function $T(n,r){1&n&&t._UZ(0,"tr",22)}function JT(n,r){1&n&&t._UZ(0,"tr",23)}function QT(n,r){1&n&&(t.TgZ(0,"app-alert",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_AUDIT_MESSAGES"),"\n"))}let jT=(()=>{class n{constructor(e,i,a){this.dialog=e,this.dynamicPaginatingService=i,this.tableConfigService=a,this.pageSizeOptions=de.f7,this.displayedColumns=["id","timestamp","name","actor","event.message","detail"]}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.child.paginator.pageIndex=0),(0,OT.T)(this.sort.sortChange,this.child.paginator.page).pipe((0,xe.b)(()=>this.loadAuditMessagesPage())).subscribe()}ngOnInit(){this.dataSource=new H.Hy(this.dynamicPaginatingService,null),this.dataSource.loadAuditMessages(this.tableConfigService.getTablePageSize(this.tableId),0,"DESCENDING")}ngOnChanges(){this.dataSource&&(this.child.paginator.pageIndex=0,this.loadAuditMessagesPage())}loadAuditMessagesPage(){this.dataSource.loadAuditMessages(this.child.paginator.pageSize,this.child.paginator.pageIndex,"asc"===this.sort.direction?"ASCENDING":"DESCENDING")}viewDetails(e){const i=(0,de.kZ)(),a=JSON.parse(JSON.stringify(e));i.minWidth="700px",i.maxWidth="1000px",i.data={message:a},this.dialog.open(IT,i)}exportData(e){(0,de.O6)((0,de.Xn)(this.dataSource.getData(),this.displayedColumns.filter(i=>"detail"!==i),this.getExportDataForColumn,this),e)}getExportDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"timestamp":return(0,_.p6)(e.createdAt,"d.M.y H.mm.ss","en");case"name":return e.event.name.split(".").pop();case"actor":return e.actor;default:return""}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(R.uw),t.Y36(H.ly),t.Y36(gn.dB))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-messages-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(de.l9,7),t.Gf(dn.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},inputs:{tableId:"tableId",refresh:"refresh",displayedColumns:"displayedColumns",searchString:"searchString"},features:[t._Bn([{provide:MT.ye,useClass:H.Be}]),t.TTD],decls:28,vars:15,consts:[[1,"card","mt-2",3,"hidden"],[3,"dataLength","pageSizeOptions","tableId","exportData"],["class","spinner-container",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actor"],["matColumnDef","event.message"],["matColumnDef","detail"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],[1,"spinner-container"],[1,"ml-auto","mr-auto"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-header-cell",""],["color","accent","mat-flat-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(s){return i.exportData(s)}),t.YNc(3,FT,2,0,"div",2),t.ALo(4,"async"),t.TgZ(5,"table",3),t.ynx(6,4),t.YNc(7,PT,3,3,"th",5),t.YNc(8,RT,2,1,"td",6),t.BQk(),t.ynx(9,7),t.YNc(10,ZT,3,3,"th",5),t.YNc(11,BT,3,4,"td",6),t.BQk(),t.ynx(12,8),t.YNc(13,UT,3,3,"th",9),t.YNc(14,GT,3,3,"td",6),t.BQk(),t.ynx(15,10),t.YNc(16,VT,3,3,"th",9),t.YNc(17,zT,2,1,"td",6),t.BQk(),t.ynx(18,11),t.YNc(19,YT,3,3,"th",9),t.YNc(20,HT,2,1,"td",6),t.BQk(),t.ynx(21,12),t.YNc(22,WT,1,0,"th",9),t.YNc(23,XT,4,3,"td",6),t.BQk(),t.YNc(24,$T,1,0,"tr",13),t.YNc(25,JT,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,QT,3,3,"app-alert",15),t.ALo(27,"async")),2&e&&(t.Q6J("hidden",0===i.dataSource.allObjectCount&&!1===t.lcZ(1,9,i.dataSource.loading$)),t.xp6(2),t.Q6J("dataLength",i.dataSource.allObjectCount)("pageSizeOptions",i.pageSizeOptions)("tableId",i.tableId),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,11,i.dataSource.loading$)),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.allObjectCount&&!1===t.lcZ(27,13,i.dataSource.loading$)))},directives:[vn.l,_.O5,tt.$g,Z.BZ,dn.YE,Z.w1,Z.fO,Z.ge,dn.nU,Z.Dz,Z.ev,ot.lW,Z.as,Z.XQ,Z.nj,Z.Gk,rt.w],pipes:[_.Ov,p.X$,NT.M,Tu],styles:[""]}),n})();const KT=[{path:"",component:A,children:[{path:"",component:N,data:{animation:"AdminOverviewPage"}},{path:"attributes",component:le,data:{animation:"AdminAttributesPage"}},{path:"users",component:jx.t,data:{animation:"AdminUsersPage"}},{path:"owners",component:X1,data:{animation:"AdminOwnersPage"}},{path:"services",component:Py,data:{animation:"AdminServicesPage"}},{path:"audit_log",component:(()=>{class n{constructor(){this.tableId=gn.yW,this.refresh=!1}refreshTable(){this.refresh=!this.refresh}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-audit-log"]],decls:5,vars:5,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"refresh","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t._UZ(4,"app-audit-messages-list",2)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,3,"ADMIN.AUDIT_LOG.TITLE")),t.xp6(3),t.Q6J("refresh",i.refresh)("tableId",i.tableId))},directives:[an.t,jT],pipes:[p.X$],styles:[""]}),n})(),data:{animation:"AdminAuditLogPage"}},{path:"visualizer",component:ke,children:[{path:"",component:ze,data:{animation:"VisualizerOverviewPage"}},{path:"attrDependencies",component:nn,data:{animation:"VisualizerAttrModulesPage"}},{path:"userDestinationRelationship",component:Wt,data:{animation:"UserDestinationRelationshipPage"}},{path:"userDestinationRelationship/graph",component:Qx,data:{animation:"UserDestinationGraphPage"}}]},{path:"ext_sources",component:my,data:{animation:"AdminExtSourcesPage"}}]},{path:"users/:userId",component:ay,children:[{path:"",component:sy.Z,data:{animation:"UserOverviewPage"}},{path:"accounts",component:ET,data:{animation:"UserAccountsPage"}},{path:"attributes",component:cy.u,data:{animation:"UserAttributesPage"}},{path:"organizations",component:oy.j,data:{animation:"UserOrganizationsPage",showPrincipal:!1}},{path:"groups",component:ly.u,data:{animation:"UserGroupsPage",showPrincipal:!1}},{path:"identities",component:Sy,data:{animation:"UserIdentitiesPage"}},{path:"facilities",component:j1,data:{animation:"UserFacilitiesPage"}},{path:"resources",component:Gy,data:{animation:"UserRoles"}},{path:"identities/:identityId",component:$y,data:{animation:"UserIdentityDetailPage"}},{path:"roles",component:gy.t,data:{animation:"UserRolesPage"}},{path:"service-identities",component:_y.R,data:{animation:"UserServiceIdentities"}},{path:"associated-users",component:x1.d,data:{animation:"AssociatedUsersPage"}}]},{path:"services/:serviceId",component:e1,children:[{path:"",component:n1,data:{animation:"ServiceOverviewPage"}},{path:"required-attributes",component:v1,data:{animation:"ServiceRequiredAttributesPage"}},{path:"destinations",component:D1,data:{animation:"ServiceDestinationsPage"}}]}];let tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.Bz.forChild(KT)],m.Bz]}),n})();var eb=o(14264),nb=o(63189),ib=o(19516),rb=o(46142);let ab=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[nm,Bx,_.ez,tb,eb.m,nb.r,Rn.ez,ib.d4,rb.UsersModule]]}),n})()},70242:(w,k,o)=>{"use strict";o.d(k,{q:()=>ie});var u=o(84847),x=o(20449),v=o(32075),_=o(9244),m=o(36908),l=o(5e3),t=o(18750),c=o(77446),h=o(69808),g=o(25245),d=o(29772),p=o(98380),C=o(51062);function A(Ut,xt){if(1&Ut){const pt=l.EpF();l.TgZ(0,"th",21),l.TgZ(1,"mat-checkbox",22),l.NdJ("change",function(Jt){l.CHM(pt);const ge=l.oxw();return Jt?ge.masterToggle():null}),l.qZA(),l.qZA()}if(2&Ut){const pt=l.oxw();l.xp6(1),l.Q6J("aria-label",pt.checkboxLabel())("checked",pt.selection.hasValue()&&pt.isAllSelected())("indeterminate",pt.selection.hasValue()&&!pt.isAllSelected())}}function L(Ut,xt){if(1&Ut){const pt=l.EpF();l.TgZ(0,"td",23),l.TgZ(1,"mat-checkbox",24),l.NdJ("change",function(Jt){const _e=l.CHM(pt).$implicit,Te=l.oxw();return Jt?Te.selection.toggle(_e):null})("click",function(Jt){return Jt.stopPropagation()}),l.qZA(),l.qZA()}if(2&Ut){const pt=xt.$implicit,Nt=l.oxw();l.xp6(1),l.Q6J("aria-label",Nt.checkboxLabel(pt))("checked",Nt.selection.isSelected(pt))}}function N(Ut,xt){1&Ut&&(l.TgZ(0,"th",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.DESTINATION_ID")," "))}function P(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",26),l._uU(1),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.hij(" ",pt.id," ")}}function R(Ut,xt){1&Ut&&(l.TgZ(0,"th",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.SERVICE")," "))}function Z(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l._uU(1),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.Oqu(pt.service.name)}}function H(Ut,xt){1&Ut&&l._UZ(0,"th",28)}function z(Ut,xt){1&Ut&&(l.TgZ(0,"mat-icon",30),l.ALo(1,"translate"),l._uU(2," warning "),l.qZA()),2&Ut&&l.s9C("matTooltip",l.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.WARN"))}function tt(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l.YNc(1,z,3,3,"mat-icon",29),l.qZA()),2&Ut){const pt=xt.$implicit,Nt=l.oxw();l.xp6(1),l.Q6J("ngIf",!Nt.services.has(pt.service.id))}}function rt(Ut,xt){1&Ut&&(l.TgZ(0,"th",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.FACILITY")," "))}function ot(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l._uU(1),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.Oqu(pt.facility.name)}}function J(Ut,xt){1&Ut&&(l.TgZ(0,"th",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.DESTINATION")," "))}function et(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l._uU(1),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.Oqu(pt.destination)}}function q(Ut,xt){1&Ut&&(l.TgZ(0,"th",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.TYPE")," "))}function at(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l._uU(1),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.Oqu(pt.type.toUpperCase())}}function Y(Ut,xt){1&Ut&&l._UZ(0,"th",28)}function K(Ut,xt){1&Ut&&(l.TgZ(0,"mat-icon",32),l.ALo(1,"translate"),l._uU(2," check_circle_outline "),l.qZA()),2&Ut&&l.s9C("matTooltip",l.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.ALLOWED"))}function ut(Ut,xt){1&Ut&&(l.TgZ(0,"mat-icon",32),l.ALo(1,"translate"),l._uU(2," block "),l.qZA()),2&Ut&&l.s9C("matTooltip",l.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.BLOCKED"))}function it(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l.YNc(1,K,3,3,"mat-icon",31),l.YNc(2,ut,3,3,"mat-icon",31),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.Q6J("ngIf",!pt.blocked),l.xp6(1),l.Q6J("ngIf",pt.blocked)}}function G(Ut,xt){1&Ut&&(l.TgZ(0,"th",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.PROPAGATION_TYPE")," "))}function M(Ut,xt){if(1&Ut&&(l.TgZ(0,"td",27),l._uU(1),l.qZA()),2&Ut){const pt=xt.$implicit;l.xp6(1),l.Oqu(pt.propagationType)}}function ft(Ut,xt){1&Ut&&l._UZ(0,"tr",33)}function It(Ut,xt){1&Ut&&l._UZ(0,"tr",34)}function Zt(Ut,xt){1&Ut&&(l.TgZ(0,"app-alert",35),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT"),"\n"))}function Yt(Ut,xt){1&Ut&&(l.TgZ(0,"app-alert",35),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&Ut&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.NO_DESTINATIONS"),"\n"))}let ie=(()=>{class Ut{constructor(pt,Nt){this.authResolver=pt,this.tableCheckbox=Nt,this.destinations=[],this.selection=new x.Ov(!0,[]),this.filterValue="",this.pageSizeOptions=_.f7}set matSort(pt){this.sort=pt,this.setDataSource()}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(pt=>"destinationId"!==pt)),this.dataSource=new v.by(this.destinations),this.setDataSource(),this.dataSource.filter=this.filterValue.toLowerCase()}getDataForColumn(pt,Nt){switch(Nt){case"destinationId":return pt.id.toString();case"service":return pt.service.name;case"facility":return pt.facility.name;case"destination":return pt.destination;case"type":return pt.type;case"status":return pt.blocked?"blocked":"allowed";case"propagationType":return pt.propagationType;default:return""}}exportData(pt){(0,_.O6)((0,_.Xn)(this.dataSource.filteredData,this.displayedColumns,this.getDataForColumn,this),pt)}setDataSource(){this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(pt,Nt)=>(0,_.Sd)(pt,Nt,this.displayedColumns,this.getDataForColumn,this),this.dataSource.sortData=(pt,Nt)=>(0,_.pR)(pt,Nt,this.getDataForColumn,this),this.dataSource.paginator=this.child.paginator)}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(pt){return pt?`${this.selection.isSelected(pt)?"deselect":"select"} row ${pt.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}ngAfterViewInit(){this.dataSource.paginator=this.child.paginator}}return Ut.\u0275fac=function(pt){return new(pt||Ut)(l.Y36(m.x4),l.Y36(m.UA))},Ut.\u0275cmp=l.Xpm({type:Ut,selectors:[["app-perun-web-apps-destination-list"]],viewQuery:function(pt,Nt){if(1&pt&&(l.Gf(u.YE,7),l.Gf(_.l9,7)),2&pt){let Jt;l.iGM(Jt=l.CRH())&&(Nt.matSort=Jt.first),l.iGM(Jt=l.CRH())&&(Nt.child=Jt.first)}},inputs:{destinations:"destinations",selection:"selection",filterValue:"filterValue",tableId:"tableId",displayedColumns:"displayedColumns",services:"services"},features:[l.TTD],decls:34,vars:9,consts:[[1,"card","mt-3",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","destinationId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","service"],["mat-cell","",4,"matCellDef"],["matColumnDef","warn"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","facility"],["matColumnDef","destination"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","propagationType"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-cell",""],["class","warn","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"warn",3,"matTooltip"],["class","align-bottom",3,"matTooltip",4,"ngIf"],[1,"align-bottom",3,"matTooltip"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(pt,Nt){1&pt&&(l.TgZ(0,"div",0),l.TgZ(1,"perun-web-apps-table-wrapper",1),l.NdJ("exportData",function(ge){return Nt.exportData(ge)}),l.TgZ(2,"table",2),l.ynx(3,3),l.YNc(4,A,2,3,"th",4),l.YNc(5,L,2,2,"td",5),l.BQk(),l.ynx(6,6),l.YNc(7,N,3,3,"th",7),l.YNc(8,P,2,1,"td",8),l.BQk(),l.ynx(9,9),l.YNc(10,R,3,3,"th",7),l.YNc(11,Z,2,1,"td",10),l.BQk(),l.ynx(12,11),l.YNc(13,H,1,0,"th",12),l.YNc(14,tt,2,1,"td",10),l.BQk(),l.ynx(15,13),l.YNc(16,rt,3,3,"th",7),l.YNc(17,ot,2,1,"td",10),l.BQk(),l.ynx(18,14),l.YNc(19,J,3,3,"th",7),l.YNc(20,et,2,1,"td",10),l.BQk(),l.ynx(21,15),l.YNc(22,q,3,3,"th",7),l.YNc(23,at,2,1,"td",10),l.BQk(),l.ynx(24,16),l.YNc(25,Y,1,0,"th",12),l.YNc(26,it,3,2,"td",10),l.BQk(),l.ynx(27,17),l.YNc(28,G,3,3,"th",7),l.YNc(29,M,2,1,"td",10),l.BQk(),l.YNc(30,ft,1,0,"tr",18),l.YNc(31,It,1,0,"tr",19),l.qZA(),l.qZA(),l.qZA(),l.YNc(32,Zt,3,3,"app-alert",20),l.YNc(33,Yt,3,3,"app-alert",20)),2&pt&&(l.Q6J("hidden",0===Nt.dataSource.filteredData.length||0===Nt.destinations.length),l.xp6(1),l.Q6J("tableId",Nt.tableId)("dataLength",Nt.dataSource.filteredData.length)("pageSizeOptions",Nt.pageSizeOptions),l.xp6(1),l.Q6J("dataSource",Nt.dataSource),l.xp6(28),l.Q6J("matHeaderRowDef",Nt.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",Nt.displayedColumns),l.xp6(1),l.Q6J("ngIf",0===Nt.dataSource.filteredData.length&&0!==Nt.destinations.length),l.xp6(1),l.Q6J("ngIf",0===Nt.destinations.length))},directives:[t.l,v.BZ,u.YE,v.w1,v.fO,v.ge,c.oG,v.Dz,v.ev,u.nU,h.O5,g.Hw,d.gM,v.as,v.XQ,v.nj,v.Gk,p.w],pipes:[C.X$],styles:[".warn[_ngcontent-%COMP%]{color:#ebe134}"]}),Ut})()},89466:(w,k,o)=>{"use strict";o.d(k,{u:()=>L});var u=o(9315),x=o(48966),v=o(32075),_=o(36908),m=o(5e3),l=o(51062),t=o(69808),c=o(20773),h=o(98380),g=o(70242),d=o(47423);function p(N,P){1&N&&m._UZ(0,"mat-spinner",6)}function C(N,P){if(1&N&&m._UZ(0,"app-perun-web-apps-destination-list",11),2&N){const R=m.oxw(2);m.Q6J("destinations",R.destinations)("displayedColumns",R.displayedColumns)}}function A(N,P){if(1&N&&(m.TgZ(0,"div",7),m.TgZ(1,"app-alert",8),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"p"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",9),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.YNc(10,C,1,2,"app-perun-web-apps-destination-list",10),m.qZA()),2&N){const R=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,4,"DIALOGS.REMOVE_DESTINATIONS.WARNING")),m.xp6(3),m.Oqu(m.lcZ(6,6,"DIALOGS.REMOVE_DESTINATIONS.DESCRIPTION")),m.xp6(3),m.hij(" ",m.lcZ(9,8,"DIALOGS.REMOVE_DESTINATIONS.ASK")," "),m.xp6(2),m.Q6J("ngIf",!R.loading)}}let L=(()=>{class N{constructor(R,Z,H,z,tt){this.dialogRef=R,this.data=Z,this.notificator=H,this.translate=z,this.serviceManager=tt,this.displayedColumns=[],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.destinations=this.data.destinations,this.displayedColumns="admin-theme"===this.theme?["destinationId","facility","destination","type","propagationType"]:["destinationId","service","destination","type","propagationType"],this.dataSource=new v.by(this.data.destinations)}onCancel(){this.dialogRef.close(!1)}deleteDestinations(){if(0===this.destinations.length)return this.notificator.showSuccess(this.translate.instant("DIALOGS.REMOVE_DESTINATIONS.SUCCESS")),void this.dialogRef.close(!0);const R=this.destinations.pop();this.serviceManager.removeDestination(R.service.id,R.facility.id,R.destination,R.type).subscribe(()=>{this.deleteDestinations()},()=>this.loading=!1)}onConfirm(){this.loading=!0,this.deleteDestinations()}}return N.\u0275fac=function(R){return new(R||N)(m.Y36(x.so),m.Y36(x.WI),m.Y36(_.V6),m.Y36(l.sK),m.Y36(u.KK))},N.\u0275cmp=m.Xpm({type:N,selectors:[["app-perun-web-apps-remove-destination-dialog"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],["alert_type","warn"],[1,"font-weight-bold"],[3,"destinations","displayedColumns",4,"ngIf"],[3,"destinations","displayedColumns"]],template:function(R,Z){1&R&&(m.TgZ(0,"h1",0),m._uU(1),m.ALo(2,"translate"),m.qZA(),m.TgZ(3,"div"),m.YNc(4,p,1,0,"mat-spinner",1),m.YNc(5,A,11,10,"div",2),m.TgZ(6,"div",3),m.TgZ(7,"button",4),m.NdJ("click",function(){return Z.onCancel()}),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"button",5),m.NdJ("click",function(){return Z.onConfirm()}),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.qZA()),2&R&&(m.xp6(1),m.Oqu(m.lcZ(2,9,"DIALOGS.REMOVE_DESTINATIONS.TITLE")),m.xp6(2),m.Tol(Z.theme),m.xp6(1),m.Q6J("ngIf",Z.loading),m.xp6(1),m.Q6J("ngIf",!Z.loading),m.xp6(3),m.hij(" ",m.lcZ(9,11,"DIALOGS.REMOVE_DESTINATIONS.CANCEL")," "),m.xp6(2),m.Q6J("disabled",Z.loading),m.xp6(1),m.hij(" ",m.lcZ(12,13,"DIALOGS.REMOVE_DESTINATIONS.CONFIRM")," "))},directives:[x.uh,t.O5,c.$g,x.xY,h.w,g.q,x.H8,d.lW],pipes:[l.X$],styles:[""]}),N})()},23256:(w,k,o)=>{"use strict";o.d(k,{Q:()=>et});var u=o(84847),x=o(20449),v=o(32075),_=o(9244),m=o(36908),l=o(5e3),t=o(18750),c=o(77446),h=o(69808),g=o(98380),d=o(51062);function p(q,at){if(1&q){const Y=l.EpF();l.TgZ(0,"th",16),l.TgZ(1,"mat-checkbox",17),l.NdJ("change",function(ut){l.CHM(Y);const it=l.oxw();return ut?it.masterToggle():null}),l.qZA(),l.qZA()}if(2&q){const Y=l.oxw();l.xp6(1),l.Q6J("aria-label",Y.checkboxLabel())("checked",Y.selection.hasValue()&&Y.isAllSelected())("indeterminate",Y.selection.hasValue()&&!Y.isAllSelected())}}function C(q,at){if(1&q){const Y=l.EpF();l.TgZ(0,"td",18),l.TgZ(1,"mat-checkbox",19),l.NdJ("change",function(ut){const G=l.CHM(Y).$implicit,M=l.oxw();return ut?M.selection.toggle(G):null})("click",function(ut){return ut.stopPropagation()}),l.qZA(),l.qZA()}if(2&q){const Y=at.$implicit,K=l.oxw();l.xp6(1),l.Q6J("aria-label",K.checkboxLabel(Y))("checked",K.selection.isSelected(Y))}}function A(q,at){1&q&&(l.TgZ(0,"th",20),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&q&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.ID")," "))}function L(q,at){if(1&q&&(l.TgZ(0,"td",21),l._uU(1),l.qZA()),2&q){const Y=at.$implicit;l.xp6(1),l.hij(" ",Y.id," ")}}function N(q,at){1&q&&(l.TgZ(0,"th",20),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&q&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NAME")," "))}function P(q,at){if(1&q&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&q){const Y=at.$implicit;l.xp6(1),l.Oqu(Y.name)}}function R(q,at){1&q&&(l.TgZ(0,"th",20),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&q&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.CONTACT")," "))}function Z(q,at){if(1&q&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&q){const Y=at.$implicit;l.xp6(1),l.Oqu(Y.contact)}}function H(q,at){1&q&&(l.TgZ(0,"th",20),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&q&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.TYPE")," "))}function z(q,at){if(1&q&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&q){const Y=at.$implicit;l.xp6(1),l.Oqu(Y.type)}}function tt(q,at){1&q&&l._UZ(0,"tr",23)}function rt(q,at){1&q&&l._UZ(0,"tr",24)}function ot(q,at){1&q&&(l.TgZ(0,"app-alert",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&q&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NO_OWNERS"),"\n"))}function J(q,at){1&q&&(l.TgZ(0,"app-alert",25),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&q&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NO_FILTER_OWNERS"),"\n"))}let et=(()=>{class q{constructor(Y,K){this.authResolver=Y,this.tableCheckbox=K,this.owners=[],this.selection=new x.Ov(!0,[]),this.filterValue="",this.displayedColumns=["select","id","name","contact","type"],this.pageSizeOptions=_.f7}set matSort(Y){this.sort=Y,this.setDataSource()}ngAfterViewInit(){this.setDataSource()}getDataForColumn(Y,K){switch(K){case"id":return Y.id.toString();case"name":return Y.name;case"contact":return Y.contact;case"type":return Y.type;default:return""}}exportData(Y){(0,_.O6)((0,_.Xn)(this.dataSource.filteredData,this.displayedColumns,this.getDataForColumn,this),Y)}setDataSource(){this.dataSource&&(this.dataSource.filterPredicate=(Y,K)=>(0,_.Sd)(Y,K,this.displayedColumns,this.getDataForColumn,this),this.dataSource.sortData=(Y,K)=>(0,_.pR)(Y,K,this.getDataForColumn,this),this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator,this.dataSource.filter=this.filterValue)}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(Y=>"id"!==Y)),this.dataSource=new v.by(this.owners),this.setDataSource()}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(Y){return Y?`${this.selection.isSelected(Y)?"deselect":"select"} row ${Y.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return q.\u0275fac=function(Y){return new(Y||q)(l.Y36(m.x4),l.Y36(m.UA))},q.\u0275cmp=l.Xpm({type:q,selectors:[["perun-web-apps-owners-list"]],viewQuery:function(Y,K){if(1&Y&&(l.Gf(_.l9,7),l.Gf(u.YE,7)),2&Y){let ut;l.iGM(ut=l.CRH())&&(K.child=ut.first),l.iGM(ut=l.CRH())&&(K.matSort=ut.first)}},inputs:{owners:"owners",selection:"selection",tableId:"tableId",filterValue:"filterValue",displayedColumns:"displayedColumns"},features:[l.TTD],decls:22,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","contact"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(Y,K){1&Y&&(l.TgZ(0,"div",0),l.TgZ(1,"perun-web-apps-table-wrapper",1),l.NdJ("exportData",function(it){return K.exportData(it)}),l.TgZ(2,"table",2),l.ynx(3,3),l.YNc(4,p,2,3,"th",4),l.YNc(5,C,2,2,"td",5),l.BQk(),l.ynx(6,6),l.YNc(7,A,3,3,"th",7),l.YNc(8,L,2,1,"td",8),l.BQk(),l.ynx(9,9),l.YNc(10,N,3,3,"th",7),l.YNc(11,P,2,1,"td",10),l.BQk(),l.ynx(12,11),l.YNc(13,R,3,3,"th",7),l.YNc(14,Z,2,1,"td",10),l.BQk(),l.ynx(15,12),l.YNc(16,H,3,3,"th",7),l.YNc(17,z,2,1,"td",10),l.BQk(),l.YNc(18,tt,1,0,"tr",13),l.YNc(19,rt,1,0,"tr",14),l.qZA(),l.qZA(),l.qZA(),l.YNc(20,ot,3,3,"app-alert",15),l.YNc(21,J,3,3,"app-alert",15)),2&Y&&(l.Q6J("hidden",0===K.owners.length||0===K.dataSource.filteredData.length),l.xp6(1),l.Q6J("tableId",K.tableId)("dataLength",K.dataSource.filteredData.length)("pageSizeOptions",K.pageSizeOptions),l.xp6(1),l.Q6J("dataSource",K.dataSource),l.xp6(16),l.Q6J("matHeaderRowDef",K.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",K.displayedColumns),l.xp6(1),l.Q6J("ngIf",!K.owners.length),l.xp6(1),l.Q6J("ngIf",!K.dataSource.filteredData.length&&K.owners.length))},directives:[t.l,v.BZ,u.YE,v.w1,v.fO,v.ge,c.oG,v.Dz,v.ev,u.nU,v.as,v.XQ,v.nj,v.Gk,h.O5,g.w],pipes:[d.X$],styles:[""]}),q})()},16087:(w,k,o)=>{"use strict";const u=o(34315),x=o(52872),v=o(40717);w.exports=function _(t,c){switch(x(t)){case"object":return function m(t,c){if("function"==typeof c)return c(t);if(c||v(t)){const h=new t.constructor;for(let g in t)h[g]=_(t[g],c);return h}return t}(t,c);case"array":return function l(t,c){const h=new t.constructor(t.length);for(let g=0;g<t.length;g++)h[g]=_(t[g],c);return h}(t,c);default:return u(t)}}},52786:(w,k,o)=>{"use strict";o.d(k,{Il:()=>x,xV:()=>v,J5:()=>_,ZP:()=>Z,SU:()=>tt,B8:()=>rt,Ss:()=>ot,Ym:()=>K});var u=o(68884);function x(){}var v=.7,_=1/v,m="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),g=new RegExp("^rgb\\("+[t,t,t]+"\\)$"),d=new RegExp("^rgba\\("+[m,m,m,l]+"\\)$"),p=new RegExp("^rgba\\("+[t,t,t,l]+"\\)$"),C=new RegExp("^hsl\\("+[l,t,t]+"\\)$"),A=new RegExp("^hsla\\("+[l,t,t,l]+"\\)$"),L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function N(){return this.rgb().formatHex()}function R(){return this.rgb().formatRgb()}function Z(G){var M,ft;return G=(G+"").trim().toLowerCase(),(M=c.exec(G))?(ft=M[1].length,M=parseInt(M[1],16),6===ft?H(M):3===ft?new ot(M>>8&15|M>>4&240,M>>4&15|240&M,(15&M)<<4|15&M,1):8===ft?z(M>>24&255,M>>16&255,M>>8&255,(255&M)/255):4===ft?z(M>>12&15|M>>8&240,M>>8&15|M>>4&240,M>>4&15|240&M,((15&M)<<4|15&M)/255):null):(M=h.exec(G))?new ot(M[1],M[2],M[3],1):(M=g.exec(G))?new ot(255*M[1]/100,255*M[2]/100,255*M[3]/100,1):(M=d.exec(G))?z(M[1],M[2],M[3],M[4]):(M=p.exec(G))?z(255*M[1]/100,255*M[2]/100,255*M[3]/100,M[4]):(M=C.exec(G))?at(M[1],M[2]/100,M[3]/100,1):(M=A.exec(G))?at(M[1],M[2]/100,M[3]/100,M[4]):L.hasOwnProperty(G)?H(L[G]):"transparent"===G?new ot(NaN,NaN,NaN,0):null}function H(G){return new ot(G>>16&255,G>>8&255,255&G,1)}function z(G,M,ft,It){return It<=0&&(G=M=ft=NaN),new ot(G,M,ft,It)}function tt(G){return G instanceof x||(G=Z(G)),G?new ot((G=G.rgb()).r,G.g,G.b,G.opacity):new ot}function rt(G,M,ft,It){return 1===arguments.length?tt(G):new ot(G,M,ft,null==It?1:It)}function ot(G,M,ft,It){this.r=+G,this.g=+M,this.b=+ft,this.opacity=+It}function J(){return"#"+q(this.r)+q(this.g)+q(this.b)}function et(){var G=this.opacity;return(1===(G=isNaN(G)?1:Math.max(0,Math.min(1,G)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===G?")":", "+G+")")}function q(G){return((G=Math.max(0,Math.min(255,Math.round(G)||0)))<16?"0":"")+G.toString(16)}function at(G,M,ft,It){return It<=0?G=M=ft=NaN:ft<=0||ft>=1?G=M=NaN:M<=0&&(G=NaN),new ut(G,M,ft,It)}function Y(G){if(G instanceof ut)return new ut(G.h,G.s,G.l,G.opacity);if(G instanceof x||(G=Z(G)),!G)return new ut;if(G instanceof ut)return G;var M=(G=G.rgb()).r/255,ft=G.g/255,It=G.b/255,Zt=Math.min(M,ft,It),Yt=Math.max(M,ft,It),ie=NaN,Ut=Yt-Zt,xt=(Yt+Zt)/2;return Ut?(ie=M===Yt?(ft-It)/Ut+6*(ft<It):ft===Yt?(It-M)/Ut+2:(M-ft)/Ut+4,Ut/=xt<.5?Yt+Zt:2-Yt-Zt,ie*=60):Ut=xt>0&&xt<1?0:ie,new ut(ie,Ut,xt,G.opacity)}function K(G,M,ft,It){return 1===arguments.length?Y(G):new ut(G,M,ft,null==It?1:It)}function ut(G,M,ft,It){this.h=+G,this.s=+M,this.l=+ft,this.opacity=+It}function it(G,M,ft){return 255*(G<60?M+(ft-M)*G/60:G<180?ft:G<240?M+(ft-M)*(240-G)/60:M)}(0,u.Z)(x,Z,{copy:function(G){return Object.assign(new this.constructor,this,G)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:function P(){return Y(this).formatHsl()},formatRgb:R,toString:R}),(0,u.Z)(ot,rt,(0,u.l)(x,{brighter:function(G){return G=null==G?_:Math.pow(_,G),new ot(this.r*G,this.g*G,this.b*G,this.opacity)},darker:function(G){return G=null==G?v:Math.pow(v,G),new ot(this.r*G,this.g*G,this.b*G,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J,formatHex:J,formatRgb:et,toString:et})),(0,u.Z)(ut,K,(0,u.l)(x,{brighter:function(G){return G=null==G?_:Math.pow(_,G),new ut(this.h,this.s,this.l*G,this.opacity)},darker:function(G){return G=null==G?v:Math.pow(v,G),new ut(this.h,this.s,this.l*G,this.opacity)},rgb:function(){var G=this.h%360+360*(this.h<0),M=isNaN(G)||isNaN(this.s)?0:this.s,ft=this.l,It=ft+(ft<.5?ft:1-ft)*M,Zt=2*ft-It;return new ot(it(G>=240?G-240:G+120,Zt,It),it(G,Zt,It),it(G<120?G+240:G-120,Zt,It),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var G=this.opacity;return(1===(G=isNaN(G)?1:Math.max(0,Math.min(1,G)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===G?")":", "+G+")")}}))},68884:(w,k,o)=>{"use strict";function u(v,_,m){v.prototype=_.prototype=m,m.constructor=v}function x(v,_){var m=Object.create(v.prototype);for(var l in _)m[l]=_[l];return m}o.d(k,{Z:()=>u,l:()=>x})},25922:(w,k,o)=>{"use strict";o.d(k,{Z:()=>t});var u={value:function(){}};function x(){for(var d,c=0,h=arguments.length,g={};c<h;++c){if(!(d=arguments[c]+"")||d in g||/[\s.]/.test(d))throw new Error("illegal type: "+d);g[d]=[]}return new v(g)}function v(c){this._=c}function _(c,h){return c.trim().split(/^|\s+/).map(function(g){var d="",p=g.indexOf(".");if(p>=0&&(d=g.slice(p+1),g=g.slice(0,p)),g&&!h.hasOwnProperty(g))throw new Error("unknown type: "+g);return{type:g,name:d}})}function m(c,h){for(var p,g=0,d=c.length;g<d;++g)if((p=c[g]).name===h)return p.value}function l(c,h,g){for(var d=0,p=c.length;d<p;++d)if(c[d].name===h){c[d]=u,c=c.slice(0,d).concat(c.slice(d+1));break}return null!=g&&c.push({name:h,value:g}),c}v.prototype=x.prototype={constructor:v,on:function(c,h){var p,g=this._,d=_(c+"",g),C=-1,A=d.length;if(!(arguments.length<2)){if(null!=h&&"function"!=typeof h)throw new Error("invalid callback: "+h);for(;++C<A;)if(p=(c=d[C]).type)g[p]=l(g[p],c.name,h);else if(null==h)for(p in g)g[p]=l(g[p],c.name,null);return this}for(;++C<A;)if((p=(c=d[C]).type)&&(p=m(g[p],c.name)))return p},copy:function(){var c={},h=this._;for(var g in h)c[g]=h[g].slice();return new v(c)},call:function(c,h){if((p=arguments.length-2)>0)for(var p,C,g=new Array(p),d=0;d<p;++d)g[d]=arguments[d+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(d=0,p=(C=this._[c]).length;d<p;++d)C[d].value.apply(h,g)},apply:function(c,h,g){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var d=this._[c],p=0,C=d.length;p<C;++p)d[p].value.apply(h,g)}};const t=x},27065:(w,k,o)=>{"use strict";function v(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}o.d(k,{tw:()=>v})},22910:(w,k,o)=>{"use strict";o.d(k,{WU:()=>v,jH:()=>_,ZP:()=>m});var x,v,_,u=o(4753);function m(l){return x=(0,u.Z)(l),v=x.format,_=x.formatPrefix,x}m({thousands:",",grouping:[3],currency:["$",""]})},68520:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(5326);function x(v){return(v=(0,u.V)(Math.abs(v)))?v[1]:NaN}},5326:(w,k,o)=>{"use strict";function u(v){return Math.abs(v=Math.round(v))>=1e21?v.toLocaleString("en").replace(/,/g,""):v.toString(10)}function x(v,_){if((m=(v=_?v.toExponential(_-1):v.toExponential()).indexOf("e"))<0)return null;var m,l=v.slice(0,m);return[l.length>1?l[0]+l.slice(2):l,+v.slice(m+1)]}o.d(k,{Z:()=>u,V:()=>x})},32517:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x,v:()=>v});var u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x(_){if(!(m=u.exec(_)))throw new Error("invalid format: "+_);var m;return new v({fill:m[1],align:m[2],sign:m[3],symbol:m[4],zero:m[5],width:m[6],comma:m[7],precision:m[8]&&m[8].slice(1),trim:m[9],type:m[10]})}function v(_){this.fill=void 0===_.fill?" ":_.fill+"",this.align=void 0===_.align?">":_.align+"",this.sign=void 0===_.sign?"-":_.sign+"",this.symbol=void 0===_.symbol?"":_.symbol+"",this.zero=!!_.zero,this.width=void 0===_.width?void 0:+_.width,this.comma=!!_.comma,this.precision=void 0===_.precision?void 0:+_.precision,this.trim=!!_.trim,this.type=void 0===_.type?"":_.type+""}x.prototype=v.prototype,v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},41129:(w,k,o)=>{"use strict";o.r(k),o.d(k,{formatDefaultLocale:()=>u.ZP,format:()=>u.WU,formatPrefix:()=>u.jH,formatLocale:()=>x.Z,formatSpecifier:()=>v.Z,FormatSpecifier:()=>v.v,precisionFixed:()=>_.Z,precisionPrefix:()=>m.Z,precisionRound:()=>l.Z});var u=o(22910),x=o(4753),v=o(32517),_=o(78986),m=o(38914),l=o(65142)},4753:(w,k,o)=>{"use strict";o.d(k,{Z:()=>A});var t,u=o(68520),_=o(32517),l=o(5326);function h(L,N){var P=(0,l.V)(L,N);if(!P)return L+"";var R=P[0],Z=P[1];return Z<0?"0."+new Array(-Z).join("0")+R:R.length>Z+1?R.slice(0,Z+1)+"."+R.slice(Z+1):R+new Array(Z-R.length+2).join("0")}const g={"%":(L,N)=>(100*L).toFixed(N),b:L=>Math.round(L).toString(2),c:L=>L+"",d:l.Z,e:(L,N)=>L.toExponential(N),f:(L,N)=>L.toFixed(N),g:(L,N)=>L.toPrecision(N),o:L=>Math.round(L).toString(8),p:(L,N)=>h(100*L,N),r:h,s:function c(L,N){var P=(0,l.V)(L,N);if(!P)return L+"";var R=P[0],Z=P[1],H=Z-(t=3*Math.max(-8,Math.min(8,Math.floor(Z/3))))+1,z=R.length;return H===z?R:H>z?R+new Array(H-z+1).join("0"):H>0?R.slice(0,H)+"."+R.slice(H):"0."+new Array(1-H).join("0")+(0,l.V)(L,Math.max(0,N+H-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)};function d(L){return L}var p=Array.prototype.map,C=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function A(L){var N=void 0===L.grouping||void 0===L.thousands?d:function x(L,N){return function(P,R){for(var Z=P.length,H=[],z=0,tt=L[0],rt=0;Z>0&&tt>0&&(rt+tt+1>R&&(tt=Math.max(1,R-rt)),H.push(P.substring(Z-=tt,Z+tt)),!((rt+=tt+1)>R));)tt=L[z=(z+1)%L.length];return H.reverse().join(N)}}(p.call(L.grouping,Number),L.thousands+""),P=void 0===L.currency?"":L.currency[0]+"",R=void 0===L.currency?"":L.currency[1]+"",Z=void 0===L.decimal?".":L.decimal+"",H=void 0===L.numerals?d:function v(L){return function(N){return N.replace(/[0-9]/g,function(P){return L[+P]})}}(p.call(L.numerals,String)),z=void 0===L.percent?"%":L.percent+"",tt=void 0===L.minus?"\u2212":L.minus+"",rt=void 0===L.nan?"NaN":L.nan+"";function ot(et){var q=(et=(0,_.Z)(et)).fill,at=et.align,Y=et.sign,K=et.symbol,ut=et.zero,it=et.width,G=et.comma,M=et.precision,ft=et.trim,It=et.type;"n"===It?(G=!0,It="g"):g[It]||(void 0===M&&(M=12),ft=!0,It="g"),(ut||"0"===q&&"="===at)&&(ut=!0,q="0",at="=");var Zt="$"===K?P:"#"===K&&/[boxX]/.test(It)?"0"+It.toLowerCase():"",Yt="$"===K?R:/[%p]/.test(It)?z:"",ie=g[It],Ut=/[defgprs%]/.test(It);function xt(pt){var ge,_e,Te,Nt=Zt,Jt=Yt;if("c"===It)Jt=ie(pt)+Jt,pt="";else{var Ze=(pt=+pt)<0||1/pt<0;if(pt=isNaN(pt)?rt:ie(Math.abs(pt),M),ft&&(pt=function m(L){t:for(var Z,N=L.length,P=1,R=-1;P<N;++P)switch(L[P]){case".":R=Z=P;break;case"0":0===R&&(R=P),Z=P;break;default:if(!+L[P])break t;R>0&&(R=0)}return R>0?L.slice(0,R)+L.slice(Z+1):L}(pt)),Ze&&0==+pt&&"+"!==Y&&(Ze=!1),Nt=(Ze?"("===Y?Y:tt:"-"===Y||"("===Y?"":Y)+Nt,Jt=("s"===It?C[8+t/3]:"")+Jt+(Ze&&"("===Y?")":""),Ut)for(ge=-1,_e=pt.length;++ge<_e;)if(48>(Te=pt.charCodeAt(ge))||Te>57){Jt=(46===Te?Z+pt.slice(ge+1):pt.slice(ge))+Jt,pt=pt.slice(0,ge);break}}G&&!ut&&(pt=N(pt,1/0));var yn=Nt.length+pt.length+Jt.length,Pe=yn<it?new Array(it-yn+1).join(q):"";switch(G&&ut&&(pt=N(Pe+pt,Pe.length?it-Jt.length:1/0),Pe=""),at){case"<":pt=Nt+pt+Jt+Pe;break;case"=":pt=Nt+Pe+pt+Jt;break;case"^":pt=Pe.slice(0,yn=Pe.length>>1)+Nt+pt+Jt+Pe.slice(yn);break;default:pt=Pe+Nt+pt+Jt}return H(pt)}return M=void 0===M?6:/[gprs]/.test(It)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),xt.toString=function(){return et+""},xt}return{format:ot,formatPrefix:function J(et,q){var at=ot(((et=(0,_.Z)(et)).type="f",et)),Y=3*Math.max(-8,Math.min(8,Math.floor((0,u.Z)(q)/3))),K=Math.pow(10,-Y),ut=C[8+Y/3];return function(it){return at(K*it)+ut}}}}},78986:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(68520);function x(v){return Math.max(0,-(0,u.Z)(Math.abs(v)))}},38914:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(68520);function x(v,_){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,u.Z)(_)/3)))-(0,u.Z)(Math.abs(v)))}},65142:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(68520);function x(v,_){return v=Math.abs(v),_=Math.abs(_)-v,Math.max(0,(0,u.Z)(_)-(0,u.Z)(v))+1}},9921:function(w,k,o){!function(u,x,v,_,m,l,t,c,h,g){"use strict";function d(j){if(j&&j.__esModule)return j;var mt=Object.create(null);return j&&Object.keys(j).forEach(function(Ct){if("default"!==Ct){var wt=Object.getOwnPropertyDescriptor(j,Ct);Object.defineProperty(mt,Ct,wt.get?wt:{enumerable:!0,get:function(){return j[Ct]}})}}),mt.default=j,Object.freeze(mt)}var Ot,p=d(x);function C(j,mt,Ct){return mt in j?Object.defineProperty(j,mt,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):j[mt]=Ct,j}function A(j){return function L(j){if(Array.isArray(j))return R(j)}(j)||function N(j){if("undefined"!=typeof Symbol&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||function P(j,mt){if(j){if("string"==typeof j)return R(j,mt);var Ct=Object.prototype.toString.call(j).slice(8,-1);if("Object"===Ct&&j.constructor&&(Ct=j.constructor.name),"Map"===Ct||"Set"===Ct)return Array.from(j);if("Arguments"===Ct||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return R(j,mt)}}(j)||function Z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(j,mt){(null==mt||mt>j.length)&&(mt=j.length);for(var Ct=0,wt=new Array(mt);Ct<mt;Ct++)wt[Ct]=j[Ct];return wt}function H(j){var mt={},Ct=j.node().nodeName;mt.tag=Ct,"#text"==Ct?mt.text=j.text():"#comment"==Ct&&(mt.comment=j.text()),mt.attributes={};var wt=j.node().attributes;if(wt)for(var Xt=0;Xt<wt.length;Xt++){var te=wt[Xt];mt.attributes[te.name]=te.value}var ke,O=j.node().transform;if(O&&0!=O.baseVal.numberOfItems){var le=O.baseVal.consolidate().matrix;mt.translation={x:le.e,y:le.f},mt.scale=le.a}if("ellipse"==Ct&&(mt.center={x:mt.attributes.cx,y:mt.attributes.cy}),"polygon"==Ct){var Ie=(ke=j.attr("points").split(" ")).map(function(_t){return _t.split(",")[0]}),nn=ke.map(function(_t){return _t.split(",")[1]}),ze=Math.min.apply(null,Ie),We=Math.max.apply(null,Ie),pe=Math.min.apply(null,nn),xe=Math.max.apply(null,nn);mt.bbox={x:ze,y:pe,width:We-ze,height:xe-pe},mt.center={x:(ze+We)/2,y:(pe+xe)/2}}return"path"==Ct&&((ke=j.attr("d").split(/[A-Z ]/)).shift(),Ie=ke.map(function(Wt){return+Wt.split(",")[0]}),nn=ke.map(function(Wt){return+Wt.split(",")[1]}),ze=Math.min.apply(null,Ie),We=Math.max.apply(null,Ie),pe=Math.min.apply(null,nn),xe=Math.max.apply(null,nn),mt.bbox={x:ze,y:pe,width:We-ze,height:xe-pe},mt.center={x:(ze+We)/2,y:(pe+xe)/2},mt.totalLength=j.node().getTotalLength()),"text"==Ct&&(mt.center={x:j.attr("x"),y:j.attr("y")}),"#text"==Ct?mt.text=j.text():"#comment"==Ct&&(mt.comment=j.text()),mt}function z(j){var mt=H(j);return mt.children=[],p.selectAll(j.node().childNodes).each(function(){var wt=z(p.select(this));wt.parent=mt,mt.children.push(wt)}),mt}function tt(j){return"#text"==j.tag?document.createTextNode(""):"#comment"==j.tag?document.createComment(j.comment):document.createElementNS("http://www.w3.org/2000/svg",j.tag)}function rt(j){for(var mt=tt(j),Ct=p.select(mt),wt=j.attributes,Xt=0,te=Object.keys(wt);Xt<te.length;Xt++){var Dt=te[Xt];Ct.attr(Dt,wt[Dt])}return mt}function ot(j,mt){var Ct=p.select(j.node().parentNode),wt=rt(mt),Xt=Ct.insert(function(){return wt},function(){return j.node()});return j.remove(),Xt}function et(j,mt){(function J(j,mt){j.datum(mt),j.data([mt],function(Ct){return Ct.key})})(j,mt),p.selectAll(j.node().childNodes).each(function(wt,Xt){et(p.select(this),mt.children[Xt])})}function q(j,mt){var Ct=j.selectAll(function(){return j.node().childNodes}),wt=(Ct=Ct.data(function(Dt){return Dt.children},function(Dt){return Dt.tag+"-"+mt})).enter().append(function(Dt){return tt(Dt)}),Xt=Ct.exit();Xt=Xt.remove(),Ct=wt.merge(Ct);var te={};Ct.each(function(Dt){var he=Dt.tag;null==te[he]&&(te[he]=0);var O=te[he]++;at.call(this,Dt,O)})}function at(j){var mt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ct=p.select(this),wt=j.attributes,Xt=Ct.node().attributes;if(Xt)for(var te=0;te<Xt.length;te++){var Dt=Xt[te],he=Dt.name;if("xmlns"!=he.split(":")[0]&&Dt.namespaceURI){var O=Dt.namespaceURI.split("/");he=O[O.length-1]+":"+he}he in wt||(wt[he]=null)}for(var ke=0,Ie=Object.keys(wt);ke<Ie.length;ke++){var nn=Ie[ke];Ct.attr(nn,wt[nn])}j.text&&Ct.text(j.text),q(Ct,mt)}function Y(j){return Object.assign({},j)}function K(j){return Math.round(100*j)/100}function it(){var j=this;var wt=p.select(this._selection.node().querySelector("svg"));if(0==wt.size())return this;this._zoomSelection=wt;var Xt=t.zoom().scaleExtent(this._options.zoomScaleExtent).translateExtent(this._options.zoomTranslateExtent).interpolate(l.interpolate).on("zoom",function mt(Dt){p.select(wt.node().querySelector("g")).attr("transform",Dt.transform),j._dispatch.call("zoom",j)});this._zoomBehavior=Xt;var te=p.select(wt.node().querySelector("g"));return wt.call(Xt),this._active||M.call(this,te),this._originalTransform=t.zoomTransform(wt.node()),this}function G(j){var mt=this._translation,Ct=this._scale,wt=j.datum().translation,Xt=j.datum().scale,te=t.zoomTransform(this._zoomSelection.node());return mt&&(te=(te=te.scale(1/Ct)).translate(-mt.x,-mt.y)),(te=te.translate(wt.x,wt.y)).scale(Xt)}function M(j){this._zoomBehavior.transform(this._zoomSelection,G.call(this,j)),this._translation=j.datum().translation,this._scale=j.datum().scale,this._originalTransform=t.zoomIdentity.translate(j.datum().translation.x,j.datum().translation.y).scale(j.datum().scale)}function Ut(j,mt){return function(){var Ct=j.map(function(wt){return l.interpolate([wt[0][0],wt[0][1]],[wt[1][0],wt[1][1]])});return function(wt){return wt<1?"M"+Ct.map(function(Xt){return Xt(wt)}).join("L"):mt}}}function Nt(j){return"edge"==j.attributes.class||"a"==j.tag&&"g"==j.parent.tag&&"edge"==j.parent.parent.attributes.class}function Jt(j){return j.parent&&Nt(j.parent)}function Ze(j){var mt=this._transition,Ct=this._options.fade&&null!=mt,wt=this._options.tweenPaths,Xt=this._options.tweenShapes,te=this._options.convertEqualSidedPolygons,Dt=this._options.growEnteringEdges&&null!=mt,he=this._attributer,O=this;function ke(pe){var xe=p.select(this);if("svg"==pe.tag){var Xe=O._options;if(null!=Xe.width||null!=Xe.height){var nt=Xe.width,_t=Xe.height;null==nt?nt=4*pe.attributes.width.replace("pt","")/3:(xe.attr("width",nt),pe.attributes.width=nt),null==_t?_t=4*pe.attributes.height.replace("pt","")/3:(xe.attr("height",_t),pe.attributes.height=_t),Xe.fit||(xe.attr("viewBox","0 0 ".concat(3*nt/4/Xe.scale," ").concat(3*_t/4/Xe.scale)),pe.attributes.viewBox="0 0 ".concat(3*nt/4/Xe.scale," ").concat(3*_t/4/Xe.scale))}1!=Xe.scale&&(Xe.fit||null==Xe.width&&null==Xe.height)&&(nt=pe.attributes.viewBox.split(" ")[2],_t=pe.attributes.viewBox.split(" ")[3],xe.attr("viewBox","0 0 ".concat(nt/Xe.scale," ").concat(_t/Xe.scale)),pe.attributes.viewBox="0 0 ".concat(nt/Xe.scale," ").concat(_t/Xe.scale))}he&&xe.each(he);var gt=pe.tag,St=pe.attributes,zt=xe.node().attributes;if(zt)for(var ee=0;ee<zt.length;ee++){var Qt=zt[ee],me=Qt.name;if("xmlns"!=me.split(":")[0]&&Qt.namespaceURI){var ye=Qt.namespaceURI.split("/");me=ye[ye.length-1]+":"+me}me in St||(St[me]=null)}var oe=!1,Oe=!1;if(Xt&&mt){if(("polygon"==this.nodeName||"ellipse"==this.nodeName)&&pe.alternativeOld&&(Oe=!0),("polygon"==gt||"ellipse"==gt)&&pe.alternativeNew&&(oe=!0),"polygon"==this.nodeName&&"polygon"==gt&&pe.alternativeOld){var Ee=H(xe);if(!te){var Wn=Ee.attributes.points.split(" ").length;(On=pe.attributes.points).split(" ").length==Wn&&(oe=!1,Oe=!1)}}if(Oe){var Nn=ot(xe,pe.alternativeOld);Nn.data([pe],function(){return pe.key}),xe=Nn}oe&&(gt="path",St=pe.alternativeNew.attributes)}var sn=xe;if(mt&&(sn=sn.transition(mt),Ct&&sn.filter(function(ct){return"#"==ct.tag[0]?null:this}).style("opacity",1),sn.filter(function(ct){return"#"==ct.tag[0]?null:this}).on("end",function(ct){p.select(this).attr("style",ct&&ct.attributes&&ct.attributes.style||null)})),Dt&&"path"==gt&&pe.offset){var Un=pe.totalLength;xe.attr("stroke-dasharray",Un+" "+Un).attr("stroke-dashoffset",Un).attr("transform","translate("+pe.offset.x+","+pe.offset.y+")"),St["stroke-dashoffset"]=0,St.transform="translate(0,0)",sn.attr("stroke-dashoffset",St["stroke-dashoffset"]).attr("transform",St.transform).on("start",function(){p.select(this).style("opacity",null)}).on("end",function(){p.select(this).attr("stroke-dashoffset",null).attr("stroke-dasharray",null).attr("transform",null)})}if(Dt&&"polygon"==gt&&Jt(pe)&&pe.offset&&"path"==pe.parent.children[3].tag){var hi=p.select(xe.node().parentNode.querySelector("path")),zi=hi.node().getPointAtLength(0),Qn=hi.node().getPointAtLength(pe.totalLength),Ai=hi.node().getPointAtLength(pe.totalLength-1),ln=180*Math.atan2(Qn.y-Ai.y,Qn.x-Ai.x)/Math.PI,Yi=zi.x-Qn.x+pe.offset.x,Ft=zi.y-Qn.y+pe.offset.y;xe.attr("transform","translate("+Yi+","+Ft+")"),sn.attrTween("transform",function(){return function(ct){var yt=hi.node().getPointAtLength(pe.totalLength*ct),kt=hi.node().getPointAtLength(pe.totalLength*ct+1),Pt=180*Math.atan2(kt.y-yt.y,kt.x-yt.x)/Math.PI-ln;return"translate("+(Yi=yt.x-Qn.x+pe.offset.x*(1-ct))+","+(Ft=yt.y-Qn.y+pe.offset.y*(1-ct))+") rotate("+Pt+" "+Qn.x+" "+Qn.y+")"}}).on("start",function(){p.select(this).style("opacity",null)}).on("end",function(){p.select(this).attr("transform",null)})}for(var Ce=wt&&mt&&"path"==gt&&null!=xe.attr("d"),jt=0,T=Object.keys(St);jt<T.length;jt++){var I=T[jt],U=St[I];if(Ce&&"d"==I){var On;(On=(pe.alternativeOld||pe).points)&&sn.attrTween("d",Ut(On,U))}else{if("transform"==I&&pe.translation)if(mt){var Q=sn.on("end");sn.on("start",function(){O._zoomBehavior&&sn.tween("attr.transform",function(){var ct=this;return function(yt){ct.setAttribute("transform",l.interpolateTransformSvg(t.zoomTransform(O._zoomSelection.node()).toString(),G.call(O,xe).toString())(yt))}})}).on("end",function(){Q.call(this),O._zoomBehavior&&M.call(O,xe)})}else O._zoomBehavior&&(M.call(O,xe),U=G.call(O,xe).toString());sn.attr(I,U)}}oe&&sn.on("end",function(ct,yt,kt){ot(Nn=p.select(this),ct).data([ct],function(){return ct.key})}),pe.text&&sn.text(pe.text),function le(pe){var xe=pe.selectAll(function(){return pe.node().childNodes}),Xe=(xe=xe.data(function(gt){return gt.children},function(gt){return gt.key})).enter().append(function(gt){var St=tt(gt);return"#text"==gt.tag&&Ct&&(St.nodeValue=gt.text),St});(Ct||Dt&&Nt(pe.datum()))&&Xe.filter(function(gt){return"#"==gt.tag[0]?null:this}).each(function(gt){for(var St=p.select(this),zt=0,ee=Object.keys(gt.attributes);zt<ee.length;zt++){var Qt=ee[zt];St.attr(Qt,gt.attributes[Qt])}}).filter(function(gt){return"svg"==gt.tag||"g"==gt.tag?null:this}).style("opacity",0);var _t=xe.exit();he&&_t.each(he),mt&&(_t=_t.transition(mt),Ct&&_t.filter(function(gt){return"#"==gt.tag[0]?null:this}).style("opacity",0)),_t=_t.remove(),(xe=Xe.merge(xe)).each(ke)}(xe)}var Ie=this._selection;if(null!=mt){var nn=this._jobs;if(O._active)return nn.push(null),this;Ie.transition(mt).transition().duration(0).on("end",function(){O._active=!1,0!=nn.length&&(nn.shift(),O.render())}),this._active=!0}null!=mt&&Ie.transition(mt).on("start",function(){O._dispatch.call("transitionStart",O)}).on("end",function(){O._dispatch.call("transitionEnd",O)}).transition().duration(0).on("start",function(){O._dispatch.call("restoreEnd",O),O._dispatch.call("end",O),j&&j.call(O)});var ze=this._data,We=Ie.selectAll("svg").data([ze],function(pe){return pe.key});return We=We.enter().append("svg").merge(We),ke.call(We.node(),ze),this._options.zoom&&!this._zoomBehavior&&it.call(this),O._dispatch.call("renderEnd",O),null==mt&&(this._dispatch.call("end",this),j&&j.call(this)),this}function Pe(j,mt){if("polygon"==j.tag){(Ct=Y(j)).tag="path";var Xt=Y(wt=j.attributes),te=wt.points;if("polygon"==mt.tag){(Dt=j.bbox).cx=Dt.x+Dt.width/2,Dt.cy=Dt.y+Dt.height/2;for(var O=wt.points.split(" "),le=O.map(function(Ee){var $e=Ee.split(",");return[$e[0]-Dt.cx,$e[1]-Dt.cy]}),ke=le[le.length-1][0],Ie=le[le.length-1][1],nn=0;nn<le.length;nn++,ke=ze,Ie=We){var pe=(ze=le[nn][0])-ke;if(0!=(xe=(We=le[nn][1])-Ie)&&0<=(Xe=ke-Ie*pe/xe)&&Xe<1/0&&(ke<=Xe&&Xe<=ze||ze<=Xe&&Xe<=ke))break}var nt=[[Dt.cx+Xe,Dt.cy+0].join(",")];te=(nt=(nt=nt.concat(O.slice(nn))).concat(O.slice(0,nn))).join(" ")}Xt.d="M"+te+"z",delete Xt.points,Ct.attributes=Xt}else{var Ct;(Ct=Y(j)).tag="path",Xt=Y(wt=j.attributes);var wt,ze,We,Xe,_t=wt.cx,gt=wt.cy,St=wt.rx,zt=wt.ry;if("polygon"==mt.tag){var Dt;(Dt=mt.bbox).cx=Dt.x+Dt.width/2,Dt.cy=Dt.y+Dt.height/2;var ee=mt.attributes.points.split(" ")[0].split(","),xe=(pe=ee[0]-Dt.cx,ee[1]-Dt.cy),ye=Math.sqrt(Math.pow(pe,2)+Math.pow(xe,2)),Wt=pe/ye,oe=-xe/ye}else Wt=1,oe=0;Xt.d="M "+_t+" "+gt+" m "+(ze=St*Wt)+","+(We=-zt*oe)+" a "+St+","+zt+" 0 1,0 "+(pe=(Xe=St*-Wt)-ze)+","+(xe=-zt*-oe-We)+" a "+St+","+zt+" 0 1,0 "+-pe+","+-xe+"z",delete Xt.cx,delete Xt.cy,delete Xt.rx,delete Xt.ry,Ct.attributes=Xt}return Ct}function kn(){var j=this;try{c.graphviz.layout("","svg","dot").then(function(){c.graphvizSync().then(function(wt){j.layoutSync=wt.layout.bind(wt),null==j._worker&&j._dispatch.call("initEnd",j),j._afterInit&&j._afterInit()})})}catch(wt){}if(null!=this._worker){var mt=this._vizURL,Ct=this;this._workerPort.onmessage=function(wt){Ct._workerCallbacks.shift().call(Ct,wt)},mt.match(/^https?:\/\/|^\/\//i)||(mt=new window.URL(mt,document.location.href).href),de.call(this,{dot:"",engine:"dot",vizURL:mt},function(wt){"init"===wt.data.type&&Ct._dispatch.call("initEnd",this)})}}function de(j,mt){this._workerCallbacks.push(mt),this._workerPort.postMessage(j)}function ni(j,mt){var Ct=this._options.keyMode,wt=this._options.tweenPaths,Xt=this._options.tweenShapes;if("string"==typeof this._options.tweenPrecision&&this._options.tweenPrecision.includes("%"))var te=+this._options.tweenPrecision.split("%")[0]/100,Dt=this._options.tweenPrecision.includes("%");else te=this._options.tweenPrecision,Dt=!1;var he=this._options.growEnteringEdges,O={},le=this._dictionary||{},ke={},Ie=this._nodeDictionary||{};function nn(Wt,oe){var Oe=Wt.tag;if("index"==Ct)Wt.key=oe;else if("#"!=Oe[0])if("id"==Ct)Wt.key=Wt.attributes.id;else if("title"==Ct){var Ee=Wt.children.find(function($e){return"title"==$e.tag});Ee&&(Wt.key=Ee.children.length>0?Ee.children[0].text:"")}null==Wt.key&&(Xt&&("ellipse"==Oe||"polygon"==Oe)&&(Oe="path"),Wt.key=Oe+"-"+oe)}function ze(Wt,oe){Wt.id=(oe?oe.id+".":"")+Wt.key}function We(Wt){O[Wt.id]=Wt}function pe(Wt,oe){Xt&&Wt.id in le&&("polygon"==oe.tag||"ellipse"==oe.tag||"path"==oe.tag)&&(oe.tag!=Wt.tag||"polygon"==Wt.tag)&&("path"!=oe.tag&&(Wt.alternativeOld=Pe(oe,Wt)),"path"!=Wt.tag&&(Wt.alternativeNew=Pe(Wt,oe)))}function xe(Wt,oe){if(wt&&oe&&("path"==oe.tag||Wt.alternativeOld&&"path"==Wt.alternativeOld.tag)){var Oe=(Wt.alternativeNew||Wt).attributes.d;if(Wt.alternativeOld)var Ee=rt(Wt.alternativeOld);else Ee=rt(oe);(Wt.alternativeOld||(Wt.alternativeOld={})).points=function xt(j,mt,Ct,wt){for(var Xt=j,te=Xt.cloneNode(),Dt=Xt.getTotalLength(),he=(te.setAttribute("d",mt),te).getTotalLength(),O=[0],le=0,ke=wt?Ct:Ct/Math.max(Dt,he);(le+=ke)<1;)O.push(le);return O.push(1),O.map(function(nn){var ze=Xt.getPointAtLength(nn*Dt),We=te.getPointAtLength(nn*he);return[[ze.x,ze.y],[We.x,We.y]]})}(Ee,Oe,te,Dt)}}function Xe(Wt){var Oe=arguments.length>2?arguments[2]:void 0;nn(Wt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),ze(Wt,Oe);var $e=le[Wt.id];We(Wt),pe(Wt,$e),xe(Wt,$e);var Wn={};Wt.children.forEach(function(On){var An=On.tag;("ellipse"==An||"polygon"==An)&&(An="path"),null==Wn[An]&&(Wn[An]=0),Xe(On,Wn[An]++,Wt)})}function gt(Wt){(function nt(Wt){if(he&&Wt.parent&&"node"==Wt.parent.attributes.class&&"title"==Wt.tag){if(Wt.children.length>0)var Ee=Wt.children[0].text;else Ee="";ke[Ee]=Wt.parent}})(Wt),function _t(Wt){var Oe=Wt.tag;if(he&&!le[Wt.id]&&Wt.parent&&Jt(Wt)&&("path"==Oe||"polygon"==Oe)){if("polygon"==Oe){var $e=Wt.parent.children.find(function(Qn){return"path"==Qn.tag});$e&&(Wt.totalLength=$e.totalLength)}var On=function _e(j){return function ge(j){return"edge"==j.parent.attributes.class?j.parent:j.parent.parent.parent}(j).children.find(function(mt){return"title"==mt.tag})}(Wt).children[0],An=On.text.split("->");2!=An.length&&(An=On.text.split("--"));var we=An[0],Nn=ke[we],Jn=Ie[we];if(Jn){if((on=Nn.children.findIndex(function(Qn,Ai){return"g"==Qn.tag}))>=0){var sn=Nn.children[on].children.findIndex(function(Qn,Ai){return"a"==Qn.tag});Nn=Nn.children[on].children[sn]}(on=Jn.children.findIndex(function(Qn,Ai){return"g"==Qn.tag}))>=0&&(sn=Jn.children[on].children.findIndex(function(Ai,ln){return"a"==Ai.tag}),Jn=Jn.children[on].children[sn]);for(var Un=Nn.children,on=0;on<Un.length;on++)if("polygon"==Un[on].tag||"ellipse"==Un[on].tag||"path"==Un[on].tag||"text"==Un[on].tag){var Vi=Un[on];break}var hi=Jn.children;for(on=0;on<hi.length;on++)if("polygon"==hi[on].tag||"ellipse"==hi[on].tag||"path"==hi[on].tag||"text"==hi[on].tag){var zi=hi[on];break}Wt.offset=zi&&Vi?{x:zi.center.x-Vi.center.x,y:zi.center.y-Vi.center.y}:{x:0,y:0}}}}(Wt),Wt.children.forEach(function(oe){gt(oe)})}this._dispatch.call("layoutEnd",this);var St=p.select(document.createDocumentFragment()).append("div"),ee=(new window.DOMParser).parseFromString(j,"image/svg+xml");St.append(function(){return ee.documentElement});var me=z(St.select("svg"));this._dispatch.call("dataExtractEnd",this),Xe(me),this._dispatch.call("dataProcessPass1End",this),gt(me),this._dispatch.call("dataProcessPass2End",this),this._data=me,this._dictionary=O,this._nodeDictionary=ke,this._extractData=function(Wt,oe,Oe){var Ee=z(Wt);return Xe(Ee,oe,Oe),gt(Ee),Ee},this._busy=!1,this._dispatch.call("dataProcessEnd",this),mt&&mt.call(this),this._queue.length>0&&this._queue.shift().call(this)}function Zn(j,mt,Ct,wt){var Xt=[j*Ct-(mt=-mt)*(wt=-wt),j*wt+mt*Ct];return[j=Xt[0],mt=-(mt=Xt[1])]}function Di(j,mt,Ct,wt,Xt,te,Dt){var O=z(Tn.call(this,te));j.data([O]),at.call(j.node(),O),_n(j,mt,Ct,wt,Xt,te,Dt)}function _n(j,mt,Ct,wt,Xt,te,Dt){var he=Dt.shortening||0,Ie=[[0,-3.5],[10,0],[0,3.5],[0,-3.5]],nn=wt-mt,ze=Xt-Ct,We=Math.sqrt(nn*nn+ze*ze);if(0==We)var pe=1,xe=0;else pe=nn/We,xe=ze/We;if(wt=mt+(We-he-10-.1)*pe,Xt=Ct+(We-he-10-.1)*xe,te.URL||te.tooltip)var Xe=j.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a"),nt=Xe.selectWithoutDataPropagation("path"),_t=Xe.selectWithoutDataPropagation("polygon");else nt=j.selectWithoutDataPropagation("path"),_t=j.selectWithoutDataPropagation("polygon");var gt=g.path();gt.moveTo(mt,Ct),gt.lineTo(wt,Xt),nt.attr("d",gt),wt=mt+(We-he-10)*pe,Xt=Ct+(We-he-10)*xe;for(var St=0;St<Ie.length;St++)Ie[St]=Zn((zt=Ie[St])[0],zt[1],pe,xe);for(St=0;St<Ie.length;St++)Ie[St]=[wt+(zt=Ie[St])[0],Xt+zt[1]];var ee=[];for(St=0;St<Ie.length;St++){var zt;ee.push((zt=Ie[St]).join(","))}var Qt=ee.join(" ");return _t.attr("points",Qt),this}function wi(){return this._drawnEdge?(this._drawnEdge.g.remove(),this._drawnEdge=null,this):this}function cn(){return this._drawnEdge?this._drawnEdge.g:p.select(null)}function Tn(j){for(var mt="",Ct=0,wt=Object.keys(j);Ct<wt.length;Ct++){var Xt=wt[Ct];null!=j[Xt]&&(mt+=' "'+Xt+'"="'+j[Xt]+'"')}var Dt=this.layoutSync("digraph {a -> b ["+mt+"]}","svg","dot"),O=(new window.DOMParser).parseFromString(Dt,"image/svg+xml");return p.select(document.createDocumentFragment()).append(function(){return O.documentElement}).select(".edge")}function Mn(j,mt,Ct,wt,Xt,te){var he=z(X.call(this,wt,Xt));return j.data([he]),at.call(j.node(),he),Le(j,mt,Ct,Xt),this}function Le(j,mt,Ct,wt,Xt){if(wt.URL||wt.tooltip)var te=j.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");else te=j;var Dt=te.selectAll("ellipse,polygon,path,polyline"),he=j.selectWithoutDataPropagation("text");if(0!=Dt.size()){var O=Dt.node().getBBox();O.cx=O.x+O.width/2,O.cy=O.y+O.height/2}else 0!=he.size()&&(O={x:+he.attr("x"),y:+he.attr("y"),width:0,height:0,cx:+he.attr("x"),cy:+he.attr("y")});return Dt.each(function(le,ke){var Ie=p.select(this);if(Ie.attr("cx"))Ie.attr("cx",K(mt)).attr("cy",K(Ct));else if(Ie.attr("points")){var nn=Ie.attr("points").trim();Ie.attr("points",function mn(te,mt,Ct){var Xt,wt=(Xt=te.split(" ")).map(function(Dt){return Dt.split(",")});return wt=Xt.map(function(Dt){return[K(+mt+ +Dt.split(",")[0]),K(+Ct+ +Dt.split(",")[1])]}),(Xt=wt.map(function(Dt){return Dt.join(",")})).join(" ")}(nn,mt-O.cx,Ct-O.cy))}else{var ze=Ie.attr("d");Ie.attr("d",function Ve(j,mt,Ct){(te=j.split(/[A-Z ]/)).shift();var wt=j.split(/[^[A-Z ]+/),te=(te.map(function(Dt){return Dt.split(",")}),te.map(function(Dt){return[K(+mt+ +Dt.split(",")[0]),K(+Ct+ +Dt.split(",")[1])]}).map(function(Dt){return Dt.join(",")}));return wt.reduce(function(Dt,he,O){return Dt.concat(he,te[O])},[]).join("")}(ze,mt-O.cx,Ct-O.cy))}}),0!=he.size()&&he.attr("x",K(+he.attr("x")+mt-O.cx)).attr("y",K(+he.attr("y")+Ct-O.cy)),this}function Bn(){if(!this._drawnNode)return this;var j=this._drawnNode.g;return j.empty()||j.remove(),this._drawnNode=null,this}function V(){return this._drawnNode?this._drawnNode.g:p.select(null)}function X(j,mt){for(var Ct="",wt=0,Xt=Object.keys(mt);wt<Xt.length;wt++){var te=Xt[wt];null!=mt[te]&&(Ct+=' "'+te+'"="'+mt[te]+'"')}var he=this.layoutSync('graph {"'+j+'" ['+Ct+"]}","svg","dot"),le=(new window.DOMParser).parseFromString(he,"image/svg+xml");return p.select(document.createDocumentFragment()).append(function(){return le.documentElement}).select(".node")}function ht(j){self.document={},j.addEventListener("message",function(mt){var Ct=self["@hpcc-js/wasm"];null==Ct&&mt.data.vizURL&&(importScripts(mt.data.vizURL),(Ct=self["@hpcc-js/wasm"]).wasmFolder(mt.data.vizURL.match(/.*\//)[0])),Ct.graphviz.layout(mt.data.dot,"svg",mt.data.engine,mt.data.options).then(function(wt){j.postMessage(wt?{type:"done",svg:wt}:mt.data.vizURL?{type:"init"}:{type:"skip"})}).catch(function(wt){j.postMessage({type:"error",error:wt.message})})})}function E(){ht(self)}function At(){self.onconnect=function(j){var mt=j.ports[0];ht(mt),mt.start()}}function Bt(j,mt){var Ct=this;if(this._options={useWorker:!0,useSharedWorker:!1,engine:"dot",keyMode:"title",fade:!0,tweenPaths:!0,tweenShapes:!0,convertEqualSidedPolygons:!0,tweenPrecision:1,growEnteringEdges:!0,zoom:!0,zoomScaleExtent:[.1,10],zoomTranslateExtent:[[-1/0,-1/0],[1/0,1/0]],width:null,height:null,scale:1,fit:!1},mt instanceof Object)for(var wt=0,Xt=Object.keys(mt);wt<Xt.length;wt++){var te=Xt[wt];this._options[te]=mt[te]}else"boolean"==typeof mt&&(this._options.useWorker=mt);var Dt=this._options.useWorker,he=this._options.useSharedWorker;if("undefined"==typeof Worker&&(Dt=!1),"undefined"==typeof SharedWorker&&(he=!1),Dt||he){var le=p.selectAll("script").filter(function(){return"javascript/worker"==p.select(this).attr("type")||p.select(this).attr("src")&&p.select(this).attr("src").match(/.*\/@hpcc-js\/wasm/)});0==le.size()?(console.warn('No script tag of type "javascript/worker" was found and "useWorker" is true. Not using web worker.'),Dt=!1,he=!1):(this._vizURL=le.attr("src"),this._vizURL||(console.warn('No "src" attribute of was found on the "javascript/worker" script tag and "useWorker" is true. Not using web worker.'),Dt=!1,he=!1))}if(he){var ke="data:application/javascript;base64,"+btoa(ht.toString()+"("+At.toString()+")()");this._worker=this._worker=new SharedWorker(ke),this._workerPort=this._worker.port,this._workerPortClose=this._worker.port.close.bind(this._workerPort),this._worker.port.start(),this._workerCallbacks=[]}else if(Dt){var Ie=new Blob([ht.toString()+"("+E.toString()+")()"]),nn=window.URL.createObjectURL(Ie);this._worker=new Worker(nn),this._workerPort=this._worker,this._workerPortClose=this._worker.terminate.bind(this._worker),this._workerCallbacks=[]}c.graphvizVersion().then(function(ze){Ct._graphvizVersion=ze}.bind(this)),this._selection=j,this._active=!1,this._busy=!1,this._jobs=[],this._queue=[],this._keyModes=new Set(["title","id","tag-index","index"]),this._images=[],this._translation=void 0,this._scale=void 0,this._eventTypes=["initEnd","start","layoutStart","layoutEnd","dataExtractEnd","dataProcessPass1End","dataProcessPass2End","dataProcessEnd","renderStart","renderEnd","transitionStart","transitionEnd","restoreEnd","end","zoom"],this._dispatch=v.dispatch.apply(void 0,A(this._eventTypes)),kn.call(this),j.node().__graphviz__=this}function Ht(j,mt){return p.select(j).graphviz(mt)}Bt.prototype=Ht.prototype=(C(Ot={constructor:Bt,engine:function Hn(j){return this._options.engine=j,this},addImage:function Kn(j,mt,Ct){return this._images.push({path:j,width:mt,height:Ct}),this},keyMode:function Me(j){if(!this._keyModes.has(j))throw Error("Illegal keyMode: "+j);if(j!=this._options.keyMode&&null!=this._data)throw Error("Too late to change keyMode");return this._options.keyMode=j,this},fade:function $n(j){return this._options.fade=j,this},tweenPaths:function jn(j){return this._options.tweenPaths=j,this},tweenShapes:function Tt(j){return this._options.tweenShapes=j,j&&(this._options.tweenPaths=!0),this},convertEqualSidedPolygons:function Gt(j){return this._options.convertEqualSidedPolygons=j,this},tweenPrecision:function se(j){return this._options.tweenPrecision=j,this},growEnteringEdges:function fe(j){return this._options.growEnteringEdges=j,this},zoom:function ut(j){return this._options.zoom=j,this._options.zoom&&!this._zoomBehavior?it.call(this):!this._options.zoom&&this._zoomBehavior&&(this._zoomSelection.on(".zoom",null),this._zoomBehavior=null),this},resetZoom:function ft(j){var mt=this._zoomSelection;return j&&(mt=mt.transition(j)),mt.call(this._zoomBehavior.transform,this._originalTransform),this},zoomBehavior:function Yt(){return this._zoomBehavior||null},zoomSelection:function ie(){return this._zoomSelection||null},zoomScaleExtent:function It(j){return this._options.zoomScaleExtent=j,this},zoomTranslateExtent:function Zt(j){return this._options.zoomTranslateExtent=j,this},render:function Te(j){return this._busy?(this._queue.push(this.render.bind(this,j)),this):(this._dispatch.call("renderStart",this),this._transitionFactory?m.timeout(function(){this._transition=_.transition(this._transitionFactory()),Ze.call(this,j)}.bind(this),0):Ze.call(this,j),this)},layout:function gn(j,mt,Ct,wt){if(this._worker)de.call(this,{dot:j,engine:mt,options:Ct},function(te){wt.call(this,te.data)});else try{var Xt=this.layoutSync(j,"svg",mt,Ct);wt.call(this,{type:"done",svg:Xt})}catch(te){wt.call(this,{type:"error",error:te.message})}},dot:function Xn(j,mt){var Ct=this,wt=this._options.engine,Xt=this._images;return this._dispatch.call("start",this),this._busy=!0,this._dispatch.call("layoutStart",this),this._worker||null!=this.layoutSync?(this.layout(j,wt,{images:Xt},function(Dt){switch(Dt.type){case"error":if(!Ct._onerror)throw Dt.error.message;Ct._onerror(Dt.error);break;case"done":ni.call(this,Dt.svg,mt)}}),this):(this._afterInit=this.dot.bind(this,j,mt),this)},data:function pt(){return this._data||null},renderDot:function Yn(j,mt){var Ct=this;return this.dot(j,function wt(){Ct.render(mt)}),this},transition:function an(j){return j instanceof Function?this._transitionFactory=j:this._transition=_.transition(j),this},active:function je(j){var Ct=this._selection.selectWithoutDataPropagation("svg");return 0!=Ct.size()?_.active(Ct.node(),j):null},options:function dn(j){if(void 0===j)return Object.assign({},this._options);for(var mt=0,Ct=Object.keys(j);mt<Ct.length;mt++){var wt=Ct[mt];this._options[wt]=j[wt]}return this},width:function En(j){return this._options.width=j,this},height:function Ue(j){return this._options.height=j,this},scale:function ci(j){return this._options.scale=j,this},fit:function Rn(j){return this._options.fit=j,this},attributer:function vn(j){return this._attributer=j,this},on:function ve(j,mt){return this._dispatch.on(j,mt),this},onerror:function Be(j){return this._onerror=j,this},logEvents:function Ne(j){for(var mt=this,Ct=Date.now(),wt={},Xt=this._eventTypes,te=Math.max.apply(Math,A(Xt.map(function(Ie){return Ie.length}))),Dt=function(nn){var ze=Xt[nn];wt[ze]=[],O=mt,mt.on(ze+".log",j?function(){var We=Date.now(),pe=wt[ze].length;wt[ze].push(We);var xe="";if(xe+="Event ",xe+=h.format(" >2")(nn)+" ",xe+=ze+" ".repeat(te-ze.length),xe+=h.format(" >5")(We-Ct)+" ","initEnd"!=ze&&(xe+=h.format(" >5")(We-wt.start[pe])),"dataProcessEnd"==ze&&(xe+=" prepare                 "+h.format(" >5")(We-wt.layoutEnd[pe])),"renderEnd"==ze&&O._transition&&(xe+=" transition start margin "+h.format(" >5")(O._transition.delay()-(We-wt.renderStart[pe])),le=O._transition.delay(),ke=O._transition.duration()),"transitionStart"==ze){var Xe=We-wt.renderStart[pe];xe+=" transition delay        "+h.format(" >5")(We-wt.renderStart[pe]),xe+=" expected "+h.format(" >5")(le),xe+=" diff "+h.format(" >5")(Xe-le)}if("transitionEnd"==ze){var nt=We-wt.transitionStart[pe];xe+=" transition duration     "+h.format(" >5")(nt),xe+=" expected "+h.format(" >5")(ke),xe+=" diff "+h.format(" >5")(nt-ke)}console.log(xe),Ct=We}:null)},he=0;he<Xt.length;he++){var O,le,ke;Dt(he)}return this},destroy:function en(){return delete this._selection.node().__graphviz__,this._worker&&this._workerPortClose(),this},drawEdge:function Dn(j,mt,Ct,wt,Xt){var te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if((Xt=Object.assign({},Xt)).style&&Xt.style.includes("invis"))var Dt=p.select(null);else{var le=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Ie=z(Tn.call(this,Xt));Dt=le.append("g").data([Ie]),at.call(Dt.node(),Ie),Di.call(this,Dt,j,mt,Ct,wt,Xt,te)}return this._drawnEdge={g:Dt,x1:j,y1:mt,x2:Ct,y2:wt,attributes:Xt},this},updateDrawnEdge:function qn(j,mt,Ct,wt){var Xt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!this._drawnEdge)throw Error("No edge has been drawn");var Dt=this._drawnEdge.g;return Xt=Object.assign(this._drawnEdge.attributes,Xt),this._drawnEdge.x1=j,this._drawnEdge.y1=mt,this._drawnEdge.x2=Ct,this._drawnEdge.y2=wt,!Dt.empty()||Xt.style&&Xt.style.includes("invis")||(Dt=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g").append("g"),this._drawnEdge.g=Dt),Dt.empty()||Di.call(this,Dt,j,mt,Ct,wt,Xt,te),this},moveDrawnEdgeEndPoint:function ti(j,mt){var Ct=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._drawnEdge)throw Error("No edge has been drawn");var wt=this._drawnEdge.g,Xt=this._drawnEdge.x1,te=this._drawnEdge.y1,Dt=this._drawnEdge.attributes;return this._drawnEdge.x2=j,this._drawnEdge.y2=mt,_n(wt,Xt,te,j,mt,Dt,Ct),this},insertDrawnEdge:function In(j){if(!this._drawnEdge)throw Error("No edge has been drawn");var mt=this._drawnEdge.g;if(mt.empty())return this;mt.selectWithoutDataPropagation("title").text(j);var te=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Dt=te.datum(),he=this._extractData(mt,Dt.children.length,te.datum());return Dt.children.push(he),et(mt,he),this._drawnEdge=null,this},removeDrawnEdge:wi},"removeDrawnEdge",wi),C(Ot,"drawnEdgeSelection",cn),C(Ot,"drawnEdgeSelection",cn),C(Ot,"drawNode",function ei(j,mt,Ct){var wt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Xt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if((wt=Object.assign({},wt)).style&&wt.style.includes("invis"))var te=p.select(null);else{var O=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),ke=z(X.call(this,Ct,wt));te=O.append("g").data([ke]),at.call(te.node(),ke),Mn.call(this,te,j,mt,Ct,wt,Xt)}return this._drawnNode={g:te,nodeId:Ct,x:j,y:mt,attributes:wt},this}),C(Ot,"updateDrawnNode",function ui(j,mt,Ct){var wt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Xt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this._drawnNode)throw Error("No node has been drawn");var te=this._drawnNode.g;return null==Ct&&(Ct=this._drawnNode.nodeId),wt=Object.assign(this._drawnNode.attributes,wt),this._drawnNode.nodeId=Ct,this._drawnNode.x=j,this._drawnNode.y=mt,!te.empty()||wt.style&&wt.style.includes("invis")||(te=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g").append("g"),this._drawnNode.g=te),te.empty()||Mn.call(this,te,j,mt,Ct,wt,Xt),this}),C(Ot,"moveDrawnNode",function Ii(j,mt){if(!this._drawnNode)throw Error("No node has been drawn");var Ct=this._drawnNode.g,wt=this._drawnNode.attributes;return this._drawnNode.x=j,this._drawnNode.y=mt,Ct.empty()||Le(Ct,j,mt,wt),this}),C(Ot,"insertDrawnNode",function fn(j){if(!this._drawnNode)throw Error("No node has been drawn");null==j&&(j=this._drawnNode.nodeId);var mt=this._drawnNode.g;if(mt.empty())return this;var Ct=this._drawnNode.attributes;if(mt.selectWithoutDataPropagation("title").text(j),Ct.URL||Ct.tooltip){var te=mt.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");te.selectWithoutDataPropagation("ellipse,polygon,path,polyline");var Dt=te.selectWithoutDataPropagation("text")}else mt.selectWithoutDataPropagation("ellipse,polygon,path,polyline"),Dt=mt.selectWithoutDataPropagation("text");Dt.text(Ct.label||j);var le=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),ke=le.datum(),Ie=this._extractData(mt,ke.children.length,le.datum());return ke.children.push(Ie),et(mt,Ie),this._drawnNode=null,this}),C(Ot,"removeDrawnNode",Bn),C(Ot,"removeDrawnNode",Bn),C(Ot,"drawnNodeSelection",V),C(Ot,"drawnNodeSelection",V),C(Ot,"graphvizVersion",function yn(){return this._graphvizVersion}),Ot),x.selection.prototype.graphviz=function re(j){var mt=this.node().__graphviz__;return mt?(mt.options(j),m.timeout(function(){mt._dispatch.call("initEnd",this)}.bind(this),0)):mt=new Bt(this,j),mt},x.selection.prototype.selectWithoutDataPropagation=function qt(j){return p.select(this.size()>0?this.node().querySelector(j):null)},u.graphviz=Ht,Object.defineProperty(u,"__esModule",{value:!0})}(k,o(68557),o(18140),o(35011),o(31566),o(82683),o(60128),o(89397),o(41129),o(12218))},92940:(w,k,o)=>{"use strict";o.d(k,{Z:()=>t});var u={value:()=>{}};function x(){for(var d,c=0,h=arguments.length,g={};c<h;++c){if(!(d=arguments[c]+"")||d in g||/[\s.]/.test(d))throw new Error("illegal type: "+d);g[d]=[]}return new v(g)}function v(c){this._=c}function _(c,h){return c.trim().split(/^|\s+/).map(function(g){var d="",p=g.indexOf(".");if(p>=0&&(d=g.slice(p+1),g=g.slice(0,p)),g&&!h.hasOwnProperty(g))throw new Error("unknown type: "+g);return{type:g,name:d}})}function m(c,h){for(var p,g=0,d=c.length;g<d;++g)if((p=c[g]).name===h)return p.value}function l(c,h,g){for(var d=0,p=c.length;d<p;++d)if(c[d].name===h){c[d]=u,c=c.slice(0,d).concat(c.slice(d+1));break}return null!=g&&c.push({name:h,value:g}),c}v.prototype=x.prototype={constructor:v,on:function(c,h){var p,g=this._,d=_(c+"",g),C=-1,A=d.length;if(!(arguments.length<2)){if(null!=h&&"function"!=typeof h)throw new Error("invalid callback: "+h);for(;++C<A;)if(p=(c=d[C]).type)g[p]=l(g[p],c.name,h);else if(null==h)for(p in g)g[p]=l(g[p],c.name,null);return this}for(;++C<A;)if((p=(c=d[C]).type)&&(p=m(g[p],c.name)))return p},copy:function(){var c={},h=this._;for(var g in h)c[g]=h[g].slice();return new v(c)},call:function(c,h){if((p=arguments.length-2)>0)for(var p,C,g=new Array(p),d=0;d<p;++d)g[d]=arguments[d+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(d=0,p=(C=this._[c]).length;d<p;++d)C[d].value.apply(h,g)},apply:function(c,h,g){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var d=this._[c],p=0,C=d.length;p<C;++p)d[p].value.apply(h,g)}};const t=x},18140:(w,k,o)=>{"use strict";o.r(k),o.d(k,{dispatch:()=>u.Z});var u=o(92940)},97907:(w,k,o)=>{"use strict";function u(v,_,m,l,t){var c=v*v,h=c*v;return((1-3*v+3*c-h)*_+(4-6*c+3*h)*m+(1+3*v+3*c-3*h)*l+h*t)/6}function x(v){var _=v.length-1;return function(m){var l=m<=0?m=0:m>=1?(m=1,_-1):Math.floor(m*_),t=v[l],c=v[l+1];return u((m-l/_)*_,l>0?v[l-1]:2*t-c,t,c,l<_-1?v[l+2]:2*c-t)}}o.d(k,{t:()=>u,Z:()=>x})},77296:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(97907);function x(v){var _=v.length;return function(m){var l=Math.floor(((m%=1)<0?++m:m)*_);return(0,u.t)((m-l/_)*_,v[(l+_-1)%_],v[l%_],v[(l+1)%_],v[(l+2)%_])}}},87237:(w,k,o)=>{"use strict";o.d(k,{wx:()=>_,yi:()=>m,ZP:()=>l});var u=o(89783);function x(t,c){return function(h){return t+h*c}}function _(t,c){var h=c-t;return h?x(t,h>180||h<-180?h-360*Math.round(h/360):h):(0,u.Z)(isNaN(t)?c:t)}function m(t){return 1==(t=+t)?l:function(c,h){return h-c?function v(t,c,h){return t=Math.pow(t,h),c=Math.pow(c,h)-t,h=1/h,function(g){return Math.pow(t+g*c,h)}}(c,h,t):(0,u.Z)(isNaN(c)?h:c)}}function l(t,c){var h=c-t;return h?x(t,h):(0,u.Z)(isNaN(t)?c:t)}},89783:(w,k,o)=>{"use strict";o.d(k,{Z:()=>u});const u=x=>()=>x},82683:(w,k,o)=>{"use strict";o.r(k),o.d(k,{interpolate:()=>p,interpolateArray:()=>m,interpolateBasis:()=>C.Z,interpolateBasisClosed:()=>A.Z,interpolateCubehelix:()=>Kn,interpolateCubehelixLong:()=>Me,interpolateDate:()=>t,interpolateDiscrete:()=>L,interpolateHcl:()=>de,interpolateHclLong:()=>gn,interpolateHsl:()=>et,interpolateHslLong:()=>q,interpolateHue:()=>P,interpolateLab:()=>Ve,interpolateNumber:()=>c.Z,interpolateNumberArray:()=>v,interpolateObject:()=>h,interpolateRgb:()=>x.ZP,interpolateRgbBasis:()=>x.hD,interpolateRgbBasisClosed:()=>x.YD,interpolateRound:()=>R,interpolateString:()=>g.Z,interpolateTransformCss:()=>Z.Y,interpolateTransformSvg:()=>Z.w,interpolateZoom:()=>ot,piecewise:()=>$n,quantize:()=>jn});var u=o(52786),x=o(8200);function v(Tt,Gt){Gt||(Gt=[]);var ve,se=Tt?Math.min(Gt.length,Tt.length):0,fe=Gt.slice();return function(Be){for(ve=0;ve<se;++ve)fe[ve]=Tt[ve]*(1-Be)+Gt[ve]*Be;return fe}}function _(Tt){return ArrayBuffer.isView(Tt)&&!(Tt instanceof DataView)}function m(Tt,Gt){return(_(Gt)?v:l)(Tt,Gt)}function l(Tt,Gt){var Ne,se=Gt?Gt.length:0,fe=Tt?Math.min(se,Tt.length):0,ve=new Array(fe),Be=new Array(se);for(Ne=0;Ne<fe;++Ne)ve[Ne]=p(Tt[Ne],Gt[Ne]);for(;Ne<se;++Ne)Be[Ne]=Gt[Ne];return function(en){for(Ne=0;Ne<fe;++Ne)Be[Ne]=ve[Ne](en);return Be}}function t(Tt,Gt){var se=new Date;return Tt=+Tt,Gt=+Gt,function(fe){return se.setTime(Tt*(1-fe)+Gt*fe),se}}var c=o(37815);function h(Tt,Gt){var ve,se={},fe={};for(ve in(null===Tt||"object"!=typeof Tt)&&(Tt={}),(null===Gt||"object"!=typeof Gt)&&(Gt={}),Gt)ve in Tt?se[ve]=p(Tt[ve],Gt[ve]):fe[ve]=Gt[ve];return function(Be){for(ve in se)fe[ve]=se[ve](Be);return fe}}var g=o(42142),d=o(89783);function p(Tt,Gt){var fe,se=typeof Gt;return null==Gt||"boolean"===se?(0,d.Z)(Gt):("number"===se?c.Z:"string"===se?(fe=(0,u.ZP)(Gt))?(Gt=fe,x.ZP):g.Z:Gt instanceof u.ZP?x.ZP:Gt instanceof Date?t:_(Gt)?v:Array.isArray(Gt)?l:"function"!=typeof Gt.valueOf&&"function"!=typeof Gt.toString||isNaN(Gt)?h:c.Z)(Tt,Gt)}var C=o(97907),A=o(77296);function L(Tt){var Gt=Tt.length;return function(se){return Tt[Math.max(0,Math.min(Gt-1,Math.floor(se*Gt)))]}}var N=o(87237);function P(Tt,Gt){var se=(0,N.wx)(+Tt,+Gt);return function(fe){var ve=se(fe);return ve-360*Math.floor(ve/360)}}function R(Tt,Gt){return Tt=+Tt,Gt=+Gt,function(se){return Math.round(Tt*(1-se)+Gt*se)}}var Z=o(43349);function z(Tt){return((Tt=Math.exp(Tt))+1/Tt)/2}const ot=function Tt(Gt,se,fe){function ve(Be,Ne){var cn,Tn,en=Be[0],Zn=Be[1],Dn=Be[2],_n=Ne[2],ti=Ne[0]-en,wi=Ne[1]-Zn,In=ti*ti+wi*wi;if(In<1e-12)Tn=Math.log(_n/Dn)/Gt,cn=function(Bn){return[en+Bn*ti,Zn+Bn*wi,Dn*Math.exp(Gt*Bn*Tn)]};else{var ei=Math.sqrt(In),ui=(_n*_n-Dn*Dn+fe*In)/(2*Dn*se*ei),Mn=(_n*_n-Dn*Dn-fe*In)/(2*_n*se*ei),Le=Math.log(Math.sqrt(ui*ui+1)-ui),Ii=Math.log(Math.sqrt(Mn*Mn+1)-Mn);Tn=(Ii-Le)/Gt,cn=function(Bn){var fn=Bn*Tn,V=z(Le),X=Dn/(se*ei)*(V*function rt(Tt){return((Tt=Math.exp(2*Tt))-1)/(Tt+1)}(Gt*fn+Le)-function tt(Tt){return((Tt=Math.exp(Tt))-1/Tt)/2}(Le));return[en+X*ti,Zn+X*wi,Dn*V/z(Gt*fn+Le)]}}return cn.duration=1e3*Tn*Gt/Math.SQRT2,cn}return ve.rho=function(Be){var Ne=Math.max(.001,+Be),en=Ne*Ne;return Tt(Ne,en,en*en)},ve}(Math.SQRT2,2,4);function J(Tt){return function(Gt,se){var fe=Tt((Gt=(0,u.Ym)(Gt)).h,(se=(0,u.Ym)(se)).h),ve=(0,N.ZP)(Gt.s,se.s),Be=(0,N.ZP)(Gt.l,se.l),Ne=(0,N.ZP)(Gt.opacity,se.opacity);return function(en){return Gt.h=fe(en),Gt.s=ve(en),Gt.l=Be(en),Gt.opacity=Ne(en),Gt+""}}}const et=J(N.wx);var q=J(N.ZP),at=o(68884),Y=Math.PI/180,K=180/Math.PI,M=.82521,ft=4/29,It=6/29,Zt=3*It*It;function ie(Tt){if(Tt instanceof pt)return new pt(Tt.l,Tt.a,Tt.b,Tt.opacity);if(Tt instanceof Pe)return mn(Tt);Tt instanceof u.Ss||(Tt=(0,u.SU)(Tt));var Be,Ne,Gt=_e(Tt.r),se=_e(Tt.g),fe=_e(Tt.b),ve=Nt((.2225045*Gt+.7168786*se+.0606169*fe)/1);return Gt===se&&se===fe?Be=Ne=ve:(Be=Nt((.4360747*Gt+.3850649*se+.1430804*fe)/.96422),Ne=Nt((.0139322*Gt+.0971045*se+.7141733*fe)/M)),new pt(116*ve-16,500*(Be-ve),200*(ve-Ne),Tt.opacity)}function xt(Tt,Gt,se,fe){return 1===arguments.length?ie(Tt):new pt(Tt,Gt,se,null==fe?1:fe)}function pt(Tt,Gt,se,fe){this.l=+Tt,this.a=+Gt,this.b=+se,this.opacity=+fe}function Nt(Tt){return Tt>.008856451679035631?Math.pow(Tt,1/3):Tt/Zt+ft}function Jt(Tt){return Tt>It?Tt*Tt*Tt:Zt*(Tt-ft)}function ge(Tt){return 255*(Tt<=.0031308?12.92*Tt:1.055*Math.pow(Tt,1/2.4)-.055)}function _e(Tt){return(Tt/=255)<=.04045?Tt/12.92:Math.pow((Tt+.055)/1.055,2.4)}function Te(Tt){if(Tt instanceof Pe)return new Pe(Tt.h,Tt.c,Tt.l,Tt.opacity);if(Tt instanceof pt||(Tt=ie(Tt)),0===Tt.a&&0===Tt.b)return new Pe(NaN,0<Tt.l&&Tt.l<100?0:NaN,Tt.l,Tt.opacity);var Gt=Math.atan2(Tt.b,Tt.a)*K;return new Pe(Gt<0?Gt+360:Gt,Math.sqrt(Tt.a*Tt.a+Tt.b*Tt.b),Tt.l,Tt.opacity)}function yn(Tt,Gt,se,fe){return 1===arguments.length?Te(Tt):new Pe(Tt,Gt,se,null==fe?1:fe)}function Pe(Tt,Gt,se,fe){this.h=+Tt,this.c=+Gt,this.l=+se,this.opacity=+fe}function mn(Tt){if(isNaN(Tt.h))return new pt(Tt.l,0,0,Tt.opacity);var Gt=Tt.h*Y;return new pt(Tt.l,Math.cos(Gt)*Tt.c,Math.sin(Gt)*Tt.c,Tt.opacity)}function Ve(Tt,Gt){var se=(0,N.ZP)((Tt=xt(Tt)).l,(Gt=xt(Gt)).l),fe=(0,N.ZP)(Tt.a,Gt.a),ve=(0,N.ZP)(Tt.b,Gt.b),Be=(0,N.ZP)(Tt.opacity,Gt.opacity);return function(Ne){return Tt.l=se(Ne),Tt.a=fe(Ne),Tt.b=ve(Ne),Tt.opacity=Be(Ne),Tt+""}}function kn(Tt){return function(Gt,se){var fe=Tt((Gt=yn(Gt)).h,(se=yn(se)).h),ve=(0,N.ZP)(Gt.c,se.c),Be=(0,N.ZP)(Gt.l,se.l),Ne=(0,N.ZP)(Gt.opacity,se.opacity);return function(en){return Gt.h=fe(en),Gt.c=ve(en),Gt.l=Be(en),Gt.opacity=Ne(en),Gt+""}}}(0,at.Z)(pt,xt,(0,at.l)(u.Il,{brighter:function(Tt){return new pt(this.l+18*(null==Tt?1:Tt),this.a,this.b,this.opacity)},darker:function(Tt){return new pt(this.l-18*(null==Tt?1:Tt),this.a,this.b,this.opacity)},rgb:function(){var Tt=(this.l+16)/116,Gt=isNaN(this.a)?Tt:Tt+this.a/500,se=isNaN(this.b)?Tt:Tt-this.b/200;return Gt=.96422*Jt(Gt),Tt=1*Jt(Tt),se=M*Jt(se),new u.Ss(ge(3.1338561*Gt-1.6168667*Tt-.4906146*se),ge(-.9787684*Gt+1.9161415*Tt+.033454*se),ge(.0719453*Gt-.2289914*Tt+1.4052427*se),this.opacity)}})),(0,at.Z)(Pe,yn,(0,at.l)(u.Il,{brighter:function(Tt){return new Pe(this.h,this.c,this.l+18*(null==Tt?1:Tt),this.opacity)},darker:function(Tt){return new Pe(this.h,this.c,this.l-18*(null==Tt?1:Tt),this.opacity)},rgb:function(){return mn(this).rgb()}}));const de=kn(N.wx);var gn=kn(N.ZP),ni=1.78277,Yn=-.29227,an=-.90649,je=1.97294,dn=je*an,En=je*ni,Ue=ni*Yn- -.14861*an;function ci(Tt){if(Tt instanceof vn)return new vn(Tt.h,Tt.s,Tt.l,Tt.opacity);Tt instanceof u.Ss||(Tt=(0,u.SU)(Tt));var se=Tt.g/255,fe=Tt.b/255,ve=(Ue*fe+dn*(Tt.r/255)-En*se)/(Ue+dn-En),Be=fe-ve,Ne=(je*(se-ve)-Yn*Be)/an,en=Math.sqrt(Ne*Ne+Be*Be)/(je*ve*(1-ve)),Zn=en?Math.atan2(Ne,Be)*K-120:NaN;return new vn(Zn<0?Zn+360:Zn,en,ve,Tt.opacity)}function Rn(Tt,Gt,se,fe){return 1===arguments.length?ci(Tt):new vn(Tt,Gt,se,null==fe?1:fe)}function vn(Tt,Gt,se,fe){this.h=+Tt,this.s=+Gt,this.l=+se,this.opacity=+fe}function Hn(Tt){return function Gt(se){function fe(ve,Be){var Ne=Tt((ve=Rn(ve)).h,(Be=Rn(Be)).h),en=(0,N.ZP)(ve.s,Be.s),Zn=(0,N.ZP)(ve.l,Be.l),Dn=(0,N.ZP)(ve.opacity,Be.opacity);return function(qn){return ve.h=Ne(qn),ve.s=en(qn),ve.l=Zn(Math.pow(qn,se)),ve.opacity=Dn(qn),ve+""}}return se=+se,fe.gamma=Gt,fe}(1)}(0,at.Z)(vn,Rn,(0,at.l)(u.Il,{brighter:function(Tt){return Tt=null==Tt?u.J5:Math.pow(u.J5,Tt),new vn(this.h,this.s,this.l*Tt,this.opacity)},darker:function(Tt){return Tt=null==Tt?u.xV:Math.pow(u.xV,Tt),new vn(this.h,this.s,this.l*Tt,this.opacity)},rgb:function(){var Tt=isNaN(this.h)?0:(this.h+120)*Y,Gt=+this.l,se=isNaN(this.s)?0:this.s*Gt*(1-Gt),fe=Math.cos(Tt),ve=Math.sin(Tt);return new u.Ss(255*(Gt+se*(-.14861*fe+ni*ve)),255*(Gt+se*(Yn*fe+an*ve)),255*(Gt+se*(je*fe)),this.opacity)}}));const Kn=Hn(N.wx);var Me=Hn(N.ZP);function $n(Tt,Gt){void 0===Gt&&(Gt=Tt,Tt=p);for(var se=0,fe=Gt.length-1,ve=Gt[0],Be=new Array(fe<0?0:fe);se<fe;)Be[se]=Tt(ve,ve=Gt[++se]);return function(Ne){var en=Math.max(0,Math.min(fe-1,Math.floor(Ne*=fe)));return Be[en](Ne-en)}}function jn(Tt,Gt){for(var se=new Array(Gt),fe=0;fe<Gt;++fe)se[fe]=Tt(fe/(Gt-1));return se}},37815:(w,k,o)=>{"use strict";function u(x,v){return x=+x,v=+v,function(_){return x*(1-_)+v*_}}o.d(k,{Z:()=>u})},8200:(w,k,o)=>{"use strict";o.d(k,{ZP:()=>m,hD:()=>t,YD:()=>c});var u=o(52786),x=o(97907),v=o(77296),_=o(87237);const m=function h(g){var d=(0,_.yi)(g);function p(C,A){var L=d((C=(0,u.B8)(C)).r,(A=(0,u.B8)(A)).r),N=d(C.g,A.g),P=d(C.b,A.b),R=(0,_.ZP)(C.opacity,A.opacity);return function(Z){return C.r=L(Z),C.g=N(Z),C.b=P(Z),C.opacity=R(Z),C+""}}return p.gamma=h,p}(1);function l(h){return function(g){var L,N,d=g.length,p=new Array(d),C=new Array(d),A=new Array(d);for(L=0;L<d;++L)N=(0,u.B8)(g[L]),p[L]=N.r||0,C[L]=N.g||0,A[L]=N.b||0;return p=h(p),C=h(C),A=h(A),N.opacity=1,function(P){return N.r=p(P),N.g=C(P),N.b=A(P),N+""}}}var t=l(x.Z),c=l(v.Z)},42142:(w,k,o)=>{"use strict";o.d(k,{Z:()=>l});var u=o(37815),x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(x.source,"g");function l(t,c){var g,d,p,h=x.lastIndex=v.lastIndex=0,C=-1,A=[],L=[];for(t+="",c+="";(g=x.exec(t))&&(d=v.exec(c));)(p=d.index)>h&&(p=c.slice(h,p),A[C]?A[C]+=p:A[++C]=p),(g=g[0])===(d=d[0])?A[C]?A[C]+=d:A[++C]=d:(A[++C]=null,L.push({i:C,x:(0,u.Z)(g,d)})),h=v.lastIndex;return h<c.length&&(p=c.slice(h),A[C]?A[C]+=p:A[++C]=p),A.length<2?L[0]?function m(t){return function(c){return t(c)+""}}(L[0].x):function _(t){return function(){return t}}(c):(c=L.length,function(N){for(var R,P=0;P<c;++P)A[(R=L[P]).i]=R.x(N);return A.join("")})}},43349:(w,k,o)=>{"use strict";o.d(k,{Y:()=>h,w:()=>g});var m,u=o(37815),x=180/Math.PI,v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _(d,p,C,A,L,N){var P,R,Z;return(P=Math.sqrt(d*d+p*p))&&(d/=P,p/=P),(Z=d*C+p*A)&&(C-=d*Z,A-=p*Z),(R=Math.sqrt(C*C+A*A))&&(C/=R,A/=R,Z/=R),d*A<p*C&&(d=-d,p=-p,Z=-Z,P=-P),{translateX:L,translateY:N,rotate:Math.atan2(p,d)*x,skewX:Math.atan(Z)*x,scaleX:P,scaleY:R}}function c(d,p,C,A){function L(H){return H.length?H.pop()+" ":""}return function(H,z){var tt=[],rt=[];return H=d(H),z=d(z),function N(H,z,tt,rt,ot,J){if(H!==tt||z!==rt){var et=ot.push("translate(",null,p,null,C);J.push({i:et-4,x:(0,u.Z)(H,tt)},{i:et-2,x:(0,u.Z)(z,rt)})}else(tt||rt)&&ot.push("translate("+tt+p+rt+C)}(H.translateX,H.translateY,z.translateX,z.translateY,tt,rt),function P(H,z,tt,rt){H!==z?(H-z>180?z+=360:z-H>180&&(H+=360),rt.push({i:tt.push(L(tt)+"rotate(",null,A)-2,x:(0,u.Z)(H,z)})):z&&tt.push(L(tt)+"rotate("+z+A)}(H.rotate,z.rotate,tt,rt),function R(H,z,tt,rt){H!==z?rt.push({i:tt.push(L(tt)+"skewX(",null,A)-2,x:(0,u.Z)(H,z)}):z&&tt.push(L(tt)+"skewX("+z+A)}(H.skewX,z.skewX,tt,rt),function Z(H,z,tt,rt,ot,J){if(H!==tt||z!==rt){var et=ot.push(L(ot)+"scale(",null,",",null,")");J.push({i:et-4,x:(0,u.Z)(H,tt)},{i:et-2,x:(0,u.Z)(z,rt)})}else(1!==tt||1!==rt)&&ot.push(L(ot)+"scale("+tt+","+rt+")")}(H.scaleX,H.scaleY,z.scaleX,z.scaleY,tt,rt),H=z=null,function(ot){for(var q,J=-1,et=rt.length;++J<et;)tt[(q=rt[J]).i]=q.x(ot);return tt.join("")}}}var h=c(function l(d){const p=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(d+"");return p.isIdentity?v:_(p.a,p.b,p.c,p.d,p.e,p.f)},"px, ","px)","deg)"),g=c(function t(d){return null!=d&&(m||(m=document.createElementNS("http://www.w3.org/2000/svg","g")),m.setAttribute("transform",d),d=m.transform.baseVal.consolidate())?_((d=d.matrix).a,d.b,d.c,d.d,d.e,d.f):v},", ",")",")")},12218:(w,k,o)=>{"use strict";o.r(k),o.d(k,{path:()=>t});const u=Math.PI,x=2*u,v=1e-6,_=x-v;function m(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new m}m.prototype=l.prototype={constructor:m,moveTo:function(c,h){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+h)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,h){this._+="L"+(this._x1=+c)+","+(this._y1=+h)},quadraticCurveTo:function(c,h,g,d){this._+="Q"+ +c+","+ +h+","+(this._x1=+g)+","+(this._y1=+d)},bezierCurveTo:function(c,h,g,d,p,C){this._+="C"+ +c+","+ +h+","+ +g+","+ +d+","+(this._x1=+p)+","+(this._y1=+C)},arcTo:function(c,h,g,d,p){var C=this._x1,A=this._y1,L=(g=+g)-(c=+c),N=(d=+d)-(h=+h),P=C-c,R=A-h,Z=P*P+R*R;if((p=+p)<0)throw new Error("negative radius: "+p);if(null===this._x1)this._+="M"+(this._x1=c)+","+(this._y1=h);else if(Z>v)if(Math.abs(R*L-N*P)>v&&p){var H=g-C,z=d-A,tt=L*L+N*N,rt=H*H+z*z,ot=Math.sqrt(tt),J=Math.sqrt(Z),et=p*Math.tan((u-Math.acos((tt+Z-rt)/(2*ot*J)))/2),q=et/J,at=et/ot;Math.abs(q-1)>v&&(this._+="L"+(c+q*P)+","+(h+q*R)),this._+="A"+p+","+p+",0,0,"+ +(R*H>P*z)+","+(this._x1=c+at*L)+","+(this._y1=h+at*N)}else this._+="L"+(this._x1=c)+","+(this._y1=h)},arc:function(c,h,g,d,p,C){c=+c,h=+h,C=!!C;var A=(g=+g)*Math.cos(d),L=g*Math.sin(d),N=c+A,P=h+L,R=1^C,Z=C?d-p:p-d;if(g<0)throw new Error("negative radius: "+g);null===this._x1?this._+="M"+N+","+P:(Math.abs(this._x1-N)>v||Math.abs(this._y1-P)>v)&&(this._+="L"+N+","+P),g&&(Z<0&&(Z=Z%x+x),Z>_?this._+="A"+g+","+g+",0,1,"+R+","+(c-A)+","+(h-L)+"A"+g+","+g+",0,1,"+R+","+(this._x1=N)+","+(this._y1=P):Z>v&&(this._+="A"+g+","+g+",0,"+ +(Z>=u)+","+R+","+(this._x1=c+g*Math.cos(p))+","+(this._y1=h+g*Math.sin(p))))},rect:function(c,h,g,d){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+h)+"h"+ +g+"v"+ +d+"h"+-g+"Z"},toString:function(){return this._}};const t=l},31566:(w,k,o)=>{"use strict";o.r(k),o.d(k,{interval:()=>v,now:()=>u.zO,timeout:()=>x.Z,timer:()=>u.HT,timerFlush:()=>u.R8});var u=o(78562),x=o(30406);function v(_,m,l){var t=new u.B7,c=m;return null==m?(t.restart(_,m,l),t):(t._restart=t.restart,t.restart=function(h,g,d){g=+g,d=null==d?(0,u.zO)():+d,t._restart(function p(C){C+=c,t._restart(p,c+=g,d),h(C)},g,d)},t.restart(_,m,l),t)}},30406:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(78562);function x(v,_,m){var l=new u.B7;return l.restart(t=>{l.stop(),v(t+_)},_=null==_?0:+_,m),l}},78562:(w,k,o)=>{"use strict";o.d(k,{zO:()=>p,B7:()=>A,HT:()=>L,R8:()=>N});var m,l,u=0,x=0,v=0,t=0,c=0,h=0,g="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(z){setTimeout(z,17)};function p(){return c||(d(C),c=g.now()+h)}function C(){c=0}function A(){this._call=this._time=this._next=null}function L(z,tt,rt){var ot=new A;return ot.restart(z,tt,rt),ot}function N(){p(),++u;for(var tt,z=m;z;)(tt=c-z._time)>=0&&z._call.call(null,tt),z=z._next;--u}function P(){c=(t=g.now())+h,u=x=0;try{N()}finally{u=0,function Z(){for(var z,rt,tt=m,ot=1/0;tt;)tt._call?(ot>tt._time&&(ot=tt._time),z=tt,tt=tt._next):(rt=tt._next,tt._next=null,tt=z?z._next=rt:m=rt);l=z,H(ot)}(),c=0}}function R(){var z=g.now(),tt=z-t;tt>1e3&&(h-=tt,t=z)}function H(z){u||(x&&(x=clearTimeout(x)),z-c>24?(z<1/0&&(x=setTimeout(P,z-g.now()-h)),v&&(v=clearInterval(v))):(v||(t=g.now(),v=setInterval(R,1e3)),u=1,d(P)))}A.prototype=L.prototype={constructor:A,restart:function(z,tt,rt){if("function"!=typeof z)throw new TypeError("callback is not a function");rt=(null==rt?p():+rt)+(null==tt?0:+tt),!this._next&&l!==this&&(l?l._next=this:m=this,l=this),this._call=z,this._time=rt,H()},stop:function(){this._call&&(this._call=null,this._time=1/0,H())}}},35011:(w,k,o)=>{"use strict";o.r(k),o.d(k,{active:()=>fn,interrupt:()=>Z,transition:()=>cn});var u=o(37853),x=o(92940),v=o(78562),_=o(30406),m=(0,x.Z)("start","end","cancel","interrupt"),l=[];function A(V,X,ht,E,At,Ot){var Bt=V.__transition;if(Bt){if(ht in Bt)return}else V.__transition={};!function R(V,X,ht){var At,E=V.__transition;function Bt(qt){var j,mt,Ct,wt;if(1!==ht.state)return re();for(j in E)if((wt=E[j]).name===ht.name){if(3===wt.state)return(0,_.Z)(Bt);4===wt.state?(wt.state=6,wt.timer.stop(),wt.on.call("interrupt",V,V.__data__,wt.index,wt.group),delete E[j]):+j<X&&(wt.state=6,wt.timer.stop(),wt.on.call("cancel",V,V.__data__,wt.index,wt.group),delete E[j])}if((0,_.Z)(function(){3===ht.state&&(ht.state=4,ht.timer.restart(Ht,ht.delay,ht.time),Ht(qt))}),ht.state=2,ht.on.call("start",V,V.__data__,ht.index,ht.group),2===ht.state){for(ht.state=3,At=new Array(Ct=ht.tween.length),j=0,mt=-1;j<Ct;++j)(wt=ht.tween[j].value.call(V,V.__data__,ht.index,ht.group))&&(At[++mt]=wt);At.length=mt+1}}function Ht(qt){for(var j=qt<ht.duration?ht.ease.call(null,qt/ht.duration):(ht.timer.restart(re),ht.state=5,1),mt=-1,Ct=At.length;++mt<Ct;)At[mt].call(V,j);5===ht.state&&(ht.on.call("end",V,V.__data__,ht.index,ht.group),re())}function re(){for(var qt in ht.state=6,ht.timer.stop(),delete E[X],E)return;delete V.__transition}E[X]=ht,ht.timer=(0,v.HT)(function Ot(qt){ht.state=1,ht.timer.restart(Bt,ht.delay,ht.time),ht.delay<=qt&&Bt(qt-ht.delay)},0,ht.time)}(V,ht,{name:X,index:E,group:At,on:m,tween:l,time:Ot.time,delay:Ot.delay,duration:Ot.duration,ease:Ot.ease,timer:null,state:0})}function L(V,X){var ht=P(V,X);if(ht.state>0)throw new Error("too late; already scheduled");return ht}function N(V,X){var ht=P(V,X);if(ht.state>3)throw new Error("too late; already running");return ht}function P(V,X){var ht=V.__transition;if(!ht||!(ht=ht[X]))throw new Error("transition not found");return ht}function Z(V,X){var E,At,Bt,ht=V.__transition,Ot=!0;if(ht){for(Bt in X=null==X?null:X+"",ht)(E=ht[Bt]).name===X?(At=E.state>2&&E.state<5,E.state=6,E.timer.stop(),E.on.call(At?"interrupt":"cancel",V,V.__data__,E.index,E.group),delete ht[Bt]):Ot=!1;Ot&&delete V.__transition}}var z=o(43349),tt=o(36175);function rt(V,X){var ht,E;return function(){var At=N(this,V),Ot=At.tween;if(Ot!==ht)for(var Bt=0,Ht=(E=ht=Ot).length;Bt<Ht;++Bt)if(E[Bt].name===X){(E=E.slice()).splice(Bt,1);break}At.tween=E}}function ot(V,X,ht){var E,At;if("function"!=typeof ht)throw new Error;return function(){var Ot=N(this,V),Bt=Ot.tween;if(Bt!==E){At=(E=Bt).slice();for(var Ht={name:X,value:ht},re=0,qt=At.length;re<qt;++re)if(At[re].name===X){At[re]=Ht;break}re===qt&&At.push(Ht)}Ot.tween=At}}function et(V,X,ht){var E=V._id;return V.each(function(){var At=N(this,E);(At.value||(At.value={}))[X]=ht.apply(this,arguments)}),function(At){return P(At,E).value[X]}}var q=o(52786),at=o(37815),Y=o(8200),K=o(42142);function ut(V,X){var ht;return("number"==typeof X?at.Z:X instanceof q.ZP?Y.ZP:(ht=(0,q.ZP)(X))?(X=ht,Y.ZP):K.Z)(V,X)}function it(V){return function(){this.removeAttribute(V)}}function G(V){return function(){this.removeAttributeNS(V.space,V.local)}}function M(V,X,ht){var E,Ot,At=ht+"";return function(){var Bt=this.getAttribute(V);return Bt===At?null:Bt===E?Ot:Ot=X(E=Bt,ht)}}function ft(V,X,ht){var E,Ot,At=ht+"";return function(){var Bt=this.getAttributeNS(V.space,V.local);return Bt===At?null:Bt===E?Ot:Ot=X(E=Bt,ht)}}function It(V,X,ht){var E,At,Ot;return function(){var Bt,re,Ht=ht(this);return null==Ht?void this.removeAttribute(V):(Bt=this.getAttribute(V))===(re=Ht+"")?null:Bt===E&&re===At?Ot:(At=re,Ot=X(E=Bt,Ht))}}function Zt(V,X,ht){var E,At,Ot;return function(){var Bt,re,Ht=ht(this);return null==Ht?void this.removeAttributeNS(V.space,V.local):(Bt=this.getAttributeNS(V.space,V.local))===(re=Ht+"")?null:Bt===E&&re===At?Ot:(At=re,Ot=X(E=Bt,Ht))}}function ie(V,X){return function(ht){this.setAttribute(V,X.call(this,ht))}}function Ut(V,X){return function(ht){this.setAttributeNS(V.space,V.local,X.call(this,ht))}}function xt(V,X){var ht,E;function At(){var Ot=X.apply(this,arguments);return Ot!==E&&(ht=(E=Ot)&&Ut(V,Ot)),ht}return At._value=X,At}function pt(V,X){var ht,E;function At(){var Ot=X.apply(this,arguments);return Ot!==E&&(ht=(E=Ot)&&ie(V,Ot)),ht}return At._value=X,At}function Jt(V,X){return function(){L(this,V).delay=+X.apply(this,arguments)}}function ge(V,X){return X=+X,function(){L(this,V).delay=X}}function Te(V,X){return function(){N(this,V).duration=+X.apply(this,arguments)}}function Ze(V,X){return X=+X,function(){N(this,V).duration=X}}function Pe(V,X){if("function"!=typeof X)throw new Error;return function(){N(this,V).ease=X}}var de=o(97905);function Yn(V,X,ht){var E,At,Ot=function ni(V){return(V+"").trim().split(/^|\s+/).every(function(X){var ht=X.indexOf(".");return ht>=0&&(X=X.slice(0,ht)),!X||"start"===X})}(X)?L:N;return function(){var Bt=Ot(this,V),Ht=Bt.on;Ht!==E&&(At=(E=Ht).copy()).on(X,ht),Bt.on=At}}var En=o(29742),ci=o(32037),vn=u.ZP.prototype.constructor,Kn=o(24476);function $n(V){return function(){this.style.removeProperty(V)}}function fe(V,X,ht){return function(E){this.style.setProperty(V,X.call(this,E),ht)}}function ve(V,X,ht){var E,At;function Ot(){var Bt=X.apply(this,arguments);return Bt!==At&&(E=(At=Bt)&&fe(V,Bt,ht)),E}return Ot._value=X,Ot}function Dn(V){return function(X){this.textContent=V.call(this,X)}}function qn(V){var X,ht;function E(){var At=V.apply(this,arguments);return At!==ht&&(X=(ht=At)&&Dn(At)),X}return E._value=V,E}var wi=0;function In(V,X,ht,E){this._groups=V,this._parents=X,this._name=ht,this._id=E}function cn(V){return(0,u.ZP)().transition(V)}function Tn(){return++wi}var ei=u.ZP.prototype;In.prototype=cn.prototype={constructor:In,select:function Ue(V){var X=this._name,ht=this._id;"function"!=typeof V&&(V=(0,En.Z)(V));for(var E=this._groups,At=E.length,Ot=new Array(At),Bt=0;Bt<At;++Bt)for(var j,mt,Ht=E[Bt],re=Ht.length,qt=Ot[Bt]=new Array(re),Ct=0;Ct<re;++Ct)(j=Ht[Ct])&&(mt=V.call(j,j.__data__,Ct,Ht))&&("__data__"in j&&(mt.__data__=j.__data__),qt[Ct]=mt,A(qt[Ct],X,ht,Ct,qt,P(j,ht)));return new In(Ot,this._parents,X,ht)},selectAll:function Rn(V){var X=this._name,ht=this._id;"function"!=typeof V&&(V=(0,ci.Z)(V));for(var E=this._groups,At=E.length,Ot=[],Bt=[],Ht=0;Ht<At;++Ht)for(var j,re=E[Ht],qt=re.length,mt=0;mt<qt;++mt)if(j=re[mt]){for(var wt,Ct=V.call(j,j.__data__,mt,re),Xt=P(j,ht),te=0,Dt=Ct.length;te<Dt;++te)(wt=Ct[te])&&A(wt,X,ht,te,Ct,Xt);Ot.push(Ct),Bt.push(j)}return new In(Ot,Bt,X,ht)},filter:function gn(V){"function"!=typeof V&&(V=(0,de.Z)(V));for(var X=this._groups,ht=X.length,E=new Array(ht),At=0;At<ht;++At)for(var re,Ot=X[At],Bt=Ot.length,Ht=E[At]=[],qt=0;qt<Bt;++qt)(re=Ot[qt])&&V.call(re,re.__data__,qt,Ot)&&Ht.push(re);return new In(E,this._parents,this._name,this._id)},merge:function Xn(V){if(V._id!==this._id)throw new Error;for(var X=this._groups,ht=V._groups,E=X.length,Ot=Math.min(E,ht.length),Bt=new Array(E),Ht=0;Ht<Ot;++Ht)for(var Ct,re=X[Ht],qt=ht[Ht],j=re.length,mt=Bt[Ht]=new Array(j),wt=0;wt<j;++wt)(Ct=re[wt]||qt[wt])&&(mt[wt]=Ct);for(;Ht<E;++Ht)Bt[Ht]=X[Ht];return new In(Bt,this._parents,this._name,this._id)},selection:function Hn(){return new vn(this._groups,this._parents)},transition:function _n(){for(var V=this._name,X=this._id,ht=Tn(),E=this._groups,At=E.length,Ot=0;Ot<At;++Ot)for(var re,Bt=E[Ot],Ht=Bt.length,qt=0;qt<Ht;++qt)if(re=Bt[qt]){var j=P(re,X);A(re,V,ht,qt,Bt,{time:j.time+j.delay+j.duration,delay:0,duration:j.duration,ease:j.ease})}return new In(E,this._parents,V,ht)},call:ei.call,nodes:ei.nodes,node:ei.node,size:ei.size,empty:ei.empty,each:ei.each,on:function an(V,X){var ht=this._id;return arguments.length<2?P(this.node(),ht).on.on(V):this.each(Yn(ht,V,X))},attr:function Yt(V,X){var ht=(0,tt.Z)(V),E="transform"===ht?z.w:ut;return this.attrTween(V,"function"==typeof X?(ht.local?Zt:It)(ht,E,et(this,"attr."+V,X)):null==X?(ht.local?G:it)(ht):(ht.local?ft:M)(ht,E,X))},attrTween:function Nt(V,X){var ht="attr."+V;if(arguments.length<2)return(ht=this.tween(ht))&&ht._value;if(null==X)return this.tween(ht,null);if("function"!=typeof X)throw new Error;var E=(0,tt.Z)(V);return this.tween(ht,(E.local?xt:pt)(E,X))},style:function se(V,X,ht){var E="transform"==(V+="")?z.Y:ut;return null==X?this.styleTween(V,function Me(V,X){var ht,E,At;return function(){var Ot=(0,Kn.S)(this,V),Bt=(this.style.removeProperty(V),(0,Kn.S)(this,V));return Ot===Bt?null:Ot===ht&&Bt===E?At:At=X(ht=Ot,E=Bt)}}(V,E)).on("end.style."+V,$n(V)):"function"==typeof X?this.styleTween(V,function Tt(V,X,ht){var E,At,Ot;return function(){var Bt=(0,Kn.S)(this,V),Ht=ht(this),re=Ht+"";return null==Ht&&(this.style.removeProperty(V),re=Ht=(0,Kn.S)(this,V)),Bt===re?null:Bt===E&&re===At?Ot:(At=re,Ot=X(E=Bt,Ht))}}(V,E,et(this,"style."+V,X))).each(function Gt(V,X){var ht,E,At,Ht,Ot="style."+X,Bt="end."+Ot;return function(){var re=N(this,V),qt=re.on,j=null==re.value[Ot]?Ht||(Ht=$n(X)):void 0;(qt!==ht||At!==j)&&(E=(ht=qt).copy()).on(Bt,At=j),re.on=E}}(this._id,V)):this.styleTween(V,function jn(V,X,ht){var E,Ot,At=ht+"";return function(){var Bt=(0,Kn.S)(this,V);return Bt===At?null:Bt===E?Ot:Ot=X(E=Bt,ht)}}(V,E,X),ht).on("end.style."+V,null)},styleTween:function Be(V,X,ht){var E="style."+(V+="");if(arguments.length<2)return(E=this.tween(E))&&E._value;if(null==X)return this.tween(E,null);if("function"!=typeof X)throw new Error;return this.tween(E,ve(V,X,null==ht?"":ht))},text:function Zn(V){return this.tween("text","function"==typeof V?function en(V){return function(){var X=V(this);this.textContent=null==X?"":X}}(et(this,"text",V)):function Ne(V){return function(){this.textContent=V}}(null==V?"":V+""))},textTween:function Di(V){var X="text";if(arguments.length<1)return(X=this.tween(X))&&X._value;if(null==V)return this.tween(X,null);if("function"!=typeof V)throw new Error;return this.tween(X,qn(V))},remove:function dn(){return this.on("end.remove",function je(V){return function(){var X=this.parentNode;for(var ht in this.__transition)if(+ht!==V)return;X&&X.removeChild(this)}}(this._id))},tween:function J(V,X){var ht=this._id;if(V+="",arguments.length<2){for(var Bt,E=P(this.node(),ht).tween,At=0,Ot=E.length;At<Ot;++At)if((Bt=E[At]).name===V)return Bt.value;return null}return this.each((null==X?rt:ot)(ht,V,X))},delay:function _e(V){var X=this._id;return arguments.length?this.each(("function"==typeof V?Jt:ge)(X,V)):P(this.node(),X).delay},duration:function yn(V){var X=this._id;return arguments.length?this.each(("function"==typeof V?Te:Ze)(X,V)):P(this.node(),X).duration},ease:function mn(V){var X=this._id;return arguments.length?this.each(Pe(X,V)):P(this.node(),X).ease},easeVarying:function kn(V){if("function"!=typeof V)throw new Error;return this.each(function Ve(V,X){return function(){var ht=X.apply(this,arguments);if("function"!=typeof ht)throw new Error;N(this,V).ease=ht}}(this._id,V))},end:function ti(){var V,X,ht=this,E=ht._id,At=ht.size();return new Promise(function(Ot,Bt){var Ht={value:Bt},re={value:function(){0==--At&&Ot()}};ht.each(function(){var qt=N(this,E),j=qt.on;j!==V&&((X=(V=j).copy())._.cancel.push(Ht),X._.interrupt.push(Ht),X._.end.push(re)),qt.on=X}),0===At&&Ot()})},[Symbol.iterator]:ei[Symbol.iterator]};var Mn={time:null,delay:0,duration:250,ease:o(27065).tw};function Le(V,X){for(var ht;!(ht=V.__transition)||!(ht=ht[X]);)if(!(V=V.parentNode))throw new Error(`transition ${X} not found`);return ht}u.ZP.prototype.interrupt=function H(V){return this.each(function(){Z(this,V)})},u.ZP.prototype.transition=function Ii(V){var X,ht;V instanceof In?(X=V._id,V=V._name):(X=Tn(),(ht=Mn).time=(0,v.zO)(),V=null==V?null:V+"");for(var E=this._groups,At=E.length,Ot=0;Ot<At;++Ot)for(var re,Bt=E[Ot],Ht=Bt.length,qt=0;qt<Ht;++qt)(re=Bt[qt])&&A(re,V,X,qt,Bt,ht||Le(re,X));return new In(E,this._parents,V,X)};var Bn=[null];function fn(V,X){var E,At,ht=V.__transition;if(ht)for(At in X=null==X?null:X+"",ht)if((E=ht[At]).state>1&&E.name===X)return new In([[V]],Bn,X,+At);return null}},47927:(w,k,o)=>{"use strict";function u(x){return function(){return x}}o.d(k,{Z:()=>u})},6738:(w,k,o)=>{"use strict";function u(x,v){return x=+x,v=+v,function(_){return x*(1-_)+v*_}}o.d(k,{Z:()=>u})},23534:(w,k,o)=>{"use strict";o.d(k,{ZP:()=>d});var u=o(52786);function x(L,N,P,R,Z){var H=L*L,z=H*L;return((1-3*L+3*H-z)*N+(4-6*H+3*z)*P+(1+3*L+3*H-3*z)*R+z*Z)/6}var m=o(47927);function g(L,N){var P=N-L;return P?function l(L,N){return function(P){return L+P*N}}(L,P):(0,m.Z)(isNaN(L)?N:L)}const d=function L(N){var P=function h(L){return 1==(L=+L)?g:function(N,P){return P-N?function t(L,N,P){return L=Math.pow(L,P),N=Math.pow(N,P)-L,P=1/P,function(R){return Math.pow(L+R*N,P)}}(N,P,L):(0,m.Z)(isNaN(N)?P:N)}}(N);function R(Z,H){var z=P((Z=(0,u.B8)(Z)).r,(H=(0,u.B8)(H)).r),tt=P(Z.g,H.g),rt=P(Z.b,H.b),ot=g(Z.opacity,H.opacity);return function(J){return Z.r=z(J),Z.g=tt(J),Z.b=rt(J),Z.opacity=ot(J),Z+""}}return R.gamma=L,R}(1);function p(L){return function(N){var z,tt,P=N.length,R=new Array(P),Z=new Array(P),H=new Array(P);for(z=0;z<P;++z)tt=(0,u.B8)(N[z]),R[z]=tt.r||0,Z[z]=tt.g||0,H[z]=tt.b||0;return R=L(R),Z=L(Z),H=L(H),tt.opacity=1,function(rt){return tt.r=R(rt),tt.g=Z(rt),tt.b=H(rt),tt+""}}}p(function v(L){var N=L.length-1;return function(P){var R=P<=0?P=0:P>=1?(P=1,N-1):Math.floor(P*N),Z=L[R],H=L[R+1];return x((P-R/N)*N,R>0?L[R-1]:2*Z-H,Z,H,R<N-1?L[R+2]:2*H-Z)}}),p(function _(L){var N=L.length;return function(P){var R=Math.floor(((P%=1)<0?++P:P)*N);return x((P-R/N)*N,L[(R+N-1)%N],L[R%N],L[(R+1)%N],L[(R+2)%N])}})},23096:(w,k,o)=>{"use strict";o.d(k,{Z:()=>l});var u=o(6738),x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(x.source,"g");function l(t,c){var g,d,p,h=x.lastIndex=v.lastIndex=0,C=-1,A=[],L=[];for(t+="",c+="";(g=x.exec(t))&&(d=v.exec(c));)(p=d.index)>h&&(p=c.slice(h,p),A[C]?A[C]+=p:A[++C]=p),(g=g[0])===(d=d[0])?A[C]?A[C]+=d:A[++C]=d:(A[++C]=null,L.push({i:C,x:(0,u.Z)(g,d)})),h=v.lastIndex;return h<c.length&&(p=c.slice(h),A[C]?A[C]+=p:A[++C]=p),A.length<2?L[0]?function m(t){return function(c){return t(c)+""}}(L[0].x):function _(t){return function(){return t}}(c):(c=L.length,function(N){for(var R,P=0;P<c;++P)A[(R=L[P]).i]=R.x(N);return A.join("")})}},75349:(w,k,o)=>{"use strict";o.d(k,{Y:()=>p,w:()=>C});var m,l,t,c,u=o(6738),x=180/Math.PI,v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _(A,L,N,P,R,Z){var H,z,tt;return(H=Math.sqrt(A*A+L*L))&&(A/=H,L/=H),(tt=A*N+L*P)&&(N-=A*tt,P-=L*tt),(z=Math.sqrt(N*N+P*P))&&(N/=z,P/=z,tt/=z),A*P<L*N&&(A=-A,L=-L,tt=-tt,H=-H),{translateX:R,translateY:Z,rotate:Math.atan2(L,A)*x,skewX:Math.atan(tt)*x,scaleX:H,scaleY:z}}function d(A,L,N,P){function R(rt){return rt.length?rt.pop()+" ":""}return function(rt,ot){var J=[],et=[];return rt=A(rt),ot=A(ot),function Z(rt,ot,J,et,q,at){if(rt!==J||ot!==et){var Y=q.push("translate(",null,L,null,N);at.push({i:Y-4,x:(0,u.Z)(rt,J)},{i:Y-2,x:(0,u.Z)(ot,et)})}else(J||et)&&q.push("translate("+J+L+et+N)}(rt.translateX,rt.translateY,ot.translateX,ot.translateY,J,et),function H(rt,ot,J,et){rt!==ot?(rt-ot>180?ot+=360:ot-rt>180&&(rt+=360),et.push({i:J.push(R(J)+"rotate(",null,P)-2,x:(0,u.Z)(rt,ot)})):ot&&J.push(R(J)+"rotate("+ot+P)}(rt.rotate,ot.rotate,J,et),function z(rt,ot,J,et){rt!==ot?et.push({i:J.push(R(J)+"skewX(",null,P)-2,x:(0,u.Z)(rt,ot)}):ot&&J.push(R(J)+"skewX("+ot+P)}(rt.skewX,ot.skewX,J,et),function tt(rt,ot,J,et,q,at){if(rt!==J||ot!==et){var Y=q.push(R(q)+"scale(",null,",",null,")");at.push({i:Y-4,x:(0,u.Z)(rt,J)},{i:Y-2,x:(0,u.Z)(ot,et)})}else(1!==J||1!==et)&&q.push(R(q)+"scale("+J+","+et+")")}(rt.scaleX,rt.scaleY,ot.scaleX,ot.scaleY,J,et),rt=ot=null,function(q){for(var K,at=-1,Y=et.length;++at<Y;)J[(K=et[at]).i]=K.x(q);return J.join("")}}}var p=d(function h(A){return"none"===A?v:(m||(m=document.createElement("DIV"),l=document.documentElement,t=document.defaultView),m.style.transform=A,A=t.getComputedStyle(l.appendChild(m),null).getPropertyValue("transform"),l.removeChild(m),_(+(A=A.slice(7,-1).split(","))[0],+A[1],+A[2],+A[3],+A[4],+A[5]))},"px, ","px)","deg)"),C=d(function g(A){return null!=A&&(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",A),A=c.transform.baseVal.consolidate())?_((A=A.matrix).a,A.b,A.c,A.d,A.e,A.f):v},", ",")",")")},34638:(w,k,o)=>{"use strict";function u(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}o.d(k,{Z:()=>u})},7500:(w,k,o)=>{"use strict";o.d(k,{Z:()=>m});var u=o(36175),x=o(53517);function v(l){return function(){var t=this.ownerDocument,c=this.namespaceURI;return c===x.P&&t.documentElement.namespaceURI===x.P?t.createElement(l):t.createElementNS(c,l)}}function _(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function m(l){var t=(0,u.Z)(l);return(t.local?_:v)(t)}},68557:(w,k,o)=>{"use strict";o.r(k),o.d(k,{create:()=>v,creator:()=>u.Z,local:()=>m,matcher:()=>t.Z,namespace:()=>c.Z,namespaces:()=>h.Z,pointer:()=>g.Z,pointers:()=>p,select:()=>x.Z,selectAll:()=>L,selection:()=>A.ZP,selector:()=>N.Z,selectorAll:()=>P.Z,style:()=>R.S,window:()=>Z.Z});var u=o(7500),x=o(52016);function v(H){return(0,x.Z)((0,u.Z)(H).call(document.documentElement))}var _=0;function m(){return new l}function l(){this._="@"+(++_).toString(36)}l.prototype=m.prototype={constructor:l,get:function(H){for(var z=this._;!(z in H);)if(!(H=H.parentNode))return;return H[z]},set:function(H,z){return H[this._]=z},remove:function(H){return this._ in H&&delete H[this._]},toString:function(){return this._}};var t=o(97905),c=o(36175),h=o(53517),g=o(29132),d=o(75819);function p(H,z){return H.target&&(H=(0,d.Z)(H),void 0===z&&(z=H.currentTarget),H=H.touches||[H]),Array.from(H,tt=>(0,g.Z)(tt,z))}var C=o(34638),A=o(37853);function L(H){return"string"==typeof H?new A.Y1([document.querySelectorAll(H)],[document.documentElement]):new A.Y1([null==H?[]:(0,C.Z)(H)],A.Jz)}var N=o(29742),P=o(32037),R=o(24476),Z=o(2442)},97905:(w,k,o)=>{"use strict";function u(v){return function(){return this.matches(v)}}function x(v){return function(_){return _.matches(v)}}o.d(k,{Z:()=>u,P:()=>x})},36175:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(53517);function x(v){var _=v+="",m=_.indexOf(":");return m>=0&&"xmlns"!==(_=v.slice(0,m))&&(v=v.slice(m+1)),u.Z.hasOwnProperty(_)?{space:u.Z[_],local:v}:v}},53517:(w,k,o)=>{"use strict";o.d(k,{P:()=>u,Z:()=>x});var u="http://www.w3.org/1999/xhtml";const x={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},29132:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(75819);function x(v,_){if(v=(0,u.Z)(v),void 0===_&&(_=v.currentTarget),_){var m=_.ownerSVGElement||_;if(m.createSVGPoint){var l=m.createSVGPoint();return l.x=v.clientX,l.y=v.clientY,[(l=l.matrixTransform(_.getScreenCTM().inverse())).x,l.y]}if(_.getBoundingClientRect){var t=_.getBoundingClientRect();return[v.clientX-t.left-_.clientLeft,v.clientY-t.top-_.clientTop]}}return[v.pageX,v.pageY]}},52016:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(37853);function x(v){return"string"==typeof v?new u.Y1([[document.querySelector(v)]],[document.documentElement]):new u.Y1([[v]],u.Jz)}},37853:(w,k,o)=>{"use strict";o.d(k,{Y1:()=>Le,ZP:()=>fn,Jz:()=>Mn});var u=o(29742),v=o(34638),_=o(32037),t=o(97905),c=Array.prototype.find;function g(){return this.firstElementChild}var p=Array.prototype.filter;function C(){return this.children}function P(V){return new Array(V.length)}function Z(V,X){this.ownerDocument=V.ownerDocument,this.namespaceURI=V.namespaceURI,this._next=null,this._parent=V,this.__data__=X}function H(V){return function(){return V}}function z(V,X,ht,E,At,Ot){for(var Ht,Bt=0,re=X.length,qt=Ot.length;Bt<qt;++Bt)(Ht=X[Bt])?(Ht.__data__=Ot[Bt],E[Bt]=Ht):ht[Bt]=new Z(V,Ot[Bt]);for(;Bt<re;++Bt)(Ht=X[Bt])&&(At[Bt]=Ht)}function tt(V,X,ht,E,At,Ot,Bt){var Ht,re,wt,qt=new Map,j=X.length,mt=Ot.length,Ct=new Array(j);for(Ht=0;Ht<j;++Ht)(re=X[Ht])&&(Ct[Ht]=wt=Bt.call(re,re.__data__,Ht,X)+"",qt.has(wt)?At[Ht]=re:qt.set(wt,re));for(Ht=0;Ht<mt;++Ht)wt=Bt.call(V,Ot[Ht],Ht,Ot)+"",(re=qt.get(wt))?(E[Ht]=re,re.__data__=Ot[Ht],qt.delete(wt)):ht[Ht]=new Z(V,Ot[Ht]);for(Ht=0;Ht<j;++Ht)(re=X[Ht])&&qt.get(Ct[Ht])===re&&(At[Ht]=re)}function rt(V){return V.__data__}function K(V,X){return V<X?-1:V>X?1:V>=X?0:NaN}Z.prototype={constructor:Z,appendChild:function(V){return this._parent.insertBefore(V,this._next)},insertBefore:function(V,X){return this._parent.insertBefore(V,X)},querySelector:function(V){return this._parent.querySelector(V)},querySelectorAll:function(V){return this._parent.querySelectorAll(V)}};var Zt=o(36175);function Yt(V){return function(){this.removeAttribute(V)}}function ie(V){return function(){this.removeAttributeNS(V.space,V.local)}}function Ut(V,X){return function(){this.setAttribute(V,X)}}function xt(V,X){return function(){this.setAttributeNS(V.space,V.local,X)}}function pt(V,X){return function(){var ht=X.apply(this,arguments);null==ht?this.removeAttribute(V):this.setAttribute(V,ht)}}function Nt(V,X){return function(){var ht=X.apply(this,arguments);null==ht?this.removeAttributeNS(V.space,V.local):this.setAttributeNS(V.space,V.local,ht)}}var ge=o(24476);function _e(V){return function(){delete this[V]}}function Te(V,X){return function(){this[V]=X}}function Ze(V,X){return function(){var ht=X.apply(this,arguments);null==ht?delete this[V]:this[V]=ht}}function Pe(V){return V.trim().split(/^|\s+/)}function mn(V){return V.classList||new Ve(V)}function Ve(V){this._node=V,this._names=Pe(V.getAttribute("class")||"")}function kn(V,X){for(var ht=mn(V),E=-1,At=X.length;++E<At;)ht.add(X[E])}function de(V,X){for(var ht=mn(V),E=-1,At=X.length;++E<At;)ht.remove(X[E])}function gn(V){return function(){kn(this,V)}}function Xn(V){return function(){de(this,V)}}function ni(V,X){return function(){(X.apply(this,arguments)?kn:de)(this,V)}}function an(){this.textContent=""}function je(V){return function(){this.textContent=V}}function dn(V){return function(){var X=V.apply(this,arguments);this.textContent=null==X?"":X}}function Ue(){this.innerHTML=""}function ci(V){return function(){this.innerHTML=V}}function Rn(V){return function(){var X=V.apply(this,arguments);this.innerHTML=null==X?"":X}}function Hn(){this.nextSibling&&this.parentNode.appendChild(this)}function Me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Ve.prototype={add:function(V){this._names.indexOf(V)<0&&(this._names.push(V),this._node.setAttribute("class",this._names.join(" ")))},remove:function(V){var X=this._names.indexOf(V);X>=0&&(this._names.splice(X,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(V){return this._names.indexOf(V)>=0}};var jn=o(7500);function Gt(){return null}function fe(){var V=this.parentNode;V&&V.removeChild(this)}function Be(){var V=this.cloneNode(!1),X=this.parentNode;return X?X.insertBefore(V,this.nextSibling):V}function Ne(){var V=this.cloneNode(!0),X=this.parentNode;return X?X.insertBefore(V,this.nextSibling):V}function qn(V){return V.trim().split(/^|\s+/).map(function(X){var ht="",E=X.indexOf(".");return E>=0&&(ht=X.slice(E+1),X=X.slice(0,E)),{type:X,name:ht}})}function Di(V){return function(){var X=this.__on;if(X){for(var Ot,ht=0,E=-1,At=X.length;ht<At;++ht)Ot=X[ht],V.type&&Ot.type!==V.type||Ot.name!==V.name?X[++E]=Ot:this.removeEventListener(Ot.type,Ot.listener,Ot.options);++E?X.length=E:delete this.__on}}}function _n(V,X,ht){return function(){var At,E=this.__on,Ot=function Dn(V){return function(X){V.call(this,X,this.__data__)}}(X);if(E)for(var Bt=0,Ht=E.length;Bt<Ht;++Bt)if((At=E[Bt]).type===V.type&&At.name===V.name)return this.removeEventListener(At.type,At.listener,At.options),this.addEventListener(At.type,At.listener=Ot,At.options=ht),void(At.value=X);this.addEventListener(V.type,Ot,ht),At={type:V.type,name:V.name,value:X,listener:Ot,options:ht},E?E.push(At):this.__on=[At]}}var wi=o(2442);function In(V,X,ht){var E=(0,wi.Z)(V),At=E.CustomEvent;"function"==typeof At?At=new At(X,ht):(At=E.document.createEvent("Event"),ht?(At.initEvent(X,ht.bubbles,ht.cancelable),At.detail=ht.detail):At.initEvent(X,!1,!1)),V.dispatchEvent(At)}function cn(V,X){return function(){return In(this,V,X)}}function Tn(V,X){return function(){return In(this,V,X.apply(this,arguments))}}var Mn=[null];function Le(V,X){this._groups=V,this._parents=X}function Ii(){return new Le([[document.documentElement]],Mn)}Le.prototype=Ii.prototype={constructor:Le,select:function x(V){"function"!=typeof V&&(V=(0,u.Z)(V));for(var X=this._groups,ht=X.length,E=new Array(ht),At=0;At<ht;++At)for(var re,qt,Ot=X[At],Bt=Ot.length,Ht=E[At]=new Array(Bt),j=0;j<Bt;++j)(re=Ot[j])&&(qt=V.call(re,re.__data__,j,Ot))&&("__data__"in re&&(qt.__data__=re.__data__),Ht[j]=qt);return new Le(E,this._parents)},selectAll:function l(V){V="function"==typeof V?function m(V){return function(){var X=V.apply(this,arguments);return null==X?[]:(0,v.Z)(X)}}(V):(0,_.Z)(V);for(var X=this._groups,ht=X.length,E=[],At=[],Ot=0;Ot<ht;++Ot)for(var re,Bt=X[Ot],Ht=Bt.length,qt=0;qt<Ht;++qt)(re=Bt[qt])&&(E.push(V.call(re,re.__data__,qt,Bt)),At.push(re));return new Le(E,At)},selectChild:function d(V){return this.select(null==V?g:function h(V){return function(){return c.call(this.children,V)}}("function"==typeof V?V:(0,t.P)(V)))},selectChildren:function L(V){return this.selectAll(null==V?C:function A(V){return function(){return p.call(this.children,V)}}("function"==typeof V?V:(0,t.P)(V)))},filter:function N(V){"function"!=typeof V&&(V=(0,t.Z)(V));for(var X=this._groups,ht=X.length,E=new Array(ht),At=0;At<ht;++At)for(var re,Ot=X[At],Bt=Ot.length,Ht=E[At]=[],qt=0;qt<Bt;++qt)(re=Ot[qt])&&V.call(re,re.__data__,qt,Ot)&&Ht.push(re);return new Le(E,this._parents)},data:function ot(V,X){if(!arguments.length)return Array.from(this,rt);var ht=X?tt:z,E=this._parents,At=this._groups;"function"!=typeof V&&(V=H(V));for(var Ot=At.length,Bt=new Array(Ot),Ht=new Array(Ot),re=new Array(Ot),qt=0;qt<Ot;++qt){var j=E[qt],mt=At[qt],Ct=mt.length,wt=(0,v.Z)(V.call(j,j&&j.__data__,qt,E)),Xt=wt.length,te=Ht[qt]=new Array(Xt),Dt=Bt[qt]=new Array(Xt),he=re[qt]=new Array(Ct);ht(j,mt,te,Dt,he,wt,X);for(var ke,Ie,O=0,le=0;O<Xt;++O)if(ke=te[O]){for(O>=le&&(le=O+1);!(Ie=Dt[le])&&++le<Xt;);ke._next=Ie||null}}return(Bt=new Le(Bt,E))._enter=Ht,Bt._exit=re,Bt},enter:function R(){return new Le(this._enter||this._groups.map(P),this._parents)},exit:function J(){return new Le(this._exit||this._groups.map(P),this._parents)},join:function et(V,X,ht){var E=this.enter(),At=this,Ot=this.exit();return E="function"==typeof V?V(E):E.append(V+""),null!=X&&(At=X(At)),null==ht?Ot.remove():ht(Ot),E&&At?E.merge(At).order():At},merge:function q(V){if(!(V instanceof Le))throw new Error("invalid merge");for(var X=this._groups,ht=V._groups,E=X.length,Ot=Math.min(E,ht.length),Bt=new Array(E),Ht=0;Ht<Ot;++Ht)for(var Ct,re=X[Ht],qt=ht[Ht],j=re.length,mt=Bt[Ht]=new Array(j),wt=0;wt<j;++wt)(Ct=re[wt]||qt[wt])&&(mt[wt]=Ct);for(;Ht<E;++Ht)Bt[Ht]=X[Ht];return new Le(Bt,this._parents)},selection:function Bn(){return this},order:function at(){for(var V=this._groups,X=-1,ht=V.length;++X<ht;)for(var Bt,E=V[X],At=E.length-1,Ot=E[At];--At>=0;)(Bt=E[At])&&(Ot&&4^Bt.compareDocumentPosition(Ot)&&Ot.parentNode.insertBefore(Bt,Ot),Ot=Bt);return this},sort:function Y(V){function X(mt,Ct){return mt&&Ct?V(mt.__data__,Ct.__data__):!mt-!Ct}V||(V=K);for(var ht=this._groups,E=ht.length,At=new Array(E),Ot=0;Ot<E;++Ot){for(var qt,Bt=ht[Ot],Ht=Bt.length,re=At[Ot]=new Array(Ht),j=0;j<Ht;++j)(qt=Bt[j])&&(re[j]=qt);re.sort(X)}return new Le(At,this._parents).order()},call:function ut(){var V=arguments[0];return arguments[0]=this,V.apply(null,arguments),this},nodes:function it(){return Array.from(this)},node:function G(){for(var V=this._groups,X=0,ht=V.length;X<ht;++X)for(var E=V[X],At=0,Ot=E.length;At<Ot;++At){var Bt=E[At];if(Bt)return Bt}return null},size:function M(){let V=0;for(const X of this)++V;return V},empty:function ft(){return!this.node()},each:function It(V){for(var X=this._groups,ht=0,E=X.length;ht<E;++ht)for(var Ht,At=X[ht],Ot=0,Bt=At.length;Ot<Bt;++Ot)(Ht=At[Ot])&&V.call(Ht,Ht.__data__,Ot,At);return this},attr:function Jt(V,X){var ht=(0,Zt.Z)(V);if(arguments.length<2){var E=this.node();return ht.local?E.getAttributeNS(ht.space,ht.local):E.getAttribute(ht)}return this.each((null==X?ht.local?ie:Yt:"function"==typeof X?ht.local?Nt:pt:ht.local?xt:Ut)(ht,X))},style:ge.Z,property:function yn(V,X){return arguments.length>1?this.each((null==X?_e:"function"==typeof X?Ze:Te)(V,X)):this.node()[V]},classed:function Yn(V,X){var ht=Pe(V+"");if(arguments.length<2){for(var E=mn(this.node()),At=-1,Ot=ht.length;++At<Ot;)if(!E.contains(ht[At]))return!1;return!0}return this.each(("function"==typeof X?ni:X?gn:Xn)(ht,X))},text:function En(V){return arguments.length?this.each(null==V?an:("function"==typeof V?dn:je)(V)):this.node().textContent},html:function vn(V){return arguments.length?this.each(null==V?Ue:("function"==typeof V?Rn:ci)(V)):this.node().innerHTML},raise:function Kn(){return this.each(Hn)},lower:function $n(){return this.each(Me)},append:function Tt(V){var X="function"==typeof V?V:(0,jn.Z)(V);return this.select(function(){return this.appendChild(X.apply(this,arguments))})},insert:function se(V,X){var ht="function"==typeof V?V:(0,jn.Z)(V),E=null==X?Gt:"function"==typeof X?X:(0,u.Z)(X);return this.select(function(){return this.insertBefore(ht.apply(this,arguments),E.apply(this,arguments)||null)})},remove:function ve(){return this.each(fe)},clone:function en(V){return this.select(V?Ne:Be)},datum:function Zn(V){return arguments.length?this.property("__data__",V):this.node().__data__},on:function ti(V,X,ht){var At,Bt,E=qn(V+""),Ot=E.length;if(!(arguments.length<2)){for(Ht=X?_n:Di,At=0;At<Ot;++At)this.each(Ht(E[At],X,ht));return this}var Ht=this.node().__on;if(Ht)for(var j,re=0,qt=Ht.length;re<qt;++re)for(At=0,j=Ht[re];At<Ot;++At)if((Bt=E[At]).type===j.type&&Bt.name===j.name)return j.value},dispatch:function ei(V,X){return this.each(("function"==typeof X?Tn:cn)(V,X))},[Symbol.iterator]:function*ui(){for(var V=this._groups,X=0,ht=V.length;X<ht;++X)for(var Bt,E=V[X],At=0,Ot=E.length;At<Ot;++At)(Bt=E[At])&&(yield Bt)}};const fn=Ii},24476:(w,k,o)=>{"use strict";o.d(k,{Z:()=>m,S:()=>l});var u=o(2442);function x(t){return function(){this.style.removeProperty(t)}}function v(t,c,h){return function(){this.style.setProperty(t,c,h)}}function _(t,c,h){return function(){var g=c.apply(this,arguments);null==g?this.style.removeProperty(t):this.style.setProperty(t,g,h)}}function m(t,c,h){return arguments.length>1?this.each((null==c?x:"function"==typeof c?_:v)(t,c,null==h?"":h)):l(this.node(),t)}function l(t,c){return t.style.getPropertyValue(c)||(0,u.Z)(t).getComputedStyle(t,null).getPropertyValue(c)}},29742:(w,k,o)=>{"use strict";function u(){}function x(v){return null==v?u:function(){return this.querySelector(v)}}o.d(k,{Z:()=>x})},32037:(w,k,o)=>{"use strict";function u(){return[]}function x(v){return null==v?u:function(){return this.querySelectorAll(v)}}o.d(k,{Z:()=>x})},75819:(w,k,o)=>{"use strict";function u(x){let v;for(;v=x.sourceEvent;)x=v;return x}o.d(k,{Z:()=>u})},2442:(w,k,o)=>{"use strict";function u(x){return x.ownerDocument&&x.ownerDocument.defaultView||x.document&&x||x.defaultView}o.d(k,{Z:()=>u})},73339:(w,k,o)=>{"use strict";o.d(k,{Z:()=>x});var u=o(49194);function x(v,_,m){var l=new u.B7;return l.restart(function(t){l.stop(),v(t+_)},_=null==_?0:+_,m),l}},49194:(w,k,o)=>{"use strict";o.d(k,{zO:()=>p,B7:()=>A,HT:()=>L,R8:()=>N});var m,l,u=0,x=0,v=0,t=0,c=0,h=0,g="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(z){setTimeout(z,17)};function p(){return c||(d(C),c=g.now()+h)}function C(){c=0}function A(){this._call=this._time=this._next=null}function L(z,tt,rt){var ot=new A;return ot.restart(z,tt,rt),ot}function N(){p(),++u;for(var tt,z=m;z;)(tt=c-z._time)>=0&&z._call.call(null,tt),z=z._next;--u}function P(){c=(t=g.now())+h,u=x=0;try{N()}finally{u=0,function Z(){for(var z,rt,tt=m,ot=1/0;tt;)tt._call?(ot>tt._time&&(ot=tt._time),z=tt,tt=tt._next):(rt=tt._next,tt._next=null,tt=z?z._next=rt:m=rt);l=z,H(ot)}(),c=0}}function R(){var z=g.now(),tt=z-t;tt>1e3&&(h-=tt,t=z)}function H(z){u||(x&&(x=clearTimeout(x)),z-c>24?(z<1/0&&(x=setTimeout(P,z-g.now()-h)),v&&(v=clearInterval(v))):(v||(t=g.now(),v=setInterval(R,1e3)),u=1,d(P)))}A.prototype=L.prototype={constructor:A,restart:function(z,tt,rt){if("function"!=typeof z)throw new TypeError("callback is not a function");rt=(null==rt?p():+rt)+(null==tt?0:+tt),!this._next&&l!==this&&(l?l._next=this:m=this,l=this),this._call=z,this._time=rt,H()},stop:function(){this._call&&(this._call=null,this._time=1/0,H())}}},60128:(w,k,o)=>{"use strict";o.r(k),o.d(k,{zoom:()=>Xe,zoomIdentity:()=>he,zoomTransform:()=>O});var u=o(25922),x=o(52016);function _(nt){nt.preventDefault(),nt.stopImmediatePropagation()}function m(nt){var _t=nt.document.documentElement,gt=(0,x.Z)(nt).on("dragstart.drag",_,!0);"onselectstart"in _t?gt.on("selectstart.drag",_,!0):(_t.__noselect=_t.style.MozUserSelect,_t.style.MozUserSelect="none")}function l(nt,_t){var gt=nt.document.documentElement,St=(0,x.Z)(nt).on("dragstart.drag",null);_t&&(St.on("click.drag",_,!0),setTimeout(function(){St.on("click.drag",null)},0)),"onselectstart"in gt?St.on("selectstart.drag",null):(gt.style.MozUserSelect=gt.__noselect,delete gt.__noselect)}var t=Math.SQRT2;function d(nt){return((nt=Math.exp(nt))+1/nt)/2}function A(nt,_t){var Oe,Ee,gt=nt[0],St=nt[1],zt=nt[2],me=_t[2],ye=_t[0]-gt,Wt=_t[1]-St,oe=ye*ye+Wt*Wt;if(oe<1e-12)Ee=Math.log(me/zt)/t,Oe=function(Nn){return[gt+Nn*ye,St+Nn*Wt,zt*Math.exp(t*Nn*Ee)]};else{var $e=Math.sqrt(oe),Wn=(me*me-zt*zt+4*oe)/(2*zt*2*$e),On=(me*me-zt*zt-4*oe)/(2*me*2*$e),An=Math.log(Math.sqrt(Wn*Wn+1)-Wn),we=Math.log(Math.sqrt(On*On+1)-On);Ee=(we-An)/t,Oe=function(Nn){var Jn=Nn*Ee,sn=d(An),on=zt/(2*$e)*(sn*function C(nt){return((nt=Math.exp(2*nt))-1)/(nt+1)}(t*Jn+An)-function p(nt){return((nt=Math.exp(nt))-1/nt)/2}(An));return[gt+on*ye,St+on*Wt,zt*sn/d(t*Jn+An)]}}return Oe.duration=1e3*Ee,Oe}var L=o(29132),N=o(37853),P=o(49194),R=o(73339),Z=(0,u.Z)("start","end","cancel","interrupt"),H=[];function at(nt,_t,gt,St,zt,ee){var Qt=nt.__transition;if(Qt){if(gt in Qt)return}else nt.__transition={};!function it(nt,_t,gt){var zt,St=nt.__transition;function Qt(Wt){var oe,Oe,Ee,$e;if(1!==gt.state)return ye();for(oe in St)if(($e=St[oe]).name===gt.name){if(3===$e.state)return(0,R.Z)(Qt);4===$e.state?($e.state=6,$e.timer.stop(),$e.on.call("interrupt",nt,nt.__data__,$e.index,$e.group),delete St[oe]):+oe<_t&&($e.state=6,$e.timer.stop(),$e.on.call("cancel",nt,nt.__data__,$e.index,$e.group),delete St[oe])}if((0,R.Z)(function(){3===gt.state&&(gt.state=4,gt.timer.restart(me,gt.delay,gt.time),me(Wt))}),gt.state=2,gt.on.call("start",nt,nt.__data__,gt.index,gt.group),2===gt.state){for(gt.state=3,zt=new Array(Ee=gt.tween.length),oe=0,Oe=-1;oe<Ee;++oe)($e=gt.tween[oe].value.call(nt,nt.__data__,gt.index,gt.group))&&(zt[++Oe]=$e);zt.length=Oe+1}}function me(Wt){for(var oe=Wt<gt.duration?gt.ease.call(null,Wt/gt.duration):(gt.timer.restart(ye),gt.state=5,1),Oe=-1,Ee=zt.length;++Oe<Ee;)zt[Oe].call(nt,oe);5===gt.state&&(gt.on.call("end",nt,nt.__data__,gt.index,gt.group),ye())}function ye(){for(var Wt in gt.state=6,gt.timer.stop(),delete St[_t],St)return;delete nt.__transition}St[_t]=gt,gt.timer=(0,P.HT)(function ee(Wt){gt.state=1,gt.timer.restart(Qt,gt.delay,gt.time),gt.delay<=Wt&&Qt(Wt-gt.delay)},0,gt.time)}(nt,gt,{name:_t,index:St,group:zt,on:Z,tween:H,time:ee.time,delay:ee.delay,duration:ee.duration,ease:ee.ease,timer:null,state:0})}function Y(nt,_t){var gt=ut(nt,_t);if(gt.state>0)throw new Error("too late; already scheduled");return gt}function K(nt,_t){var gt=ut(nt,_t);if(gt.state>3)throw new Error("too late; already running");return gt}function ut(nt,_t){var gt=nt.__transition;if(!gt||!(gt=gt[_t]))throw new Error("transition not found");return gt}function G(nt,_t){var St,zt,Qt,gt=nt.__transition,ee=!0;if(gt){for(Qt in _t=null==_t?null:_t+"",gt)(St=gt[Qt]).name===_t?(zt=St.state>2&&St.state<5,St.state=6,St.timer.stop(),St.on.call(zt?"interrupt":"cancel",nt,nt.__data__,St.index,St.group),delete gt[Qt]):ee=!1;ee&&delete nt.__transition}}var ft=o(75349),It=o(36175);function Zt(nt,_t){var gt,St;return function(){var zt=K(this,nt),ee=zt.tween;if(ee!==gt)for(var Qt=0,me=(St=gt=ee).length;Qt<me;++Qt)if(St[Qt].name===_t){(St=St.slice()).splice(Qt,1);break}zt.tween=St}}function Yt(nt,_t,gt){var St,zt;if("function"!=typeof gt)throw new Error;return function(){var ee=K(this,nt),Qt=ee.tween;if(Qt!==St){zt=(St=Qt).slice();for(var me={name:_t,value:gt},ye=0,Wt=zt.length;ye<Wt;++ye)if(zt[ye].name===_t){zt[ye]=me;break}ye===Wt&&zt.push(me)}ee.tween=zt}}function Ut(nt,_t,gt){var St=nt._id;return nt.each(function(){var zt=K(this,St);(zt.value||(zt.value={}))[_t]=gt.apply(this,arguments)}),function(zt){return ut(zt,St).value[_t]}}var xt=o(52786),pt=o(6738),Nt=o(23534),Jt=o(23096);function ge(nt,_t){var gt;return("number"==typeof _t?pt.Z:_t instanceof xt.ZP?Nt.ZP:(gt=(0,xt.ZP)(_t))?(_t=gt,Nt.ZP):Jt.Z)(nt,_t)}function _e(nt){return function(){this.removeAttribute(nt)}}function Te(nt){return function(){this.removeAttributeNS(nt.space,nt.local)}}function Ze(nt,_t,gt){var St,ee,zt=gt+"";return function(){var Qt=this.getAttribute(nt);return Qt===zt?null:Qt===St?ee:ee=_t(St=Qt,gt)}}function yn(nt,_t,gt){var St,ee,zt=gt+"";return function(){var Qt=this.getAttributeNS(nt.space,nt.local);return Qt===zt?null:Qt===St?ee:ee=_t(St=Qt,gt)}}function Pe(nt,_t,gt){var St,zt,ee;return function(){var Qt,ye,me=gt(this);return null==me?void this.removeAttribute(nt):(Qt=this.getAttribute(nt))===(ye=me+"")?null:Qt===St&&ye===zt?ee:(zt=ye,ee=_t(St=Qt,me))}}function mn(nt,_t,gt){var St,zt,ee;return function(){var Qt,ye,me=gt(this);return null==me?void this.removeAttributeNS(nt.space,nt.local):(Qt=this.getAttributeNS(nt.space,nt.local))===(ye=me+"")?null:Qt===St&&ye===zt?ee:(zt=ye,ee=_t(St=Qt,me))}}function kn(nt,_t){return function(gt){this.setAttribute(nt,_t.call(this,gt))}}function de(nt,_t){return function(gt){this.setAttributeNS(nt.space,nt.local,_t.call(this,gt))}}function gn(nt,_t){var gt,St;function zt(){var ee=_t.apply(this,arguments);return ee!==St&&(gt=(St=ee)&&de(nt,ee)),gt}return zt._value=_t,zt}function Xn(nt,_t){var gt,St;function zt(){var ee=_t.apply(this,arguments);return ee!==St&&(gt=(St=ee)&&kn(nt,ee)),gt}return zt._value=_t,zt}function Yn(nt,_t){return function(){Y(this,nt).delay=+_t.apply(this,arguments)}}function an(nt,_t){return _t=+_t,function(){Y(this,nt).delay=_t}}function dn(nt,_t){return function(){K(this,nt).duration=+_t.apply(this,arguments)}}function En(nt,_t){return _t=+_t,function(){K(this,nt).duration=_t}}function ci(nt,_t){if("function"!=typeof _t)throw new Error;return function(){K(this,nt).ease=_t}}var Kn=o(97905);function Tt(nt,_t,gt){var St,zt,ee=function jn(nt){return(nt+"").trim().split(/^|\s+/).every(function(_t){var gt=_t.indexOf(".");return gt>=0&&(_t=_t.slice(0,gt)),!_t||"start"===_t})}(_t)?Y:K;return function(){var Qt=ee(this,nt),me=Qt.on;me!==St&&(zt=(St=me).copy()).on(_t,gt),Qt.on=zt}}var ve=o(29742),Ne=o(32037),Zn=N.ZP.prototype.constructor,qn=o(24476);function _n(nt){return function(){this.style.removeProperty(nt)}}function Tn(nt,_t,gt){return function(St){this.style.setProperty(nt,_t.call(this,St),gt)}}function ei(nt,_t,gt){var St,zt;function ee(){var Qt=_t.apply(this,arguments);return Qt!==zt&&(St=(zt=Qt)&&Tn(nt,Qt,gt)),St}return ee._value=_t,ee}function Bn(nt){return function(_t){this.textContent=nt.call(this,_t)}}function fn(nt){var _t,gt;function St(){var zt=nt.apply(this,arguments);return zt!==gt&&(_t=(gt=zt)&&Bn(zt)),_t}return St._value=nt,St}var E=0;function At(nt,_t,gt,St){this._groups=nt,this._parents=_t,this._name=gt,this._id=St}function Bt(){return++E}var Ht=N.ZP.prototype;At.prototype=function Ot(nt){return(0,N.ZP)().transition(nt)}.prototype={constructor:At,select:function Be(nt){var _t=this._name,gt=this._id;"function"!=typeof nt&&(nt=(0,ve.Z)(nt));for(var St=this._groups,zt=St.length,ee=new Array(zt),Qt=0;Qt<zt;++Qt)for(var oe,Oe,me=St[Qt],ye=me.length,Wt=ee[Qt]=new Array(ye),Ee=0;Ee<ye;++Ee)(oe=me[Ee])&&(Oe=nt.call(oe,oe.__data__,Ee,me))&&("__data__"in oe&&(Oe.__data__=oe.__data__),Wt[Ee]=Oe,at(Wt[Ee],_t,gt,Ee,Wt,ut(oe,gt)));return new At(ee,this._parents,_t,gt)},selectAll:function en(nt){var _t=this._name,gt=this._id;"function"!=typeof nt&&(nt=(0,Ne.Z)(nt));for(var St=this._groups,zt=St.length,ee=[],Qt=[],me=0;me<zt;++me)for(var oe,ye=St[me],Wt=ye.length,Oe=0;Oe<Wt;++Oe)if(oe=ye[Oe]){for(var $e,Ee=nt.call(oe,oe.__data__,Oe,ye),Wn=ut(oe,gt),On=0,An=Ee.length;On<An;++On)($e=Ee[On])&&at($e,_t,gt,On,Ee,Wn);ee.push(Ee),Qt.push(oe)}return new At(ee,Qt,_t,gt)},filter:function Me(nt){"function"!=typeof nt&&(nt=(0,Kn.Z)(nt));for(var _t=this._groups,gt=_t.length,St=new Array(gt),zt=0;zt<gt;++zt)for(var ye,ee=_t[zt],Qt=ee.length,me=St[zt]=[],Wt=0;Wt<Qt;++Wt)(ye=ee[Wt])&&nt.call(ye,ye.__data__,Wt,ee)&&me.push(ye);return new At(St,this._parents,this._name,this._id)},merge:function $n(nt){if(nt._id!==this._id)throw new Error;for(var _t=this._groups,gt=nt._groups,St=_t.length,ee=Math.min(St,gt.length),Qt=new Array(St),me=0;me<ee;++me)for(var Ee,ye=_t[me],Wt=gt[me],oe=ye.length,Oe=Qt[me]=new Array(oe),$e=0;$e<oe;++$e)(Ee=ye[$e]||Wt[$e])&&(Oe[$e]=Ee);for(;me<St;++me)Qt[me]=_t[me];return new At(Qt,this._parents,this._name,this._id)},selection:function Dn(){return new Zn(this._groups,this._parents)},transition:function X(){for(var nt=this._name,_t=this._id,gt=Bt(),St=this._groups,zt=St.length,ee=0;ee<zt;++ee)for(var ye,Qt=St[ee],me=Qt.length,Wt=0;Wt<me;++Wt)if(ye=Qt[Wt]){var oe=ut(ye,_t);at(ye,nt,gt,Wt,Qt,{time:oe.time+oe.delay+oe.duration,delay:0,duration:oe.duration,ease:oe.ease})}return new At(St,this._parents,nt,gt)},call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:function Gt(nt,_t){var gt=this._id;return arguments.length<2?ut(this.node(),gt).on.on(nt):this.each(Tt(gt,nt,_t))},attr:function Ve(nt,_t){var gt=(0,It.Z)(nt),St="transform"===gt?ft.w:ge;return this.attrTween(nt,"function"==typeof _t?(gt.local?mn:Pe)(gt,St,Ut(this,"attr."+nt,_t)):null==_t?(gt.local?Te:_e)(gt):(gt.local?yn:Ze)(gt,St,_t))},attrTween:function ni(nt,_t){var gt="attr."+nt;if(arguments.length<2)return(gt=this.tween(gt))&&gt._value;if(null==_t)return this.tween(gt,null);if("function"!=typeof _t)throw new Error;var St=(0,It.Z)(nt);return this.tween(gt,(St.local?gn:Xn)(St,_t))},style:function cn(nt,_t,gt){var St="transform"==(nt+="")?ft.Y:ge;return null==_t?this.styleTween(nt,function Di(nt,_t){var gt,St,zt;return function(){var ee=(0,qn.S)(this,nt),Qt=(this.style.removeProperty(nt),(0,qn.S)(this,nt));return ee===Qt?null:ee===gt&&Qt===St?zt:zt=_t(gt=ee,St=Qt)}}(nt,St)).on("end.style."+nt,_n(nt)):"function"==typeof _t?this.styleTween(nt,function wi(nt,_t,gt){var St,zt,ee;return function(){var Qt=(0,qn.S)(this,nt),me=gt(this),ye=me+"";return null==me&&(this.style.removeProperty(nt),ye=me=(0,qn.S)(this,nt)),Qt===ye?null:Qt===St&&ye===zt?ee:(zt=ye,ee=_t(St=Qt,me))}}(nt,St,Ut(this,"style."+nt,_t))).each(function In(nt,_t){var gt,St,zt,me,ee="style."+_t,Qt="end."+ee;return function(){var ye=K(this,nt),Wt=ye.on,oe=null==ye.value[ee]?me||(me=_n(_t)):void 0;(Wt!==gt||zt!==oe)&&(St=(gt=Wt).copy()).on(Qt,zt=oe),ye.on=St}}(this._id,nt)):this.styleTween(nt,function ti(nt,_t,gt){var St,ee,zt=gt+"";return function(){var Qt=(0,qn.S)(this,nt);return Qt===zt?null:Qt===St?ee:ee=_t(St=Qt,gt)}}(nt,St,_t),gt).on("end.style."+nt,null)},styleTween:function ui(nt,_t,gt){var St="style."+(nt+="");if(arguments.length<2)return(St=this.tween(St))&&St._value;if(null==_t)return this.tween(St,null);if("function"!=typeof _t)throw new Error;return this.tween(St,ei(nt,_t,null==gt?"":gt))},text:function Ii(nt){return this.tween("text","function"==typeof nt?function Le(nt){return function(){var _t=nt(this);this.textContent=null==_t?"":_t}}(Ut(this,"text",nt)):function Mn(nt){return function(){this.textContent=nt}}(null==nt?"":nt+""))},textTween:function V(nt){var _t="text";if(arguments.length<1)return(_t=this.tween(_t))&&_t._value;if(null==nt)return this.tween(_t,null);if("function"!=typeof nt)throw new Error;return this.tween(_t,fn(nt))},remove:function fe(){return this.on("end.remove",function se(nt){return function(){var _t=this.parentNode;for(var gt in this.__transition)if(+gt!==nt)return;_t&&_t.removeChild(this)}}(this._id))},tween:function ie(nt,_t){var gt=this._id;if(nt+="",arguments.length<2){for(var Qt,St=ut(this.node(),gt).tween,zt=0,ee=St.length;zt<ee;++zt)if((Qt=St[zt]).name===nt)return Qt.value;return null}return this.each((null==_t?Zt:Yt)(gt,nt,_t))},delay:function je(nt){var _t=this._id;return arguments.length?this.each(("function"==typeof nt?Yn:an)(_t,nt)):ut(this.node(),_t).delay},duration:function Ue(nt){var _t=this._id;return arguments.length?this.each(("function"==typeof nt?dn:En)(_t,nt)):ut(this.node(),_t).duration},ease:function Rn(nt){var _t=this._id;return arguments.length?this.each(ci(_t,nt)):ut(this.node(),_t).ease},easeVarying:function Hn(nt){if("function"!=typeof nt)throw new Error;return this.each(function vn(nt,_t){return function(){var gt=_t.apply(this,arguments);if("function"!=typeof gt)throw new Error;K(this,nt).ease=gt}}(this._id,nt))},end:function ht(){var nt,_t,gt=this,St=gt._id,zt=gt.size();return new Promise(function(ee,Qt){var me={value:Qt},ye={value:function(){0==--zt&&ee()}};gt.each(function(){var Wt=K(this,St),oe=Wt.on;oe!==nt&&((_t=(nt=oe).copy())._.cancel.push(me),_t._.interrupt.push(me),_t._.end.push(ye)),Wt.on=_t}),0===zt&&ee()})},[Symbol.iterator]:Ht[Symbol.iterator]};var qt={time:null,delay:0,duration:250,ease:o(27065).tw};function j(nt,_t){for(var gt;!(gt=nt.__transition)||!(gt=gt[_t]);)if(!(nt=nt.parentNode))throw new Error(`transition ${_t} not found`);return gt}N.ZP.prototype.interrupt=function M(nt){return this.each(function(){G(this,nt)})},N.ZP.prototype.transition=function mt(nt){var _t,gt;nt instanceof At?(_t=nt._id,nt=nt._name):(_t=Bt(),(gt=qt).time=(0,P.zO)(),nt=null==nt?null:nt+"");for(var St=this._groups,zt=St.length,ee=0;ee<zt;++ee)for(var ye,Qt=St[ee],me=Qt.length,Wt=0;Wt<me;++Wt)(ye=Qt[Wt])&&at(ye,nt,_t,Wt,Qt,gt||j(ye,_t));return new At(St,this._parents,nt,_t)};const Xt=nt=>()=>nt;function te(nt,{sourceEvent:_t,target:gt,transform:St,dispatch:zt}){Object.defineProperties(this,{type:{value:nt,enumerable:!0,configurable:!0},sourceEvent:{value:_t,enumerable:!0,configurable:!0},target:{value:gt,enumerable:!0,configurable:!0},transform:{value:St,enumerable:!0,configurable:!0},_:{value:zt}})}function Dt(nt,_t,gt){this.k=nt,this.x=_t,this.y=gt}Dt.prototype={constructor:Dt,scale:function(nt){return 1===nt?this:new Dt(this.k*nt,this.x,this.y)},translate:function(nt,_t){return 0===nt&0===_t?this:new Dt(this.k,this.x+this.k*nt,this.y+this.k*_t)},apply:function(nt){return[nt[0]*this.k+this.x,nt[1]*this.k+this.y]},applyX:function(nt){return nt*this.k+this.x},applyY:function(nt){return nt*this.k+this.y},invert:function(nt){return[(nt[0]-this.x)/this.k,(nt[1]-this.y)/this.k]},invertX:function(nt){return(nt-this.x)/this.k},invertY:function(nt){return(nt-this.y)/this.k},rescaleX:function(nt){return nt.copy().domain(nt.range().map(this.invertX,this).map(nt.invert,nt))},rescaleY:function(nt){return nt.copy().domain(nt.range().map(this.invertY,this).map(nt.invert,nt))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var he=new Dt(1,0,0);function O(nt){for(;!nt.__zoom;)if(!(nt=nt.parentNode))return he;return nt.__zoom}function le(nt){nt.stopImmediatePropagation()}function ke(nt){nt.preventDefault(),nt.stopImmediatePropagation()}function Ie(nt){return!(nt.ctrlKey&&"wheel"!==nt.type||nt.button)}function nn(){var nt=this;return nt instanceof SVGElement?(nt=nt.ownerSVGElement||nt).hasAttribute("viewBox")?[[(nt=nt.viewBox.baseVal).x,nt.y],[nt.x+nt.width,nt.y+nt.height]]:[[0,0],[nt.width.baseVal.value,nt.height.baseVal.value]]:[[0,0],[nt.clientWidth,nt.clientHeight]]}function ze(){return this.__zoom||he}function We(nt){return-nt.deltaY*(1===nt.deltaMode?.05:nt.deltaMode?1:.002)*(nt.ctrlKey?10:1)}function pe(){return navigator.maxTouchPoints||"ontouchstart"in this}function xe(nt,_t,gt){var St=nt.invertX(_t[0][0])-gt[0][0],zt=nt.invertX(_t[1][0])-gt[1][0],ee=nt.invertY(_t[0][1])-gt[0][1],Qt=nt.invertY(_t[1][1])-gt[1][1];return nt.translate(zt>St?(St+zt)/2:Math.min(0,St)||Math.max(0,zt),Qt>ee?(ee+Qt)/2:Math.min(0,ee)||Math.max(0,Qt))}function Xe(){var oe,Oe,Ee,nt=Ie,_t=nn,gt=xe,St=We,zt=pe,ee=[0,1/0],Qt=[[-1/0,-1/0],[1/0,1/0]],me=250,ye=A,Wt=(0,u.Z)("start","zoom","end"),On=0,An=10;function we(Ft){Ft.property("__zoom",ze).on("wheel.zoom",hi).on("mousedown.zoom",zi).on("dblclick.zoom",Qn).filter(zt).on("touchstart.zoom",Ai).on("touchmove.zoom",ln).on("touchend.zoom touchcancel.zoom",Yi).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Nn(Ft,Ce){return(Ce=Math.max(ee[0],Math.min(ee[1],Ce)))===Ft.k?Ft:new Dt(Ce,Ft.x,Ft.y)}function Jn(Ft,Ce,jt){var T=Ce[0]-jt[0]*Ft.k,I=Ce[1]-jt[1]*Ft.k;return T===Ft.x&&I===Ft.y?Ft:new Dt(Ft.k,T,I)}function sn(Ft){return[(+Ft[0][0]+ +Ft[1][0])/2,(+Ft[0][1]+ +Ft[1][1])/2]}function on(Ft,Ce,jt,T){Ft.on("start.zoom",function(){Un(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){Un(this,arguments).event(T).end()}).tween("zoom",function(){var I=this,U=arguments,Q=Un(I,U).event(T),ct=_t.apply(I,U),yt=null==jt?sn(ct):"function"==typeof jt?jt.apply(I,U):jt,kt=Math.max(ct[1][0]-ct[0][0],ct[1][1]-ct[0][1]),Pt=I.__zoom,ae="function"==typeof Ce?Ce.apply(I,U):Ce,De=ye(Pt.invert(yt).concat(kt/Pt.k),ae.invert(yt).concat(kt/ae.k));return function(Ge){if(1===Ge)Ge=ae;else{var qe=De(Ge),Re=kt/qe[2];Ge=new Dt(Re,yt[0]-qe[0]*Re,yt[1]-qe[1]*Re)}Q.zoom(null,Ge)}})}function Un(Ft,Ce,jt){return!jt&&Ft.__zooming||new Vi(Ft,Ce)}function Vi(Ft,Ce){this.that=Ft,this.args=Ce,this.active=0,this.sourceEvent=null,this.extent=_t.apply(Ft,Ce),this.taps=0}function hi(Ft,...Ce){if(nt.apply(this,arguments)){var jt=Un(this,Ce).event(Ft),T=this.__zoom,I=Math.max(ee[0],Math.min(ee[1],T.k*Math.pow(2,St.apply(this,arguments)))),U=(0,L.Z)(Ft);if(jt.wheel)(jt.mouse[0][0]!==U[0]||jt.mouse[0][1]!==U[1])&&(jt.mouse[1]=T.invert(jt.mouse[0]=U)),clearTimeout(jt.wheel);else{if(T.k===I)return;jt.mouse=[U,T.invert(U)],G(this),jt.start()}ke(Ft),jt.wheel=setTimeout(Q,150),jt.zoom("mouse",gt(Jn(Nn(T,I),jt.mouse[0],jt.mouse[1]),jt.extent,Qt))}function Q(){jt.wheel=null,jt.end()}}function zi(Ft,...Ce){if(!Ee&&nt.apply(this,arguments)){var jt=Un(this,Ce,!0).event(Ft),T=(0,x.Z)(Ft.view).on("mousemove.zoom",yt,!0).on("mouseup.zoom",kt,!0),I=(0,L.Z)(Ft,U),U=Ft.currentTarget,Q=Ft.clientX,ct=Ft.clientY;m(Ft.view),le(Ft),jt.mouse=[I,this.__zoom.invert(I)],G(this),jt.start()}function yt(Pt){if(ke(Pt),!jt.moved){var ae=Pt.clientX-Q,De=Pt.clientY-ct;jt.moved=ae*ae+De*De>On}jt.event(Pt).zoom("mouse",gt(Jn(jt.that.__zoom,jt.mouse[0]=(0,L.Z)(Pt,U),jt.mouse[1]),jt.extent,Qt))}function kt(Pt){T.on("mousemove.zoom mouseup.zoom",null),l(Pt.view,jt.moved),ke(Pt),jt.event(Pt).end()}}function Qn(Ft,...Ce){if(nt.apply(this,arguments)){var jt=this.__zoom,T=(0,L.Z)(Ft.changedTouches?Ft.changedTouches[0]:Ft,this),I=jt.invert(T),U=jt.k*(Ft.shiftKey?.5:2),Q=gt(Jn(Nn(jt,U),T,I),_t.apply(this,Ce),Qt);ke(Ft),me>0?(0,x.Z)(this).transition().duration(me).call(on,Q,T,Ft):(0,x.Z)(this).call(we.transform,Q,T,Ft)}}function Ai(Ft,...Ce){if(nt.apply(this,arguments)){var U,Q,ct,yt,jt=Ft.touches,T=jt.length,I=Un(this,Ce,Ft.changedTouches.length===T).event(Ft);for(le(Ft),Q=0;Q<T;++Q)yt=[yt=(0,L.Z)(ct=jt[Q],this),this.__zoom.invert(yt),ct.identifier],I.touch0?!I.touch1&&I.touch0[2]!==yt[2]&&(I.touch1=yt,I.taps=0):(I.touch0=yt,U=!0,I.taps=1+!!oe);oe&&(oe=clearTimeout(oe)),U&&(I.taps<2&&(Oe=yt[0],oe=setTimeout(function(){oe=null},500)),G(this),I.start())}}function ln(Ft,...Ce){if(this.__zooming){var U,Q,ct,yt,jt=Un(this,Ce).event(Ft),T=Ft.changedTouches,I=T.length;for(ke(Ft),U=0;U<I;++U)ct=(0,L.Z)(Q=T[U],this),jt.touch0&&jt.touch0[2]===Q.identifier?jt.touch0[0]=ct:jt.touch1&&jt.touch1[2]===Q.identifier&&(jt.touch1[0]=ct);if(Q=jt.that.__zoom,jt.touch1){var kt=jt.touch0[0],Pt=jt.touch0[1],ae=jt.touch1[0],De=jt.touch1[1],Ge=(Ge=ae[0]-kt[0])*Ge+(Ge=ae[1]-kt[1])*Ge,qe=(qe=De[0]-Pt[0])*qe+(qe=De[1]-Pt[1])*qe;Q=Nn(Q,Math.sqrt(Ge/qe)),ct=[(kt[0]+ae[0])/2,(kt[1]+ae[1])/2],yt=[(Pt[0]+De[0])/2,(Pt[1]+De[1])/2]}else{if(!jt.touch0)return;ct=jt.touch0[0],yt=jt.touch0[1]}jt.zoom("touch",gt(Jn(Q,ct,yt),jt.extent,Qt))}}function Yi(Ft,...Ce){if(this.__zooming){var U,Q,jt=Un(this,Ce).event(Ft),T=Ft.changedTouches,I=T.length;for(le(Ft),Ee&&clearTimeout(Ee),Ee=setTimeout(function(){Ee=null},500),U=0;U<I;++U)Q=T[U],jt.touch0&&jt.touch0[2]===Q.identifier?delete jt.touch0:jt.touch1&&jt.touch1[2]===Q.identifier&&delete jt.touch1;if(jt.touch1&&!jt.touch0&&(jt.touch0=jt.touch1,delete jt.touch1),jt.touch0)jt.touch0[1]=this.__zoom.invert(jt.touch0[0]);else if(jt.end(),2===jt.taps&&(Q=(0,L.Z)(Q,this),Math.hypot(Oe[0]-Q[0],Oe[1]-Q[1])<An)){var ct=(0,x.Z)(this).on("dblclick.zoom");ct&&ct.apply(this,arguments)}}}return we.transform=function(Ft,Ce,jt,T){var I=Ft.selection?Ft.selection():Ft;I.property("__zoom",ze),Ft!==I?on(Ft,Ce,jt,T):I.interrupt().each(function(){Un(this,arguments).event(T).start().zoom(null,"function"==typeof Ce?Ce.apply(this,arguments):Ce).end()})},we.scaleBy=function(Ft,Ce,jt,T){we.scaleTo(Ft,function(){var I=this.__zoom.k,U="function"==typeof Ce?Ce.apply(this,arguments):Ce;return I*U},jt,T)},we.scaleTo=function(Ft,Ce,jt,T){we.transform(Ft,function(){var I=_t.apply(this,arguments),U=this.__zoom,Q=null==jt?sn(I):"function"==typeof jt?jt.apply(this,arguments):jt,ct=U.invert(Q),yt="function"==typeof Ce?Ce.apply(this,arguments):Ce;return gt(Jn(Nn(U,yt),Q,ct),I,Qt)},jt,T)},we.translateBy=function(Ft,Ce,jt,T){we.transform(Ft,function(){return gt(this.__zoom.translate("function"==typeof Ce?Ce.apply(this,arguments):Ce,"function"==typeof jt?jt.apply(this,arguments):jt),_t.apply(this,arguments),Qt)},null,T)},we.translateTo=function(Ft,Ce,jt,T,I){we.transform(Ft,function(){var U=_t.apply(this,arguments),Q=this.__zoom,ct=null==T?sn(U):"function"==typeof T?T.apply(this,arguments):T;return gt(he.translate(ct[0],ct[1]).scale(Q.k).translate("function"==typeof Ce?-Ce.apply(this,arguments):-Ce,"function"==typeof jt?-jt.apply(this,arguments):-jt),U,Qt)},T,I)},Vi.prototype={event:function(Ft){return Ft&&(this.sourceEvent=Ft),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Ft,Ce){return this.mouse&&"mouse"!==Ft&&(this.mouse[1]=Ce.invert(this.mouse[0])),this.touch0&&"touch"!==Ft&&(this.touch0[1]=Ce.invert(this.touch0[0])),this.touch1&&"touch"!==Ft&&(this.touch1[1]=Ce.invert(this.touch1[0])),this.that.__zoom=Ce,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Ft){var Ce=(0,x.Z)(this.that).datum();Wt.call(Ft,this.that,new te(Ft,{sourceEvent:this.sourceEvent,target:we,type:Ft,transform:this.that.__zoom,dispatch:Wt}),Ce)}},we.wheelDelta=function(Ft){return arguments.length?(St="function"==typeof Ft?Ft:Xt(+Ft),we):St},we.filter=function(Ft){return arguments.length?(nt="function"==typeof Ft?Ft:Xt(!!Ft),we):nt},we.touchable=function(Ft){return arguments.length?(zt="function"==typeof Ft?Ft:Xt(!!Ft),we):zt},we.extent=function(Ft){return arguments.length?(_t="function"==typeof Ft?Ft:Xt([[+Ft[0][0],+Ft[0][1]],[+Ft[1][0],+Ft[1][1]]]),we):_t},we.scaleExtent=function(Ft){return arguments.length?(ee[0]=+Ft[0],ee[1]=+Ft[1],we):[ee[0],ee[1]]},we.translateExtent=function(Ft){return arguments.length?(Qt[0][0]=+Ft[0][0],Qt[1][0]=+Ft[1][0],Qt[0][1]=+Ft[0][1],Qt[1][1]=+Ft[1][1],we):[[Qt[0][0],Qt[0][1]],[Qt[1][0],Qt[1][1]]]},we.constrain=function(Ft){return arguments.length?(gt=Ft,we):gt},we.duration=function(Ft){return arguments.length?(me=+Ft,we):me},we.interpolate=function(Ft){return arguments.length?(ye=Ft,we):ye},we.on=function(){var Ft=Wt.on.apply(Wt,arguments);return Ft===Wt?we:Ft},we.clickDistance=function(Ft){return arguments.length?(On=(Ft=+Ft)*Ft,we):Math.sqrt(On)},we.tapDistance=function(Ft){return arguments.length?(An=+Ft,we):An},we}O.prototype=Dt.prototype},59695:(w,k,o)=>{w.exports={graphlib:o(36456),layout:o(14850),debug:o(71914),util:{time:o(11510).time,notime:o(11510).notime},version:o(28126)}},12234:(w,k,o)=>{"use strict";var u=o(45760),x=o(67365);w.exports={run:function v(l){var t="greedy"===l.graph().acyclicer?x(l,function c(h){return function(g){return h.edge(g).weight}}(l)):function _(l){var t=[],c={},h={};return u.forEach(l.nodes(),function g(d){u.has(h,d)||(h[d]=!0,c[d]=!0,u.forEach(l.outEdges(d),function(p){u.has(c,p.w)?t.push(p):g(p.w)}),delete c[d])}),t}(l);u.forEach(t,function(h){var g=l.edge(h);l.removeEdge(h),g.forwardName=h.name,g.reversed=!0,l.setEdge(h.w,h.v,g,u.uniqueId("rev"))})},undo:function m(l){u.forEach(l.edges(),function(t){var c=l.edge(t);if(c.reversed){l.removeEdge(t);var h=c.forwardName;delete c.reversed,delete c.forwardName,l.setEdge(t.w,t.v,c,h)}})}}},79999:(w,k,o)=>{var u=o(45760),x=o(11510);function _(m,l,t,c,h,g){var p=h[l][g-1],C=x.addDummyNode(m,"border",{width:0,height:0,rank:g,borderType:l},t);h[l][g]=C,m.setParent(C,c),p&&m.setEdge(p,C,{weight:1})}w.exports=function v(m){u.forEach(m.children(),function l(t){var c=m.children(t),h=m.node(t);if(c.length&&u.forEach(c,l),u.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var g=h.minRank,d=h.maxRank+1;g<d;++g)_(m,"borderLeft","_bl",t,h,g),_(m,"borderRight","_br",t,h,g)}})}},83870:(w,k,o)=>{"use strict";var u=o(45760);function _(g){u.forEach(g.nodes(),function(d){m(g.node(d))}),u.forEach(g.edges(),function(d){m(g.edge(d))})}function m(g){var d=g.width;g.width=g.height,g.height=d}function t(g){g.y=-g.y}function h(g){var d=g.x;g.x=g.y,g.y=d}w.exports={adjust:function x(g){var d=g.graph().rankdir.toLowerCase();("lr"===d||"rl"===d)&&_(g)},undo:function v(g){var d=g.graph().rankdir.toLowerCase();("bt"===d||"rl"===d)&&function l(g){u.forEach(g.nodes(),function(d){t(g.node(d))}),u.forEach(g.edges(),function(d){var p=g.edge(d);u.forEach(p.points,t),u.has(p,"y")&&t(p)})}(g),("lr"===d||"rl"===d)&&(function c(g){u.forEach(g.nodes(),function(d){h(g.node(d))}),u.forEach(g.edges(),function(d){var p=g.edge(d);u.forEach(p.points,h),u.has(p,"x")&&h(p)})}(g),_(g))}}},3226:w=>{function k(){var x={};x._next=x._prev=x,this._sentinel=x}function o(x){x._prev._next=x._next,x._next._prev=x._prev,delete x._next,delete x._prev}function u(x,v){if("_next"!==x&&"_prev"!==x)return v}w.exports=k,k.prototype.dequeue=function(){var x=this._sentinel,v=x._prev;if(v!==x)return o(v),v},k.prototype.enqueue=function(x){var v=this._sentinel;x._prev&&x._next&&o(x),x._next=v._next,v._next._prev=x,v._next=x,x._prev=v},k.prototype.toString=function(){for(var x=[],v=this._sentinel,_=v._prev;_!==v;)x.push(JSON.stringify(_,u)),_=_._prev;return"["+x.join(", ")+"]"}},71914:(w,k,o)=>{var u=o(45760),x=o(11510),v=o(36456).Graph;w.exports={debugOrdering:function _(m){var l=x.buildLayerMatrix(m),t=new v({compound:!0,multigraph:!0}).setGraph({});return u.forEach(m.nodes(),function(c){t.setNode(c,{label:c}),t.setParent(c,"layer"+m.node(c).rank)}),u.forEach(m.edges(),function(c){t.setEdge(c.v,c.w,{},c.name)}),u.forEach(l,function(c,h){t.setNode("layer"+h,{rank:"same"}),u.reduce(c,function(d,p){return t.setEdge(d,p,{style:"invis"}),p})}),t}}},36456:(w,k,o)=>{var u;try{u=o(85510)}catch(x){}u||(u=window.graphlib),w.exports=u},67365:(w,k,o)=>{var u=o(45760),x=o(36456).Graph,v=o(3226);w.exports=function m(g,d){if(g.nodeCount()<=1)return[];var p=function c(g,d){var p=new x,C=0,A=0;u.forEach(g.nodes(),function(P){p.setNode(P,{v:P,in:0,out:0})}),u.forEach(g.edges(),function(P){var R=p.edge(P.v,P.w)||0,Z=d(P);p.setEdge(P.v,P.w,R+Z),A=Math.max(A,p.node(P.v).out+=Z),C=Math.max(C,p.node(P.w).in+=Z)});var L=u.range(A+C+3).map(function(){return new v}),N=C+1;return u.forEach(p.nodes(),function(P){h(L,N,p.node(P))}),{graph:p,buckets:L,zeroIdx:N}}(g,d||_),C=function l(g,d,p){for(var N,C=[],A=d[d.length-1],L=d[0];g.nodeCount();){for(;N=L.dequeue();)t(g,d,p,N);for(;N=A.dequeue();)t(g,d,p,N);if(g.nodeCount())for(var P=d.length-2;P>0;--P)if(N=d[P].dequeue()){C=C.concat(t(g,d,p,N,!0));break}}return C}(p.graph,p.buckets,p.zeroIdx);return u.flatten(u.map(C,function(A){return g.outEdges(A.v,A.w)}),!0)};var _=u.constant(1);function t(g,d,p,C,A){var L=A?[]:void 0;return u.forEach(g.inEdges(C.v),function(N){var P=g.edge(N),R=g.node(N.v);A&&L.push({v:N.v,w:N.w}),R.out-=P,h(d,p,R)}),u.forEach(g.outEdges(C.v),function(N){var P=g.edge(N),Z=g.node(N.w);Z.in-=P,h(d,p,Z)}),g.removeNode(C.v),L}function h(g,d,p){p.out?p.in?g[p.out-p.in+d].enqueue(p):g[g.length-1].enqueue(p):g[0].enqueue(p)}},14850:(w,k,o)=>{"use strict";var u=o(45760),x=o(12234),v=o(91496),_=o(94124),m=o(11510).normalizeRanks,l=o(60162),t=o(11510).removeEmptyRanks,c=o(1230),h=o(79999),g=o(83870),d=o(32974),p=o(78226),C=o(11510),A=o(36456).Graph;w.exports=function L(xt,pt){var Nt=pt&&pt.debugTiming?C.time:C.notime;Nt("layout",function(){var Jt=Nt("  buildLayoutGraph",function(){return function et(xt){var pt=new A({multigraph:!0,compound:!0}),Nt=Ut(xt.graph());return pt.setGraph(u.merge({},Z,ie(Nt,R),u.pick(Nt,H))),u.forEach(xt.nodes(),function(Jt){var ge=Ut(xt.node(Jt));pt.setNode(Jt,u.defaults(ie(ge,z),tt)),pt.setParent(Jt,xt.parent(Jt))}),u.forEach(xt.edges(),function(Jt){var ge=Ut(xt.edge(Jt));pt.setEdge(Jt,u.merge({},ot,ie(ge,rt),u.pick(ge,J)))}),pt}(xt)});Nt("  runLayout",function(){!function N(xt,pt){pt("    makeSpaceForEdgeLabels",function(){!function q(xt){var pt=xt.graph();pt.ranksep/=2,u.forEach(xt.edges(),function(Nt){var Jt=xt.edge(Nt);Jt.minlen*=2,"c"!==Jt.labelpos.toLowerCase()&&("TB"===pt.rankdir||"BT"===pt.rankdir?Jt.width+=Jt.labeloffset:Jt.height+=Jt.labeloffset)})}(xt)}),pt("    removeSelfEdges",function(){!function It(xt){u.forEach(xt.edges(),function(pt){if(pt.v===pt.w){var Nt=xt.node(pt.v);Nt.selfEdges||(Nt.selfEdges=[]),Nt.selfEdges.push({e:pt,label:xt.edge(pt)}),xt.removeEdge(pt)}})}(xt)}),pt("    acyclic",function(){x.run(xt)}),pt("    nestingGraph.run",function(){c.run(xt)}),pt("    rank",function(){_(C.asNonCompoundGraph(xt))}),pt("    injectEdgeLabelProxies",function(){!function at(xt){u.forEach(xt.edges(),function(pt){var Nt=xt.edge(pt);if(Nt.width&&Nt.height){var Jt=xt.node(pt.v),ge=xt.node(pt.w);C.addDummyNode(xt,"edge-proxy",{rank:(ge.rank-Jt.rank)/2+Jt.rank,e:pt},"_ep")}})}(xt)}),pt("    removeEmptyRanks",function(){t(xt)}),pt("    nestingGraph.cleanup",function(){c.cleanup(xt)}),pt("    normalizeRanks",function(){m(xt)}),pt("    assignRankMinMax",function(){!function Y(xt){var pt=0;u.forEach(xt.nodes(),function(Nt){var Jt=xt.node(Nt);Jt.borderTop&&(Jt.minRank=xt.node(Jt.borderTop).rank,Jt.maxRank=xt.node(Jt.borderBottom).rank,pt=u.max(pt,Jt.maxRank))}),xt.graph().maxRank=pt}(xt)}),pt("    removeEdgeLabelProxies",function(){!function K(xt){u.forEach(xt.nodes(),function(pt){var Nt=xt.node(pt);"edge-proxy"===Nt.dummy&&(xt.edge(Nt.e).labelRank=Nt.rank,xt.removeNode(pt))})}(xt)}),pt("    normalize.run",function(){v.run(xt)}),pt("    parentDummyChains",function(){l(xt)}),pt("    addBorderSegments",function(){h(xt)}),pt("    order",function(){d(xt)}),pt("    insertSelfEdges",function(){!function Zt(xt){var pt=C.buildLayerMatrix(xt);u.forEach(pt,function(Nt){var Jt=0;u.forEach(Nt,function(ge,_e){var Te=xt.node(ge);Te.order=_e+Jt,u.forEach(Te.selfEdges,function(Ze){C.addDummyNode(xt,"selfedge",{width:Ze.label.width,height:Ze.label.height,rank:Te.rank,order:_e+ ++Jt,e:Ze.e,label:Ze.label},"_se")}),delete Te.selfEdges})})}(xt)}),pt("    adjustCoordinateSystem",function(){g.adjust(xt)}),pt("    position",function(){p(xt)}),pt("    positionSelfEdges",function(){!function Yt(xt){u.forEach(xt.nodes(),function(pt){var Nt=xt.node(pt);if("selfedge"===Nt.dummy){var Jt=xt.node(Nt.e.v),ge=Jt.x+Jt.width/2,_e=Jt.y,Te=Nt.x-ge,Ze=Jt.height/2;xt.setEdge(Nt.e,Nt.label),xt.removeNode(pt),Nt.label.points=[{x:ge+2*Te/3,y:_e-Ze},{x:ge+5*Te/6,y:_e-Ze},{x:ge+Te,y:_e},{x:ge+5*Te/6,y:_e+Ze},{x:ge+2*Te/3,y:_e+Ze}],Nt.label.x=Nt.x,Nt.label.y=Nt.y}})}(xt)}),pt("    removeBorderNodes",function(){!function ft(xt){u.forEach(xt.nodes(),function(pt){if(xt.children(pt).length){var Nt=xt.node(pt),Jt=xt.node(Nt.borderTop),ge=xt.node(Nt.borderBottom),_e=xt.node(u.last(Nt.borderLeft)),Te=xt.node(u.last(Nt.borderRight));Nt.width=Math.abs(Te.x-_e.x),Nt.height=Math.abs(ge.y-Jt.y),Nt.x=_e.x+Nt.width/2,Nt.y=Jt.y+Nt.height/2}}),u.forEach(xt.nodes(),function(pt){"border"===xt.node(pt).dummy&&xt.removeNode(pt)})}(xt)}),pt("    normalize.undo",function(){v.undo(xt)}),pt("    fixupEdgeLabelCoords",function(){!function G(xt){u.forEach(xt.edges(),function(pt){var Nt=xt.edge(pt);if(u.has(Nt,"x"))switch(("l"===Nt.labelpos||"r"===Nt.labelpos)&&(Nt.width-=Nt.labeloffset),Nt.labelpos){case"l":Nt.x-=Nt.width/2+Nt.labeloffset;break;case"r":Nt.x+=Nt.width/2+Nt.labeloffset}})}(xt)}),pt("    undoCoordinateSystem",function(){g.undo(xt)}),pt("    translateGraph",function(){!function ut(xt){var pt=Number.POSITIVE_INFINITY,Nt=0,Jt=Number.POSITIVE_INFINITY,ge=0,_e=xt.graph(),Te=_e.marginx||0,Ze=_e.marginy||0;function yn(Pe){var mn=Pe.x,Ve=Pe.y,kn=Pe.width,de=Pe.height;pt=Math.min(pt,mn-kn/2),Nt=Math.max(Nt,mn+kn/2),Jt=Math.min(Jt,Ve-de/2),ge=Math.max(ge,Ve+de/2)}u.forEach(xt.nodes(),function(Pe){yn(xt.node(Pe))}),u.forEach(xt.edges(),function(Pe){var mn=xt.edge(Pe);u.has(mn,"x")&&yn(mn)}),pt-=Te,Jt-=Ze,u.forEach(xt.nodes(),function(Pe){var mn=xt.node(Pe);mn.x-=pt,mn.y-=Jt}),u.forEach(xt.edges(),function(Pe){var mn=xt.edge(Pe);u.forEach(mn.points,function(Ve){Ve.x-=pt,Ve.y-=Jt}),u.has(mn,"x")&&(mn.x-=pt),u.has(mn,"y")&&(mn.y-=Jt)}),_e.width=Nt-pt+Te,_e.height=ge-Jt+Ze}(xt)}),pt("    assignNodeIntersects",function(){!function it(xt){u.forEach(xt.edges(),function(pt){var _e,Te,Nt=xt.edge(pt),Jt=xt.node(pt.v),ge=xt.node(pt.w);Nt.points?(_e=Nt.points[0],Te=Nt.points[Nt.points.length-1]):(Nt.points=[],_e=ge,Te=Jt),Nt.points.unshift(C.intersectRect(Jt,_e)),Nt.points.push(C.intersectRect(ge,Te))})}(xt)}),pt("    reversePoints",function(){!function M(xt){u.forEach(xt.edges(),function(pt){var Nt=xt.edge(pt);Nt.reversed&&Nt.points.reverse()})}(xt)}),pt("    acyclic.undo",function(){x.undo(xt)})}(Jt,Nt)}),Nt("  updateInputGraph",function(){!function P(xt,pt){u.forEach(xt.nodes(),function(Nt){var Jt=xt.node(Nt),ge=pt.node(Nt);Jt&&(Jt.x=ge.x,Jt.y=ge.y,pt.children(Nt).length&&(Jt.width=ge.width,Jt.height=ge.height))}),u.forEach(xt.edges(),function(Nt){var Jt=xt.edge(Nt),ge=pt.edge(Nt);Jt.points=ge.points,u.has(ge,"x")&&(Jt.x=ge.x,Jt.y=ge.y)}),xt.graph().width=pt.graph().width,xt.graph().height=pt.graph().height}(xt,Jt)})})};var R=["nodesep","edgesep","ranksep","marginx","marginy"],Z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],z=["width","height"],tt={width:0,height:0},rt=["minlen","weight","width","height","labeloffset"],ot={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},J=["labelpos"];function ie(xt,pt){return u.mapValues(u.pick(xt,pt),Number)}function Ut(xt){var pt={};return u.forEach(xt,function(Nt,Jt){pt[Jt.toLowerCase()]=Nt}),pt}},45760:(w,k,o)=>{var u;try{u={cloneDeep:o(90733),constant:o(76684),defaults:o(28800),each:o(35474),filter:o(35281),find:o(62516),flatten:o(22274),forEach:o(89851),forIn:o(41176),has:o(54842),isUndefined:o(34235),last:o(25809),map:o(19984),mapValues:o(10203),max:o(18176),merge:o(80567),min:o(29439),minBy:o(29525),now:o(31710),pick:o(16372),range:o(90361),reduce:o(81337),sortBy:o(12906),uniqueId:o(51541),values:o(90377),zipObject:o(21617)}}catch(x){}u||(u=window._),w.exports=u},1230:(w,k,o)=>{var u=o(45760),x=o(11510);function _(c,h,g,d,p,C,A){var L=c.children(A);if(L.length){var N=x.addBorderNode(c,"_bt"),P=x.addBorderNode(c,"_bb"),R=c.node(A);c.setParent(N,A),R.borderTop=N,c.setParent(P,A),R.borderBottom=P,u.forEach(L,function(Z){_(c,h,g,d,p,C,Z);var H=c.node(Z),z=H.borderTop?H.borderTop:Z,tt=H.borderBottom?H.borderBottom:Z,rt=H.borderTop?d:2*d,ot=z!==tt?1:p-C[A]+1;c.setEdge(N,z,{weight:rt,minlen:ot,nestingEdge:!0}),c.setEdge(tt,P,{weight:rt,minlen:ot,nestingEdge:!0})}),c.parent(A)||c.setEdge(h,N,{weight:0,minlen:p+C[A]})}else A!==h&&c.setEdge(h,A,{weight:0,minlen:g})}w.exports={run:function v(c){var h=x.addDummyNode(c,"root",{},"_root"),g=function m(c){var h={};function g(d,p){var C=c.children(d);C&&C.length&&u.forEach(C,function(A){g(A,p+1)}),h[d]=p}return u.forEach(c.children(),function(d){g(d,1)}),h}(c),d=u.max(u.values(g))-1,p=2*d+1;c.graph().nestingRoot=h,u.forEach(c.edges(),function(A){c.edge(A).minlen*=p});var C=function l(c){return u.reduce(c.edges(),function(h,g){return h+c.edge(g).weight},0)}(c)+1;u.forEach(c.children(),function(A){_(c,h,p,C,d,g,A)}),c.graph().nodeRankFactor=p},cleanup:function t(c){var h=c.graph();c.removeNode(h.nestingRoot),delete h.nestingRoot,u.forEach(c.edges(),function(g){c.edge(g).nestingEdge&&c.removeEdge(g)})}}},91496:(w,k,o)=>{"use strict";var u=o(45760),x=o(11510);w.exports={run:function v(l){l.graph().dummyChains=[],u.forEach(l.edges(),function(t){!function _(l,t){var c=t.v,h=l.node(c).rank,g=t.w,d=l.node(g).rank,p=t.name,C=l.edge(t),A=C.labelRank;if(d!==h+1){var L,N,P;for(l.removeEdge(t),P=0,++h;h<d;++P,++h)C.points=[],L=x.addDummyNode(l,"edge",N={width:0,height:0,edgeLabel:C,edgeObj:t,rank:h},"_d"),h===A&&(N.width=C.width,N.height=C.height,N.dummy="edge-label",N.labelpos=C.labelpos),l.setEdge(c,L,{weight:C.weight},p),0===P&&l.graph().dummyChains.push(L),c=L;l.setEdge(c,g,{weight:C.weight},p)}}(l,t)})},undo:function m(l){u.forEach(l.graph().dummyChains,function(t){var g,c=l.node(t),h=c.edgeLabel;for(l.setEdge(c.edgeObj,h);c.dummy;)g=l.successors(t)[0],l.removeNode(t),h.points.push({x:c.x,y:c.y}),"edge-label"===c.dummy&&(h.x=c.x,h.y=c.y,h.width=c.width,h.height=c.height),c=l.node(t=g)})}}},33034:(w,k,o)=>{var u=o(45760);w.exports=function x(v,_,m){var t,l={};u.forEach(m,function(c){for(var g,d,h=v.parent(c);h;){if((g=v.parent(h))?(d=l[g],l[g]=h):(d=t,t=h),d&&d!==h)return void _.setEdge(d,h);h=g}})}},81323:(w,k,o)=>{var u=o(45760);w.exports=function x(v,_){return u.map(_,function(m){var l=v.inEdges(m);if(l.length){var t=u.reduce(l,function(c,h){var g=v.edge(h),d=v.node(h.v);return{sum:c.sum+g.weight*d.order,weight:c.weight+g.weight}},{sum:0,weight:0});return{v:m,barycenter:t.sum/t.weight,weight:t.weight}}return{v:m}})}},1686:(w,k,o)=>{var u=o(45760),x=o(36456).Graph;w.exports=function v(m,l,t){var c=function _(m){for(var l;m.hasNode(l=u.uniqueId("_root")););return l}(m),h=new x({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(function(g){return m.node(g)});return u.forEach(m.nodes(),function(g){var d=m.node(g),p=m.parent(g);(d.rank===l||d.minRank<=l&&l<=d.maxRank)&&(h.setNode(g),h.setParent(g,p||c),u.forEach(m[t](g),function(C){var A=C.v===g?C.w:C.v,L=h.edge(A,g),N=u.isUndefined(L)?0:L.weight;h.setEdge(A,g,{weight:m.edge(C).weight+N})}),u.has(d,"minRank")&&h.setNode(g,{borderLeft:d.borderLeft[l],borderRight:d.borderRight[l]}))}),h}},18796:(w,k,o)=>{"use strict";var u=o(45760);function v(_,m,l){for(var t=u.zipObject(l,u.map(l,function(C,A){return A})),c=u.flatten(u.map(m,function(C){return u.sortBy(u.map(_.outEdges(C),function(A){return{pos:t[A.w],weight:_.edge(A).weight}}),"pos")}),!0),h=1;h<l.length;)h<<=1;var g=2*h-1;h-=1;var d=u.map(new Array(g),function(){return 0}),p=0;return u.forEach(c.forEach(function(C){var A=C.pos+h;d[A]+=C.weight;for(var L=0;A>0;)A%2&&(L+=d[A+1]),d[A=A-1>>1]+=C.weight;p+=C.weight*L})),p}w.exports=function x(_,m){for(var l=0,t=1;t<m.length;++t)l+=v(_,m[t-1],m[t]);return l}},32974:(w,k,o)=>{"use strict";var u=o(45760),x=o(49402),v=o(18796),_=o(61057),m=o(1686),l=o(33034),t=o(36456).Graph,c=o(11510);function g(C,A,L){return u.map(A,function(N){return m(C,N,L)})}function d(C,A){var L=new t;u.forEach(C,function(N){var P=N.graph().root,R=_(N,P,L,A);u.forEach(R.vs,function(Z,H){N.node(Z).order=H}),l(N,L,R.vs)})}function p(C,A){u.forEach(A,function(L){u.forEach(L,function(N,P){C.node(N).order=P})})}w.exports=function h(C){var A=c.maxRank(C),L=g(C,u.range(1,A+1),"inEdges"),N=g(C,u.range(A-1,-1,-1),"outEdges"),P=x(C);p(C,P);for(var Z,R=Number.POSITIVE_INFINITY,H=0,z=0;z<4;++H,++z){d(H%2?L:N,H%4>=2),P=c.buildLayerMatrix(C);var tt=v(C,P);tt<R&&(z=0,Z=u.cloneDeep(P),R=tt)}p(C,Z)}},49402:(w,k,o)=>{"use strict";var u=o(45760);w.exports=function x(v){var _={},m=u.filter(v.nodes(),function(g){return!v.children(g).length}),l=u.max(u.map(m,function(g){return v.node(g).rank})),t=u.map(u.range(l+1),function(){return[]}),h=u.sortBy(m,function(g){return v.node(g).rank});return u.forEach(h,function c(g){if(!u.has(_,g)){_[g]=!0;var d=v.node(g);t[d.rank].push(g),u.forEach(v.successors(g),c)}}),t}},83826:(w,k,o)=>{"use strict";var u=o(45760);w.exports=function x(m,l){var t={};return u.forEach(m,function(h,g){var d=t[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:g};u.isUndefined(h.barycenter)||(d.barycenter=h.barycenter,d.weight=h.weight)}),u.forEach(l.edges(),function(h){var g=t[h.v],d=t[h.w];!u.isUndefined(g)&&!u.isUndefined(d)&&(d.indegree++,g.out.push(t[h.w]))}),function v(m){var l=[];function t(g){return function(d){d.merged||(u.isUndefined(d.barycenter)||u.isUndefined(g.barycenter)||d.barycenter>=g.barycenter)&&function _(m,l){var t=0,c=0;m.weight&&(t+=m.barycenter*m.weight,c+=m.weight),l.weight&&(t+=l.barycenter*l.weight,c+=l.weight),m.vs=l.vs.concat(m.vs),m.barycenter=t/c,m.weight=c,m.i=Math.min(l.i,m.i),l.merged=!0}(g,d)}}function c(g){return function(d){d.in.push(g),0==--d.indegree&&m.push(d)}}for(;m.length;){var h=m.pop();l.push(h),u.forEach(h.in.reverse(),t(h)),u.forEach(h.out,c(h))}return u.map(u.filter(l,function(g){return!g.merged}),function(g){return u.pick(g,["vs","i","barycenter","weight"])})}(u.filter(t,function(h){return!h.indegree}))}},61057:(w,k,o)=>{var u=o(45760),x=o(81323),v=o(83826),_=o(93803);w.exports=function m(c,h,g,d){var p=c.children(h),C=c.node(h),A=C?C.borderLeft:void 0,L=C?C.borderRight:void 0,N={};A&&(p=u.filter(p,function(tt){return tt!==A&&tt!==L}));var P=x(c,p);u.forEach(P,function(tt){if(c.children(tt.v).length){var rt=m(c,tt.v,g,d);N[tt.v]=rt,u.has(rt,"barycenter")&&function t(c,h){u.isUndefined(c.barycenter)?(c.barycenter=h.barycenter,c.weight=h.weight):(c.barycenter=(c.barycenter*c.weight+h.barycenter*h.weight)/(c.weight+h.weight),c.weight+=h.weight)}(tt,rt)}});var R=v(P,g);!function l(c,h){u.forEach(c,function(g){g.vs=u.flatten(g.vs.map(function(d){return h[d]?h[d].vs:d}),!0)})}(R,N);var Z=_(R,d);if(A&&(Z.vs=u.flatten([A,Z.vs,L],!0),c.predecessors(A).length)){var H=c.node(c.predecessors(A)[0]),z=c.node(c.predecessors(L)[0]);u.has(Z,"barycenter")||(Z.barycenter=0,Z.weight=0),Z.barycenter=(Z.barycenter*Z.weight+H.order+z.order)/(Z.weight+2),Z.weight+=2}return Z}},93803:(w,k,o)=>{var u=o(45760),x=o(11510);function _(l,t,c){for(var h;t.length&&(h=u.last(t)).i<=c;)t.pop(),l.push(h.vs),c++;return c}w.exports=function v(l,t){var c=x.partition(l,function(N){return u.has(N,"barycenter")}),h=c.lhs,g=u.sortBy(c.rhs,function(N){return-N.i}),d=[],p=0,C=0,A=0;h.sort(function m(l){return function(t,c){return t.barycenter<c.barycenter?-1:t.barycenter>c.barycenter?1:l?c.i-t.i:t.i-c.i}}(!!t)),A=_(d,g,A),u.forEach(h,function(N){A+=N.vs.length,d.push(N.vs),p+=N.barycenter*N.weight,C+=N.weight,A=_(d,g,A)});var L={vs:u.flatten(d,!0)};return C&&(L.barycenter=p/C,L.weight=C),L}},60162:(w,k,o)=>{var u=o(45760);w.exports=function x(m){var l=function _(m){var l={},t=0;return u.forEach(m.children(),function c(h){var g=t;u.forEach(m.children(h),c),l[h]={low:g,lim:t++}}),l}(m);u.forEach(m.graph().dummyChains,function(t){for(var c=m.node(t),h=c.edgeObj,g=function v(m,l,t,c){var C,A,h=[],g=[],d=Math.min(l[t].low,l[c].low),p=Math.max(l[t].lim,l[c].lim);C=t;do{C=m.parent(C),h.push(C)}while(C&&(l[C].low>d||p>l[C].lim));for(A=C,C=c;(C=m.parent(C))!==A;)g.push(C);return{path:h.concat(g.reverse()),lca:A}}(m,l,h.v,h.w),d=g.path,p=g.lca,C=0,A=d[C],L=!0;t!==h.w;){if(c=m.node(t),L){for(;(A=d[C])!==p&&m.node(A).maxRank<c.rank;)C++;A===p&&(L=!1)}if(!L){for(;C<d.length-1&&m.node(A=d[C+1]).minRank<=c.rank;)C++;A=d[C]}m.setParent(t,A),t=m.successors(t)[0]}})}},54058:(w,k,o)=>{"use strict";var u=o(45760),x=o(36456).Graph,v=o(11510);function _(R,Z){var H={};return u.reduce(Z,function z(tt,rt){var ot=0,J=0,et=tt.length,q=u.last(rt);return u.forEach(rt,function(at,Y){var K=function l(R,Z){if(R.node(Z).dummy)return u.find(R.predecessors(Z),function(H){return R.node(H).dummy})}(R,at),ut=K?R.node(K).order:et;(K||at===q)&&(u.forEach(rt.slice(J,Y+1),function(it){u.forEach(R.predecessors(it),function(G){var M=R.node(G),ft=M.order;(ft<ot||ut<ft)&&(!M.dummy||!R.node(it).dummy)&&t(H,G,it)})}),J=Y+1,ot=ut)}),rt}),H}function m(R,Z){var H={};function z(rt,ot,J,et,q){var at;u.forEach(u.range(ot,J),function(Y){R.node(at=rt[Y]).dummy&&u.forEach(R.predecessors(at),function(K){var ut=R.node(K);ut.dummy&&(ut.order<et||ut.order>q)&&t(H,K,at)})})}return u.reduce(Z,function tt(rt,ot){var et,J=-1,q=0;return u.forEach(ot,function(at,Y){if("border"===R.node(at).dummy){var K=R.predecessors(at);K.length&&(et=R.node(K[0]).order,z(ot,q,Y,J,et),q=Y,J=et)}z(ot,q,ot.length,et,rt.length)}),ot}),H}function t(R,Z,H){if(Z>H){var z=Z;Z=H,H=z}var tt=R[Z];tt||(R[Z]=tt={}),tt[H]=!0}function c(R,Z,H){if(Z>H){var z=Z;Z=H,H=z}return u.has(R[Z],H)}function h(R,Z,H,z){var tt={},rt={},ot={};return u.forEach(Z,function(J){u.forEach(J,function(et,q){tt[et]=et,rt[et]=et,ot[et]=q})}),u.forEach(Z,function(J){var et=-1;u.forEach(J,function(q){var at=z(q);if(at.length)for(var Y=((at=u.sortBy(at,function(G){return ot[G]})).length-1)/2,K=Math.floor(Y),ut=Math.ceil(Y);K<=ut;++K){var it=at[K];rt[q]===q&&et<ot[it]&&!c(H,q,it)&&(rt[it]=q,rt[q]=tt[q]=tt[it],et=ot[it])}})}),{root:tt,align:rt}}function g(R,Z,H,z,tt){var rt={},ot=function d(R,Z,H,z){var tt=new x,rt=R.graph(),ot=function N(R,Z,H){return function(z,tt,rt){var q,ot=z.node(tt),J=z.node(rt),et=0;if(et+=ot.width/2,u.has(ot,"labelpos"))switch(ot.labelpos.toLowerCase()){case"l":q=-ot.width/2;break;case"r":q=ot.width/2}if(q&&(et+=H?q:-q),q=0,et+=(ot.dummy?Z:R)/2,et+=(J.dummy?Z:R)/2,et+=J.width/2,u.has(J,"labelpos"))switch(J.labelpos.toLowerCase()){case"l":q=J.width/2;break;case"r":q=-J.width/2}return q&&(et+=H?q:-q),q=0,et}}(rt.nodesep,rt.edgesep,z);return u.forEach(Z,function(J){var et;u.forEach(J,function(q){var at=H[q];if(tt.setNode(at),et){var Y=H[et],K=tt.edge(Y,at);tt.setEdge(Y,at,Math.max(ot(R,q,et),K||0))}et=q})}),tt}(R,Z,H,tt),J=tt?"borderLeft":"borderRight";function et(Y,K){for(var ut=ot.nodes(),it=ut.pop(),G={};it;)G[it]?Y(it):(G[it]=!0,ut.push(it),ut=ut.concat(K(it))),it=ut.pop()}return et(function q(Y){rt[Y]=ot.inEdges(Y).reduce(function(K,ut){return Math.max(K,rt[ut.v]+ot.edge(ut))},0)},ot.predecessors.bind(ot)),et(function at(Y){var K=ot.outEdges(Y).reduce(function(it,G){return Math.min(it,rt[G.w]-ot.edge(G))},Number.POSITIVE_INFINITY),ut=R.node(Y);K!==Number.POSITIVE_INFINITY&&ut.borderType!==J&&(rt[Y]=Math.max(rt[Y],K))},ot.successors.bind(ot)),u.forEach(z,function(Y){rt[Y]=rt[H[Y]]}),rt}function p(R,Z){return u.minBy(u.values(Z),function(H){var z=Number.NEGATIVE_INFINITY,tt=Number.POSITIVE_INFINITY;return u.forIn(H,function(rt,ot){var J=function P(R,Z){return R.node(Z).width}(R,ot)/2;z=Math.max(rt+J,z),tt=Math.min(rt-J,tt)}),z-tt})}function C(R,Z){var H=u.values(Z),z=u.min(H),tt=u.max(H);u.forEach(["u","d"],function(rt){u.forEach(["l","r"],function(ot){var q,J=rt+ot,et=R[J];if(et!==Z){var at=u.values(et);(q="l"===ot?z-u.min(at):tt-u.max(at))&&(R[J]=u.mapValues(et,function(Y){return Y+q}))}})})}function A(R,Z){return u.mapValues(R.ul,function(H,z){if(Z)return R[Z.toLowerCase()][z];var tt=u.sortBy(u.map(R,z));return(tt[1]+tt[2])/2})}w.exports={positionX:function L(R){var tt,Z=v.buildLayerMatrix(R),H=u.merge(_(R,Z),m(R,Z)),z={};u.forEach(["u","d"],function(ot){tt="u"===ot?Z:u.values(Z).reverse(),u.forEach(["l","r"],function(J){"r"===J&&(tt=u.map(tt,function(Y){return u.values(Y).reverse()}));var et=("u"===ot?R.predecessors:R.successors).bind(R),q=h(0,tt,H,et),at=g(R,tt,q.root,q.align,"r"===J);"r"===J&&(at=u.mapValues(at,function(Y){return-Y})),z[ot+J]=at})});var rt=p(R,z);return C(z,rt),A(z,R.graph().align)},findType1Conflicts:_,findType2Conflicts:m,addConflict:t,hasConflict:c,verticalAlignment:h,horizontalCompaction:g,alignCoordinates:C,findSmallestWidthAlignment:p,balance:A}},78226:(w,k,o)=>{"use strict";var u=o(45760),x=o(11510),v=o(54058).positionX;w.exports=function _(l){(function m(l){var t=x.buildLayerMatrix(l),c=l.graph().ranksep,h=0;u.forEach(t,function(g){var d=u.max(u.map(g,function(p){return l.node(p).height}));u.forEach(g,function(p){l.node(p).y=h+d/2}),h+=d+c})})(l=x.asNonCompoundGraph(l)),u.forEach(v(l),function(t,c){l.node(c).x=t})}},96632:(w,k,o)=>{"use strict";var u=o(45760),x=o(36456).Graph,v=o(1916).slack;function m(c,h){return u.forEach(c.nodes(),function g(d){u.forEach(h.nodeEdges(d),function(p){var C=p.v,A=d===C?p.w:C;!c.hasNode(A)&&!v(h,p)&&(c.setNode(A,{}),c.setEdge(d,A,{}),g(A))})}),c.nodeCount()}function l(c,h){return u.minBy(h.edges(),function(g){if(c.hasNode(g.v)!==c.hasNode(g.w))return v(h,g)})}function t(c,h,g){u.forEach(c.nodes(),function(d){h.node(d).rank+=g})}w.exports=function _(c){var p,C,h=new x({directed:!1}),g=c.nodes()[0],d=c.nodeCount();for(h.setNode(g,{});m(h,c)<d;)p=l(h,c),C=h.hasNode(p.v)?v(c,p):-v(c,p),t(h,c,C);return h}},94124:(w,k,o)=>{"use strict";var x=o(1916).longestPath,v=o(96632),_=o(63804);w.exports=function m(h){switch(h.graph().ranker){case"network-simplex":default:!function c(h){_(h)}(h);break;case"tight-tree":!function t(h){x(h),v(h)}(h);break;case"longest-path":l(h)}};var l=x},63804:(w,k,o)=>{"use strict";var u=o(45760),x=o(96632),v=o(1916).slack,_=o(1916).longestPath,m=o(36456).alg.preorder,l=o(36456).alg.postorder,t=o(11510).simplify;function c(H){H=t(H),_(H);var tt,z=x(H);for(p(z),h(z,H);tt=A(z);)N(z,H,tt,L(z,H,tt))}function h(H,z){var tt=l(H,H.nodes());tt=tt.slice(0,tt.length-1),u.forEach(tt,function(rt){!function g(H,z,tt){var rt=H.node(tt);H.edge(tt,rt.parent).cutvalue=d(H,z,tt)}(H,z,rt)})}function d(H,z,tt){var ot=H.node(tt).parent,J=!0,et=z.edge(tt,ot),q=0;return et||(J=!1,et=z.edge(ot,tt)),q=et.weight,u.forEach(z.nodeEdges(tt),function(at){var Y=at.v===tt,K=Y?at.w:at.v;if(K!==ot){var ut=Y===J,it=z.edge(at).weight;if(q+=ut?it:-it,function R(H,z,tt){return H.hasEdge(z,tt)}(H,tt,K)){var G=H.edge(tt,K).cutvalue;q+=ut?-G:G}}}),q}function p(H,z){arguments.length<2&&(z=H.nodes()[0]),C(H,{},1,z)}function C(H,z,tt,rt,ot){var J=tt,et=H.node(rt);return z[rt]=!0,u.forEach(H.neighbors(rt),function(q){u.has(z,q)||(tt=C(H,z,tt,q,rt))}),et.low=J,et.lim=tt++,ot?et.parent=ot:delete et.parent,tt}function A(H){return u.find(H.edges(),function(z){return H.edge(z).cutvalue<0})}function L(H,z,tt){var rt=tt.v,ot=tt.w;z.hasEdge(rt,ot)||(rt=tt.w,ot=tt.v);var J=H.node(rt),et=H.node(ot),q=J,at=!1;J.lim>et.lim&&(q=et,at=!0);var Y=u.filter(z.edges(),function(K){return at===Z(0,H.node(K.v),q)&&at!==Z(0,H.node(K.w),q)});return u.minBy(Y,function(K){return v(z,K)})}function N(H,z,tt,rt){H.removeEdge(tt.v,tt.w),H.setEdge(rt.v,rt.w,{}),p(H),h(H,z),function P(H,z){var tt=u.find(H.nodes(),function(ot){return!z.node(ot).parent}),rt=m(H,tt);rt=rt.slice(1),u.forEach(rt,function(ot){var J=H.node(ot).parent,et=z.edge(ot,J),q=!1;et||(et=z.edge(J,ot),q=!0),z.node(ot).rank=z.node(J).rank+(q?et.minlen:-et.minlen)})}(H,z)}function Z(H,z,tt){return tt.low<=z.lim&&z.lim<=tt.lim}w.exports=c,c.initLowLimValues=p,c.initCutValues=h,c.calcCutValue=d,c.leaveEdge=A,c.enterEdge=L,c.exchangeEdges=N},1916:(w,k,o)=>{"use strict";var u=o(45760);w.exports={longestPath:function x(_){var m={};u.forEach(_.sources(),function l(t){var c=_.node(t);if(u.has(m,t))return c.rank;m[t]=!0;var h=u.min(u.map(_.outEdges(t),function(g){return l(g.w)-_.edge(g).minlen}));return(h===Number.POSITIVE_INFINITY||null==h)&&(h=0),c.rank=h})},slack:function v(_,m){return _.node(m.w).rank-_.node(m.v).rank-_.edge(m).minlen}}},11510:(w,k,o)=>{"use strict";var u=o(45760),x=o(36456).Graph;function v(P,R,Z,H){var z;do{z=u.uniqueId(H)}while(P.hasNode(z));return Z.dummy=R,P.setNode(z,Z),z}function C(P){return u.max(u.map(P.nodes(),function(R){var Z=P.node(R).rank;if(!u.isUndefined(Z))return Z}))}w.exports={addDummyNode:v,simplify:function _(P){var R=(new x).setGraph(P.graph());return u.forEach(P.nodes(),function(Z){R.setNode(Z,P.node(Z))}),u.forEach(P.edges(),function(Z){var H=R.edge(Z.v,Z.w)||{weight:0,minlen:1},z=P.edge(Z);R.setEdge(Z.v,Z.w,{weight:H.weight+z.weight,minlen:Math.max(H.minlen,z.minlen)})}),R},asNonCompoundGraph:function m(P){var R=new x({multigraph:P.isMultigraph()}).setGraph(P.graph());return u.forEach(P.nodes(),function(Z){P.children(Z).length||R.setNode(Z,P.node(Z))}),u.forEach(P.edges(),function(Z){R.setEdge(Z,P.edge(Z))}),R},successorWeights:function l(P){var R=u.map(P.nodes(),function(Z){var H={};return u.forEach(P.outEdges(Z),function(z){H[z.w]=(H[z.w]||0)+P.edge(z).weight}),H});return u.zipObject(P.nodes(),R)},predecessorWeights:function t(P){var R=u.map(P.nodes(),function(Z){var H={};return u.forEach(P.inEdges(Z),function(z){H[z.v]=(H[z.v]||0)+P.edge(z).weight}),H});return u.zipObject(P.nodes(),R)},intersectRect:function c(P,R){var J,et,Z=P.x,H=P.y,z=R.x-Z,tt=R.y-H,rt=P.width/2,ot=P.height/2;if(!z&&!tt)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(tt)*rt>Math.abs(z)*ot?(tt<0&&(ot=-ot),J=ot*z/tt,et=ot):(z<0&&(rt=-rt),J=rt,et=rt*tt/z),{x:Z+J,y:H+et}},buildLayerMatrix:function h(P){var R=u.map(u.range(C(P)+1),function(){return[]});return u.forEach(P.nodes(),function(Z){var H=P.node(Z),z=H.rank;u.isUndefined(z)||(R[z][H.order]=Z)}),R},normalizeRanks:function g(P){var R=u.min(u.map(P.nodes(),function(Z){return P.node(Z).rank}));u.forEach(P.nodes(),function(Z){var H=P.node(Z);u.has(H,"rank")&&(H.rank-=R)})},removeEmptyRanks:function d(P){var R=u.min(u.map(P.nodes(),function(tt){return P.node(tt).rank})),Z=[];u.forEach(P.nodes(),function(tt){var rt=P.node(tt).rank-R;Z[rt]||(Z[rt]=[]),Z[rt].push(tt)});var H=0,z=P.graph().nodeRankFactor;u.forEach(Z,function(tt,rt){u.isUndefined(tt)&&rt%z!=0?--H:H&&u.forEach(tt,function(ot){P.node(ot).rank+=H})})},addBorderNode:function p(P,R,Z,H){var z={width:0,height:0};return arguments.length>=4&&(z.rank=Z,z.order=H),v(P,"border",z,R)},maxRank:C,partition:function A(P,R){var Z={lhs:[],rhs:[]};return u.forEach(P,function(H){R(H)?Z.lhs.push(H):Z.rhs.push(H)}),Z},time:function L(P,R){var Z=u.now();try{return R()}finally{console.log(P+" time: "+(u.now()-Z)+"ms")}},notime:function N(P,R){return R()}}},28126:w=>{w.exports="0.8.5"},85510:(w,k,o)=>{var u=o(51838);w.exports={Graph:u.Graph,json:o(21088),alg:o(83430),version:u.version}},86730:(w,k,o)=>{var u=o(79138);w.exports=function x(v){var l,_={},m=[];function t(c){u.has(_,c)||(_[c]=!0,l.push(c),u.each(v.successors(c),t),u.each(v.predecessors(c),t))}return u.each(v.nodes(),function(c){l=[],t(c),l.length&&m.push(l)}),m}},22163:(w,k,o)=>{var u=o(79138);function v(_,m,l,t,c,h){u.has(t,m)||(t[m]=!0,l||h.push(m),u.each(c(m),function(g){v(_,g,l,t,c,h)}),l&&h.push(m))}w.exports=function x(_,m,l){u.isArray(m)||(m=[m]);var t=(_.isDirected()?_.successors:_.neighbors).bind(_),c=[],h={};return u.each(m,function(g){if(!_.hasNode(g))throw new Error("Graph does not have node: "+g);v(_,g,"post"===l,h,t,c)}),c}},25668:(w,k,o)=>{var u=o(61718),x=o(79138);w.exports=function v(_,m,l){return x.transform(_.nodes(),function(t,c){t[c]=u(_,c,m,l)},{})}},61718:(w,k,o)=>{var u=o(79138),x=o(31919);w.exports=function _(l,t,c,h){return function m(l,t,c,h){var p,C,g={},d=new x,A=function(L){var N=L.v!==p?L.v:L.w,P=g[N],R=c(L),Z=C.distance+R;if(R<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+L+" Weight: "+R);Z<P.distance&&(P.distance=Z,P.predecessor=p,d.decrease(N,Z))};for(l.nodes().forEach(function(L){var N=L===t?0:Number.POSITIVE_INFINITY;g[L]={distance:N},d.add(L,N)});d.size()>0&&(p=d.removeMin(),(C=g[p]).distance!==Number.POSITIVE_INFINITY);)h(p).forEach(A);return g}(l,String(t),c||v,h||function(g){return l.outEdges(g)})};var v=u.constant(1)},9611:(w,k,o)=>{var u=o(79138),x=o(73585);w.exports=function v(_){return u.filter(x(_),function(m){return m.length>1||1===m.length&&_.hasEdge(m[0],m[0])})}},22881:(w,k,o)=>{var u=o(79138);w.exports=function v(m,l,t){return function _(m,l,t){var c={},h=m.nodes();return h.forEach(function(g){c[g]={},c[g][g]={distance:0},h.forEach(function(d){g!==d&&(c[g][d]={distance:Number.POSITIVE_INFINITY})}),t(g).forEach(function(d){var p=d.v===g?d.w:d.v,C=l(d);c[g][p]={distance:C,predecessor:g}})}),h.forEach(function(g){var d=c[g];h.forEach(function(p){var C=c[p];h.forEach(function(A){var N=d[A],P=C[A],R=C[g].distance+N.distance;R<P.distance&&(P.distance=R,P.predecessor=N.predecessor)})})}),c}(m,l||x,t||function(c){return m.outEdges(c)})};var x=u.constant(1)},83430:(w,k,o)=>{w.exports={components:o(86730),dijkstra:o(61718),dijkstraAll:o(25668),findCycles:o(9611),floydWarshall:o(22881),isAcyclic:o(46693),postorder:o(46694),preorder:o(5330),prim:o(46823),tarjan:o(73585),topsort:o(52180)}},46693:(w,k,o)=>{var u=o(52180);w.exports=function x(v){try{u(v)}catch(_){if(_ instanceof u.CycleException)return!1;throw _}return!0}},46694:(w,k,o)=>{var u=o(22163);w.exports=function x(v,_){return u(v,_,"post")}},5330:(w,k,o)=>{var u=o(22163);w.exports=function x(v,_){return u(v,_,"pre")}},46823:(w,k,o)=>{var u=o(79138),x=o(66568),v=o(31919);w.exports=function _(m,l){var g,t=new x,c={},h=new v;function d(C){var A=C.v===g?C.w:C.v,L=h.priority(A);if(void 0!==L){var N=l(C);N<L&&(c[A]=g,h.decrease(A,N))}}if(0===m.nodeCount())return t;u.each(m.nodes(),function(C){h.add(C,Number.POSITIVE_INFINITY),t.setNode(C)}),h.decrease(m.nodes()[0],0);for(var p=!1;h.size()>0;){if(g=h.removeMin(),u.has(c,g))t.setEdge(g,c[g]);else{if(p)throw new Error("Input graph is not connected: "+m);p=!0}m.nodeEdges(g).forEach(d)}return t}},73585:(w,k,o)=>{var u=o(79138);w.exports=function x(v){var _=0,m=[],l={},t=[];function c(h){var g=l[h]={onStack:!0,lowlink:_,index:_++};if(m.push(h),v.successors(h).forEach(function(C){u.has(l,C)?l[C].onStack&&(g.lowlink=Math.min(g.lowlink,l[C].index)):(c(C),g.lowlink=Math.min(g.lowlink,l[C].lowlink))}),g.lowlink===g.index){var p,d=[];do{p=m.pop(),l[p].onStack=!1,d.push(p)}while(h!==p);t.push(d)}}return v.nodes().forEach(function(h){u.has(l,h)||c(h)}),t}},52180:(w,k,o)=>{var u=o(79138);function x(_){var m={},l={},t=[];if(u.each(_.sinks(),function c(h){if(u.has(l,h))throw new v;u.has(m,h)||(l[h]=!0,m[h]=!0,u.each(_.predecessors(h),c),delete l[h],t.push(h))}),u.size(m)!==_.nodeCount())throw new v;return t}function v(){}w.exports=x,x.CycleException=v,v.prototype=new Error},31919:(w,k,o)=>{var u=o(79138);function x(){this._arr=[],this._keyIndices={}}w.exports=x,x.prototype.size=function(){return this._arr.length},x.prototype.keys=function(){return this._arr.map(function(v){return v.key})},x.prototype.has=function(v){return u.has(this._keyIndices,v)},x.prototype.priority=function(v){var _=this._keyIndices[v];if(void 0!==_)return this._arr[_].priority},x.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},x.prototype.add=function(v,_){var m=this._keyIndices;if(v=String(v),!u.has(m,v)){var l=this._arr,t=l.length;return m[v]=t,l.push({key:v,priority:_}),this._decrease(t),!0}return!1},x.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},x.prototype.decrease=function(v,_){var m=this._keyIndices[v];if(_>this._arr[m].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[m].priority+" New: "+_);this._arr[m].priority=_,this._decrease(m)},x.prototype._heapify=function(v){var _=this._arr,m=2*v,l=m+1,t=v;m<_.length&&(t=_[m].priority<_[t].priority?m:t,l<_.length&&(t=_[l].priority<_[t].priority?l:t),t!==v&&(this._swap(v,t),this._heapify(t)))},x.prototype._decrease=function(v){for(var l,_=this._arr,m=_[v].priority;0!==v&&!(_[l=v>>1].priority<m);)this._swap(v,l),v=l},x.prototype._swap=function(v,_){var m=this._arr,l=this._keyIndices,t=m[v],c=m[_];m[v]=c,m[_]=t,l[c.key]=v,l[t.key]=_}},66568:(w,k,o)=>{"use strict";var u=o(79138);w.exports=m;var v="\0";function m(d){this._isDirected=!u.has(d,"directed")||d.directed,this._isMultigraph=!!u.has(d,"multigraph")&&d.multigraph,this._isCompound=!!u.has(d,"compound")&&d.compound,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[v]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(d,p){d[p]?d[p]++:d[p]=1}function t(d,p){--d[p]||delete d[p]}function c(d,p,C,A){var L=""+p,N=""+C;if(!d&&L>N){var P=L;L=N,N=P}return L+"\x01"+N+"\x01"+(u.isUndefined(A)?"\0":A)}function h(d,p,C,A){var L=""+p,N=""+C;if(!d&&L>N){var P=L;L=N,N=P}var R={v:L,w:N};return A&&(R.name=A),R}function g(d,p){return c(d,p.v,p.w,p.name)}m.prototype._nodeCount=0,m.prototype._edgeCount=0,m.prototype.isDirected=function(){return this._isDirected},m.prototype.isMultigraph=function(){return this._isMultigraph},m.prototype.isCompound=function(){return this._isCompound},m.prototype.setGraph=function(d){return this._label=d,this},m.prototype.graph=function(){return this._label},m.prototype.setDefaultNodeLabel=function(d){return u.isFunction(d)||(d=u.constant(d)),this._defaultNodeLabelFn=d,this},m.prototype.nodeCount=function(){return this._nodeCount},m.prototype.nodes=function(){return u.keys(this._nodes)},m.prototype.sources=function(){var d=this;return u.filter(this.nodes(),function(p){return u.isEmpty(d._in[p])})},m.prototype.sinks=function(){var d=this;return u.filter(this.nodes(),function(p){return u.isEmpty(d._out[p])})},m.prototype.setNodes=function(d,p){var C=arguments,A=this;return u.each(d,function(L){C.length>1?A.setNode(L,p):A.setNode(L)}),this},m.prototype.setNode=function(d,p){return u.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=p),this):(this._nodes[d]=arguments.length>1?p:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=v,this._children[d]={},this._children[v][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},m.prototype.node=function(d){return this._nodes[d]},m.prototype.hasNode=function(d){return u.has(this._nodes,d)},m.prototype.removeNode=function(d){var p=this;if(u.has(this._nodes,d)){var C=function(A){p.removeEdge(p._edgeObjs[A])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],u.each(this.children(d),function(A){p.setParent(A)}),delete this._children[d]),u.each(u.keys(this._in[d]),C),delete this._in[d],delete this._preds[d],u.each(u.keys(this._out[d]),C),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},m.prototype.setParent=function(d,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(p))p=v;else{for(var C=p+="";!u.isUndefined(C);C=this.parent(C))if(C===d)throw new Error("Setting "+p+" as parent of "+d+" would create a cycle");this.setNode(p)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=p,this._children[p][d]=!0,this},m.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},m.prototype.parent=function(d){if(this._isCompound){var p=this._parent[d];if(p!==v)return p}},m.prototype.children=function(d){if(u.isUndefined(d)&&(d=v),this._isCompound){var p=this._children[d];if(p)return u.keys(p)}else{if(d===v)return this.nodes();if(this.hasNode(d))return[]}},m.prototype.predecessors=function(d){var p=this._preds[d];if(p)return u.keys(p)},m.prototype.successors=function(d){var p=this._sucs[d];if(p)return u.keys(p)},m.prototype.neighbors=function(d){var p=this.predecessors(d);if(p)return u.union(p,this.successors(d))},m.prototype.isLeaf=function(d){return 0===(this.isDirected()?this.successors(d):this.neighbors(d)).length},m.prototype.filterNodes=function(d){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var C=this;u.each(this._nodes,function(N,P){d(P)&&p.setNode(P,N)}),u.each(this._edgeObjs,function(N){p.hasNode(N.v)&&p.hasNode(N.w)&&p.setEdge(N,C.edge(N))});var A={};function L(N){var P=C.parent(N);return void 0===P||p.hasNode(P)?(A[N]=P,P):P in A?A[P]:L(P)}return this._isCompound&&u.each(p.nodes(),function(N){p.setParent(N,L(N))}),p},m.prototype.setDefaultEdgeLabel=function(d){return u.isFunction(d)||(d=u.constant(d)),this._defaultEdgeLabelFn=d,this},m.prototype.edgeCount=function(){return this._edgeCount},m.prototype.edges=function(){return u.values(this._edgeObjs)},m.prototype.setPath=function(d,p){var C=this,A=arguments;return u.reduce(d,function(L,N){return A.length>1?C.setEdge(L,N,p):C.setEdge(L,N),N}),this},m.prototype.setEdge=function(){var d,p,C,A,L=!1,N=arguments[0];"object"==typeof N&&null!==N&&"v"in N?(d=N.v,p=N.w,C=N.name,2===arguments.length&&(A=arguments[1],L=!0)):(d=N,p=arguments[1],C=arguments[3],arguments.length>2&&(A=arguments[2],L=!0)),d=""+d,p=""+p,u.isUndefined(C)||(C=""+C);var P=c(this._isDirected,d,p,C);if(u.has(this._edgeLabels,P))return L&&(this._edgeLabels[P]=A),this;if(!u.isUndefined(C)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(p),this._edgeLabels[P]=L?A:this._defaultEdgeLabelFn(d,p,C);var R=h(this._isDirected,d,p,C);return d=R.v,p=R.w,Object.freeze(R),this._edgeObjs[P]=R,l(this._preds[p],d),l(this._sucs[d],p),this._in[p][P]=R,this._out[d][P]=R,this._edgeCount++,this},m.prototype.edge=function(d,p,C){var A=1===arguments.length?g(this._isDirected,arguments[0]):c(this._isDirected,d,p,C);return this._edgeLabels[A]},m.prototype.hasEdge=function(d,p,C){var A=1===arguments.length?g(this._isDirected,arguments[0]):c(this._isDirected,d,p,C);return u.has(this._edgeLabels,A)},m.prototype.removeEdge=function(d,p,C){var A=1===arguments.length?g(this._isDirected,arguments[0]):c(this._isDirected,d,p,C),L=this._edgeObjs[A];return L&&(d=L.v,p=L.w,delete this._edgeLabels[A],delete this._edgeObjs[A],t(this._preds[p],d),t(this._sucs[d],p),delete this._in[p][A],delete this._out[d][A],this._edgeCount--),this},m.prototype.inEdges=function(d,p){var C=this._in[d];if(C){var A=u.values(C);return p?u.filter(A,function(L){return L.v===p}):A}},m.prototype.outEdges=function(d,p){var C=this._out[d];if(C){var A=u.values(C);return p?u.filter(A,function(L){return L.w===p}):A}},m.prototype.nodeEdges=function(d,p){var C=this.inEdges(d,p);if(C)return C.concat(this.outEdges(d,p))}},51838:(w,k,o)=>{w.exports={Graph:o(66568),version:o(75089)}},21088:(w,k,o)=>{var u=o(79138),x=o(66568);function _(t){return u.map(t.nodes(),function(c){var h=t.node(c),g=t.parent(c),d={v:c};return u.isUndefined(h)||(d.value=h),u.isUndefined(g)||(d.parent=g),d})}function m(t){return u.map(t.edges(),function(c){var h=t.edge(c),g={v:c.v,w:c.w};return u.isUndefined(c.name)||(g.name=c.name),u.isUndefined(h)||(g.value=h),g})}w.exports={write:function v(t){var c={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:_(t),edges:m(t)};return u.isUndefined(t.graph())||(c.value=u.clone(t.graph())),c},read:function l(t){var c=new x(t.options).setGraph(t.value);return u.each(t.nodes,function(h){c.setNode(h.v,h.value),h.parent&&c.setParent(h.v,h.parent)}),u.each(t.edges,function(h){c.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),c}}},79138:(w,k,o)=>{var u;try{u={clone:o(11094),constant:o(76684),each:o(35474),filter:o(35281),has:o(54842),isArray:o(21503),isEmpty:o(71973),isFunction:o(75946),isUndefined:o(34235),keys:o(118),map:o(19984),reduce:o(81337),size:o(55637),transform:o(89416),union:o(68921),values:o(90377)}}catch(x){}u||(u=window._),w.exports=u},75089:w=>{w.exports="2.1.8"},40717:(w,k,o)=>{"use strict";var u=o(50623);function x(v){return!0===u(v)&&"[object Object]"===Object.prototype.toString.call(v)}w.exports=function(_){var m,l;return!(!1===x(_)||(m=_.constructor,"function"!=typeof m)||(l=m.prototype,!1===x(l))||!1===l.hasOwnProperty("isPrototypeOf"))}},50623:w=>{"use strict";w.exports=function(o){return null!=o&&"object"==typeof o&&!1===Array.isArray(o)}},52872:w=>{var k=Object.prototype.toString;function o(h){return"function"==typeof h.constructor?h.constructor.name:null}w.exports=function(g){if(void 0===g)return"undefined";if(null===g)return"null";var d=typeof g;if("boolean"===d)return"boolean";if("string"===d)return"string";if("number"===d)return"number";if("symbol"===d)return"symbol";if("function"===d)return function m(h,g){return"GeneratorFunction"===o(h)}(g)?"generatorfunction":"function";if(function u(h){return Array.isArray?Array.isArray(h):h instanceof Array}(g))return"array";if(function c(h){return!(!h.constructor||"function"!=typeof h.constructor.isBuffer)&&h.constructor.isBuffer(h)}(g))return"buffer";if(function t(h){try{if("number"==typeof h.length&&"function"==typeof h.callee)return!0}catch(g){if(-1!==g.message.indexOf("callee"))return!0}return!1}(g))return"arguments";if(function v(h){return h instanceof Date||"function"==typeof h.toDateString&&"function"==typeof h.getDate&&"function"==typeof h.setDate}(g))return"date";if(function x(h){return h instanceof Error||"string"==typeof h.message&&h.constructor&&"number"==typeof h.constructor.stackTraceLimit}(g))return"error";if(function _(h){return h instanceof RegExp||"string"==typeof h.flags&&"boolean"==typeof h.ignoreCase&&"boolean"==typeof h.multiline&&"boolean"==typeof h.global}(g))return"regexp";switch(o(g)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function l(h){return"function"==typeof h.throw&&"function"==typeof h.return&&"function"==typeof h.next}(g))return"generator";switch(d=k.call(g)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return d.slice(8,-1).toLowerCase().replace(/\s/g,"")}},37244:(w,k,o)=>{var v=o(53436)(o(12119),"DataView");w.exports=v},54994:(w,k,o)=>{var u=o(64312),x=o(46421),v=o(15764),_=o(18685),m=o(26676);function l(t){var c=-1,h=null==t?0:t.length;for(this.clear();++c<h;){var g=t[c];this.set(g[0],g[1])}}l.prototype.clear=u,l.prototype.delete=x,l.prototype.get=v,l.prototype.has=_,l.prototype.set=m,w.exports=l},9215:(w,k,o)=>{var u=o(41840),x=o(34378),v=o(54981),_=o(67343),m=o(98895);function l(t){var c=-1,h=null==t?0:t.length;for(this.clear();++c<h;){var g=t[c];this.set(g[0],g[1])}}l.prototype.clear=u,l.prototype.delete=x,l.prototype.get=v,l.prototype.has=_,l.prototype.set=m,w.exports=l},51501:(w,k,o)=>{var v=o(53436)(o(12119),"Map");w.exports=v},99850:(w,k,o)=>{var u=o(10638),x=o(11184),v=o(70866),_=o(43771),m=o(51772);function l(t){var c=-1,h=null==t?0:t.length;for(this.clear();++c<h;){var g=t[c];this.set(g[0],g[1])}}l.prototype.clear=u,l.prototype.delete=x,l.prototype.get=v,l.prototype.has=_,l.prototype.set=m,w.exports=l},44267:(w,k,o)=>{var v=o(53436)(o(12119),"Promise");w.exports=v},46323:(w,k,o)=>{var v=o(53436)(o(12119),"Set");w.exports=v},58849:(w,k,o)=>{var u=o(99850),x=o(4600),v=o(31387);function _(m){var l=-1,t=null==m?0:m.length;for(this.__data__=new u;++l<t;)this.add(m[l])}_.prototype.add=_.prototype.push=x,_.prototype.has=v,w.exports=_},2858:(w,k,o)=>{var u=o(9215),x=o(13720),v=o(64410),_=o(45576),m=o(22247),l=o(41585);function t(c){var h=this.__data__=new u(c);this.size=h.size}t.prototype.clear=x,t.prototype.delete=v,t.prototype.get=_,t.prototype.has=m,t.prototype.set=l,w.exports=t},60443:(w,k,o)=>{var u=o(12119);w.exports=u.Symbol},73457:(w,k,o)=>{var u=o(12119);w.exports=u.Uint8Array},24243:(w,k,o)=>{var v=o(53436)(o(12119),"WeakMap");w.exports=v},26999:w=>{w.exports=function k(o,u,x){switch(x.length){case 0:return o.call(u);case 1:return o.call(u,x[0]);case 2:return o.call(u,x[0],x[1]);case 3:return o.call(u,x[0],x[1],x[2])}return o.apply(u,x)}},96837:w=>{w.exports=function k(o,u){for(var x=-1,v=null==o?0:o.length;++x<v&&!1!==u(o[x],x,o););return o}},69779:w=>{w.exports=function k(o,u){for(var x=-1,v=null==o?0:o.length,_=0,m=[];++x<v;){var l=o[x];u(l,x,o)&&(m[_++]=l)}return m}},61253:(w,k,o)=>{var u=o(14164);w.exports=function x(v,_){return!(null==v||!v.length)&&u(v,_,0)>-1}},37609:w=>{w.exports=function k(o,u,x){for(var v=-1,_=null==o?0:o.length;++v<_;)if(x(u,o[v]))return!0;return!1}},72271:(w,k,o)=>{var u=o(85334),x=o(77151),v=o(21503),_=o(80891),m=o(58442),l=o(48159),c=Object.prototype.hasOwnProperty;w.exports=function h(g,d){var p=v(g),C=!p&&x(g),A=!p&&!C&&_(g),L=!p&&!C&&!A&&l(g),N=p||C||A||L,P=N?u(g.length,String):[],R=P.length;for(var Z in g)(d||c.call(g,Z))&&(!N||!("length"==Z||A&&("offset"==Z||"parent"==Z)||L&&("buffer"==Z||"byteLength"==Z||"byteOffset"==Z)||m(Z,R)))&&P.push(Z);return P}},84633:w=>{w.exports=function k(o,u){for(var x=-1,v=null==o?0:o.length,_=Array(v);++x<v;)_[x]=u(o[x],x,o);return _}},85059:w=>{w.exports=function k(o,u){for(var x=-1,v=u.length,_=o.length;++x<v;)o[_+x]=u[x];return o}},8745:w=>{w.exports=function k(o,u,x,v){var _=-1,m=null==o?0:o.length;for(v&&m&&(x=o[++_]);++_<m;)x=u(x,o[_],_,o);return x}},79503:w=>{w.exports=function k(o,u){for(var x=-1,v=null==o?0:o.length;++x<v;)if(u(o[x],x,o))return!0;return!1}},75481:(w,k,o)=>{var x=o(11847)("length");w.exports=x},49276:(w,k,o)=>{var u=o(85683),x=o(20217);w.exports=function v(_,m,l){(void 0!==l&&!x(_[m],l)||void 0===l&&!(m in _))&&u(_,m,l)}},89719:(w,k,o)=>{var u=o(85683),x=o(20217),_=Object.prototype.hasOwnProperty;w.exports=function m(l,t,c){var h=l[t];(!_.call(l,t)||!x(h,c)||void 0===c&&!(t in l))&&u(l,t,c)}},43503:(w,k,o)=>{var u=o(20217);w.exports=function x(v,_){for(var m=v.length;m--;)if(u(v[m][0],_))return m;return-1}},94121:(w,k,o)=>{var u=o(31989),x=o(118);w.exports=function v(_,m){return _&&u(m,x(m),_)}},99287:(w,k,o)=>{var u=o(31989),x=o(16555);w.exports=function v(_,m){return _&&u(m,x(m),_)}},85683:(w,k,o)=>{var u=o(56713);w.exports=function x(v,_,m){"__proto__"==_&&u?u(v,_,{configurable:!0,enumerable:!0,value:m,writable:!0}):v[_]=m}},44462:(w,k,o)=>{var u=o(2858),x=o(96837),v=o(89719),_=o(94121),m=o(99287),l=o(19292),t=o(99454),c=o(84444),h=o(59905),g=o(47597),d=o(6967),p=o(28794),C=o(76782),A=o(37878),L=o(4264),N=o(21503),P=o(80891),R=o(13222),Z=o(25940),H=o(90799),z=o(118),tt=o(16555),et="[object Arguments]",ut="[object Function]",ft="[object Object]",Ve={};Ve[et]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object DataView]"]=Ve["[object Boolean]"]=Ve["[object Date]"]=Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve[ft]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object Symbol]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Error]"]=Ve[ut]=Ve["[object WeakMap]"]=!1,w.exports=function kn(de,gn,Xn,ni,Yn,an){var je,dn=1&gn,En=2&gn,Ue=4&gn;if(Xn&&(je=Yn?Xn(de,ni,Yn,an):Xn(de)),void 0!==je)return je;if(!Z(de))return de;var ci=N(de);if(ci){if(je=C(de),!dn)return t(de,je)}else{var Rn=p(de),vn=Rn==ut||"[object GeneratorFunction]"==Rn;if(P(de))return l(de,dn);if(Rn==ft||Rn==et||vn&&!Yn){if(je=En||vn?{}:L(de),!dn)return En?h(de,m(je,de)):c(de,_(je,de))}else{if(!Ve[Rn])return Yn?de:{};je=A(de,Rn,dn)}}an||(an=new u);var Hn=an.get(de);if(Hn)return Hn;an.set(de,je),H(de)?de.forEach(function($n){je.add(kn($n,gn,Xn,$n,de,an))}):R(de)&&de.forEach(function($n,jn){je.set(jn,kn($n,gn,Xn,jn,de,an))});var Me=ci?void 0:(Ue?En?d:g:En?tt:z)(de);return x(Me||de,function($n,jn){Me&&($n=de[jn=$n]),v(je,jn,kn($n,gn,Xn,jn,de,an))}),je}},78858:(w,k,o)=>{var u=o(25940),x=Object.create,v=function(){function _(){}return function(m){if(!u(m))return{};if(x)return x(m);_.prototype=m;var l=new _;return _.prototype=void 0,l}}();w.exports=v},43132:(w,k,o)=>{var u=o(45184),v=o(16539)(u);w.exports=v},67308:(w,k,o)=>{var u=o(44129);w.exports=function x(v,_,m){for(var l=-1,t=v.length;++l<t;){var c=v[l],h=_(c);if(null!=h&&(void 0===g?h==h&&!u(h):m(h,g)))var g=h,d=c}return d}},33609:(w,k,o)=>{var u=o(43132);w.exports=function x(v,_){var m=[];return u(v,function(l,t,c){_(l,t,c)&&m.push(l)}),m}},65317:w=>{w.exports=function k(o,u,x,v){for(var _=o.length,m=x+(v?1:-1);v?m--:++m<_;)if(u(o[m],m,o))return m;return-1}},50686:(w,k,o)=>{var u=o(85059),x=o(75039);w.exports=function v(_,m,l,t,c){var h=-1,g=_.length;for(l||(l=x),c||(c=[]);++h<g;){var d=_[h];m>0&&l(d)?m>1?v(d,m-1,l,t,c):u(c,d):t||(c[c.length]=d)}return c}},30755:(w,k,o)=>{var x=o(40456)();w.exports=x},45184:(w,k,o)=>{var u=o(30755),x=o(118);w.exports=function v(_,m){return _&&u(_,m,x)}},15456:(w,k,o)=>{var u=o(65456),x=o(68533);w.exports=function v(_,m){for(var l=0,t=(m=u(m,_)).length;null!=_&&l<t;)_=_[x(m[l++])];return l&&l==t?_:void 0}},38247:(w,k,o)=>{var u=o(85059),x=o(21503);w.exports=function v(_,m,l){var t=m(_);return x(_)?t:u(t,l(_))}},93337:(w,k,o)=>{var u=o(60443),x=o(21318),v=o(92902),l=u?u.toStringTag:void 0;w.exports=function t(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":l&&l in Object(c)?x(c):v(c)}},31100:w=>{w.exports=function k(o,u){return o>u}},84781:w=>{var o=Object.prototype.hasOwnProperty;w.exports=function u(x,v){return null!=x&&o.call(x,v)}},69989:w=>{w.exports=function k(o,u){return null!=o&&u in Object(o)}},14164:(w,k,o)=>{var u=o(65317),x=o(70968),v=o(24977);w.exports=function _(m,l,t){return l==l?v(m,l,t):u(m,x,t)}},60186:(w,k,o)=>{var u=o(93337),x=o(72671);w.exports=function _(m){return x(m)&&"[object Arguments]"==u(m)}},85740:(w,k,o)=>{var u=o(58325),x=o(72671);w.exports=function v(_,m,l,t,c){return _===m||(null==_||null==m||!x(_)&&!x(m)?_!=_&&m!=m:u(_,m,l,t,v,c))}},58325:(w,k,o)=>{var u=o(2858),x=o(63914),v=o(78583),_=o(32286),m=o(28794),l=o(21503),t=o(80891),c=o(48159),g="[object Arguments]",d="[object Array]",p="[object Object]",A=Object.prototype.hasOwnProperty;w.exports=function L(N,P,R,Z,H,z){var tt=l(N),rt=l(P),ot=tt?d:m(N),J=rt?d:m(P),et=(ot=ot==g?p:ot)==p,q=(J=J==g?p:J)==p,at=ot==J;if(at&&t(N)){if(!t(P))return!1;tt=!0,et=!1}if(at&&!et)return z||(z=new u),tt||c(N)?x(N,P,R,Z,H,z):v(N,P,ot,R,Z,H,z);if(!(1&R)){var Y=et&&A.call(N,"__wrapped__"),K=q&&A.call(P,"__wrapped__");if(Y||K){var ut=Y?N.value():N,it=K?P.value():P;return z||(z=new u),H(ut,it,R,Z,z)}}return!!at&&(z||(z=new u),_(N,P,R,Z,H,z))}},97021:(w,k,o)=>{var u=o(28794),x=o(72671);w.exports=function _(m){return x(m)&&"[object Map]"==u(m)}},40431:(w,k,o)=>{var u=o(2858),x=o(85740);w.exports=function m(l,t,c,h){var g=c.length,d=g,p=!h;if(null==l)return!d;for(l=Object(l);g--;){var C=c[g];if(p&&C[2]?C[1]!==l[C[0]]:!(C[0]in l))return!1}for(;++g<d;){var A=(C=c[g])[0],L=l[A],N=C[1];if(p&&C[2]){if(void 0===L&&!(A in l))return!1}else{var P=new u;if(h)var R=h(L,N,A,l,t,P);if(!(void 0===R?x(N,L,3,h,P):R))return!1}}return!0}},70968:w=>{w.exports=function k(o){return o!=o}},37304:(w,k,o)=>{var u=o(75946),x=o(91943),v=o(25940),_=o(52827),l=/^\[object .+?Constructor\]$/,d=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");w.exports=function p(C){return!(!v(C)||x(C))&&(u(C)?d:l).test(_(C))}},771:(w,k,o)=>{var u=o(28794),x=o(72671);w.exports=function _(m){return x(m)&&"[object Set]"==u(m)}},1083:(w,k,o)=>{var u=o(93337),x=o(96231),v=o(72671),at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1,w.exports=function Y(K){return v(K)&&x(K.length)&&!!at[u(K)]}},96517:(w,k,o)=>{var u=o(98133),x=o(9458),v=o(32608),_=o(21503),m=o(87495);w.exports=function l(t){return"function"==typeof t?t:null==t?v:"object"==typeof t?_(t)?x(t[0],t[1]):u(t):m(t)}},81172:(w,k,o)=>{var u=o(45488),x=o(85491),_=Object.prototype.hasOwnProperty;w.exports=function m(l){if(!u(l))return x(l);var t=[];for(var c in Object(l))_.call(l,c)&&"constructor"!=c&&t.push(c);return t}},92809:(w,k,o)=>{var u=o(25940),x=o(45488),v=o(32158),m=Object.prototype.hasOwnProperty;w.exports=function l(t){if(!u(t))return v(t);var c=x(t),h=[];for(var g in t)"constructor"==g&&(c||!m.call(t,g))||h.push(g);return h}},99069:w=>{w.exports=function k(o,u){return o<u}},92046:(w,k,o)=>{var u=o(43132),x=o(56507);w.exports=function v(_,m){var l=-1,t=x(_)?Array(_.length):[];return u(_,function(c,h,g){t[++l]=m(c,h,g)}),t}},98133:(w,k,o)=>{var u=o(40431),x=o(22379),v=o(642);w.exports=function _(m){var l=x(m);return 1==l.length&&l[0][2]?v(l[0][0],l[0][1]):function(t){return t===m||u(t,m,l)}}},9458:(w,k,o)=>{var u=o(85740),x=o(8817),v=o(11172),_=o(45352),m=o(22442),l=o(642),t=o(68533);w.exports=function g(d,p){return _(d)&&m(p)?l(t(d),p):function(C){var A=x(C,d);return void 0===A&&A===p?v(C,d):u(p,A,3)}}},73842:(w,k,o)=>{var u=o(2858),x=o(49276),v=o(30755),_=o(33675),m=o(25940),l=o(16555),t=o(99351);w.exports=function c(h,g,d,p,C){h!==g&&v(g,function(A,L){if(C||(C=new u),m(A))_(h,g,L,d,c,p,C);else{var N=p?p(t(h,L),A,L+"",h,g,C):void 0;void 0===N&&(N=A),x(h,L,N)}},l)}},33675:(w,k,o)=>{var u=o(49276),x=o(19292),v=o(65208),_=o(99454),m=o(4264),l=o(77151),t=o(21503),c=o(92377),h=o(80891),g=o(75946),d=o(25940),p=o(97614),C=o(48159),A=o(99351),L=o(8067);w.exports=function N(P,R,Z,H,z,tt,rt){var ot=A(P,Z),J=A(R,Z),et=rt.get(J);if(et)u(P,Z,et);else{var q=tt?tt(ot,J,Z+"",P,R,rt):void 0,at=void 0===q;if(at){var Y=t(J),K=!Y&&h(J),ut=!Y&&!K&&C(J);q=J,Y||K||ut?t(ot)?q=ot:c(ot)?q=_(ot):K?(at=!1,q=x(J,!0)):ut?(at=!1,q=v(J,!0)):q=[]:p(J)||l(J)?(q=ot,l(ot)?q=L(ot):(!d(ot)||g(ot))&&(q=m(J))):at=!1}at&&(rt.set(J,q),z(q,J,H,tt,rt),rt.delete(J)),u(P,Z,q)}}},6119:(w,k,o)=>{var u=o(84633),x=o(15456),v=o(96517),_=o(92046),m=o(42061),l=o(85647),t=o(41215),c=o(32608),h=o(21503);w.exports=function g(d,p,C){p=p.length?u(p,function(N){return h(N)?function(P){return x(P,1===N.length?N[0]:N)}:N}):[c];var A=-1;p=u(p,l(v));var L=_(d,function(N,P,R){return{criteria:u(p,function(H){return H(N)}),index:++A,value:N}});return m(L,function(N,P){return t(N,P,C)})}},83021:(w,k,o)=>{var u=o(95495),x=o(11172);w.exports=function v(_,m){return u(_,m,function(l,t){return x(_,t)})}},95495:(w,k,o)=>{var u=o(15456),x=o(55963),v=o(65456);w.exports=function _(m,l,t){for(var c=-1,h=l.length,g={};++c<h;){var d=l[c],p=u(m,d);t(p,d)&&x(g,v(d,m),p)}return g}},11847:w=>{w.exports=function k(o){return function(u){return null==u?void 0:u[o]}}},39222:(w,k,o)=>{var u=o(15456);w.exports=function x(v){return function(_){return u(_,v)}}},16307:w=>{var k=Math.ceil,o=Math.max;w.exports=function u(x,v,_,m){for(var l=-1,t=o(k((v-x)/(_||1)),0),c=Array(t);t--;)c[m?t:++l]=x,x+=_;return c}},13570:w=>{w.exports=function k(o,u,x,v,_){return _(o,function(m,l,t){x=v?(v=!1,m):u(x,m,l,t)}),x}},23269:(w,k,o)=>{var u=o(32608),x=o(53983),v=o(72185);w.exports=function _(m,l){return v(x(m,l,u),m+"")}},55963:(w,k,o)=>{var u=o(89719),x=o(65456),v=o(58442),_=o(25940),m=o(68533);w.exports=function l(t,c,h,g){if(!_(t))return t;for(var d=-1,p=(c=x(c,t)).length,C=p-1,A=t;null!=A&&++d<p;){var L=m(c[d]),N=h;if("__proto__"===L||"constructor"===L||"prototype"===L)return t;if(d!=C){var P=A[L];void 0===(N=g?g(P,L,A):void 0)&&(N=_(P)?P:v(c[d+1])?[]:{})}u(A,L,N),A=A[L]}return t}},69510:(w,k,o)=>{var u=o(76684),x=o(56713),v=o(32608);w.exports=x?function(m,l){return x(m,"toString",{configurable:!0,enumerable:!1,value:u(l),writable:!0})}:v},42061:w=>{w.exports=function k(o,u){var x=o.length;for(o.sort(u);x--;)o[x]=o[x].value;return o}},85334:w=>{w.exports=function k(o,u){for(var x=-1,v=Array(o);++x<o;)v[x]=u(x);return v}},93935:(w,k,o)=>{var u=o(60443),x=o(84633),v=o(21503),_=o(44129),l=u?u.prototype:void 0,t=l?l.toString:void 0;w.exports=function c(h){if("string"==typeof h)return h;if(v(h))return x(h,c)+"";if(_(h))return t?t.call(h):"";var g=h+"";return"0"==g&&1/h==-1/0?"-0":g}},83348:(w,k,o)=>{var u=o(42760),x=/^\s+/;w.exports=function v(_){return _&&_.slice(0,u(_)+1).replace(x,"")}},85647:w=>{w.exports=function k(o){return function(u){return o(u)}}},80707:(w,k,o)=>{var u=o(58849),x=o(61253),v=o(37609),_=o(25972),m=o(14575),l=o(24174);w.exports=function c(h,g,d){var p=-1,C=x,A=h.length,L=!0,N=[],P=N;if(d)L=!1,C=v;else if(A>=200){var R=g?null:m(h);if(R)return l(R);L=!1,C=_,P=new u}else P=g?[]:N;t:for(;++p<A;){var Z=h[p],H=g?g(Z):Z;if(Z=d||0!==Z?Z:0,L&&H==H){for(var z=P.length;z--;)if(P[z]===H)continue t;g&&P.push(H),N.push(Z)}else C(P,H,d)||(P!==N&&P.push(H),N.push(Z))}return N}},19179:(w,k,o)=>{var u=o(84633);w.exports=function x(v,_){return u(_,function(m){return v[m]})}},38645:w=>{w.exports=function k(o,u,x){for(var v=-1,_=o.length,m=u.length,l={};++v<_;)x(l,o[v],v<m?u[v]:void 0);return l}},25972:w=>{w.exports=function k(o,u){return o.has(u)}},21481:(w,k,o)=>{var u=o(32608);w.exports=function x(v){return"function"==typeof v?v:u}},65456:(w,k,o)=>{var u=o(21503),x=o(45352),v=o(32855),_=o(73943);w.exports=function m(l,t){return u(l)?l:x(l,t)?[l]:v(_(l))}},43362:(w,k,o)=>{var u=o(73457);w.exports=function x(v){var _=new v.constructor(v.byteLength);return new u(_).set(new u(v)),_}},19292:(w,k,o)=>{w=o.nmd(w);var u=o(12119),x=k&&!k.nodeType&&k,v=x&&w&&!w.nodeType&&w,m=v&&v.exports===x?u.Buffer:void 0,l=m?m.allocUnsafe:void 0;w.exports=function t(c,h){if(h)return c.slice();var g=c.length,d=l?l(g):new c.constructor(g);return c.copy(d),d}},17e3:(w,k,o)=>{var u=o(43362);w.exports=function x(v,_){var m=_?u(v.buffer):v.buffer;return new v.constructor(m,v.byteOffset,v.byteLength)}},74098:w=>{var k=/\w*$/;w.exports=function o(u){var x=new u.constructor(u.source,k.exec(u));return x.lastIndex=u.lastIndex,x}},62533:(w,k,o)=>{var u=o(60443),x=u?u.prototype:void 0,v=x?x.valueOf:void 0;w.exports=function _(m){return v?Object(v.call(m)):{}}},65208:(w,k,o)=>{var u=o(43362);w.exports=function x(v,_){var m=_?u(v.buffer):v.buffer;return new v.constructor(m,v.byteOffset,v.length)}},13443:(w,k,o)=>{var u=o(44129);w.exports=function x(v,_){if(v!==_){var m=void 0!==v,l=null===v,t=v==v,c=u(v),h=void 0!==_,g=null===_,d=_==_,p=u(_);if(!g&&!p&&!c&&v>_||c&&h&&d&&!g&&!p||l&&h&&d||!m&&d||!t)return 1;if(!l&&!c&&!p&&v<_||p&&m&&t&&!l&&!c||g&&m&&t||!h&&t||!d)return-1}return 0}},41215:(w,k,o)=>{var u=o(13443);w.exports=function x(v,_,m){for(var l=-1,t=v.criteria,c=_.criteria,h=t.length,g=m.length;++l<h;){var d=u(t[l],c[l]);if(d)return l>=g?d:d*("desc"==m[l]?-1:1)}return v.index-_.index}},99454:w=>{w.exports=function k(o,u){var x=-1,v=o.length;for(u||(u=Array(v));++x<v;)u[x]=o[x];return u}},31989:(w,k,o)=>{var u=o(89719),x=o(85683);w.exports=function v(_,m,l,t){var c=!l;l||(l={});for(var h=-1,g=m.length;++h<g;){var d=m[h],p=t?t(l[d],_[d],d,l,_):void 0;void 0===p&&(p=_[d]),c?x(l,d,p):u(l,d,p)}return l}},84444:(w,k,o)=>{var u=o(31989),x=o(39383);w.exports=function v(_,m){return u(_,x(_),m)}},59905:(w,k,o)=>{var u=o(31989),x=o(53051);w.exports=function v(_,m){return u(_,x(_),m)}},24610:(w,k,o)=>{var u=o(12119);w.exports=u["__core-js_shared__"]},84944:(w,k,o)=>{var u=o(23269),x=o(93342);w.exports=function v(_){return u(function(m,l){var t=-1,c=l.length,h=c>1?l[c-1]:void 0,g=c>2?l[2]:void 0;for(h=_.length>3&&"function"==typeof h?(c--,h):void 0,g&&x(l[0],l[1],g)&&(h=c<3?void 0:h,c=1),m=Object(m);++t<c;){var d=l[t];d&&_(m,d,t,h)}return m})}},16539:(w,k,o)=>{var u=o(56507);w.exports=function x(v,_){return function(m,l){if(null==m)return m;if(!u(m))return v(m,l);for(var t=m.length,c=_?t:-1,h=Object(m);(_?c--:++c<t)&&!1!==l(h[c],c,h););return m}}},40456:w=>{w.exports=function k(o){return function(u,x,v){for(var _=-1,m=Object(u),l=v(u),t=l.length;t--;){var c=l[o?t:++_];if(!1===x(m[c],c,m))break}return u}}},24653:(w,k,o)=>{var u=o(96517),x=o(56507),v=o(118);w.exports=function _(m){return function(l,t,c){var h=Object(l);if(!x(l)){var g=u(t,3);l=v(l),t=function(p){return g(h[p],p,h)}}var d=m(l,t,c);return d>-1?h[g?l[d]:d]:void 0}}},97509:(w,k,o)=>{var u=o(16307),x=o(93342),v=o(12232);w.exports=function _(m){return function(l,t,c){return c&&"number"!=typeof c&&x(l,t,c)&&(t=c=void 0),l=v(l),void 0===t?(t=l,l=0):t=v(t),c=void 0===c?l<t?1:-1:v(c),u(l,t,c,m)}}},14575:(w,k,o)=>{var u=o(46323),x=o(12552),v=o(24174),m=u&&1/v(new u([,-0]))[1]==1/0?function(l){return new u(l)}:x;w.exports=m},56713:(w,k,o)=>{var u=o(53436),x=function(){try{var v=u(Object,"defineProperty");return v({},"",{}),v}catch(_){}}();w.exports=x},63914:(w,k,o)=>{var u=o(58849),x=o(79503),v=o(25972);w.exports=function l(t,c,h,g,d,p){var C=1&h,A=t.length,L=c.length;if(A!=L&&!(C&&L>A))return!1;var N=p.get(t),P=p.get(c);if(N&&P)return N==c&&P==t;var R=-1,Z=!0,H=2&h?new u:void 0;for(p.set(t,c),p.set(c,t);++R<A;){var z=t[R],tt=c[R];if(g)var rt=C?g(tt,z,R,c,t,p):g(z,tt,R,t,c,p);if(void 0!==rt){if(rt)continue;Z=!1;break}if(H){if(!x(c,function(ot,J){if(!v(H,J)&&(z===ot||d(z,ot,h,g,p)))return H.push(J)})){Z=!1;break}}else if(z!==tt&&!d(z,tt,h,g,p)){Z=!1;break}}return p.delete(t),p.delete(c),Z}},78583:(w,k,o)=>{var u=o(60443),x=o(73457),v=o(20217),_=o(63914),m=o(83205),l=o(24174),H=u?u.prototype:void 0,z=H?H.valueOf:void 0;w.exports=function tt(rt,ot,J,et,q,at,Y){switch(J){case"[object DataView]":if(rt.byteLength!=ot.byteLength||rt.byteOffset!=ot.byteOffset)return!1;rt=rt.buffer,ot=ot.buffer;case"[object ArrayBuffer]":return!(rt.byteLength!=ot.byteLength||!at(new x(rt),new x(ot)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+rt,+ot);case"[object Error]":return rt.name==ot.name&&rt.message==ot.message;case"[object RegExp]":case"[object String]":return rt==ot+"";case"[object Map]":var K=m;case"[object Set]":if(K||(K=l),rt.size!=ot.size&&!(1&et))return!1;var it=Y.get(rt);if(it)return it==ot;et|=2,Y.set(rt,ot);var G=_(K(rt),K(ot),et,q,at,Y);return Y.delete(rt),G;case"[object Symbol]":if(z)return z.call(rt)==z.call(ot)}return!1}},32286:(w,k,o)=>{var u=o(47597),_=Object.prototype.hasOwnProperty;w.exports=function m(l,t,c,h,g,d){var p=1&c,C=u(l),A=C.length;if(A!=u(t).length&&!p)return!1;for(var P=A;P--;){var R=C[P];if(!(p?R in t:_.call(t,R)))return!1}var Z=d.get(l),H=d.get(t);if(Z&&H)return Z==t&&H==l;var z=!0;d.set(l,t),d.set(t,l);for(var tt=p;++P<A;){var rt=l[R=C[P]],ot=t[R];if(h)var J=p?h(ot,rt,R,t,l,d):h(rt,ot,R,l,t,d);if(!(void 0===J?rt===ot||g(rt,ot,c,h,d):J)){z=!1;break}tt||(tt="constructor"==R)}if(z&&!tt){var et=l.constructor,q=t.constructor;et!=q&&"constructor"in l&&"constructor"in t&&!("function"==typeof et&&et instanceof et&&"function"==typeof q&&q instanceof q)&&(z=!1)}return d.delete(l),d.delete(t),z}},3975:(w,k,o)=>{var u=o(22274),x=o(53983),v=o(72185);w.exports=function _(m){return v(x(m,void 0,u),m+"")}},79122:w=>{var k="object"==typeof global&&global&&global.Object===Object&&global;w.exports=k},47597:(w,k,o)=>{var u=o(38247),x=o(39383),v=o(118);w.exports=function _(m){return u(m,v,x)}},6967:(w,k,o)=>{var u=o(38247),x=o(53051),v=o(16555);w.exports=function _(m){return u(m,v,x)}},54537:(w,k,o)=>{var u=o(23819);w.exports=function x(v,_){var m=v.__data__;return u(_)?m["string"==typeof _?"string":"hash"]:m.map}},22379:(w,k,o)=>{var u=o(22442),x=o(118);w.exports=function v(_){for(var m=x(_),l=m.length;l--;){var t=m[l],c=_[t];m[l]=[t,c,u(c)]}return m}},53436:(w,k,o)=>{var u=o(37304),x=o(51990);w.exports=function v(_,m){var l=x(_,m);return u(l)?l:void 0}},29519:(w,k,o)=>{var x=o(69385)(Object.getPrototypeOf,Object);w.exports=x},21318:(w,k,o)=>{var u=o(60443),x=Object.prototype,v=x.hasOwnProperty,_=x.toString,m=u?u.toStringTag:void 0;w.exports=function l(t){var c=v.call(t,m),h=t[m];try{t[m]=void 0;var g=!0}catch(p){}var d=_.call(t);return g&&(c?t[m]=h:delete t[m]),d}},39383:(w,k,o)=>{var u=o(69779),x=o(49975),_=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols;w.exports=m?function(t){return null==t?[]:(t=Object(t),u(m(t),function(c){return _.call(t,c)}))}:x},53051:(w,k,o)=>{var u=o(85059),x=o(29519),v=o(39383),_=o(49975);w.exports=Object.getOwnPropertySymbols?function(t){for(var c=[];t;)u(c,v(t)),t=x(t);return c}:_},28794:(w,k,o)=>{var u=o(37244),x=o(51501),v=o(44267),_=o(46323),m=o(24243),l=o(93337),t=o(52827),c="[object Map]",g="[object Promise]",d="[object Set]",p="[object WeakMap]",C="[object DataView]",A=t(u),L=t(x),N=t(v),P=t(_),R=t(m),Z=l;(u&&Z(new u(new ArrayBuffer(1)))!=C||x&&Z(new x)!=c||v&&Z(v.resolve())!=g||_&&Z(new _)!=d||m&&Z(new m)!=p)&&(Z=function(H){var z=l(H),tt="[object Object]"==z?H.constructor:void 0,rt=tt?t(tt):"";if(rt)switch(rt){case A:return C;case L:return c;case N:return g;case P:return d;case R:return p}return z}),w.exports=Z},51990:w=>{w.exports=function k(o,u){return null==o?void 0:o[u]}},47283:(w,k,o)=>{var u=o(65456),x=o(77151),v=o(21503),_=o(58442),m=o(96231),l=o(68533);w.exports=function t(c,h,g){for(var d=-1,p=(h=u(h,c)).length,C=!1;++d<p;){var A=l(h[d]);if(!(C=null!=c&&g(c,A)))break;c=c[A]}return C||++d!=p?C:!!(p=null==c?0:c.length)&&m(p)&&_(A,p)&&(v(c)||x(c))}},77609:w=>{var l=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");w.exports=function t(c){return l.test(c)}},64312:(w,k,o)=>{var u=o(60862);w.exports=function x(){this.__data__=u?u(null):{},this.size=0}},46421:w=>{w.exports=function k(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}},15764:(w,k,o)=>{var u=o(60862),_=Object.prototype.hasOwnProperty;w.exports=function m(l){var t=this.__data__;if(u){var c=t[l];return"__lodash_hash_undefined__"===c?void 0:c}return _.call(t,l)?t[l]:void 0}},18685:(w,k,o)=>{var u=o(60862),v=Object.prototype.hasOwnProperty;w.exports=function _(m){var l=this.__data__;return u?void 0!==l[m]:v.call(l,m)}},26676:(w,k,o)=>{var u=o(60862);w.exports=function v(_,m){var l=this.__data__;return this.size+=this.has(_)?0:1,l[_]=u&&void 0===m?"__lodash_hash_undefined__":m,this}},76782:w=>{var o=Object.prototype.hasOwnProperty;w.exports=function u(x){var v=x.length,_=new x.constructor(v);return v&&"string"==typeof x[0]&&o.call(x,"index")&&(_.index=x.index,_.input=x.input),_}},37878:(w,k,o)=>{var u=o(43362),x=o(17e3),v=o(74098),_=o(62533),m=o(65208);w.exports=function J(et,q,at){var Y=et.constructor;switch(q){case"[object ArrayBuffer]":return u(et);case"[object Boolean]":case"[object Date]":return new Y(+et);case"[object DataView]":return x(et,at);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m(et,at);case"[object Map]":case"[object Set]":return new Y;case"[object Number]":case"[object String]":return new Y(et);case"[object RegExp]":return v(et);case"[object Symbol]":return _(et)}}},4264:(w,k,o)=>{var u=o(78858),x=o(29519),v=o(45488);w.exports=function _(m){return"function"!=typeof m.constructor||v(m)?{}:u(x(m))}},75039:(w,k,o)=>{var u=o(60443),x=o(77151),v=o(21503),_=u?u.isConcatSpreadable:void 0;w.exports=function m(l){return v(l)||x(l)||!!(_&&l&&l[_])}},58442:w=>{var o=/^(?:0|[1-9]\d*)$/;w.exports=function u(x,v){var _=typeof x;return!!(v=null==v?9007199254740991:v)&&("number"==_||"symbol"!=_&&o.test(x))&&x>-1&&x%1==0&&x<v}},93342:(w,k,o)=>{var u=o(20217),x=o(56507),v=o(58442),_=o(25940);w.exports=function m(l,t,c){if(!_(c))return!1;var h=typeof t;return!!("number"==h?x(c)&&v(t,c.length):"string"==h&&t in c)&&u(c[t],l)}},45352:(w,k,o)=>{var u=o(21503),x=o(44129),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;w.exports=function m(l,t){if(u(l))return!1;var c=typeof l;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=l&&!x(l))||_.test(l)||!v.test(l)||null!=t&&l in Object(t)}},23819:w=>{w.exports=function k(o){var u=typeof o;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==o:null===o}},91943:(w,k,o)=>{var _,u=o(24610),x=(_=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";w.exports=function v(_){return!!x&&x in _}},45488:w=>{var k=Object.prototype;w.exports=function o(u){var x=u&&u.constructor;return u===("function"==typeof x&&x.prototype||k)}},22442:(w,k,o)=>{var u=o(25940);w.exports=function x(v){return v==v&&!u(v)}},41840:w=>{w.exports=function k(){this.__data__=[],this.size=0}},34378:(w,k,o)=>{var u=o(43503),v=Array.prototype.splice;w.exports=function _(m){var l=this.__data__,t=u(l,m);return!(t<0||(t==l.length-1?l.pop():v.call(l,t,1),--this.size,0))}},54981:(w,k,o)=>{var u=o(43503);w.exports=function x(v){var _=this.__data__,m=u(_,v);return m<0?void 0:_[m][1]}},67343:(w,k,o)=>{var u=o(43503);w.exports=function x(v){return u(this.__data__,v)>-1}},98895:(w,k,o)=>{var u=o(43503);w.exports=function x(v,_){var m=this.__data__,l=u(m,v);return l<0?(++this.size,m.push([v,_])):m[l][1]=_,this}},10638:(w,k,o)=>{var u=o(54994),x=o(9215),v=o(51501);w.exports=function _(){this.size=0,this.__data__={hash:new u,map:new(v||x),string:new u}}},11184:(w,k,o)=>{var u=o(54537);w.exports=function x(v){var _=u(this,v).delete(v);return this.size-=_?1:0,_}},70866:(w,k,o)=>{var u=o(54537);w.exports=function x(v){return u(this,v).get(v)}},43771:(w,k,o)=>{var u=o(54537);w.exports=function x(v){return u(this,v).has(v)}},51772:(w,k,o)=>{var u=o(54537);w.exports=function x(v,_){var m=u(this,v),l=m.size;return m.set(v,_),this.size+=m.size==l?0:1,this}},83205:w=>{w.exports=function k(o){var u=-1,x=Array(o.size);return o.forEach(function(v,_){x[++u]=[_,v]}),x}},642:w=>{w.exports=function k(o,u){return function(x){return null!=x&&x[o]===u&&(void 0!==u||o in Object(x))}}},90719:(w,k,o)=>{var u=o(30535);w.exports=function v(_){var m=u(_,function(t){return 500===l.size&&l.clear(),t}),l=m.cache;return m}},60862:(w,k,o)=>{var x=o(53436)(Object,"create");w.exports=x},85491:(w,k,o)=>{var x=o(69385)(Object.keys,Object);w.exports=x},32158:w=>{w.exports=function k(o){var u=[];if(null!=o)for(var x in Object(o))u.push(x);return u}},73597:(w,k,o)=>{w=o.nmd(w);var u=o(79122),x=k&&!k.nodeType&&k,v=x&&w&&!w.nodeType&&w,m=v&&v.exports===x&&u.process,l=function(){try{return v&&v.require&&v.require("util").types||m&&m.binding&&m.binding("util")}catch(c){}}();w.exports=l},92902:w=>{var o=Object.prototype.toString;w.exports=function u(x){return o.call(x)}},69385:w=>{w.exports=function k(o,u){return function(x){return o(u(x))}}},53983:(w,k,o)=>{var u=o(26999),x=Math.max;w.exports=function v(_,m,l){return m=x(void 0===m?_.length-1:m,0),function(){for(var t=arguments,c=-1,h=x(t.length-m,0),g=Array(h);++c<h;)g[c]=t[m+c];c=-1;for(var d=Array(m+1);++c<m;)d[c]=t[c];return d[m]=l(g),u(_,this,d)}}},12119:(w,k,o)=>{var u=o(79122),x="object"==typeof self&&self&&self.Object===Object&&self,v=u||x||Function("return this")();w.exports=v},99351:w=>{w.exports=function k(o,u){if(("constructor"!==u||"function"!=typeof o[u])&&"__proto__"!=u)return o[u]}},4600:w=>{w.exports=function o(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this}},31387:w=>{w.exports=function k(o){return this.__data__.has(o)}},24174:w=>{w.exports=function k(o){var u=-1,x=Array(o.size);return o.forEach(function(v){x[++u]=v}),x}},72185:(w,k,o)=>{var u=o(69510),v=o(10029)(u);w.exports=v},10029:w=>{var u=Date.now;w.exports=function x(v){var _=0,m=0;return function(){var l=u(),t=16-(l-m);if(m=l,t>0){if(++_>=800)return arguments[0]}else _=0;return v.apply(void 0,arguments)}}},13720:(w,k,o)=>{var u=o(9215);w.exports=function x(){this.__data__=new u,this.size=0}},64410:w=>{w.exports=function k(o){var u=this.__data__,x=u.delete(o);return this.size=u.size,x}},45576:w=>{w.exports=function k(o){return this.__data__.get(o)}},22247:w=>{w.exports=function k(o){return this.__data__.has(o)}},41585:(w,k,o)=>{var u=o(9215),x=o(51501),v=o(99850);w.exports=function m(l,t){var c=this.__data__;if(c instanceof u){var h=c.__data__;if(!x||h.length<199)return h.push([l,t]),this.size=++c.size,this;c=this.__data__=new v(h)}return c.set(l,t),this.size=c.size,this}},24977:w=>{w.exports=function k(o,u,x){for(var v=x-1,_=o.length;++v<_;)if(o[v]===u)return v;return-1}},52315:(w,k,o)=>{var u=o(75481),x=o(77609),v=o(81149);w.exports=function _(m){return x(m)?v(m):u(m)}},32855:(w,k,o)=>{var u=o(90719),x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,_=u(function(m){var l=[];return 46===m.charCodeAt(0)&&l.push(""),m.replace(x,function(t,c,h,g){l.push(h?g.replace(v,"$1"):c||t)}),l});w.exports=_},68533:(w,k,o)=>{var u=o(44129);w.exports=function v(_){if("string"==typeof _||u(_))return _;var m=_+"";return"0"==m&&1/_==-1/0?"-0":m}},52827:w=>{var o=Function.prototype.toString;w.exports=function u(x){if(null!=x){try{return o.call(x)}catch(v){}try{return x+""}catch(v){}}return""}},42760:w=>{var k=/\s/;w.exports=function o(u){for(var x=u.length;x--&&k.test(u.charAt(x)););return x}},81149:w=>{var k="\\ud800-\\udfff",m="["+k+"]",l="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",t="\\ud83c[\\udffb-\\udfff]",h="[^"+k+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",C="(?:"+l+"|"+t+")?",A="[\\ufe0e\\ufe0f]?",N=A+C+"(?:\\u200d(?:"+[h,g,d].join("|")+")"+A+C+")*",P="(?:"+[h+l+"?",l,g,d,m].join("|")+")",R=RegExp(t+"(?="+t+")|"+P+N,"g");w.exports=function Z(H){for(var z=R.lastIndex=0;R.test(H);)++z;return z}},11094:(w,k,o)=>{var u=o(44462);w.exports=function v(_){return u(_,4)}},90733:(w,k,o)=>{var u=o(44462);w.exports=function _(m){return u(m,5)}},76684:w=>{w.exports=function k(o){return function(){return o}}},28800:(w,k,o)=>{var u=o(23269),x=o(20217),v=o(93342),_=o(16555),m=Object.prototype,l=m.hasOwnProperty,t=u(function(c,h){c=Object(c);var g=-1,d=h.length,p=d>2?h[2]:void 0;for(p&&v(h[0],h[1],p)&&(d=1);++g<d;)for(var C=h[g],A=_(C),L=-1,N=A.length;++L<N;){var P=A[L],R=c[P];(void 0===R||x(R,m[P])&&!l.call(c,P))&&(c[P]=C[P])}return c});w.exports=t},35474:(w,k,o)=>{w.exports=o(89851)},20217:w=>{w.exports=function k(o,u){return o===u||o!=o&&u!=u}},35281:(w,k,o)=>{var u=o(69779),x=o(33609),v=o(96517),_=o(21503);w.exports=function m(l,t){return(_(l)?u:x)(l,v(t,3))}},62516:(w,k,o)=>{var v=o(24653)(o(36397));w.exports=v},36397:(w,k,o)=>{var u=o(65317),x=o(96517),v=o(44401),_=Math.max;w.exports=function m(l,t,c){var h=null==l?0:l.length;if(!h)return-1;var g=null==c?0:v(c);return g<0&&(g=_(h+g,0)),u(l,x(t,3),g)}},22274:(w,k,o)=>{var u=o(50686);w.exports=function x(v){return null!=v&&v.length?u(v,1):[]}},89851:(w,k,o)=>{var u=o(96837),x=o(43132),v=o(21481),_=o(21503);w.exports=function m(l,t){return(_(l)?u:x)(l,v(t))}},41176:(w,k,o)=>{var u=o(30755),x=o(21481),v=o(16555);w.exports=function _(m,l){return null==m?m:u(m,x(l),v)}},8817:(w,k,o)=>{var u=o(15456);w.exports=function x(v,_,m){var l=null==v?void 0:u(v,_);return void 0===l?m:l}},54842:(w,k,o)=>{var u=o(84781),x=o(47283);w.exports=function v(_,m){return null!=_&&x(_,m,u)}},11172:(w,k,o)=>{var u=o(69989),x=o(47283);w.exports=function v(_,m){return null!=_&&x(_,m,u)}},32608:w=>{w.exports=function k(o){return o}},77151:(w,k,o)=>{var u=o(60186),x=o(72671),v=Object.prototype,_=v.hasOwnProperty,m=v.propertyIsEnumerable,l=u(function(){return arguments}())?u:function(t){return x(t)&&_.call(t,"callee")&&!m.call(t,"callee")};w.exports=l},21503:w=>{w.exports=Array.isArray},56507:(w,k,o)=>{var u=o(75946),x=o(96231);w.exports=function v(_){return null!=_&&x(_.length)&&!u(_)}},92377:(w,k,o)=>{var u=o(56507),x=o(72671);w.exports=function v(_){return x(_)&&u(_)}},80891:(w,k,o)=>{w=o.nmd(w);var u=o(12119),x=o(63580),v=k&&!k.nodeType&&k,_=v&&w&&!w.nodeType&&w,l=_&&_.exports===v?u.Buffer:void 0;w.exports=(l?l.isBuffer:void 0)||x},71973:(w,k,o)=>{var u=o(81172),x=o(28794),v=o(77151),_=o(21503),m=o(56507),l=o(80891),t=o(45488),c=o(48159),p=Object.prototype.hasOwnProperty;w.exports=function C(A){if(null==A)return!0;if(m(A)&&(_(A)||"string"==typeof A||"function"==typeof A.splice||l(A)||c(A)||v(A)))return!A.length;var L=x(A);if("[object Map]"==L||"[object Set]"==L)return!A.size;if(t(A))return!u(A).length;for(var N in A)if(p.call(A,N))return!1;return!0}},75946:(w,k,o)=>{var u=o(93337),x=o(25940);w.exports=function t(c){if(!x(c))return!1;var h=u(c);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}},96231:w=>{w.exports=function o(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=9007199254740991}},13222:(w,k,o)=>{var u=o(97021),x=o(85647),v=o(73597),_=v&&v.isMap,m=_?x(_):u;w.exports=m},25940:w=>{w.exports=function k(o){var u=typeof o;return null!=o&&("object"==u||"function"==u)}},72671:w=>{w.exports=function k(o){return null!=o&&"object"==typeof o}},97614:(w,k,o)=>{var u=o(93337),x=o(29519),v=o(72671),t=Function.prototype.toString,c=Object.prototype.hasOwnProperty,h=t.call(Object);w.exports=function g(d){if(!v(d)||"[object Object]"!=u(d))return!1;var p=x(d);if(null===p)return!0;var C=c.call(p,"constructor")&&p.constructor;return"function"==typeof C&&C instanceof C&&t.call(C)==h}},90799:(w,k,o)=>{var u=o(771),x=o(85647),v=o(73597),_=v&&v.isSet,m=_?x(_):u;w.exports=m},30248:(w,k,o)=>{var u=o(93337),x=o(21503),v=o(72671);w.exports=function m(l){return"string"==typeof l||!x(l)&&v(l)&&"[object String]"==u(l)}},44129:(w,k,o)=>{var u=o(93337),x=o(72671);w.exports=function _(m){return"symbol"==typeof m||x(m)&&"[object Symbol]"==u(m)}},48159:(w,k,o)=>{var u=o(1083),x=o(85647),v=o(73597),_=v&&v.isTypedArray,m=_?x(_):u;w.exports=m},34235:w=>{w.exports=function k(o){return void 0===o}},118:(w,k,o)=>{var u=o(72271),x=o(81172),v=o(56507);w.exports=function _(m){return v(m)?u(m):x(m)}},16555:(w,k,o)=>{var u=o(72271),x=o(92809),v=o(56507);w.exports=function _(m){return v(m)?u(m,!0):x(m)}},25809:w=>{w.exports=function k(o){var u=null==o?0:o.length;return u?o[u-1]:void 0}},19984:(w,k,o)=>{var u=o(84633),x=o(96517),v=o(92046),_=o(21503);w.exports=function m(l,t){return(_(l)?u:v)(l,x(t,3))}},10203:(w,k,o)=>{var u=o(85683),x=o(45184),v=o(96517);w.exports=function _(m,l){var t={};return l=v(l,3),x(m,function(c,h,g){u(t,h,l(c,h,g))}),t}},18176:(w,k,o)=>{var u=o(67308),x=o(31100),v=o(32608);w.exports=function _(m){return m&&m.length?u(m,v,x):void 0}},30535:(w,k,o)=>{var u=o(99850);function v(_,m){if("function"!=typeof _||null!=m&&"function"!=typeof m)throw new TypeError("Expected a function");var l=function(){var t=arguments,c=m?m.apply(this,t):t[0],h=l.cache;if(h.has(c))return h.get(c);var g=_.apply(this,t);return l.cache=h.set(c,g)||h,g};return l.cache=new(v.Cache||u),l}v.Cache=u,w.exports=v},80567:(w,k,o)=>{var u=o(73842),v=o(84944)(function(_,m,l){u(_,m,l)});w.exports=v},29439:(w,k,o)=>{var u=o(67308),x=o(99069),v=o(32608);w.exports=function _(m){return m&&m.length?u(m,v,x):void 0}},29525:(w,k,o)=>{var u=o(67308),x=o(96517),v=o(99069);w.exports=function _(m,l){return m&&m.length?u(m,x(l,2),v):void 0}},12552:w=>{w.exports=function k(){}},31710:(w,k,o)=>{var u=o(12119);w.exports=function(){return u.Date.now()}},16372:(w,k,o)=>{var u=o(83021),v=o(3975)(function(_,m){return null==_?{}:u(_,m)});w.exports=v},87495:(w,k,o)=>{var u=o(11847),x=o(39222),v=o(45352),_=o(68533);w.exports=function m(l){return v(l)?u(_(l)):x(l)}},90361:(w,k,o)=>{var x=o(97509)();w.exports=x},81337:(w,k,o)=>{var u=o(8745),x=o(43132),v=o(96517),_=o(13570),m=o(21503);w.exports=function l(t,c,h){var g=m(t)?u:_,d=arguments.length<3;return g(t,v(c,4),h,d,x)}},55637:(w,k,o)=>{var u=o(81172),x=o(28794),v=o(56507),_=o(30248),m=o(52315);w.exports=function c(h){if(null==h)return 0;if(v(h))return _(h)?m(h):h.length;var g=x(h);return"[object Map]"==g||"[object Set]"==g?h.size:u(h).length}},12906:(w,k,o)=>{var u=o(50686),x=o(6119),v=o(23269),_=o(93342),m=v(function(l,t){if(null==l)return[];var c=t.length;return c>1&&_(l,t[0],t[1])?t=[]:c>2&&_(t[0],t[1],t[2])&&(t=[t[0]]),x(l,u(t,1),[])});w.exports=m},49975:w=>{w.exports=function k(){return[]}},63580:w=>{w.exports=function k(){return!1}},12232:(w,k,o)=>{var u=o(51467),x=1/0;w.exports=function _(m){return m?(m=u(m))===x||m===-x?17976931348623157e292*(m<0?-1:1):m==m?m:0:0===m?m:0}},44401:(w,k,o)=>{var u=o(12232);w.exports=function x(v){var _=u(v),m=_%1;return _==_?m?_-m:_:0}},51467:(w,k,o)=>{var u=o(83348),x=o(25940),v=o(44129),m=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,t=/^0o[0-7]+$/i,c=parseInt;w.exports=function h(g){if("number"==typeof g)return g;if(v(g))return NaN;if(x(g)){var d="function"==typeof g.valueOf?g.valueOf():g;g=x(d)?d+"":d}if("string"!=typeof g)return 0===g?g:+g;g=u(g);var p=l.test(g);return p||t.test(g)?c(g.slice(2),p?2:8):m.test(g)?NaN:+g}},8067:(w,k,o)=>{var u=o(31989),x=o(16555);w.exports=function v(_){return u(_,x(_))}},73943:(w,k,o)=>{var u=o(93935);w.exports=function x(v){return null==v?"":u(v)}},89416:(w,k,o)=>{var u=o(96837),x=o(78858),v=o(45184),_=o(96517),m=o(29519),l=o(21503),t=o(80891),c=o(75946),h=o(25940),g=o(48159);w.exports=function d(p,C,A){var L=l(p),N=L||t(p)||g(p);if(C=_(C,4),null==A){var P=p&&p.constructor;A=N?L?new P:[]:h(p)&&c(P)?x(m(p)):{}}return(N?u:v)(p,function(R,Z,H){return C(A,R,Z,H)}),A}},68921:(w,k,o)=>{var u=o(50686),x=o(23269),v=o(80707),_=o(92377),m=x(function(l){return v(u(l,1,_,!0))});w.exports=m},51541:(w,k,o)=>{var u=o(73943),x=0;w.exports=function v(_){var m=++x;return u(_)+m}},90377:(w,k,o)=>{var u=o(19179),x=o(118);w.exports=function v(_){return null==_?[]:u(_,x(_))}},21617:(w,k,o)=>{var u=o(89719),x=o(38645);w.exports=function v(_,m){return x(_||[],m||[],u)}},34315:(w,k,o)=>{"use strict";const u=Symbol.prototype.valueOf,x=o(52872);w.exports=function v(h,g){switch(x(h)){case"array":return h.slice();case"object":return Object.assign({},h);case"date":return new h.constructor(Number(h));case"map":return new Map(h);case"set":return new Set(h);case"buffer":return function t(h){const g=h.length,d=Buffer.allocUnsafe?Buffer.allocUnsafe(g):Buffer.from(g);return h.copy(d),d}(h);case"symbol":return function c(h){return u?Object(u.call(h)):{}}(h);case"arraybuffer":return function m(h){const g=new h.constructor(h.byteLength);return new Uint8Array(g).set(new Uint8Array(h)),g}(h);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function l(h,g){return new h.constructor(h.buffer,h.byteOffset,h.length)}(h);case"regexp":return function _(h){const g=void 0!==h.flags?h.flags:/\w+$/.exec(h)||void 0,d=new h.constructor(h.source,g);return d.lastIndex=h.lastIndex,d}(h);case"error":return Object.create(h);default:return h}}},67824:(w,k,o)=>{"use strict";function u(x){for(var v in x)k.hasOwnProperty(v)||(k[v]=x[v])}Object.defineProperty(k,"__esModule",{value:!0}),u(o(95085)),u(o(26243)),u(o(91786)),u(o(30225)),u(o(76767)),u(o(30345)),u(o(15675)),u(o(86461)),u(o(58802)),u(o(33900)),u(o(88866)),u(o(94655)),u(o(4068)),u(o(33858)),u(o(98237)),u(o(83292))},95085:function(w,k,o){"use strict";var m,u=this&&this.__extends||(m=function(l,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])})(l,t)},function(l,t){function c(){this.constructor=l}m(l,t),l.prototype=null===t?Object.create(t):(c.prototype=t.prototype,new c)});Object.defineProperty(k,"__esModule",{value:!0});var x=o(15675),v=function(m){function l(t){var c=m.call(this)||this,g=t;return g.trigger&&(c.trigger=g.trigger),g.kick&&(c.kick=g.kick),g.drag&&(c.drag=g.drag),g.on&&(c.on=g.on),c.dragstart=c.dragStart=x.Layout.dragStart,c.dragend=c.dragEnd=x.Layout.dragEnd,c}return u(l,m),l.prototype.trigger=function(t){},l.prototype.kick=function(){},l.prototype.drag=function(){},l.prototype.on=function(t,c){return this},l}(x.Layout);k.LayoutAdaptor=v,k.adaptor=function _(m){return new v(m)}},83292:(w,k,o)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var u=o(15675),x=o(76767);k.gridify=function v(l,t,c,h){l.cola.start(0,0,0,10,!1);var g=function _(l,t,c,h){l.forEach(function(d){d.routerNode={name:d.name,bounds:d.bounds.inflate(-c)}}),t.forEach(function(d){d.routerNode={bounds:d.bounds.inflate(-h),children:(void 0!==d.groups?d.groups.map(function(p){return l.length+p.id}):[]).concat(void 0!==d.leaves?d.leaves.map(function(p){return p.index}):[])}});var g=l.concat(t).map(function(d,p){return d.routerNode.id=p,d.routerNode});return new x.GridRouter(g,{getChildren:function(d){return d.children},getBounds:function(d){return d.bounds}},c-h)}(l.cola.nodes(),l.cola.groups(),c,h);return g.routeEdges(l.powerGraph.powerEdges,t,function(d){return d.source.routerNode.id},function(d){return d.target.routerNode.id})},k.powerGraphGridLayout=function m(l,t,c){var h;l.nodes.forEach(function(C,A){return C.index=A}),(new u.Layout).avoidOverlaps(!1).nodes(l.nodes).links(l.links).powerGraphGroups(function(C){(h=C).groups.forEach(function(A){return A.padding=c})});var g=l.nodes.length,d=[],p=l.nodes.slice(0);return p.forEach(function(C,A){return C.index=A}),h.groups.forEach(function(C){var A=C.index=C.id+g;p.push(C),void 0!==C.leaves&&C.leaves.forEach(function(L){return d.push({source:A,target:L.index})}),void 0!==C.groups&&C.groups.forEach(function(L){return d.push({source:A,target:L.id+g})})}),h.powerEdges.forEach(function(C){d.push({source:C.source.index,target:C.target.index})}),(new u.Layout).size(t).nodes(p).links(d).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new u.Layout).convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(l.nodes).links(l.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(C){(h=C).groups.forEach(function(A){A.padding=c})}).start(50,0,100,0,!1),powerGraph:h}}},26243:(w,k,o)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var u=o(49346),x=o(22487);k.d3adaptor=function v(m){return!m||function _(m){return m.version&&null!==m.version.match(/^3\./)}(m)?new u.D3StyleLayoutAdaptor:new x.D3StyleLayoutAdaptor(m)}},49346:function(w,k,o){"use strict";var m,u=this&&this.__extends||(m=function(l,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])})(l,t)},function(l,t){function c(){this.constructor=l}m(l,t),l.prototype=null===t?Object.create(t):(c.prototype=t.prototype,new c)});Object.defineProperty(k,"__esModule",{value:!0});var x=o(15675),v=function(m){function l(){var t=m.call(this)||this;t.event=d3.dispatch(x.EventType[x.EventType.start],x.EventType[x.EventType.tick],x.EventType[x.EventType.end]);var c=t;return t.drag=function(){if(!g)var g=d3.behavior.drag().origin(x.Layout.dragOrigin).on("dragstart.d3adaptor",x.Layout.dragStart).on("drag.d3adaptor",function(d){x.Layout.drag(d,d3.event),c.resume()}).on("dragend.d3adaptor",x.Layout.dragEnd);if(!arguments.length)return g;this.call(g)},t}return u(l,m),l.prototype.trigger=function(t){var c={type:x.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[c.type](c)},l.prototype.kick=function(){var t=this;d3.timer(function(){return m.prototype.tick.call(t)})},l.prototype.on=function(t,c){return this.event.on("string"==typeof t?t:x.EventType[t],c),this},l}(x.Layout);k.D3StyleLayoutAdaptor=v,k.d3adaptor=function _(){return new v}},22487:function(w,k,o){"use strict";var _,u=this&&this.__extends||(_=function(m,l){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,c){t.__proto__=c}||function(t,c){for(var h in c)c.hasOwnProperty(h)&&(t[h]=c[h])})(m,l)},function(m,l){function t(){this.constructor=m}_(m,l),m.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)});Object.defineProperty(k,"__esModule",{value:!0});var x=o(15675),v=function(_){function m(l){var t=_.call(this)||this;t.d3Context=l,t.event=l.dispatch(x.EventType[x.EventType.start],x.EventType[x.EventType.tick],x.EventType[x.EventType.end]);var c=t;return t.drag=function(){if(!g)var g=l.drag().subject(x.Layout.dragOrigin).on("start.d3adaptor",x.Layout.dragStart).on("drag.d3adaptor",function(d){x.Layout.drag(d,l.event),c.resume()}).on("end.d3adaptor",x.Layout.dragEnd);if(!arguments.length)return g;arguments[0].call(g)},t}return u(m,_),m.prototype.trigger=function(l){var t={type:x.EventType[l.type],alpha:l.alpha,stress:l.stress};this.event.call(t.type,t)},m.prototype.kick=function(){var l=this,t=this.d3Context.timer(function(){return _.prototype.tick.call(l)&&t.stop()})},m.prototype.on=function(l,t){return this.event.on("string"==typeof l?l:x.EventType[l],t),this},m}(x.Layout);k.D3StyleLayoutAdaptor=v},91786:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var o=function(){function v(){this.locks={}}return v.prototype.add=function(_,m){this.locks[_]=m},v.prototype.clear=function(){this.locks={}},v.prototype.isEmpty=function(){for(var _ in this.locks)return!1;return!0},v.prototype.apply=function(_){for(var m in this.locks)_(Number(m),this.locks[m])},v}();k.Locks=o;var u=function(){function v(_,m,l){void 0===l&&(l=null),this.D=m,this.G=l,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new x,this.project=null,this.x=_,this.k=_.length;var t=this.n=_[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new o,this.minD=Number.MAX_VALUE;for(var h,c=t;c--;)for(h=t;--h>c;){var g=m[c][h];g>0&&g<this.minD&&(this.minD=g)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),c=this.k;c--;){for(this.g[c]=new Array(t),this.H[c]=new Array(t),h=t;h--;)this.H[c][h]=new Array(t);this.Hd[c]=new Array(t),this.a[c]=new Array(t),this.b[c]=new Array(t),this.c[c]=new Array(t),this.d[c]=new Array(t),this.e[c]=new Array(t),this.ia[c]=new Array(t),this.ib[c]=new Array(t),this.xtmp[c]=new Array(t)}}return v.createSquareMatrix=function(_,m){for(var l=new Array(_),t=0;t<_;++t){l[t]=new Array(_);for(var c=0;c<_;++c)l[t][c]=m(t,c)}return l},v.prototype.offsetDir=function(){for(var _=this,m=new Array(this.k),l=0,t=0;t<this.k;++t){var c=m[t]=this.random.getNextBetween(.01,1)-.5;l+=c*c}return l=Math.sqrt(l),m.map(function(h){return h*(_.minD/l)})},v.prototype.computeDerivatives=function(_){var m=this,l=this.n;if(!(l<1)){for(var t,c=new Array(this.k),h=new Array(this.k),g=new Array(this.k),d=0,p=0;p<l;++p){for(t=0;t<this.k;++t)g[t]=this.g[t][p]=0;for(var C=0;C<l;++C)if(p!==C){for(var A=l;A--;){var L=0;for(t=0;t<this.k;++t){var N=c[t]=_[t][p]-_[t][C];L+=h[t]=N*N}if(L>1e-9)break;var P=this.offsetDir();for(t=0;t<this.k;++t)_[t][C]+=P[t]}var R=Math.sqrt(L),Z=this.D[p][C],H=null!=this.G?this.G[p][C]:1;if(H>1&&R>Z||!isFinite(Z)){for(t=0;t<this.k;++t)this.H[t][p][C]=0;continue}H>1&&(H=1);var z=Z*Z,tt=2*H*(R-Z)/(z*R),rt=R*R*R,ot=2*-H/(z*rt);for(isFinite(tt)||console.log(tt),t=0;t<this.k;++t)this.g[t][p]+=c[t]*tt,g[t]-=this.H[t][p][C]=ot*(rt+Z*(h[t]-L)+R*L)}for(t=0;t<this.k;++t)d=Math.max(d,this.H[t][p][p]=g[t])}var J=this.snapGridSize/2,et=this.snapGridSize,at=this.snapStrength/(J*J),Y=this.numGridSnapNodes;for(p=0;p<Y;++p)for(t=0;t<this.k;++t){var K=this.x[t][p],ut=K/et,it=ut%1,G=ut-it;-J<(N=Math.abs(it)<=.5?K-G*et:K>0?K-(G+1)*et:K-(G-1)*et)&&N<=J&&(this.scaleSnapByMaxH?(this.g[t][p]+=d*at*N,this.H[t][p][p]+=d*at):(this.g[t][p]+=at*N,this.H[t][p][p]+=at))}this.locks.isEmpty()||this.locks.apply(function(ft,It){for(t=0;t<m.k;++t)m.H[t][ft][ft]+=d,m.g[t][ft]-=d*(It[t]-_[t][ft])})}},v.dotProd=function(_,m){for(var l=0,t=_.length;t--;)l+=_[t]*m[t];return l},v.rightMultiply=function(_,m,l){for(var t=_.length;t--;)l[t]=v.dotProd(_[t],m)},v.prototype.computeStepSize=function(_){for(var m=0,l=0,t=0;t<this.k;++t)m+=v.dotProd(this.g[t],_[t]),v.rightMultiply(this.H[t],_[t],this.Hd[t]),l+=v.dotProd(_[t],this.Hd[t]);return 0!==l&&isFinite(l)?1*m/l:0},v.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var _=this.computeStepSize(this.g),m=0;m<this.k;++m)this.takeDescentStep(this.x[m],this.g[m],_);return this.computeStress()},v.copy=function(_,m){for(var l=_.length,t=m[0].length,c=0;c<l;++c)for(var h=0;h<t;++h)m[c][h]=_[c][h]},v.prototype.stepAndProject=function(_,m,l,t){v.copy(_,m),this.takeDescentStep(m[0],l[0],t),this.project&&this.project[0](_[0],_[1],m[0]),this.takeDescentStep(m[1],l[1],t),this.project&&this.project[1](m[0],_[1],m[1]);for(var c=2;c<this.k;c++)this.takeDescentStep(m[c],l[c],t)},v.mApply=function(_,m,l){for(var t=_;t-- >0;)for(var c=m;c-- >0;)l(t,c)},v.prototype.matrixApply=function(_){v.mApply(this.k,this.n,_)},v.prototype.computeNextPosition=function(_,m){var l=this;this.computeDerivatives(_);var t=this.computeStepSize(this.g);if(this.stepAndProject(_,m,this.g,t),this.project){this.matrixApply(function(h,g){return l.e[h][g]=_[h][g]-m[h][g]});var c=this.computeStepSize(this.e);c=Math.max(.2,Math.min(c,1)),this.stepAndProject(_,m,this.e,c)}},v.prototype.run=function(_){for(var m=Number.MAX_VALUE,l=!1;!l&&_-- >0;){var t=this.rungeKutta();l=Math.abs(m/t-1)<this.threshold,m=t}return m},v.prototype.rungeKutta=function(){var _=this;this.computeNextPosition(this.x,this.a),v.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),v.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var m=0;return this.matrixApply(function(l,t){var c=(_.a[l][t]+2*_.b[l][t]+2*_.c[l][t]+_.d[l][t])/6,h=_.x[l][t]-c;m+=h*h,_.x[l][t]=c}),m},v.mid=function(_,m,l){v.mApply(_.length,_[0].length,function(t,c){return l[t][c]=_[t][c]+(m[t][c]-_[t][c])/2})},v.prototype.takeDescentStep=function(_,m,l){for(var t=0;t<this.n;++t)_[t]=_[t]-l*m[t]},v.prototype.computeStress=function(){for(var _=0,m=0,l=this.n-1;m<l;++m)for(var t=m+1,c=this.n;t<c;++t){for(var h=0,g=0;g<this.k;++g){var d=this.x[g][m]-this.x[g][t];h+=d*d}h=Math.sqrt(h);var p=this.D[m][t];if(isFinite(p)){var C=p-h;_+=C*C/(p*p)}}return _},v.zeroDistance=1e-10,v}();k.Descent=u;var x=function(){function v(_){void 0===_&&(_=1),this.seed=_,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return v.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},v.prototype.getNextBetween=function(_,m){return _+this.getNext()*(m-_)},v}();k.PseudoRandom=x},30225:function(w,k,o){"use strict";var it,u=this&&this.__extends||(it=function(G,M){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,It){ft.__proto__=It}||function(ft,It){for(var Zt in It)It.hasOwnProperty(Zt)&&(ft[Zt]=It[Zt])})(G,M)},function(G,M){function ft(){this.constructor=G}it(G,M),G.prototype=null===M?Object.create(M):(ft.prototype=M.prototype,new ft)});Object.defineProperty(k,"__esModule",{value:!0});var x=o(4068),v=function it(){};k.Point=v;var _=function it(G,M,ft,It){this.x1=G,this.y1=M,this.x2=ft,this.y2=It};k.LineSegment=_;var m=function(it){function G(){return null!==it&&it.apply(this,arguments)||this}return u(G,it),G}(v);function l(it,G,M){return(G.x-it.x)*(M.y-it.y)-(M.x-it.x)*(G.y-it.y)}function t(it,G,M){return l(it,G,M)>0}function c(it,G,M){return l(it,G,M)<0}function C(it,G){var M=G.slice(0);return M.push(G[0]),{rtan:A(it,M),ltan:L(it,M)}}function A(it,G){var ft,It,Zt,ie,M=G.length-1;if(c(it,G[1],G[0])&&!t(it,G[M-1],G[0]))return 0;for(ft=0,It=M;;){if(It-ft==1)return t(it,G[ft],G[It])?ft:It;if((ie=c(it,G[(Zt=Math.floor((ft+It)/2))+1],G[Zt]))&&!t(it,G[Zt-1],G[Zt]))return Zt;t(it,G[ft+1],G[ft])?ie||t(it,G[ft],G[Zt])?It=Zt:ft=Zt:ie&&c(it,G[ft],G[Zt])?It=Zt:ft=Zt}}function L(it,G){var ft,It,Zt,ie,M=G.length-1;if(t(it,G[M-1],G[0])&&!c(it,G[1],G[0]))return 0;for(ft=0,It=M;;){if(It-ft==1)return c(it,G[ft],G[It])?ft:It;if(ie=c(it,G[(Zt=Math.floor((ft+It)/2))+1],G[Zt]),t(it,G[Zt-1],G[Zt])&&!ie)return Zt;c(it,G[ft+1],G[ft])?ie?c(it,G[ft],G[Zt])?It=Zt:ft=Zt:It=Zt:ie?ft=Zt:t(it,G[ft],G[Zt])?It=Zt:ft=Zt}}function N(it,G,M,ft,It,Zt){var Yt,ie;ie=ft(it[Yt=M(G[0],it)],G);for(var Ut=!1;!Ut;){for(Ut=!0;Yt===it.length-1&&(Yt=0),!It(G[ie],it[Yt],it[Yt+1]);)++Yt;for(;0===ie&&(ie=G.length-1),!Zt(it[Yt],G[ie],G[ie-1]);)--ie,Ut=!1}return{t1:Yt,t2:ie}}function R(it,G){return N(it,G,A,L,t,c)}k.PolyPoint=m,k.isLeft=l,k.ConvexHull=function h(it){var ft,G=it.slice(0).sort(function(Jt,ge){return Jt.x!==ge.x?ge.x-Jt.x:ge.y-Jt.y}),M=it.length,Zt=G[0].x;for(ft=1;ft<M&&G[ft].x===Zt;++ft);var Yt=ft-1,ie=[];if(ie.push(G[0]),Yt===M-1)G[Yt].y!==G[0].y&&ie.push(G[Yt]);else{var Ut,xt=M-1,pt=G[M-1].x;for(ft=M-2;ft>=0&&G[ft].x===pt;ft--);for(Ut=ft+1,ft=Yt;++ft<=Ut;)if(!(l(G[0],G[Ut],G[ft])>=0&&ft<Ut)){for(;ie.length>1&&!(l(ie[ie.length-2],ie[ie.length-1],G[ft])>0);)ie.length-=1;0!=ft&&ie.push(G[ft])}xt!=Ut&&ie.push(G[xt]);var Nt=ie.length;for(ft=Ut;--ft>=Yt;)if(!(l(G[xt],G[Yt],G[ft])>=0&&ft>Yt)){for(;ie.length>Nt&&!(l(ie[ie.length-2],ie[ie.length-1],G[ft])>0);)ie.length-=1;0!=ft&&ie.push(G[ft])}}return ie},k.clockwiseRadialSweep=function g(it,G,M){G.slice(0).sort(function(ft,It){return Math.atan2(ft.y-it.y,ft.x-it.x)-Math.atan2(It.y-it.y,It.x-it.x)}).forEach(M)},k.tangent_PolyPolyC=N,k.LRtangent_PolyPolyC=function P(it,G){var M=R(G,it);return{t1:M.t2,t2:M.t1}},k.RLtangent_PolyPolyC=R,k.LLtangent_PolyPolyC=function Z(it,G){return N(it,G,L,L,c,c)},k.RRtangent_PolyPolyC=function H(it,G){return N(it,G,A,A,t,t)};var z=function it(G,M){this.t1=G,this.t2=M};k.BiTangent=z;var tt=function it(){};k.BiTangents=tt;var rt=function(it){function G(){return null!==it&&it.apply(this,arguments)||this}return u(G,it),G}(v);k.TVGPoint=rt;var ot=function it(G,M,ft,It){this.id=G,this.polyid=M,this.polyvertid=ft,this.p=It,It.vv=this};k.VisibilityVertex=ot;var J=function(){function it(G,M){this.source=G,this.target=M}return it.prototype.length=function(){var G=this.source.p.x-this.target.p.x,M=this.source.p.y-this.target.p.y;return Math.sqrt(G*G+M*M)},it}();k.VisibilityEdge=J;var et=function(){function it(G,M){if(this.P=G,this.V=[],this.E=[],M)this.V=M.V.slice(0),this.E=M.E.slice(0);else{for(var ft=G.length,It=0;It<ft;It++){for(var Zt=G[It],Yt=0;Yt<Zt.length;++Yt){var Ut=new ot(this.V.length,It,Yt,Zt[Yt]);this.V.push(Ut),Yt>0&&this.E.push(new J(Zt[Yt-1].vv,Ut))}Zt.length>1&&this.E.push(new J(Zt[0].vv,Zt[Zt.length-1].vv))}for(It=0;It<ft-1;It++){var xt=G[It];for(Yt=It+1;Yt<ft;Yt++){var pt=G[Yt],Nt=at(xt,pt);for(var Jt in Nt){var ge=Nt[Jt];this.addEdgeIfVisible(xt[ge.t1],pt[ge.t2],It,Yt)}}}}}return it.prototype.addEdgeIfVisible=function(G,M,ft,It){this.intersectsPolys(new _(G.x,G.y,M.x,M.y),ft,It)||this.E.push(new J(G.vv,M.vv))},it.prototype.addPoint=function(G,M){var ft=this.P.length;this.V.push(new ot(this.V.length,ft,0,G));for(var It=0;It<ft;++It)if(It!==M){var Zt=this.P[It],Yt=C(G,Zt);this.addEdgeIfVisible(G,Zt[Yt.ltan],M,It),this.addEdgeIfVisible(G,Zt[Yt.rtan],M,It)}return G.vv},it.prototype.intersectsPolys=function(G,M,ft){for(var It=0,Zt=this.P.length;It<Zt;++It)if(It!=M&&It!=ft&&q(G,this.P[It]).length>0)return!0;return!1},it}();function q(it,G){for(var M=[],ft=1,It=G.length;ft<It;++ft){var Zt=x.Rectangle.lineIntersection(it.x1,it.y1,it.x2,it.y2,G[ft-1].x,G[ft-1].y,G[ft].x,G[ft].y);Zt&&M.push(Zt)}return M}function at(it,G){for(var M=it.length-1,ft=G.length-1,It=new tt,Zt=0;Zt<M;++Zt)for(var Yt=0;Yt<ft;++Yt){var ie=it[0==Zt?M-1:Zt-1],Ut=it[Zt],xt=it[Zt+1],pt=G[0==Yt?ft-1:Yt-1],Nt=G[Yt],Jt=G[Yt+1],ge=l(ie,Ut,Nt),_e=l(Ut,pt,Nt),Te=l(Ut,Nt,Jt),Ze=l(pt,Nt,Ut),yn=l(Nt,ie,Ut),Pe=l(Nt,Ut,xt);ge>=0&&_e>=0&&Te<0&&Ze>=0&&yn>=0&&Pe<0?It.ll=new z(Zt,Yt):ge<=0&&_e<=0&&Te>0&&Ze<=0&&yn<=0&&Pe>0?It.rr=new z(Zt,Yt):ge<=0&&_e>0&&Te<=0&&Ze>=0&&yn<0&&Pe>=0?It.rl=new z(Zt,Yt):ge>=0&&_e<0&&Te>=0&&Ze<=0&&yn>0&&Pe<=0&&(It.lr=new z(Zt,Yt))}return It}function K(it,G){return!it.every(function(M){return!function Y(it,G){for(var M=1,ft=G.length;M<ft;++M)if(c(G[M-1],G[M],it))return!1;return!0}(M,G)})}k.TangentVisibilityGraph=et,k.tangents=at,k.polysOverlap=function ut(it,G){if(K(it,G)||K(G,it))return!0;for(var M=1,ft=it.length;M<ft;++M){var It=it[M],Zt=it[M-1];if(q(new _(Zt.x,Zt.y,It.x,It.y),G).length>0)return!0}return!1}},76767:(w,k,o)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var u=o(4068),x=o(98237),v=o(33858),_=function c(h,g,d){this.id=h,this.rect=g,this.children=d,this.leaf=void 0===d||0===d.length};k.NodeWrapper=_;var m=function c(h,g,d,p,C){void 0===p&&(p=null),void 0===C&&(C=null),this.id=h,this.x=g,this.y=d,this.node=p,this.line=C};k.Vert=m;var l=function(){function c(h,g){this.s=h,this.t=g;var d=c.findMatch(h,g),p=g.slice(0).reverse(),C=c.findMatch(h,p);d.length>=C.length?(this.length=d.length,this.si=d.si,this.ti=d.ti,this.reversed=!1):(this.length=C.length,this.si=C.si,this.ti=g.length-C.ti-C.length,this.reversed=!0)}return c.findMatch=function(h,g){for(var d=h.length,p=g.length,C={length:0,si:-1,ti:-1},A=new Array(d),L=0;L<d;L++){A[L]=new Array(p);for(var N=0;N<p;N++)if(h[L]===g[N]){var P=A[L][N]=0===L||0===N?1:A[L-1][N-1]+1;P>C.length&&(C.length=P,C.si=L-P+1,C.ti=N-P+1)}else A[L][N]=0}return C},c.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},c}();k.LongestCommonSubsequence=l;var t=function(){function c(h,g,d){var p=this;void 0===d&&(d=12),this.originalnodes=h,this.groupPadding=d,this.leaves=null,this.nodes=h.map(function(rt,ot){return new _(ot,g.getBounds(rt),g.getChildren(rt))}),this.leaves=this.nodes.filter(function(rt){return rt.leaf}),this.groups=this.nodes.filter(function(rt){return!rt.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(rt){return rt.children.forEach(function(ot){return p.nodes[ot].parent=rt})}),this.root={children:[]},this.nodes.forEach(function(rt){void 0===rt.parent&&(rt.parent=p.root,p.root.children.push(rt.id)),rt.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(rt,ot){return p.getDepth(rt)-p.getDepth(ot)}),this.backToFront.slice(0).reverse().filter(function(rt){return!rt.leaf}).forEach(function(rt){var ot=u.Rectangle.empty();rt.children.forEach(function(J){return ot=ot.union(p.nodes[J].rect)}),rt.rect=ot.inflate(p.groupPadding)});var A=this.midPoints(this.cols.map(function(rt){return rt.pos})),L=this.midPoints(this.rows.map(function(rt){return rt.pos})),N=A[0],P=A[A.length-1],R=L[0],Z=L[L.length-1],H=this.rows.map(function(rt){return{x1:N,x2:P,y1:rt.pos,y2:rt.pos}}).concat(L.map(function(rt){return{x1:N,x2:P,y1:rt,y2:rt}})),z=this.cols.map(function(rt){return{x1:rt.pos,x2:rt.pos,y1:R,y2:Z}}).concat(A.map(function(rt){return{x1:rt,x2:rt,y1:R,y2:Z}})),tt=H.concat(z);tt.forEach(function(rt){return rt.verts=[]}),this.verts=[],this.edges=[],H.forEach(function(rt){return z.forEach(function(ot){var J=new m(p.verts.length,ot.x1,rt.y1);rt.verts.push(J),ot.verts.push(J),p.verts.push(J);for(var et=p.backToFront.length;et-- >0;){var q=p.backToFront[et],at=q.rect,Y=Math.abs(J.x-at.cx()),K=Math.abs(J.y-at.cy());if(Y<at.width()/2&&K<at.height()/2){J.node=q;break}}})}),tt.forEach(function(rt,ot){p.nodes.forEach(function(K,ut){K.rect.lineIntersections(rt.x1,rt.y1,rt.x2,rt.y2).forEach(function(it,G){var M=new m(p.verts.length,it.x,it.y,K,rt);p.verts.push(M),rt.verts.push(M),K.ports.push(M)})});var J=Math.abs(rt.y1-rt.y2)<.1,et=function(K,ut){return J?ut.x-K.x:ut.y-K.y};rt.verts.sort(et);for(var q=1;q<rt.verts.length;q++){var at=rt.verts[q-1],Y=rt.verts[q];at.node&&at.node===Y.node&&at.node.leaf||p.edges.push({source:at.id,target:Y.id,length:Math.abs(et(at,Y))})}})}return c.prototype.avg=function(h){return h.reduce(function(g,d){return g+d})/h.length},c.prototype.getGridLines=function(h){for(var g=[],d=this.leaves.slice(0,this.leaves.length);d.length>0;){var p=d.filter(function(A){return A.rect["overlap"+h.toUpperCase()](d[0].rect)}),C={nodes:p,pos:this.avg(p.map(function(A){return A.rect["c"+h]()}))};g.push(C),C.nodes.forEach(function(A){return d.splice(d.indexOf(A),1)})}return g.sort(function(A,L){return A.pos-L.pos}),g},c.prototype.getDepth=function(h){for(var g=0;h.parent!==this.root;)g++,h=h.parent;return g},c.prototype.midPoints=function(h){for(var g=h[1]-h[0],d=[h[0]-g/2],p=1;p<h.length;p++)d.push((h[p]+h[p-1])/2);return d.push(h[h.length-1]+g/2),d},c.prototype.findLineage=function(h){var g=[h];do{g.push(h=h.parent)}while(h!==this.root);return g.reverse()},c.prototype.findAncestorPathBetween=function(h,g){for(var d=this.findLineage(h),p=this.findLineage(g),C=0;d[C]===p[C];)C++;return{commonAncestor:d[C-1],lineages:d.slice(C).concat(p.slice(C))}},c.prototype.siblingObstacles=function(h,g){var d=this,p=this.findAncestorPathBetween(h,g),C={};p.lineages.forEach(function(L){return C[L.id]={}});var A=p.commonAncestor.children.filter(function(L){return!(L in C)});return p.lineages.filter(function(L){return L.parent!==p.commonAncestor}).forEach(function(L){return A=A.concat(L.parent.children.filter(function(N){return N!==L.id}))}),A.map(function(L){return d.nodes[L]})},c.getSegmentSets=function(h,g,d){for(var p=[],C=0;C<h.length;C++)for(var A=h[C],L=0;L<A.length;L++)(N=A[L]).edgeid=C,N.i=L,Math.abs(N[1][g]-N[0][g])<.1&&p.push(N);p.sort(function(z,tt){return z[0][g]-tt[0][g]});for(var R=[],Z=null,H=0;H<p.length;H++){var N=p[H];(!Z||Math.abs(N[0][g]-Z.pos)>.1)&&R.push(Z={pos:N[0][g],segments:[]}),Z.segments.push(N)}return R},c.nudgeSegs=function(h,g,d,p,C,A){var L=p.length;if(!(L<=1)){for(var N=p.map(function(q){return new x.Variable(q[0][h])}),P=[],R=0;R<L;R++)for(var Z=0;Z<L;Z++)if(R!==Z){var H=p[R],tt=H.edgeid,rt=p[Z].edgeid,ot=-1,J=-1;"x"==h?C(tt,rt)&&(H[0][g]<H[1][g]?(ot=Z,J=R):(ot=R,J=Z)):C(tt,rt)&&(H[0][g]<H[1][g]?(ot=R,J=Z):(ot=Z,J=R)),ot>=0&&P.push(new x.Constraint(N[ot],N[J],A))}new x.Solver(N,P).solve(),N.forEach(function(q,at){var Y=p[at],K=q.position();Y[0][h]=Y[1][h]=K;var ut=d[Y.edgeid];Y.i>0&&(ut[Y.i-1][1][h]=K),Y.i<ut.length-1&&(ut[Y.i+1][0][h]=K)})}},c.nudgeSegments=function(h,g,d,p,C){for(var A=c.getSegmentSets(h,g,d),L=0;L<A.length;L++){for(var N=A[L],P=[],R=0;R<N.segments.length;R++){var Z=N.segments[R];P.push({type:0,s:Z,pos:Math.min(Z[0][d],Z[1][d])}),P.push({type:1,s:Z,pos:Math.max(Z[0][d],Z[1][d])})}P.sort(function(tt,rt){return tt.pos-rt.pos+tt.type-rt.type});var H=[],z=0;P.forEach(function(tt){0===tt.type?(H.push(tt.s),z++):z--,0==z&&(c.nudgeSegs(g,d,h,H,p,C),H=[])})}},c.prototype.routeEdges=function(h,g,d,p){var C=this,A=h.map(function(P){return C.route(d(P),p(P))}),L=c.orderEdges(A),N=A.map(function(P){return c.makeSegments(P)});return c.nudgeSegments(N,"x","y",L,g),c.nudgeSegments(N,"y","x",L,g),c.unreverseEdges(N,A),N},c.unreverseEdges=function(h,g){h.forEach(function(d,p){g[p].reversed&&(d.reverse(),d.forEach(function(A){A.reverse()}))})},c.angleBetween2Lines=function(h,g){var d=Math.atan2(h[0].y-h[1].y,h[0].x-h[1].x),p=Math.atan2(g[0].y-g[1].y,g[0].x-g[1].x),C=d-p;return(C>Math.PI||C<-Math.PI)&&(C=p-d),C},c.isLeft=function(h,g,d){return(g.x-h.x)*(d.y-h.y)-(g.y-h.y)*(d.x-h.x)<=0},c.getOrder=function(h){for(var g={},d=0;d<h.length;d++){var p=h[d];void 0===g[p.l]&&(g[p.l]={}),g[p.l][p.r]=!0}return function(C,A){return void 0!==g[C]&&g[C][A]}},c.orderEdges=function(h){for(var g=[],d=0;d<h.length-1;d++)for(var p=d+1;p<h.length;p++){var N,P,R,C=h[d],A=h[p],L=new l(C,A);if(0!==L.length){if(L.reversed&&(A.reverse(),A.reversed=!0,L=new l(C,A)),(L.si<=0||L.ti<=0)&&(L.si+L.length>=C.length||L.ti+L.length>=A.length)){g.push({l:d,r:p});continue}L.si+L.length>=C.length||L.ti+L.length>=A.length?(N=C[L.si+1],R=C[L.si-1],P=A[L.ti-1]):(N=C[L.si+L.length-2],P=C[L.si+L.length],R=A[L.ti+L.length]),c.isLeft(N,P,R)?g.push({l:p,r:d}):g.push({l:d,r:p})}}return c.getOrder(g)},c.makeSegments=function(h){function g(P){return{x:P.x,y:P.y}}for(var p=[],C=g(h[0]),A=1;A<h.length;A++){var L=g(h[A]),N=A<h.length-1?h[A+1]:null;(!N||(P=C,R=L,Z=N,!(Math.abs((R.x-P.x)*(Z.y-P.y)-(R.y-P.y)*(Z.x-P.x))<.001)))&&(p.push([C,L]),C=L)}var P,R,Z;return p},c.prototype.route=function(h,g){var d=this,p=this.nodes[h],C=this.nodes[g];this.obstacles=this.siblingObstacles(p,C);var A={};this.obstacles.forEach(function(J){return A[J.id]=J}),this.passableEdges=this.edges.filter(function(J){var et=d.verts[J.source],q=d.verts[J.target];return!(et.node&&et.node.id in A||q.node&&q.node.id in A)});for(var L=1;L<p.ports.length;L++)this.passableEdges.push({source:p.ports[0].id,target:p.ports[L].id,length:0});for(L=1;L<C.ports.length;L++)this.passableEdges.push({source:C.ports[0].id,target:C.ports[L].id,length:0});var ot=new v.Calculator(this.verts.length,this.passableEdges,function(J){return J.source},function(J){return J.target},function(J){return J.length}).PathFromNodeToNodeWithPrevCost(p.ports[0].id,C.ports[0].id,function(J,et,q){var at=d.verts[J],Y=d.verts[et],K=d.verts[q],ut=Math.abs(K.x-at.x),it=Math.abs(K.y-at.y);return at.node===p&&at.node===Y.node||Y.node===C&&Y.node===K.node?0:ut>1&&it>1?1e3:0}).reverse().map(function(J){return d.verts[J]});return ot.push(this.nodes[C.id].ports[0]),ot.filter(function(J,et){return!(et<ot.length-1&&ot[et+1].node===p&&J.node===p||et>0&&J.node===C&&ot[et-1].node===C)})},c.getRoutePath=function(h,g,d,p){var L,N,P,ut,it,C={routepath:"M "+h[0][0].x+" "+h[0][0].y+" ",arrowpath:""};if(h.length>1)for(var A=0;A<h.length;A++){var R=(N=(L=h[A])[1].x)-L[0].x,Z=(P=L[1].y)-L[0].y;if(A<h.length-1){Math.abs(R)>0?N-=R/Math.abs(R)*g:P-=Z/Math.abs(Z)*g,C.routepath+="L "+N+" "+P+" ";var H=h[A+1],z=H[0].x,tt=H[0].y;R=H[1].x-z,Z=H[1].y-tt;var et,q,J=c.angleBetween2Lines(L,H)<0?1:0;Math.abs(R)>0?(et=z+R/Math.abs(R)*g,q=tt):(et=z,q=tt+Z/Math.abs(Z)*g);var at=Math.abs(et-N),Y=Math.abs(q-P);C.routepath+="A "+at+" "+Y+" 0 0 "+J+" "+et+" "+q+" "}else{var K=[N,P];Math.abs(R)>0?(ut=[N-=R/Math.abs(R)*p,P+d],it=[N,P-d]):(ut=[N+d,P-=Z/Math.abs(Z)*p],it=[N-d,P]),C.routepath+="L "+N+" "+P+" ",p>0&&(C.arrowpath="M "+K[0]+" "+K[1]+" L "+ut[0]+" "+ut[1]+" L "+it[0]+" "+it[1])}}else R=(N=(L=h[0])[1].x)-L[0].x,Z=(P=L[1].y)-L[0].y,K=[N,P],Math.abs(R)>0?(ut=[N-=R/Math.abs(R)*p,P+d],it=[N,P-d]):(ut=[N+d,P-=Z/Math.abs(Z)*p],it=[N-d,P]),C.routepath+="L "+N+" "+P+" ",p>0&&(C.arrowpath="M "+K[0]+" "+K[1]+" L "+ut[0]+" "+ut[1]+" L "+it[0]+" "+it[1]);return C},c}();k.GridRouter=t},30345:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var o_GOLDEN_SECTION=(1+Math.sqrt(5))/2;k.applyPacking=function u(v,_,m,A,C,c){void 0===C&&(C=1),void 0===c&&(c=!0);var d=_,p=m,L=(C=void 0!==C?C:1,A=void 0!==A?A:0,0),N=0,P=0,R=0,Z=[];function rt(q,at){Z=[],L=0,N=0,R=0;for(var Y=0;Y<q.length;Y++)ot(q[Y],at);return Math.abs(function et(){return L/N}()-C)}function ot(q,at){for(var Y=void 0,K=0;K<Z.length;K++)if(Z[K].space_left>=q.height&&Z[K].x+Z[K].width+q.width+10-at<=1e-4){Y=Z[K];break}Z.push(q),void 0!==Y?(q.x=Y.x+Y.width+10,q.y=Y.bottom,q.space_left=q.height,q.bottom=q.y,Y.space_left-=q.height+10,Y.bottom+=q.height+10):(q.y=R,R+=q.height+10,q.x=0,q.bottom=q.y,q.space_left=q.height),q.y+q.height-N>-1e-4&&(N=q.y+q.height-0),q.x+q.width-L>-1e-4&&(L=q.x+q.width-0)}0!=v.length&&(function H(q){q.forEach(function(Y){!function at(Y){var K=Number.MAX_VALUE,ut=Number.MAX_VALUE,it=0,G=0;Y.array.forEach(function(M){var ft=void 0!==M.width?M.width:A,It=void 0!==M.height?M.height:A;ft/=2,It/=2,it=Math.max(M.x+ft,it),K=Math.min(M.x-ft,K),G=Math.max(M.y+It,G),ut=Math.min(M.y-It,ut)}),Y.width=it-K,Y.height=G-ut}(Y)})}(v),function tt(q,at){var Y=Number.POSITIVE_INFINITY,K=0;q.sort(function(xt,pt){return pt.height-xt.height});for(var ut=ie=P=q.reduce(function(xt,pt){return xt.width<pt.width?xt.width:pt.width}),it=Ut=function J(q){var at=0;return q.forEach(function(Y){return at+=Y.width+10}),at}(q),G=0,M=Number.MAX_VALUE,ft=Number.MAX_VALUE,It=-1,Zt=Number.MAX_VALUE,Yt=Number.MAX_VALUE;Zt>P||Yt>1e-4;){if(1!=It){var ie=it-(it-ut)/o_GOLDEN_SECTION;M=rt(q,ie)}if(0!=It){var Ut=ut+(it-ut)/o_GOLDEN_SECTION;ft=rt(q,Ut)}if(Zt=Math.abs(ie-Ut),Yt=Math.abs(M-ft),M<Y&&(Y=M,K=ie),ft<Y&&(Y=ft,K=Ut),M>ft?(ut=ie,ie=Ut,M=ft,It=1):(it=Ut,Ut=ie,ft=M,It=0),G++>100)break}rt(q,K)}(v),c&&function z(q){q.forEach(function(at){var Y={x:0,y:0};at.array.forEach(function(it){Y.x+=it.x,Y.y+=it.y}),Y.x/=at.array.length,Y.y/=at.array.length;var ut_x=at.x-(Y.x-at.width/2)+d/2-L/2,ut_y=at.y-(Y.y-at.height/2)+p/2-N/2;at.array.forEach(function(it){it.x+=ut_x,it.y+=ut_y})})}(v))},k.separateGraphs=function x(v,_){for(var m={},l={},t=[],c=0,h=0;h<_.length;h++){var g=_[h],d=g.source,p=g.target;l[d.index]?l[d.index].push(p):l[d.index]=[p],l[p.index]?l[p.index].push(d):l[p.index]=[d]}for(h=0;h<v.length;h++){var C=v[h];m[C.index]||A(C,!0)}function A(L,N){if(void 0===m[L.index]){N&&(c++,t.push({array:[]})),m[L.index]=c,t[c-1].array.push(L);var P=l[L.index];if(P)for(var R=0;R<P.length;R++)A(P[R],!1)}}return t}},15675:(w,k,o)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var c,d,u=o(33900),x=o(58802),v=o(91786),_=o(4068),m=o(33858),l=o(30225),t=o(30345);function h(d){return void 0!==d.leaves||void 0!==d.groups}(d=c=k.EventType||(k.EventType={}))[d.start=0]="start",d[d.tick=1]="tick",d[d.end=2]="end";var g=function(){function d(){var p=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:d.getSourceIndex,getTargetIndex:d.getTargetIndex,setLength:d.setLinkLength,getType:function(C){return"function"==typeof p._linkType?p._linkType(C):0}}}return d.prototype.on=function(p,C){return this.event||(this.event={}),"string"==typeof p?this.event[c[p]]=C:this.event[p]=C,this},d.prototype.trigger=function(p){this.event&&void 0!==this.event[p.type]&&this.event[p.type](p)},d.prototype.kick=function(){for(;!this.tick(););},d.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:c.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var A,L,p=this._nodes.length;for(this._descent.locks.clear(),L=0;L<p;++L)(A=this._nodes[L]).fixed&&((void 0===A.px||void 0===A.py)&&(A.px=A.x,A.py=A.y),this._descent.locks.add(L,[A.px,A.py]));var P=this._descent.rungeKutta();return 0===P?this._alpha=0:void 0!==this._lastStress&&(this._alpha=P),this._lastStress=P,this.updateNodePositions(),this.trigger({type:c.tick,alpha:this._alpha,stress:this._lastStress}),!1},d.prototype.updateNodePositions=function(){for(var A,p=this._descent.x[0],C=this._descent.x[1],L=this._nodes.length;L--;)(A=this._nodes[L]).x=p[L],A.y=C[L]},d.prototype.nodes=function(p){if(!p){if(0===this._nodes.length&&this._links.length>0){var C=0;this._links.forEach(function(L){C=Math.max(C,L.source,L.target)}),this._nodes=new Array(++C);for(var A=0;A<C;++A)this._nodes[A]={}}return this._nodes}return this._nodes=p,this},d.prototype.groups=function(p){var C=this;return p?(this._groups=p,this._rootGroup={},this._groups.forEach(function(A){void 0===A.padding&&(A.padding=1),void 0!==A.leaves&&A.leaves.forEach(function(L,N){"number"==typeof L&&((A.leaves[N]=C._nodes[L]).parent=A)}),void 0!==A.groups&&A.groups.forEach(function(L,N){"number"==typeof L&&((A.groups[N]=C._groups[L]).parent=A)})}),this._rootGroup.leaves=this._nodes.filter(function(A){return void 0===A.parent}),this._rootGroup.groups=this._groups.filter(function(A){return void 0===A.parent}),this):this._groups},d.prototype.powerGraphGroups=function(p){var C=u.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(C.groups),p(C),this},d.prototype.avoidOverlaps=function(p){return arguments.length?(this._avoidOverlaps=p,this):this._avoidOverlaps},d.prototype.handleDisconnected=function(p){return arguments.length?(this._handleDisconnected=p,this):this._handleDisconnected},d.prototype.flowLayout=function(p,C){return arguments.length||(p="y"),this._directedLinkConstraints={axis:p,getMinSeparation:"number"==typeof C?function(){return C}:C},this},d.prototype.links=function(p){return arguments.length?(this._links=p,this):this._links},d.prototype.constraints=function(p){return arguments.length?(this._constraints=p,this):this._constraints},d.prototype.distanceMatrix=function(p){return arguments.length?(this._distanceMatrix=p,this):this._distanceMatrix},d.prototype.size=function(p){return p?(this._canvasSize=p,this):this._canvasSize},d.prototype.defaultNodeSize=function(p){return p?(this._defaultNodeSize=p,this):this._defaultNodeSize},d.prototype.groupCompactness=function(p){return p?(this._groupCompactness=p,this):this._groupCompactness},d.prototype.linkDistance=function(p){return p?(this._linkDistance="function"==typeof p?p:+p,this._linkLengthCalculator=null,this):this._linkDistance},d.prototype.linkType=function(p){return this._linkType=p,this},d.prototype.convergenceThreshold=function(p){return p?(this._threshold="function"==typeof p?p:+p,this):this._threshold},d.prototype.alpha=function(p){return arguments.length?(p=+p,this._alpha?this._alpha=p>0?p:0:p>0&&(this._running||(this._running=!0,this.trigger({type:c.start,alpha:this._alpha=p}),this.kick())),this):this._alpha},d.prototype.getLinkLength=function(p){return"function"==typeof this._linkDistance?+this._linkDistance(p):this._linkDistance},d.setLinkLength=function(p,C){p.length=C},d.prototype.getLinkType=function(p){return"function"==typeof this._linkType?this._linkType(p):0},d.prototype.symmetricDiffLinkLengths=function(p,C){var A=this;return void 0===C&&(C=1),this.linkDistance(function(L){return p*L.length}),this._linkLengthCalculator=function(){return x.symmetricDiffLinkLengths(A._links,A.linkAccessor,C)},this},d.prototype.jaccardLinkLengths=function(p,C){var A=this;return void 0===C&&(C=1),this.linkDistance(function(L){return p*L.length}),this._linkLengthCalculator=function(){return x.jaccardLinkLengths(A._links,A.linkAccessor,C)},this},d.prototype.start=function(p,C,A,L,N,P){var R=this;void 0===p&&(p=0),void 0===C&&(C=0),void 0===A&&(A=0),void 0===L&&(L=0),void 0===N&&(N=!0),void 0===P&&(P=!0);var K,z=this.nodes().length,tt=z+2*this._groups.length,ot=this._canvasSize[0],J=this._canvasSize[1],et=new Array(tt),q=new Array(tt),at=null,Y=this._avoidOverlaps;this._nodes.forEach(function(Zt,Yt){Zt.index=Yt,void 0===Zt.x&&(Zt.x=ot/2,Zt.y=J/2),et[Yt]=Zt.x,q[Yt]=Zt.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?K=this._distanceMatrix:(K=new m.Calculator(tt,this._links,d.getSourceIndex,d.getTargetIndex,function(Zt){return R.getLinkLength(Zt)}).DistanceMatrix(),at=v.Descent.createSquareMatrix(tt,function(){return 2}),this._links.forEach(function(Zt){"number"==typeof Zt.source&&(Zt.source=R._nodes[Zt.source]),"number"==typeof Zt.target&&(Zt.target=R._nodes[Zt.target])}),this._links.forEach(function(Zt){var Yt=d.getSourceIndex(Zt),ie=d.getTargetIndex(Zt);at[Yt][ie]=at[ie][Yt]=Zt.weight||1}));var ut=v.Descent.createSquareMatrix(tt,function(Zt,Yt){return K[Zt][Yt]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var Z=z;this._groups.forEach(function(Yt){(function(Yt,ie,Ut,xt){at[Yt][ie]=at[ie][Yt]=Ut,ut[Yt][ie]=ut[ie][Yt]=.1})(Z,Z+1,R._groupCompactness),et[Z]=0,q[Z++]=0,et[Z]=0,q[Z++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var G=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,G=G.concat(x.generateDirectedEdgeConstraints(z,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new v.Descent([et,q],ut),this._descent.locks.clear(),Z=0;Z<z;++Z){var M=this._nodes[Z];M.fixed&&(M.px=M.x,M.py=M.y,this._descent.locks.add(Z,[M.x,M.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(p,et,q),G.length>0&&(this._descent.project=new _.Projection(this._nodes,this._groups,this._rootGroup,G).projectFunctions()),this._descent.run(C),this.separateOverlappingComponents(ot,J,P),this.avoidOverlaps(Y),Y&&(this._nodes.forEach(function(Zt,Yt){Zt.x=et[Yt],Zt.y=q[Yt]}),this._descent.project=new _.Projection(this._nodes,this._groups,this._rootGroup,G,!0).projectFunctions(),this._nodes.forEach(function(Zt,Yt){et[Yt]=Zt.x,q[Yt]=Zt.y})),this._descent.G=at,this._descent.run(A),L){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=z,this._descent.scaleSnapByMaxH=z!=tt;var It=v.Descent.createSquareMatrix(tt,function(Zt,Yt){return Zt>=z||Yt>=z?at[Zt][Yt]:0});this._descent.G=It,this._descent.run(L)}return this.updateNodePositions(),this.separateOverlappingComponents(ot,J,P),N?this.resume():this},d.prototype.initialLayout=function(p,C,A){if(this._groups.length>0&&p>0){var L=this._nodes.length,N=this._links.map(function(R){return{source:R.source.index,target:R.target.index}}),P=this._nodes.map(function(R){return{index:R.index}});this._groups.forEach(function(R,Z){P.push({index:R.index=L+Z})}),this._groups.forEach(function(R,Z){void 0!==R.leaves&&R.leaves.forEach(function(H){return N.push({source:R.index,target:H.index})}),void 0!==R.groups&&R.groups.forEach(function(H){return N.push({source:R.index,target:H.index})})}),(new d).size(this.size()).nodes(P).links(N).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(p,0,0,0,!1),this._nodes.forEach(function(R){C[R.index]=P[R.index].x,A[R.index]=P[R.index].y})}else this._descent.run(p)},d.prototype.separateOverlappingComponents=function(p,C,A){var L=this;if(void 0===A&&(A=!0),!this._distanceMatrix&&this._handleDisconnected){var N=this._descent.x[0],P=this._descent.x[1];this._nodes.forEach(function(Z,H){Z.x=N[H],Z.y=P[H]});var R=t.separateGraphs(this._nodes,this._links);t.applyPacking(R,p,C,this._defaultNodeSize,1,A),this._nodes.forEach(function(Z,H){L._descent.x[0][H]=Z.x,L._descent.x[1][H]=Z.y,Z.bounds&&(Z.bounds.setXCentre(Z.x),Z.bounds.setYCentre(Z.y))})}},d.prototype.resume=function(){return this.alpha(.1)},d.prototype.stop=function(){return this.alpha(0)},d.prototype.prepareEdgeRouting=function(p){void 0===p&&(p=0),this._visibilityGraph=new l.TangentVisibilityGraph(this._nodes.map(function(C){return C.bounds.inflate(-p).vertices()}))},d.prototype.routeEdge=function(p,C,A){void 0===C&&(C=5);var L=[],N=new l.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),P={x:p.source.x,y:p.source.y},R={x:p.target.x,y:p.target.y},Z=N.addPoint(P,p.source.index),H=N.addPoint(R,p.target.index);N.addEdgeIfVisible(P,R,p.source.index,p.target.index),void 0!==A&&A(N);var J=new m.Calculator(N.V.length,N.E,function(ut){return ut.source.id},function(ut){return ut.target.id},function(ut){return ut.length()}).PathFromNodeToNode(Z.id,H.id);if(1===J.length||J.length===N.V.length){var et=_.makeEdgeBetween(p.source.innerBounds,p.target.innerBounds,C);L=[et.sourceIntersection,et.arrowStart]}else{for(var q=J.length-2,at=N.V[J[q]].p,Y=N.V[J[0]].p,K=(L=[p.source.innerBounds.rayIntersection(at.x,at.y)],q);K>=0;--K)L.push(N.V[J[K]].p);L.push(_.makeEdgeTo(Y,p.target.innerBounds,C))}return L},d.getSourceIndex=function(p){return"number"==typeof p.source?p.source:p.source.index},d.getTargetIndex=function(p){return"number"==typeof p.target?p.target:p.target.index},d.linkId=function(p){return d.getSourceIndex(p)+"-"+d.getTargetIndex(p)},d.dragStart=function(p){h(p)?d.storeOffset(p,d.dragOrigin(p)):(d.stopNode(p),p.fixed|=2)},d.stopNode=function(p){p.px=p.x,p.py=p.y},d.storeOffset=function(p,C){void 0!==p.leaves&&p.leaves.forEach(function(A){A.fixed|=2,d.stopNode(A),A._dragGroupOffsetX=A.x-C.x,A._dragGroupOffsetY=A.y-C.y}),void 0!==p.groups&&p.groups.forEach(function(A){return d.storeOffset(A,C)})},d.dragOrigin=function(p){return h(p)?{x:p.bounds.cx(),y:p.bounds.cy()}:p},d.drag=function(p,C){h(p)?(void 0!==p.leaves&&p.leaves.forEach(function(A){p.bounds.setXCentre(C.x),p.bounds.setYCentre(C.y),A.px=A._dragGroupOffsetX+C.x,A.py=A._dragGroupOffsetY+C.y}),void 0!==p.groups&&p.groups.forEach(function(A){return d.drag(A,C)})):(p.px=C.x,p.py=C.y)},d.dragEnd=function(p){h(p)?(void 0!==p.leaves&&p.leaves.forEach(function(C){d.dragEnd(C),delete C._dragGroupOffsetX,delete C._dragGroupOffsetY}),void 0!==p.groups&&p.groups.forEach(d.dragEnd)):p.fixed&=-7},d.mouseOver=function(p){p.fixed|=4,p.px=p.x,p.py=p.y},d.mouseOut=function(p){p.fixed&=-5},d}();k.Layout=g},86461:(w,k,o)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var u=o(33858),x=o(91786),v=o(4068),_=o(58802),m=function(){function h(g,d){this.source=g,this.target=d}return h.prototype.actualLength=function(g){var d=this;return Math.sqrt(g.reduce(function(p,C){var A=C[d.target]-C[d.source];return p+A*A},0))},h}();k.Link3D=m,k.Node3D=function h(g,d,p){void 0===g&&(g=0),void 0===d&&(d=0),void 0===p&&(p=0),this.x=g,this.y=d,this.z=p};var t=function(){function h(g,d,p){var C=this;void 0===p&&(p=1),this.nodes=g,this.links=d,this.idealLinkLength=p,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(h.k);for(var A=0;A<h.k;++A)this.result[A]=new Array(g.length);g.forEach(function(L,N){for(var P=0,R=h.dims;P<R.length;P++){var Z=R[P];void 0===L[Z]&&(L[Z]=Math.random())}C.result[0][N]=L.x,C.result[1][N]=L.y,C.result[2][N]=L.z})}return h.prototype.linkLength=function(g){return g.actualLength(this.result)},h.prototype.start=function(g){var d=this;void 0===g&&(g=100);var p=this.nodes.length,C=new c;this.useJaccardLinkLengths&&_.jaccardLinkLengths(this.links,C,1.5),this.links.forEach(function(Z){return Z.length*=d.idealLinkLength});var A=new u.Calculator(p,this.links,function(Z){return Z.source},function(Z){return Z.target},function(Z){return Z.length}).DistanceMatrix(),L=x.Descent.createSquareMatrix(p,function(Z,H){return A[Z][H]}),N=x.Descent.createSquareMatrix(p,function(){return 2});this.links.forEach(function(Z){var H=Z.source,z=Z.target;return N[H][z]=N[z][H]=1}),this.descent=new x.Descent(this.result,L),this.descent.threshold=.001,this.descent.G=N,this.constraints&&(this.descent.project=new v.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var P=0;P<this.nodes.length;P++){var R=this.nodes[P];R.fixed&&this.descent.locks.add(P,[R.x,R.y,R.z])}return this.descent.run(g),this},h.prototype.tick=function(){this.descent.locks.clear();for(var g=0;g<this.nodes.length;g++){var d=this.nodes[g];d.fixed&&this.descent.locks.add(g,[d.x,d.y,d.z])}return this.descent.rungeKutta()},h.k=(h.dims=["x","y","z"]).length,h}();k.Layout3D=t;var c=function(){function h(){}return h.prototype.getSourceIndex=function(g){return g.source},h.prototype.getTargetIndex=function(g){return g.target},h.prototype.getLength=function(g){return g.length},h.prototype.setLength=function(g,d){g.length=d},h}()},58802:(w,k)=>{"use strict";function o(c,h){var g={};for(var d in c)g[d]={};for(var d in h)g[d]={};return Object.keys(g).length}function u(c,h){var g=0;for(var d in c)void 0!==h[d]&&++g;return g}function v(c,h,g,d){var p=function x(c,h){var g={},d=function(p,C){void 0===g[p]&&(g[p]={}),g[p][C]={}};return c.forEach(function(p){var C=h.getSourceIndex(p),A=h.getTargetIndex(p);d(C,A),d(A,C)}),g}(c,d);c.forEach(function(C){var A=p[d.getSourceIndex(C)],L=p[d.getTargetIndex(C)];d.setLength(C,1+h*g(A,L))})}function t(c,h,g){var d=[],p=0,C=[],A=[];function L(J){J.index=J.lowlink=p++,C.push(J),J.onStack=!0;for(var et=0,q=J.out;et<q.length;et++){var at=q[et];void 0===at.index?(L(at),J.lowlink=Math.min(J.lowlink,at.lowlink)):at.onStack&&(J.lowlink=Math.min(J.lowlink,at.index))}if(J.lowlink===J.index){for(var Y=[];C.length&&((at=C.pop()).onStack=!1,Y.push(at),at!==J););A.push(Y.map(function(K){return K.id}))}}for(var N=0;N<c;N++)d.push({id:N,out:[]});for(var P=0,R=h;P<R.length;P++){var Z=R[P],H=d[g.getSourceIndex(Z)],z=d[g.getTargetIndex(Z)];H.out.push(z)}for(var tt=0,rt=d;tt<rt.length;tt++){var ot=rt[tt];void 0===ot.index&&L(ot)}return A}Object.defineProperty(k,"__esModule",{value:!0}),k.symmetricDiffLinkLengths=function _(c,h,g){void 0===g&&(g=1),v(c,g,function(d,p){return Math.sqrt(o(d,p)-u(d,p))},h)},k.jaccardLinkLengths=function m(c,h,g){void 0===g&&(g=1),v(c,g,function(d,p){return Math.min(Object.keys(d).length,Object.keys(p).length)<1.1?0:u(d,p)/o(d,p)},h)},k.generateDirectedEdgeConstraints=function l(c,h,g,d){var p=t(c,h,d),C={};p.forEach(function(L,N){return L.forEach(function(P){return C[P]=N})});var A=[];return h.forEach(function(L){var N=d.getSourceIndex(L),P=d.getTargetIndex(L);C[N]!==C[P]&&A.push({axis:g,left:N,right:P,gap:d.getMinSeparation(L)})}),A},k.stronglyConnectedComponents=t},33900:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var o=function h(g,d,p){this.source=g,this.target=d,this.type=p};k.PowerEdge=o;var u=function(){function h(g,d,p,C){var A=this;if(this.linkAccessor=p,this.modules=new Array(g),this.roots=[],C)this.initModulesFromGroup(C);else{this.roots.push(new m);for(var L=0;L<g;++L)this.roots[0].add(this.modules[L]=new v(L))}this.R=d.length,d.forEach(function(N){var P=A.modules[p.getSourceIndex(N)],R=A.modules[p.getTargetIndex(N)],Z=p.getType(N);P.outgoing.add(Z,R),R.incoming.add(Z,P)})}return h.prototype.initModulesFromGroup=function(g){var d=new m;this.roots.push(d);for(var p=0;p<g.leaves.length;++p){var C=g.leaves[p],A=new v(C.id);this.modules[C.id]=A,d.add(A)}if(g.groups)for(var L=0;L<g.groups.length;++L){var N=g.groups[L],P={};for(var R in N)"leaves"!==R&&"groups"!==R&&N.hasOwnProperty(R)&&(P[R]=N[R]);d.add(new v(-1-L,new l,new l,this.initModulesFromGroup(N),P))}return d},h.prototype.merge=function(g,d,p){void 0===p&&(p=0);var C=g.incoming.intersection(d.incoming),A=g.outgoing.intersection(d.outgoing),L=new m;L.add(g),L.add(d);var N=new v(this.modules.length,A,C,L);this.modules.push(N);var P=function(R,Z,H){R.forAll(function(z,tt){z.forAll(function(rt){var ot=rt[Z];ot.add(tt,N),ot.remove(tt,g),ot.remove(tt,d),g[H].remove(tt,rt),d[H].remove(tt,rt)})})};return P(A,"incoming","outgoing"),P(C,"outgoing","incoming"),this.R-=C.count()+A.count(),this.roots[p].remove(g),this.roots[p].remove(d),this.roots[p].add(N),N},h.prototype.rootMerges=function(g){void 0===g&&(g=0);for(var d=this.roots[g].modules(),p=d.length,C=new Array(p*(p-1)),A=0,L=0,N=p-1;L<N;++L)for(var P=L+1;P<p;++P){var R=d[L],Z=d[P];C[A]={id:A,nEdges:this.nEdges(R,Z),a:R,b:Z},A++}return C},h.prototype.greedyMerge=function(){for(var g=0;g<this.roots.length;++g)if(!(this.roots[g].modules().length<2)){var p=this.rootMerges(g).sort(function(C,A){return C.nEdges==A.nEdges?C.id-A.id:C.nEdges-A.nEdges})[0];if(!(p.nEdges>=this.R))return this.merge(p.a,p.b,g),!0}},h.prototype.nEdges=function(g,d){var p=g.incoming.intersection(d.incoming),C=g.outgoing.intersection(d.outgoing);return this.R-p.count()-C.count()},h.prototype.getGroupHierarchy=function(g){var d=this,p=[];return x(this.roots[0],{},p),this.allEdges().forEach(function(L){var N=d.modules[L.source],P=d.modules[L.target];g.push(new o(void 0===N.gid?L.source:p[N.gid],void 0===P.gid?L.target:p[P.gid],L.type))}),p},h.prototype.allEdges=function(){var g=[];return h.getEdges(this.roots[0],g),g},h.getEdges=function(g,d){g.forAll(function(p){p.getEdges(d),h.getEdges(p.children,d)})},h}();function x(h,g,d){h.forAll(function(p){if(p.isLeaf())g.leaves||(g.leaves=[]),g.leaves.push(p.id);else{var C=g;if(p.gid=d.length,!p.isIsland()||p.isPredefined()){if(C={id:p.gid},p.isPredefined())for(var A in p.definition)C[A]=p.definition[A];g.groups||(g.groups=[]),g.groups.push(p.gid),d.push(C)}x(p.children,C,d)}})}k.Configuration=u;var v=function(){function h(g,d,p,C,A){void 0===d&&(d=new l),void 0===p&&(p=new l),void 0===C&&(C=new m),this.id=g,this.outgoing=d,this.incoming=p,this.children=C,this.definition=A}return h.prototype.getEdges=function(g){var d=this;this.outgoing.forAll(function(p,C){p.forAll(function(A){g.push(new o(d.id,A.id,C))})})},h.prototype.isLeaf=function(){return 0===this.children.count()},h.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},h.prototype.isPredefined=function(){return void 0!==this.definition},h}();k.Module=v;var m=function(){function h(){this.table={}}return h.prototype.count=function(){return Object.keys(this.table).length},h.prototype.intersection=function(g){var d=new h;return d.table=function _(h,g){var d={};for(var p in h)p in g&&(d[p]=h[p]);return d}(this.table,g.table),d},h.prototype.intersectionCount=function(g){return this.intersection(g).count()},h.prototype.contains=function(g){return g in this.table},h.prototype.add=function(g){this.table[g.id]=g},h.prototype.remove=function(g){delete this.table[g.id]},h.prototype.forAll=function(g){for(var d in this.table)g(this.table[d])},h.prototype.modules=function(){var g=[];return this.forAll(function(d){d.isPredefined()||g.push(d)}),g},h}();k.ModuleSet=m;var l=function(){function h(){this.sets={},this.n=0}return h.prototype.count=function(){return this.n},h.prototype.contains=function(g){var d=!1;return this.forAllModules(function(p){!d&&p.id==g&&(d=!0)}),d},h.prototype.add=function(g,d){(g in this.sets?this.sets[g]:this.sets[g]=new m).add(d),++this.n},h.prototype.remove=function(g,d){var p=this.sets[g];p.remove(d),0===p.count()&&delete this.sets[g],--this.n},h.prototype.forAll=function(g){for(var d in this.sets)g(this.sets[d],Number(d))},h.prototype.forAllModules=function(g){this.forAll(function(d,p){return d.forAll(g)})},h.prototype.intersection=function(g){var d=new h;return this.forAll(function(p,C){if(C in g.sets){var A=p.intersection(g.sets[C]),L=A.count();L>0&&(d.sets[C]=A,d.n+=L)}}),d},h}();k.LinkSets=l,k.getGroups=function c(h,g,d,p){for(var A=new u(h.length,g,d,p);A.greedyMerge(););var L=[],N=A.getGroupHierarchy(L);return L.forEach(function(P){var R=function(Z){var H=P[Z];"number"==typeof H&&(P[Z]=h[H])};R("source"),R("target")}),{groups:N,powerEdges:L}}},88866:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var o=function(){function x(v){this.elem=v,this.subheaps=[]}return x.prototype.toString=function(v){for(var _="",m=!1,l=0;l<this.subheaps.length;++l){var t=this.subheaps[l];t.elem?(m&&(_+=","),_+=t.toString(v),m=!0):m=!1}return""!==_&&(_="("+_+")"),(this.elem?v(this.elem):"")+_},x.prototype.forEach=function(v){this.empty()||(v(this.elem,this),this.subheaps.forEach(function(_){return _.forEach(v)}))},x.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(v,_){return v+_.count()},0)},x.prototype.min=function(){return this.elem},x.prototype.empty=function(){return null==this.elem},x.prototype.contains=function(v){if(this===v)return!0;for(var _=0;_<this.subheaps.length;_++)if(this.subheaps[_].contains(v))return!0;return!1},x.prototype.isHeap=function(v){var _=this;return this.subheaps.every(function(m){return v(_.elem,m.elem)&&m.isHeap(v)})},x.prototype.insert=function(v,_){return this.merge(new x(v),_)},x.prototype.merge=function(v,_){return this.empty()?v:v.empty()?this:_(this.elem,v.elem)?(this.subheaps.push(v),this):(v.subheaps.push(this),v)},x.prototype.removeMin=function(v){return this.empty()?null:this.mergePairs(v)},x.prototype.mergePairs=function(v){if(0==this.subheaps.length)return new x(null);if(1==this.subheaps.length)return this.subheaps[0];var _=this.subheaps.pop().merge(this.subheaps.pop(),v),m=this.mergePairs(v);return _.merge(m,v)},x.prototype.decreaseKey=function(v,_,m,l){var t=v.removeMin(l);v.elem=t.elem,v.subheaps=t.subheaps,null!==m&&null!==t.elem&&m(v.elem,v);var c=new x(_);return null!==m&&m(_,c),this.merge(c,l)},x}();k.PairingHeap=o;var u=function(){function x(v){this.lessThan=v}return x.prototype.top=function(){return this.empty()?null:this.root.elem},x.prototype.push=function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];for(var m,t,l=0;t=v[l];++l)m=new o(t),this.root=this.empty()?m:this.root.merge(m,this.lessThan);return m},x.prototype.empty=function(){return!this.root||!this.root.elem},x.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},x.prototype.forEach=function(v){this.root.forEach(v)},x.prototype.pop=function(){if(this.empty())return null;var v=this.root.min();return this.root=this.root.removeMin(this.lessThan),v},x.prototype.reduceKey=function(v,_,m){void 0===m&&(m=null),this.root=this.root.decreaseKey(v,_,m,this.lessThan)},x.prototype.toString=function(v){return this.root.toString(v)},x.prototype.count=function(){return this.root.count()},x}();k.PriorityQueue=u},94655:function(w,k){"use strict";var m,o=this&&this.__extends||(m=function(l,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])})(l,t)},function(l,t){function c(){this.constructor=l}m(l,t),l.prototype=null===t?Object.create(t):(c.prototype=t.prototype,new c)});Object.defineProperty(k,"__esModule",{value:!0});var u=function(){function m(){this.findIter=function(l){for(var t=this._root,c=this.iterator();null!==t;){var h=this._comparator(l,t.data);if(0===h)return c._cursor=t,c;c._ancestors.push(t),t=t.get_child(h>0)}return null}}return m.prototype.clear=function(){this._root=null,this.size=0},m.prototype.find=function(l){for(var t=this._root;null!==t;){var c=this._comparator(l,t.data);if(0===c)return t.data;t=t.get_child(c>0)}return null},m.prototype.lowerBound=function(l){return this._bound(l,this._comparator)},m.prototype.upperBound=function(l){var t=this._comparator;return this._bound(l,function c(h,g){return t(g,h)})},m.prototype.min=function(){var l=this._root;if(null===l)return null;for(;null!==l.left;)l=l.left;return l.data},m.prototype.max=function(){var l=this._root;if(null===l)return null;for(;null!==l.right;)l=l.right;return l.data},m.prototype.iterator=function(){return new x(this)},m.prototype.each=function(l){for(var c,t=this.iterator();null!==(c=t.next());)l(c)},m.prototype.reach=function(l){for(var c,t=this.iterator();null!==(c=t.prev());)l(c)},m.prototype._bound=function(l,t){for(var c=this._root,h=this.iterator();null!==c;){var g=this._comparator(l,c.data);if(0===g)return h._cursor=c,h;h._ancestors.push(c),c=c.get_child(g>0)}for(var d=h._ancestors.length-1;d>=0;--d)if(t(l,(c=h._ancestors[d]).data)>0)return h._cursor=c,h._ancestors.length=d,h;return h._ancestors.length=0,h},m}();k.TreeBase=u;var x=function(){function m(l){this._tree=l,this._ancestors=[],this._cursor=null}return m.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},m.prototype.next=function(){if(null===this._cursor){var l=this._tree._root;null!==l&&this._minNode(l)}else if(null===this._cursor.right){var t;do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},m.prototype.prev=function(){if(null===this._cursor){var l=this._tree._root;null!==l&&this._maxNode(l)}else if(null===this._cursor.left){var t;do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},m.prototype._minNode=function(l){for(;null!==l.left;)this._ancestors.push(l),l=l.left;this._cursor=l},m.prototype._maxNode=function(l){for(;null!==l.right;)this._ancestors.push(l),l=l.right;this._cursor=l},m}();k.Iterator=x;var v=function(){function m(l){this.data=l,this.left=null,this.right=null,this.red=!0}return m.prototype.get_child=function(l){return l?this.right:this.left},m.prototype.set_child=function(l,t){l?this.right=t:this.left=t},m}(),_=function(m){function l(t){var c=m.call(this)||this;return c._root=null,c._comparator=t,c.size=0,c}return o(l,m),l.prototype.insert=function(t){var c=!1;if(null===this._root)this._root=new v(t),c=!0,this.size++;else{var h=new v(void 0),g=!1,d=!1,p=null,C=h,A=null,L=this._root;for(C.right=this._root;;){if(null===L?(L=new v(t),A.set_child(g,L),c=!0,this.size++):l.is_red(L.left)&&l.is_red(L.right)&&(L.red=!0,L.left.red=!1,L.right.red=!1),l.is_red(L)&&l.is_red(A)){var N=C.right===p;L===A.get_child(d)?C.set_child(N,l.single_rotate(p,!d)):C.set_child(N,l.double_rotate(p,!d))}var P=this._comparator(L.data,t);if(0===P)break;d=g,null!==p&&(C=p),p=A,A=L,L=L.get_child(g=P<0)}this._root=h.right}return this._root.red=!1,c},l.prototype.remove=function(t){if(null===this._root)return!1;var c=new v(void 0),h=c;h.right=this._root;for(var g=null,d=null,p=null,C=!0;null!==h.get_child(C);){var A=C;d=g,g=h,h=h.get_child(C);var L=this._comparator(t,h.data);if(C=L>0,0===L&&(p=h),!l.is_red(h)&&!l.is_red(h.get_child(C)))if(l.is_red(h.get_child(!C))){var N=l.single_rotate(h,C);g.set_child(A,N),g=N}else if(!l.is_red(h.get_child(!C))){var P=g.get_child(!A);if(null!==P)if(l.is_red(P.get_child(!A))||l.is_red(P.get_child(A))){var R=d.right===g;l.is_red(P.get_child(A))?d.set_child(R,l.double_rotate(g,A)):l.is_red(P.get_child(!A))&&d.set_child(R,l.single_rotate(g,A));var Z=d.get_child(R);Z.red=!0,h.red=!0,Z.left.red=!1,Z.right.red=!1}else g.red=!1,P.red=!0,h.red=!0}}return null!==p&&(p.data=h.data,g.set_child(g.right===h,h.get_child(null===h.left)),this.size--),this._root=c.right,null!==this._root&&(this._root.red=!1),null!==p},l.is_red=function(t){return null!==t&&t.red},l.single_rotate=function(t,c){var h=t.get_child(!c);return t.set_child(!c,h.get_child(c)),h.set_child(c,t),t.red=!0,h.red=!1,h},l.double_rotate=function(t,c){return t.set_child(!c,l.single_rotate(t.get_child(!c),!c)),l.single_rotate(t,c)},l}(u);k.RBTree=_},4068:function(w,k,o){"use strict";var J,u=this&&this.__extends||(J=function(et,q){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,Y){at.__proto__=Y}||function(at,Y){for(var K in Y)Y.hasOwnProperty(K)&&(at[K]=Y[K])})(et,q)},function(et,q){function at(){this.constructor=et}J(et,q),et.prototype=null===q?Object.create(q):(at.prototype=q.prototype,new at)});Object.defineProperty(k,"__esModule",{value:!0});var x=o(98237),v=o(94655);function _(J){return J.bounds=void 0!==J.leaves?J.leaves.reduce(function(et,q){return q.bounds.union(et)},m.empty()):m.empty(),void 0!==J.groups&&(J.bounds=J.groups.reduce(function(et,q){return _(q).union(et)},J.bounds)),J.bounds=J.bounds.inflate(J.padding),J.bounds}k.computeGroupBounds=_;var m=function(){function J(et,q,at,Y){this.x=et,this.X=q,this.y=at,this.Y=Y}return J.empty=function(){return new J(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},J.prototype.cx=function(){return(this.x+this.X)/2},J.prototype.cy=function(){return(this.y+this.Y)/2},J.prototype.overlapX=function(et){var q=this.cx(),at=et.cx();return q<=at&&et.x<this.X?this.X-et.x:at<=q&&this.x<et.X?et.X-this.x:0},J.prototype.overlapY=function(et){var q=this.cy(),at=et.cy();return q<=at&&et.y<this.Y?this.Y-et.y:at<=q&&this.y<et.Y?et.Y-this.y:0},J.prototype.setXCentre=function(et){var q=et-this.cx();this.x+=q,this.X+=q},J.prototype.setYCentre=function(et){var q=et-this.cy();this.y+=q,this.Y+=q},J.prototype.width=function(){return this.X-this.x},J.prototype.height=function(){return this.Y-this.y},J.prototype.union=function(et){return new J(Math.min(this.x,et.x),Math.max(this.X,et.X),Math.min(this.y,et.y),Math.max(this.Y,et.Y))},J.prototype.lineIntersections=function(et,q,at,Y){for(var K=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],ut=[],it=0;it<4;++it){var G=J.lineIntersection(et,q,at,Y,K[it][0],K[it][1],K[it][2],K[it][3]);null!==G&&ut.push({x:G.x,y:G.y})}return ut},J.prototype.rayIntersection=function(et,q){var at=this.lineIntersections(this.cx(),this.cy(),et,q);return at.length>0?at[0]:null},J.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},J.lineIntersection=function(et,q,at,Y,K,ut,it,G){var M=at-et,ft=it-K,It=Y-q,Zt=G-ut,Yt=Zt*M-ft*It;if(0==Yt)return null;var ie=et-K,Ut=q-ut,pt=(ft*Ut-Zt*ie)/Yt,Jt=(M*Ut-It*ie)/Yt;return pt>=0&&pt<=1&&Jt>=0&&Jt<=1?{x:et+pt*M,y:q+pt*It}:null},J.prototype.inflate=function(et){return new J(this.x-et,this.X+et,this.y-et,this.Y+et)},J}();k.Rectangle=m,k.makeEdgeBetween=function l(J,et,q){var at=J.rayIntersection(et.cx(),et.cy())||{x:J.cx(),y:J.cy()},Y=et.rayIntersection(J.cx(),J.cy())||{x:et.cx(),y:et.cy()},K=Y.x-at.x,ut=Y.y-at.y,it=Math.sqrt(K*K+ut*ut),G=it-q;return{sourceIntersection:at,targetIntersection:Y,arrowStart:{x:at.x+G*K/it,y:at.y+G*ut/it}}},k.makeEdgeTo=function t(J,et,q){var at=et.rayIntersection(J.x,J.y);at||(at={x:et.cx(),y:et.cy()});var Y=at.x-J.x,K=at.y-J.y,ut=Math.sqrt(Y*Y+K*K);return{x:at.x-q*Y/ut,y:at.y-q*K/ut}};var c=function J(et,q,at){this.v=et,this.r=q,this.pos=at,this.prev=d(),this.next=d()},h=function J(et,q,at){this.isOpen=et,this.v=q,this.pos=at};function g(J,et){return J.pos>et.pos?1:J.pos<et.pos||J.isOpen?-1:et.isOpen?1:0}function d(){return new v.RBTree(function(J,et){return J.pos-et.pos})}var p={getCentre:function(J){return J.cx()},getOpen:function(J){return J.y},getClose:function(J){return J.Y},getSize:function(J){return J.width()},makeRect:function(J,et,q,at){return new m(q-at/2,q+at/2,J,et)},findNeighbours:function N(J,et){var q=function(at,Y){for(var ut,K=et.findIter(J);null!==(ut=K[at]());){var it=ut.r.overlapX(J.r);if((it<=0||it<=ut.r.overlapY(J.r))&&(J[at].insert(ut),ut[Y].insert(J)),it<=0)break}};q("next","prev"),q("prev","next")}},C={getCentre:function(J){return J.cy()},getOpen:function(J){return J.x},getClose:function(J){return J.X},getSize:function(J){return J.height()},makeRect:function(J,et,q,at){return new m(J,et,q-at/2,q+at/2)},findNeighbours:function P(J,et){var q=function(at,Y){var K=et.findIter(J)[at]();null!==K&&K.r.overlapX(J.r)>0&&(J[at].insert(K),K[Y].insert(J))};q("next","prev"),q("prev","next")}};function A(J,et,q,at){void 0===at&&(at=!1);var Y=J.padding,K=void 0!==J.groups?J.groups.length:0,ut=void 0!==J.leaves?J.leaves.length:0,it=K?J.groups.reduce(function(_e,Te){return _e.concat(A(Te,et,q,!0))},[]):[],G=(at?2:0)+ut+K,M=new Array(G),ft=new Array(G),It=0,Zt=function(_e,Te){ft[It]=_e,M[It++]=Te};if(at){var Yt=J.bounds,ie=et.getCentre(Yt),Ut=et.getSize(Yt)/2,xt=et.getOpen(Yt),pt=et.getClose(Yt),Nt=ie-Ut+Y/2,Jt=ie+Ut-Y/2;J.minVar.desiredPosition=Nt,Zt(et.makeRect(xt,pt,Nt,Y),J.minVar),J.maxVar.desiredPosition=Jt,Zt(et.makeRect(xt,pt,Jt,Y),J.maxVar)}ut&&J.leaves.forEach(function(_e){return Zt(_e.bounds,_e.variable)}),K&&J.groups.forEach(function(_e){var Te=_e.bounds;Zt(et.makeRect(et.getOpen(Te),et.getClose(Te),et.getCentre(Te),et.getSize(Te)),_e.minVar)});var ge=L(ft,M,et,q);return K&&(M.forEach(function(_e){_e.cOut=[],_e.cIn=[]}),ge.forEach(function(_e){_e.left.cOut.push(_e),_e.right.cIn.push(_e)}),J.groups.forEach(function(_e){var Te=(_e.padding-et.getSize(_e.bounds))/2;_e.minVar.cIn.forEach(function(Ze){return Ze.gap+=Te}),_e.minVar.cOut.forEach(function(Ze){Ze.left=_e.maxVar,Ze.gap+=Te})})),it.concat(ge)}function L(J,et,q,at){var Y,K=J.length,ut=2*K;console.assert(et.length>=K);var it=new Array(ut);for(Y=0;Y<K;++Y){var G=J[Y],M=new c(et[Y],G,q.getCentre(G));it[Y]=new h(!0,M,q.getOpen(G)),it[Y+K]=new h(!1,M,q.getClose(G))}it.sort(g);var ft=new Array,It=d();for(Y=0;Y<ut;++Y){var Zt=it[Y];if(M=Zt.v,Zt.isOpen)It.insert(M),q.findNeighbours(M,It);else{It.remove(M);var Yt=function(xt,pt){var Nt=(q.getSize(xt.r)+q.getSize(pt.r))/2+at;ft.push(new x.Constraint(xt.v,pt.v,Nt))},ie=function(xt,pt,Nt){for(var Jt,ge=M[xt].iterator();null!==(Jt=ge[xt]());)Nt(Jt,M),Jt[pt].remove(M)};ie("prev","next",function(xt,pt){return Yt(xt,pt)}),ie("next","prev",function(xt,pt){return Yt(pt,xt)})}}return console.assert(0===It.size),ft}function R(J,et){return L(J,et,p,1e-6)}function Z(J,et){return L(J,et,C,1e-6)}function H(J){return A(J,p,1e-6)}function z(J){return A(J,C,1e-6)}k.generateXConstraints=R,k.generateYConstraints=Z,k.generateXGroupConstraints=H,k.generateYGroupConstraints=z,k.removeOverlaps=function tt(J){var et=J.map(function(Y){return new x.Variable(Y.cx())}),q=R(J,et),at=new x.Solver(et,q);at.solve(),et.forEach(function(Y,K){return J[K].setXCentre(Y.position())}),et=J.map(function(Y){return new x.Variable(Y.cy())}),q=Z(J,et),(at=new x.Solver(et,q)).solve(),et.forEach(function(Y,K){return J[K].setYCentre(Y.position())})};var rt=function(J){function et(q,at){var Y=J.call(this,0,at)||this;return Y.index=q,Y}return u(et,J),et}(x.Variable);k.IndexedVariable=rt;var ot=function(){function J(et,q,at,Y,K){var ut=this;if(void 0===at&&(at=null),void 0===Y&&(Y=null),void 0===K&&(K=!1),this.nodes=et,this.groups=q,this.rootGroup=at,this.avoidOverlaps=K,this.variables=et.map(function(G,M){return G.variable=new rt(M,1)}),Y&&this.createConstraints(Y),K&&at&&void 0!==at.groups){et.forEach(function(G){if(G.width&&G.height){var M=G.width/2,ft=G.height/2;G.bounds=new m(G.x-M,G.x+M,G.y-ft,G.y+ft)}else G.bounds=new m(G.x,G.x,G.y,G.y)}),_(at);var it=et.length;q.forEach(function(G){ut.variables[it]=G.minVar=new rt(it++,void 0!==G.stiffness?G.stiffness:.01),ut.variables[it]=G.maxVar=new rt(it++,void 0!==G.stiffness?G.stiffness:.01)})}}return J.prototype.createSeparation=function(et){return new x.Constraint(this.nodes[et.left].variable,this.nodes[et.right].variable,et.gap,void 0!==et.equality&&et.equality)},J.prototype.makeFeasible=function(et){var q=this;if(this.avoidOverlaps){var at="x",Y="width";"x"===et.axis&&(at="y",Y="height");var K=et.offsets.map(function(it){return q.nodes[it.node]}).sort(function(it,G){return it[at]-G[at]}),ut=null;K.forEach(function(it){if(ut){var G=ut[at]+ut[Y];G>it[at]&&(it[at]=G)}ut=it})}},J.prototype.createAlignment=function(et){var q=this,at=this.nodes[et.offsets[0].node].variable;this.makeFeasible(et);var Y="x"===et.axis?this.xConstraints:this.yConstraints;et.offsets.slice(1).forEach(function(K){Y.push(new x.Constraint(at,q.nodes[K.node].variable,K.offset,!0))})},J.prototype.createConstraints=function(et){var q=this,at=function(Y){return void 0===Y.type||"separation"===Y.type};this.xConstraints=et.filter(function(Y){return"x"===Y.axis&&at(Y)}).map(function(Y){return q.createSeparation(Y)}),this.yConstraints=et.filter(function(Y){return"y"===Y.axis&&at(Y)}).map(function(Y){return q.createSeparation(Y)}),et.filter(function(Y){return"alignment"===Y.type}).forEach(function(Y){return q.createAlignment(Y)})},J.prototype.setupVariablesAndBounds=function(et,q,at,Y){this.nodes.forEach(function(K,ut){K.fixed?(K.variable.weight=K.fixedWeight?K.fixedWeight:1e3,at[ut]=Y(K)):K.variable.weight=1;var it=(K.width||0)/2,G=(K.height||0)/2,M=et[ut],ft=q[ut];K.bounds=new m(M-it,M+it,ft-G,ft+G)})},J.prototype.xProject=function(et,q,at){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(et,q,et,at,function(Y){return Y.px},this.xConstraints,H,function(Y){return Y.bounds.setXCentre(at[Y.variable.index]=Y.variable.position())},function(Y){var K=at[Y.minVar.index]=Y.minVar.position(),ut=at[Y.maxVar.index]=Y.maxVar.position(),it=Y.padding/2;Y.bounds.x=K-it,Y.bounds.X=ut+it})},J.prototype.yProject=function(et,q,at){!this.rootGroup&&!this.yConstraints||this.project(et,q,q,at,function(Y){return Y.py},this.yConstraints,z,function(Y){return Y.bounds.setYCentre(at[Y.variable.index]=Y.variable.position())},function(Y){var K=at[Y.minVar.index]=Y.minVar.position(),ut=at[Y.maxVar.index]=Y.maxVar.position(),it=Y.padding/2;Y.bounds.y=K-it,Y.bounds.Y=ut+it})},J.prototype.projectFunctions=function(){var et=this;return[function(q,at,Y){return et.xProject(q,at,Y)},function(q,at,Y){return et.yProject(q,at,Y)}]},J.prototype.project=function(et,q,at,Y,K,ut,it,G,M){this.setupVariablesAndBounds(et,q,Y,K),this.rootGroup&&this.avoidOverlaps&&(_(this.rootGroup),ut=ut.concat(it(this.rootGroup))),this.solve(this.variables,ut,at,Y),this.nodes.forEach(G),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(M),_(this.rootGroup))},J.prototype.solve=function(et,q,at,Y){var K=new x.Solver(et,q);K.setStartingPositions(at),K.setDesiredPositions(Y),K.solve()},J}();k.Projection=ot},33858:(w,k,o)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var u=o(88866),x=function l(t,c){this.id=t,this.distance=c},v=function l(t){this.id=t,this.neighbours=[]},_=function l(t,c,h){this.node=t,this.prev=c,this.d=h},m=function(){function l(t,c,h,g,d){this.n=t,this.es=c,this.neighbours=new Array(this.n);for(var p=this.n;p--;)this.neighbours[p]=new v(p);for(p=this.es.length;p--;){var C=this.es[p],A=h(C),L=g(C),N=d(C);this.neighbours[A].neighbours.push(new x(L,N)),this.neighbours[L].neighbours.push(new x(A,N))}}return l.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),c=0;c<this.n;++c)t[c]=this.dijkstraNeighbours(c);return t},l.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},l.prototype.PathFromNodeToNode=function(t,c){return this.dijkstraNeighbours(t,c)},l.prototype.PathFromNodeToNodeWithPrevCost=function(t,c,h){var g=new u.PriorityQueue(function(z,tt){return z.d<=tt.d}),d=this.neighbours[t],p=new _(d,null,0),C={};for(g.push(p);!g.empty()&&(d=(p=g.pop()).node).id!==c;)for(var A=d.neighbours.length;A--;){var L=d.neighbours[A],N=this.neighbours[L.id];if(!p.prev||N.id!==p.prev.node.id){var P=N.id+","+d.id;if(!(P in C&&C[P]<=p.d)){var R=p.prev?h(p.prev.node.id,d.id,N.id):0,Z=p.d+L.distance+R;C[P]=Z,g.push(new _(N,p,Z))}}}for(var H=[];p.prev;)H.push((p=p.prev).node.id);return H},l.prototype.dijkstraNeighbours=function(t,c){void 0===c&&(c=-1);for(var h=new u.PriorityQueue(function(R,Z){return R.d<=Z.d}),g=this.neighbours.length,d=new Array(g);g--;){var p=this.neighbours[g];p.d=g===t?0:Number.POSITIVE_INFINITY,p.q=h.push(p)}for(;!h.empty();){var C=h.pop();if(d[C.id]=C.d,C.id===c){for(var A=[],L=C;void 0!==L.prev;)A.push(L.prev.id),L=L.prev;return A}for(g=C.neighbours.length;g--;){var N=C.neighbours[g],P=(L=this.neighbours[N.id],C.d+N.distance);C.d!==Number.MAX_VALUE&&L.d>P&&(L.d=P,L.prev=C,h.reduceKey(L.q,L,function(Z,H){return Z.q=H}))}}return d},l}();k.Calculator=m},98237:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var o=function(){function t(c){this.scale=c,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(c){var h=this.scale/c.scale,d=c.weight;this.AB+=d*h*(c.offset/c.scale),this.AD+=d*h*c.desiredPosition,this.A2+=d*h*h},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();k.PositionStats=o;var u=function(){function t(c,h,g,d){void 0===d&&(d=!1),this.left=c,this.right=h,this.gap=g,this.equality=d,this.active=!1,this.unsatisfiable=!1,this.left=c,this.right=h,this.gap=g,this.equality=d}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();k.Constraint=u;var x=function(){function t(c,h,g){void 0===h&&(h=1),void 0===g&&(g=1),this.desiredPosition=c,this.weight=h,this.scale=g,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(c,h){var g=function(d,p){return d.active&&c!==p&&h(d,p)};this.cOut.forEach(function(d){return g(d,d.right)}),this.cIn.forEach(function(d){return g(d,d.left)})},t}();k.Variable=x;var v=function(){function t(c){this.vars=[],c.offset=0,this.ps=new o(c.scale),this.addVariable(c)}return t.prototype.addVariable=function(c){c.block=this,this.vars.push(c),this.ps.addVariable(c),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var c=0,h=this.vars.length;c<h;++c)this.ps.addVariable(this.vars[c]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(c,h,g){var d=this,p=c.dfdv();return c.visitNeighbours(h,function(C,A){var L=d.compute_lm(A,c,g);A===C.right?(p+=L*C.left.scale,C.lm=L):(p+=L*C.right.scale,C.lm=-L),g(C)}),p/c.scale},t.prototype.populateSplitBlock=function(c,h){var g=this;c.visitNeighbours(h,function(d,p){p.offset=c.offset+(p===d.right?d.gap:-d.gap),g.addVariable(p),g.populateSplitBlock(p,c)})},t.prototype.traverse=function(c,h,g,d){var p=this;void 0===g&&(g=this.vars[0]),void 0===d&&(d=null),g.visitNeighbours(d,function(C,A){h.push(c(C)),p.traverse(c,h,A,g)})},t.prototype.findMinLM=function(){var c=null;return this.compute_lm(this.vars[0],null,function(h){!h.equality&&(null===c||h.lm<c.lm)&&(c=h)}),c},t.prototype.findMinLMBetween=function(c,h){this.compute_lm(c,null,function(){});var g=null;return this.findPath(c,null,h,function(d,p){!d.equality&&d.right===p&&(null===g||d.lm<g.lm)&&(g=d)}),g},t.prototype.findPath=function(c,h,g,d){var p=this,C=!1;return c.visitNeighbours(h,function(A,L){!C&&(L===g||p.findPath(L,c,g,d))&&(C=!0,d(A,L))}),C},t.prototype.isActiveDirectedPathBetween=function(c,h){if(c===h)return!0;for(var g=c.cOut.length;g--;){var d=c.cOut[g];if(d.active&&this.isActiveDirectedPathBetween(d.right,h))return!0}return!1},t.split=function(c){return c.active=!1,[t.createSplitBlock(c.left),t.createSplitBlock(c.right)]},t.createSplitBlock=function(c){var h=new t(c);return h.populateSplitBlock(c,null),h},t.prototype.splitBetween=function(c,h){var g=this.findMinLMBetween(c,h);if(null!==g){var d=t.split(g);return{constraint:g,lb:d[0],rb:d[1]}}return null},t.prototype.mergeAcross=function(c,h,g){h.active=!0;for(var d=0,p=c.vars.length;d<p;++d){var C=c.vars[d];C.offset+=g,this.addVariable(C)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var c=0,h=this.vars.length;h--;){var g=this.vars[h],d=g.position()-g.desiredPosition;c+=d*d*g.weight}return c},t}();k.Block=v;var _=function(){function t(c){this.vs=c;var h=c.length;for(this.list=new Array(h);h--;){var g=new v(c[h]);this.list[h]=g,g.blockInd=h}}return t.prototype.cost=function(){for(var c=0,h=this.list.length;h--;)c+=this.list[h].cost();return c},t.prototype.insert=function(c){c.blockInd=this.list.length,this.list.push(c)},t.prototype.remove=function(c){var h=this.list.length-1,g=this.list[h];this.list.length=h,c!==g&&(this.list[c.blockInd]=g,g.blockInd=c.blockInd)},t.prototype.merge=function(c){var h=c.left.block,g=c.right.block,d=c.right.offset-c.left.offset-c.gap;h.vars.length<g.vars.length?(g.mergeAcross(h,c,d),this.remove(h)):(h.mergeAcross(g,c,-d),this.remove(g))},t.prototype.forEach=function(c){this.list.forEach(c)},t.prototype.updateBlockPositions=function(){this.list.forEach(function(c){return c.updateWeightedPosition()})},t.prototype.split=function(c){var h=this;this.updateBlockPositions(),this.list.forEach(function(g){var d=g.findMinLM();null!==d&&d.lm<m.LAGRANGIAN_TOLERANCE&&(g=d.left.block,v.split(d).forEach(function(p){return h.insert(p)}),h.remove(g),c.push(d))})},t}();k.Blocks=_;var m=function(){function t(c,h){this.vs=c,this.cs=h,this.vs=c,c.forEach(function(g){g.cIn=[],g.cOut=[]}),this.cs=h,h.forEach(function(g){g.left.cOut.push(g),g.right.cIn.push(g)}),this.inactive=h.map(function(g){return g.active=!1,g}),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(c){this.inactive=this.cs.map(function(h){return h.active=!1,h}),this.bs=new _(this.vs),this.bs.forEach(function(h,g){return h.posn=c[g]})},t.prototype.setDesiredPositions=function(c){this.vs.forEach(function(h,g){return h.desiredPosition=c[g]})},t.prototype.mostViolated=function(){for(var c=Number.MAX_VALUE,h=null,g=this.inactive,d=g.length,p=d,C=0;C<d;++C){var A=g[C];if(!A.unsatisfiable){var L=A.slack();if((A.equality||L<c)&&(c=L,h=A,p=C,A.equality))break}}return p!==d&&(c<t.ZERO_UPPERBOUND&&!h.active||h.equality)&&(g[p]=g[d-1],g.length=d-1),h},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new _(this.vs)),this.bs.split(this.inactive);for(var c=null;(c=this.mostViolated())&&(c.equality||c.slack()<t.ZERO_UPPERBOUND&&!c.active);){var h=c.left.block;if(h!==c.right.block)this.bs.merge(c);else{if(h.isActiveDirectedPathBetween(c.right,c.left)){c.unsatisfiable=!0;continue}var d=h.splitBetween(c.left,c.right);if(null===d){c.unsatisfiable=!0;continue}this.bs.insert(d.lb),this.bs.insert(d.rb),this.bs.remove(h),this.inactive.push(d.constraint),c.slack()>=0?this.inactive.push(c):this.bs.merge(c)}}},t.prototype.solve=function(){this.satisfy();for(var c=Number.MAX_VALUE,h=this.bs.cost();Math.abs(c-h)>1e-4;)this.satisfy(),c=h,h=this.bs.cost();return h},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();k.Solver=m,k.removeOverlapInOneDimension=function l(t,c,h){for(var g=t.map(function(rt){return new x(rt.desiredCenter)}),d=[],p=t.length,C=0;C<p-1;C++)d.push(new u(g[C],g[C+1],(t[C].size+t[C+1].size)/2));var N=g[0],P=g[p-1],R=t[0].size/2,Z=t[p-1].size/2,H=null,z=null;return c&&(H=new x(c,1e3*N.weight),g.push(H),d.push(new u(H,N,R))),h&&(z=new x(h,1e3*P.weight),g.push(z),d.push(new u(P,z,Z))),new m(g,d).solve(),{newCenters:g.slice(0,t.length).map(function(rt){return rt.position()}),lowerBound:H?H.position():N.position()-R,upperBound:z?z.position():P.position()+Z}}}}]);