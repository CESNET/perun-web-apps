(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"pjY/":function(e,t,i){"use strict";i.r(t),i.d(t,"FacilitiesModule",(function(){return Je}));var s=i("2kYt"),a=i("sEIs"),c=i("4sdY"),r=i("X2Q7"),n=i("8clQ"),o=i("iyZ4"),l=i("EM62"),b=i("EtYo"),u=i("0XDM"),p=i("A8Ay"),h=i("csyo"),f=i("xH52"),d=i("s2Ay");function g(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-refresh-button",6),l.ec("refresh",(function(){return l.Bc(e),l.ic().refreshTable()})),l.Vb()}}function I(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-immediate-filter",7),l.ec("filter",(function(t){return l.Bc(e),l.ic().applyFilter(t)})),l.Vb()}2&e&&l.oc("placeholder","FACILITY_MANAGEMENT.FILTER_PLACEHOLDER")}function m(e,t){1&e&&l.Rb(0,"mat-spinner",8)}function S(e,t){if(1&e){const e=l.Xb();l.Wb(0,"app-facility-select-table",9),l.ec("page",(function(t){return l.Bc(e),l.ic().pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic();l.oc("pageSize",e.pageSize)("filterValue",e.filterValue)("facilities",e.facilities)("recentIds",e.recentIds)}}let E=(()=>{class e{constructor(e,t,i){this.facilityManager=e,this.sideMenuService=t,this.tableConfigService=i,this.facilities=[],this.recentIds=[],this.filterValue="",this.tableId=o.p}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.sideMenuService.setFacilityMenuItems([]),this.refreshTable()}refreshTable(){this.loading=!0,this.facilityManager.getRichFacilities().subscribe(e=>{this.facilities=Object(n.k)("facilities",e),this.recentIds=Object(n.l)("facilities"),this.loading=!1})}applyFilter(e){this.filterValue=e}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.g),l.Qb(c.a),l.Qb(o.S))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-select-page"]],decls:9,vars:7,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","facility-theme"],[1,"page-title"],[3,"refresh",4,"ngIf"],[3,"placeholder","filter",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","facilities","recentIds","page",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","facilities","recentIds","page"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Rb(1,"perun-web-apps-back-button"),l.Wb(2,"h1",1),l.Lc(3),l.jc(4,"translate"),l.Vb(),l.Jc(5,g,1,0,"perun-web-apps-refresh-button",2),l.Jc(6,I,1,1,"perun-web-apps-immediate-filter",3),l.Jc(7,m,1,0,"mat-spinner",4),l.Jc(8,S,1,4,"app-facility-select-table",5),l.Vb()),2&e&&(l.Cb(3),l.Mc(l.kc(4,5,"FACILITY_MANAGEMENT.TITLE")),l.Cb(2),l.oc("ngIf",!t.loading),l.Cb(1),l.oc("ngIf",!t.loading),l.Cb(1),l.oc("ngIf",t.loading),l.Cb(1),l.oc("ngIf",!t.loading))},directives:[b.a,s.t,u.a,p.a,h.c,f.a],pipes:[d.d],styles:[""]}),e})();var T=i("TkCa"),C=i("EkAj"),y=i("ma6z");const v=function(e){return["/facilities",e]};function A(e,t){if(1&e&&(l.Wb(0,"div",1),l.Rb(1,"perun-web-apps-back-button"),l.Wb(2,"h1",2),l.Lc(3),l.jc(4,"translate"),l.Wb(5,"a",3),l.Lc(6),l.Vb(),l.Wb(7,"span",4),l.Lc(8),l.Vb(),l.Vb(),l.Rb(9,"app-animated-router-outlet"),l.Vb()),2&e){const e=l.ic();l.Cb(3),l.Nc(" ",l.kc(4,4,"FACILITY_DETAIL.TITLE")," "),l.Cb(2),l.oc("routerLink",l.tc(6,v,e.facility.id)),l.Cb(1),l.Nc(" ",e.facility.name," "),l.Cb(2),l.Nc(" \xa0#",e.facility.id," ")}}let L=(()=>{class e{constructor(e,t,i,s){this.facilityManager=e,this.route=t,this.sideMenuService=i,this.sideMenuItemService=s}ngOnInit(){this.route.params.subscribe(e=>{this.facilityManager.getFacilityById(e.facilityId).subscribe(e=>{this.facility=e;const t=this.sideMenuItemService.parseFacility(e);this.sideMenuService.setFacilityMenuItems([t]),Object(n.b)("facilities",this.facility)})})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.g),l.Qb(a.a),l.Qb(c.a),l.Qb(C.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-detail-page"]],decls:1,vars:1,consts:[["class","container-fluid pl-xl-5 pr-xl-5 facility-theme",4,"ngIf"],[1,"container-fluid","pl-xl-5","pr-xl-5","facility-theme"],[1,"page-title"],[1,"facility-link",3,"routerLink"],[1,"text-muted"]],template:function(e,t){1&e&&l.Jc(0,A,10,8,"div",0),2&e&&l.oc("ngIf",void 0!==t.facility)},directives:[s.t,b.a,a.i,y.a],pipes:[d.d],styles:[""],data:{animation:[T.a]}}),e})();var R=i("ZG5M");let V=(()=>{class e{constructor(e,t){this.facilityManager=e,this.route=t,this.navItems=[]}ngOnInit(){this.route.params.subscribe(e=>{this.facilityManager.getFacilityById(e.facilityId).subscribe(e=>{this.facility=e,this.initItems()})})}initItems(){this.navItems=[{cssIcon:"perun-manage-facility",url:`/facilities/${this.facility.id}/resources`,label:"MENU_ITEMS.FACILITY.RESOURCES",style:"facility-btn"},{cssIcon:"perun-group",url:`/facilities/${this.facility.id}/allowed-groups`,label:"MENU_ITEMS.FACILITY.ALLOWED_GROUPS",style:"facility-btn"},{cssIcon:"perun-settings2",url:`/facilities/${this.facility.id}/service-config`,label:"MENU_ITEMS.FACILITY.SERVICE_CONFIG",style:"facility-btn"},{cssIcon:"perun-service_destination",url:`/facilities/${this.facility.id}/services-destinations`,label:"MENU_ITEMS.FACILITY.SERVICES_DESTINATIONS",style:"facility-btn"},{cssIcon:"perun-settings2",url:`/facilities/${this.facility.id}/settings`,label:"MENU_ITEMS.FACILITY.SETTINGS",style:"facility-btn"}]}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.g),l.Qb(a.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Rb(1,"perun-web-apps-menu-buttons-field",0),l.Vb()),2&e&&(l.Cb(1),l.oc("items",t.navItems)("size","small"))},directives:[R.a],styles:[""]}),e})();var w=i("s8L6"),O=i("Wq+4");const M=function(e,t){return["/facilities",e,"resources",t]};function N(e,t){if(1&e&&(l.Wb(0,"div",1),l.Rb(1,"perun-web-apps-back-button"),l.Wb(2,"h1",2),l.Lc(3),l.jc(4,"translate"),l.Wb(5,"a",3),l.Lc(6),l.Vb(),l.Wb(7,"span",4),l.Lc(8),l.Vb(),l.Vb(),l.Rb(9,"app-animated-router-outlet"),l.Vb()),2&e){const e=l.ic();l.Cb(3),l.Nc(" ",l.kc(4,4,"RESOURCE_DETAIL.TITLE")," "),l.Cb(2),l.oc("routerLink",l.uc(6,M,e.resource.facilityId,e.resource.id)),l.Cb(1),l.Nc(" ",e.resource.name," "),l.Cb(2),l.Nc(" \xa0#",e.resource.id," ")}}let F=(()=>{class e{constructor(e,t,i,s,a){this.route=e,this.facilityManager=t,this.resourcesManager=i,this.sideMenuService=s,this.sideMenuItemService=a}ngOnInit(){this.route.params.subscribe(e=>{this.resourcesManager.getResourceById(e.resourceId).subscribe(e=>{this.resource=e,this.facilityManager.getFacilityById(e.facilityId).subscribe(t=>{const i=this.sideMenuItemService.parseFacility(t),s=this.sideMenuItemService.parseResource(e);this.sideMenuService.setFacilityMenuItems([i,s])})})})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(r.g),l.Qb(r.j),l.Qb(c.a),l.Qb(C.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-resource-detail-page"]],decls:1,vars:1,consts:[["class","container-fluid pl-xl-5 pr-xl-5 resource-theme",4,"ngIf"],[1,"container-fluid","pl-xl-5","pr-xl-5","resource-theme"],[1,"page-title"],[1,"resource-link",3,"routerLink"],[1,"text-muted"]],template:function(e,t){1&e&&l.Jc(0,N,10,9,"div",0),2&e&&l.oc("ngIf",void 0!==t.resource)},directives:[s.t,b.a,a.i,y.a],pipes:[d.d],styles:[""],data:{animation:[T.a]}}),e})(),_=(()=>{class e{constructor(e,t){this.resourcesManager=e,this.route=t,this.navItems=[]}ngOnInit(){this.route.params.subscribe(e=>{this.resourcesManager.getResourceById(e.resourceId).subscribe(e=>{this.resource=e,this.initItems()})})}initItems(){this.navItems=[{cssIcon:"perun-group",url:`/facilities/${this.resource.facilityId}/resources/${this.resource.id}/groups`,label:"MENU_ITEMS.RESOURCE.ASSIGNED_GROUPS",style:"resource-btn"},{cssIcon:"perun-settings2",url:`/facilities/${this.resource.facilityId}/resources/${this.resource.id}/settings`,label:"MENU_ITEMS.RESOURCE.SETTINGS",style:"resource-btn"}]}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.j),l.Qb(a.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-resource-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Rb(1,"perun-web-apps-menu-buttons-field",0),l.Vb()),2&e&&(l.Cb(1),l.oc("items",t.navItems)("size","small"))},directives:[R.a],styles:[""]}),e})(),D=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-settings"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:1,vars:0,template:function(e,t){1&e&&l.Rb(0,"app-animated-router-outlet")},directives:[y.a],styles:[""],data:{animation:[T.a]}}),e})(),G=(()=>{class e{constructor(e,t){this.route=e,this.facilityManager=t,this.items=[]}ngOnInit(){this.route.parent.parent.params.subscribe(e=>{this.facilityManager.getFacilityById(e.facilityId).subscribe(e=>{this.facility=e,this.initItems()})})}initItems(){this.items=[{cssIcon:"perun-attributes",url:`/facilities/${this.facility.id}/settings/attributes`,label:"MENU_ITEMS.FACILITY.ATTRIBUTES",style:"facility-btn"},{cssIcon:"perun-user",url:`/facilities/${this.facility.id}/settings/owners`,label:"MENU_ITEMS.FACILITY.OWNERS",style:"facility-btn"},{cssIcon:"perun-manager",url:`/facilities/${this.facility.id}/settings/managers`,label:"MENU_ITEMS.FACILITY.MANAGERS",style:"facility-btn"}]}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(r.g))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-settings-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Rb(1,"perun-web-apps-menu-buttons-field",0),l.Vb()),2&e&&(l.Cb(1),l.oc("items",t.items)("size","small"))},directives:[R.a],styles:[""]}),e})();var W=i("Ssnw"),k=i("HHEo"),z=i("cqs0"),U=i("mEf3"),j=i("IDQ9"),Q=i("6lcu"),B=i("OZ4H"),P=i("PBFl"),Y=i("LKLE");const x=["list"];function J(e,t){1&e&&l.Rb(0,"mat-spinner",8)}function K(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-attributes-list",9,10),l.ec("page",(function(t){return l.Bc(e),l.ic().pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic();l.oc("pageSize",e.pageSize)("filterValue",e.filterValue)("attributes",e.attributes)("selection",e.selection)}}let $=(()=>{class e{constructor(e,t,i,s,a,c){this.attributesManager=e,this.route=t,this.dialog=i,this.notificator=s,this.tableConfigService=a,this.translate=c,this.attributes=[],this.selection=new z.c(!0,[]),this.filterValue="",this.tableId=o.k,this.translate.get("FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE").subscribe(e=>this.saveSuccessMessage=e),this.translate.get("FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE").subscribe(e=>this.deleteSuccessMessage=e)}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.parent.params.subscribe(e=>{this.facilityId=e.facilityId,this.refreshTable()})}onDelete(){const e=Object(n.i)();e.width="450px",e.data={entityId:this.facilityId,entity:"facility",attributes:this.selection.selected},this.dialog.open(U.a,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}onSave(){this.list.updateMapAttributes();const e=Object(n.i)();e.width="450px",e.data={entityId:this.facilityId,entity:"facility",attributes:this.selection.selected},this.dialog.open(Q.a,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}onCreate(){const e=Object(n.i)();e.width="1050px",e.data={entityId:this.facilityId,entity:"facility",notEmptyAttributes:this.attributes,style:"facility-theme"},this.dialog.open(j.a,e).afterClosed().subscribe(e=>{"saved"===e&&this.refreshTable()})}refreshTable(){this.loading=!0,this.attributesManager.getFacilityAttributes(this.facilityId).subscribe(e=>{this.attributes=Object(n.f)(e),this.selection.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.c),l.Qb(a.a),l.Qb(B.b),l.Qb(W.i),l.Qb(o.S),l.Qb(d.e))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-settings-attributes"]],viewQuery:function(e,t){var i;1&e&&l.Sc(x,!0),2&e&&l.wc(i=l.fc())&&(t.list=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:18,vars:19,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent",1,"mr-2",3,"click"],["mat-flat-button","","color","accent",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","warn",3,"disabled","click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","attributes","selection","page",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","attributes","selection","page"],["list",""]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Wb(1,"h1",0),l.Lc(2),l.jc(3,"translate"),l.Vb(),l.Wb(4,"perun-web-apps-refresh-button",1),l.ec("refresh",(function(){return t.refreshTable()})),l.Vb(),l.Wb(5,"button",2),l.ec("click",(function(){return t.onCreate()})),l.Lc(6),l.jc(7,"translate"),l.Vb(),l.Wb(8,"button",3),l.ec("click",(function(){return t.onSave()})),l.Lc(9),l.jc(10,"translate"),l.Vb(),l.Wb(11,"button",4),l.ec("click",(function(){return t.onDelete()})),l.Lc(12),l.jc(13,"translate"),l.Vb(),l.Wb(14,"perun-web-apps-immediate-filter",5),l.ec("filter",(function(e){return t.applyFilter(e)})),l.jc(15,"translate"),l.Vb(),l.Jc(16,J,1,0,"mat-spinner",6),l.Jc(17,K,2,4,"perun-web-apps-attributes-list",7),l.Vb()),2&e&&(l.Cb(2),l.Mc(l.kc(3,9,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),l.Cb(4),l.Nc(" ",l.kc(7,11,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.CREATE")," "),l.Cb(2),l.oc("disabled",0===t.selection.selected.length),l.Cb(1),l.Nc(" ",l.kc(10,13,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SAVE")," "),l.Cb(2),l.oc("disabled",0===t.selection.selected.length),l.Cb(1),l.Nc(" ",l.kc(13,15,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.DELETE")," "),l.Cb(2),l.oc("placeholder",l.kc(15,17,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTES_LIST.FILTER")),l.Cb(2),l.oc("ngIf",t.loading),l.Cb(1),l.oc("ngIf",!t.loading))},directives:[u.a,P.b,p.a,s.t,h.c,Y.a],pipes:[d.d],styles:[""]}),e})(),X=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Kb({type:e,selectors:[["app-resource-settings"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:1,vars:0,template:function(e,t){1&e&&l.Rb(0,"app-animated-router-outlet")},directives:[y.a],styles:[""],data:{animation:[T.a]}}),e})(),H=(()=>{class e{constructor(e,t){this.route=e,this.resourceManager=t,this.items=[]}ngOnInit(){this.route.parent.parent.params.subscribe(e=>{this.resourceManager.getResourceById(e.resourceId).subscribe(e=>{this.resource=e,this.initItems()})})}initItems(){this.items=[{cssIcon:"perun-attributes",url:`/facilities/${this.resource.facilityId}/resources/${this.resource.id}/settings/attributes`,label:"MENU_ITEMS.RESOURCE.ATTRIBUTES",style:"resource-btn"}]}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(r.j))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-resource-settings-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Rb(1,"perun-web-apps-menu-buttons-field",0),l.Vb()),2&e&&(l.Cb(1),l.oc("items",t.items)("size","small"))},directives:[R.a],styles:[""]}),e})();const q=["list"];function Z(e,t){1&e&&l.Rb(0,"mat-spinner",8)}function ee(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-attributes-list",9,10),l.ec("page",(function(t){return l.Bc(e),l.ic().pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic();l.oc("pageSize",e.pageSize)("filterValue",e.filterValue)("attributes",e.attributes)("selection",e.selection)}}let te=(()=>{class e{constructor(e,t,i,s,a,c){this.attributesManager=e,this.route=t,this.dialog=i,this.notificator=s,this.tableConfigService=a,this.translate=c,this.attributes=[],this.selection=new z.c(!0,[]),this.filterValue="",this.tableId=o.k,this.translate.get("RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE").subscribe(e=>this.saveSuccessMessage=e),this.translate.get("RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE").subscribe(e=>this.deleteSuccessMessage=e)}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.parent.params.subscribe(e=>{this.resourceId=e.resourceId,this.refreshTable()})}onDelete(){const e=Object(n.i)();e.width="450px",e.data={entityId:this.resourceId,entity:"resource",attributes:this.selection.selected},this.dialog.open(U.a,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}onSave(){this.list.updateMapAttributes();const e=Object(n.i)();e.width="450px",e.data={entityId:this.resourceId,entity:"resource",attributes:this.selection.selected},this.dialog.open(Q.a,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}onCreate(){const e=Object(n.i)();e.width="1050px",e.data={entityId:this.resourceId,entity:"resource",notEmptyAttributes:this.attributes,style:"resource-theme"},this.dialog.open(j.a,e).afterClosed().subscribe(e=>{"saved"===e&&this.refreshTable()})}refreshTable(){this.loading=!0,this.attributesManager.getResourceAttributes(this.resourceId).subscribe(e=>{this.attributes=Object(n.f)(e),this.selection.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.c),l.Qb(a.a),l.Qb(B.b),l.Qb(W.i),l.Qb(o.S),l.Qb(d.e))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-resource-settings-attributes"]],viewQuery:function(e,t){var i;1&e&&l.Sc(q,!0),2&e&&l.wc(i=l.fc())&&(t.list=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:17,vars:17,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent",1,"mr-2",3,"click"],["mat-flat-button","","color","accent",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","warn",3,"disabled","click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","attributes","selection","page",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","attributes","selection","page"],["list",""]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Wb(1,"h1",0),l.Lc(2),l.jc(3,"translate"),l.Vb(),l.Wb(4,"perun-web-apps-refresh-button",1),l.ec("refresh",(function(){return t.refreshTable()})),l.Vb(),l.Wb(5,"button",2),l.ec("click",(function(){return t.onCreate()})),l.Lc(6),l.jc(7,"translate"),l.Vb(),l.Wb(8,"button",3),l.ec("click",(function(){return t.onSave()})),l.Lc(9),l.jc(10,"translate"),l.Vb(),l.Wb(11,"button",4),l.ec("click",(function(){return t.onDelete()})),l.Lc(12),l.jc(13,"translate"),l.Vb(),l.Wb(14,"perun-web-apps-immediate-filter",5),l.ec("filter",(function(e){return t.applyFilter(e)})),l.Vb(),l.Jc(15,Z,1,0,"mat-spinner",6),l.Jc(16,ee,2,4,"perun-web-apps-attributes-list",7),l.Vb()),2&e&&(l.Cb(2),l.Mc(l.kc(3,9,"RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),l.Cb(4),l.Nc(" ",l.kc(7,11,"RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.CREATE")," "),l.Cb(2),l.oc("disabled",0===t.selection.selected.length),l.Cb(1),l.Nc(" ",l.kc(10,13,"RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SAVE")," "),l.Cb(2),l.oc("disabled",0===t.selection.selected.length),l.Cb(1),l.Nc(" ",l.kc(13,15,"RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.DELETE")," "),l.Cb(2),l.oc("placeholder","SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTES_LIST.FILTER"),l.Cb(1),l.oc("ngIf",t.loading),l.Cb(1),l.oc("ngIf",!t.loading))},directives:[u.a,P.b,p.a,s.t,h.c,Y.a],pipes:[d.d],styles:[""]}),e})();var ie=i("ILoV"),se=i("VEwN"),ae=i("FoxU"),ce=i("K9kF"),re=i("FcRk");const ne=["checkbox"];function oe(e,t){1&e&&l.Rb(0,"mat-spinner",8)}const le=function(){return["vo","menu"]};function be(e,t){if(1&e){const e=l.Xb();l.Wb(0,"div",9),l.Wb(1,"perun-web-apps-groups-list",10),l.ec("page",(function(t){return l.Bc(e),l.ic().pageChanged(t)})),l.Vb(),l.Vb()}if(2&e){const e=l.ic();l.Cb(1),l.oc("pageSize",e.pageSize)("groups",e.filteredGroups)("selection",e.selected)("disableMembers",!1)("hideColumns",l.sc(5,le))}}function ue(e,t){1&e&&(l.Wb(0,"app-alert",11),l.Lc(1),l.jc(2,"translate"),l.Vb()),2&e&&(l.Cb(1),l.Nc(" ",l.kc(2,1,"RESOURCE_DETAIL.ASSIGNED_GROUPS.NO_GROUPS"),"\n"))}let pe=(()=>{class e{constructor(e,t,i,s){this.route=e,this.resourcesManager=t,this.tableConfigService=i,this.dialog=s,this.assignedGroups=[],this.selected=new z.c(!0,[]),this.filteredGroups=[],this.tableId=o.A}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.loading=!0,this.route.parent.params.subscribe(e=>{this.resourceId=e.resourceId,this.loadAllGroups()})}loadAllGroups(){this.loading=!0,this.resourcesManager.getAssignedGroups(this.resourceId).subscribe(e=>{this.assignedGroups=e,this.filteredGroups=e,this.selected.clear(),this.loading=!1})}addGroup(){const e=Object(n.i)();e.width="800px",e.data={theme:"resource-theme",resourceId:this.resourceId},this.dialog.open(se.a,e).afterClosed().subscribe(e=>{e&&this.loadAllGroups()})}removeGroups(){const e=Object(n.i)();e.width="500px",e.data={resourceId:this.resourceId,groups:this.selected.selected},this.dialog.open(ie.a,e).afterClosed().subscribe(e=>{e&&this.loadAllGroups()})}applyFilter(e){this.filteredGroups=this.assignedGroups.filter(t=>t.name.toLowerCase().includes(e.toLowerCase()))}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(r.j),l.Qb(o.S),l.Qb(B.b))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-perun-web-apps-resource-groups"]],viewQuery:function(e,t){var i;1&e&&l.Hc(ne,!0),2&e&&l.wc(i=l.fc())&&(t.checkbox=i.first)},decls:14,vars:14,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],["class","mt-3",4,"ngIf"],["color","warn",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"mt-3"],[3,"pageSize","groups","selection","disableMembers","hideColumns","page"],["color","warn"]],template:function(e,t){1&e&&(l.Wb(0,"h1",0),l.Lc(1),l.jc(2,"translate"),l.Vb(),l.Wb(3,"perun-web-apps-refresh-button",1),l.ec("refresh",(function(){return t.loadAllGroups()})),l.Vb(),l.Wb(4,"button",2),l.ec("click",(function(){return t.addGroup()})),l.Lc(5),l.jc(6,"translate"),l.Vb(),l.Wb(7,"button",3),l.ec("click",(function(){return t.removeGroups()})),l.Lc(8),l.jc(9,"translate"),l.Vb(),l.Wb(10,"app-debounce-filter",4),l.ec("filter",(function(e){return t.applyFilter(e)})),l.Vb(),l.Jc(11,oe,1,0,"mat-spinner",5),l.Jc(12,be,2,6,"div",6),l.Jc(13,ue,3,3,"app-alert",7)),2&e&&(l.Cb(1),l.Mc(l.kc(2,8,"RESOURCE_DETAIL.ASSIGNED_GROUPS.TITLE")),l.Cb(4),l.Nc(" ",l.kc(6,10,"RESOURCE_DETAIL.ASSIGNED_GROUPS.ADD_GROUP"),"\n"),l.Cb(2),l.oc("disabled",0===t.selected.selected.length),l.Cb(1),l.Nc(" ",l.kc(9,12,"RESOURCE_DETAIL.ASSIGNED_GROUPS.REMOVE_GROUP"),"\n"),l.Cb(2),l.oc("placeholder","RESOURCE_DETAIL.ASSIGNED_GROUPS.FILTER_GROUPS"),l.Cb(1),l.oc("ngIf",t.loading),l.Cb(1),l.oc("ngIf",!t.loading&&0!==t.assignedGroups.length),l.Cb(1),l.oc("ngIf",0===t.assignedGroups.length&&!t.loading))},directives:[u.a,P.b,ae.a,s.t,h.c,ce.a,re.a],pipes:[d.d],styles:[""]}),e})();var he=i("29Wa"),fe=i("R7+U"),de=i("mFH5"),ge=i("+Tre"),Ie=i("KZIX");function me(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-attributes-list",5),l.ec("page",(function(t){return l.Bc(e),l.ic().pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic();l.oc("pageSize",e.pageSize)("attributes",e.facilityAttributes)}}function Se(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-attributes-list",5),l.ec("page",(function(t){return l.Bc(e),l.ic(2).pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic(2);l.oc("pageSize",e.pageSize)("attributes",e.resourceAttributes)}}function Ee(e,t){if(1&e&&(l.Wb(0,"mat-tab",2),l.Jc(1,Se,1,2,"perun-web-apps-attributes-list",3),l.Vb()),2&e){const e=l.ic();l.oc("label",e.resource.name),l.Cb(1),l.oc("ngIf",!!e.resourceAttributes)}}function Te(e,t){if(1&e){const e=l.Xb();l.Wb(0,"perun-web-apps-attributes-list",5),l.ec("page",(function(t){return l.Bc(e),l.ic(2).pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic(2);l.oc("pageSize",e.pageSize)("attributes",e.groupAttributes)}}function Ce(e,t){if(1&e&&(l.Wb(0,"mat-tab",2),l.Jc(1,Te,1,2,"perun-web-apps-attributes-list",3),l.Vb()),2&e){const e=l.ic();l.oc("label",e.group.name),l.Cb(1),l.oc("ngIf",!!e.groupAttributes)}}let ye=(()=>{class e{constructor(e,t){this.attributesManager=e,this.tableConfigService=t,this.showTab=0,this.tableId=o.k}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.loadFacilityAttributes()}ngOnChanges(e){e.service?this.reloadAll():e.resource?void 0===e.resource.currentValue?(this.resourceAttributes=void 0,this.showTab=0):(this.showTab=1,this.loadResourceAttributes()):e.group&&(void 0===e.group.currentValue?(this.groupAttributes=void 0,this.showTab=1):(this.showTab=2,this.attributesManager.getGroupAttributes(this.group.id).subscribe(e=>this.groupAttributes=e)))}loadResourceAttributes(){"NOT_SELECTED"===this.service?this.attributesManager.getResourceAttributes(this.resource.id).subscribe(e=>this.resourceAttributes=e):"ALL"===this.service?this.attributesManager.getRequiredAttributesResource(this.resource.id).subscribe(e=>this.resourceAttributes=e):this.attributesManager.getRequiredAttributesResourceService(this.service.id,this.resource.id).subscribe(e=>this.resourceAttributes=e)}loadFacilityAttributes(){"NOT_SELECTED"===this.service?this.attributesManager.getFacilityAttributes(this.facility.id).subscribe(e=>this.facilityAttributes=e):"ALL"===this.service?this.attributesManager.getRequiredAttributesFacility(this.facility.id).subscribe(e=>this.facilityAttributes=e):this.attributesManager.getRequiredAttributesFacilityService(this.service.id,this.facility.id).subscribe(e=>this.facilityAttributes=e)}reloadAll(){this.loadFacilityAttributes(),void 0!==this.resource&&this.loadResourceAttributes()}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.c),l.Qb(o.S))},e.\u0275cmp=l.Kb({type:e,selectors:[["perun-web-apps-service-configurator"]],inputs:{facility:"facility",service:"service",resource:"resource",group:"group"},features:[l.Ab],decls:6,vars:6,consts:[[2,"min-height","500px"],[3,"dynamicHeight","selectedIndex","selectedIndexChange"],[3,"label"],[3,"pageSize","attributes","page",4,"ngIf"],[3,"label",4,"ngIf"],[3,"pageSize","attributes","page"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"mat-tab-group",1),l.ec("selectedIndexChange",(function(e){return t.showTab=e})),l.Wb(2,"mat-tab",2),l.Jc(3,me,1,2,"perun-web-apps-attributes-list",3),l.Vb(),l.Jc(4,Ee,2,2,"mat-tab",4),l.Jc(5,Ce,2,2,"mat-tab",4),l.Vb(),l.Vb()),2&e&&(l.Cb(1),l.oc("dynamicHeight",!0)("selectedIndex",t.showTab),l.Cb(1),l.oc("label",t.facility.name),l.Cb(1),l.oc("ngIf",!!t.facilityAttributes),l.Cb(1),l.oc("ngIf",!!t.resource),l.Cb(1),l.oc("ngIf",!!t.group))},directives:[Ie.c,Ie.a,s.t,Y.a],styles:[""]}),e})();function ve(e,t){if(1&e&&(l.Wb(0,"mat-option",6),l.Lc(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e),l.Cb(1),l.Nc(" ",e.name," ")}}function Ae(e,t){1&e&&(l.Wb(0,"mat-option"),l.Lc(1),l.jc(2,"translate"),l.Vb()),2&e&&(l.Cb(1),l.Nc(" ",l.kc(2,1,"FACILITY_DETAIL.SERVICE_CONFIG.SERVICE_SELECT_NO_SERVICE")," "))}function Le(e,t){if(1&e&&(l.Wb(0,"mat-option",6),l.Lc(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e),l.Cb(1),l.Nc(" ",e.name," ")}}function Re(e,t){if(1&e&&(l.Wb(0,"mat-option",6),l.Lc(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e),l.Cb(1),l.Nc(" ",e.name," ")}}function Ve(e,t){1&e&&(l.Wb(0,"mat-hint"),l.Lc(1),l.jc(2,"translate"),l.Vb()),2&e&&(l.Cb(1),l.Nc(" ",l.kc(2,1,"FACILITY_DETAIL.SERVICE_CONFIG.GROUP_SELECT_DEFAULT")," "))}function we(e,t){if(1&e){const e=l.Xb();l.Wb(0,"div",3),l.Wb(1,"mat-form-field",4),l.Wb(2,"mat-label"),l.Lc(3),l.jc(4,"translate"),l.Vb(),l.Wb(5,"mat-select",5),l.ec("valueChange",(function(t){return l.Bc(e),l.ic().selectedService=t})),l.Wb(6,"mat-option",6),l.Lc(7," NOT SELECTED "),l.Vb(),l.Wb(8,"mat-option",6),l.Lc(9," ALL "),l.Vb(),l.Jc(10,ve,2,2,"mat-option",7),l.Jc(11,Ae,3,3,"mat-option",8),l.Vb(),l.Vb(),l.Wb(12,"mat-checkbox",9),l.ec("change",(function(t){return l.Bc(e),l.ic().onOfferAllServices(t)})),l.Lc(13),l.jc(14,"translate"),l.Vb(),l.Wb(15,"mat-form-field",4),l.Wb(16,"mat-label"),l.Lc(17),l.jc(18,"translate"),l.Vb(),l.Wb(19,"mat-select",10),l.ec("valueChange",(function(t){return l.Bc(e),l.ic().selectedResource=t}))("selectionChange",(function(){return l.Bc(e),l.ic().onSelectedResource()})),l.Wb(20,"mat-option"),l.Lc(21),l.jc(22,"translate"),l.Vb(),l.Jc(23,Le,2,2,"mat-option",7),l.Vb(),l.Vb(),l.Wb(24,"mat-form-field",4),l.Wb(25,"mat-label"),l.Lc(26),l.jc(27,"translate"),l.Vb(),l.Wb(28,"mat-select",11),l.ec("valueChange",(function(t){return l.Bc(e),l.ic().selectedGroup=t})),l.Jc(29,Re,2,2,"mat-option",7),l.Vb(),l.Jc(30,Ve,3,3,"mat-hint",8),l.Vb(),l.Vb()}if(2&e){const e=l.ic();l.Cb(3),l.Mc(l.kc(4,16,"FACILITY_DETAIL.SERVICE_CONFIG.SERVICE_SELECT")),l.Cb(2),l.oc("value",e.selectedService),l.Cb(1),l.oc("value","NOT_SELECTED"),l.Cb(2),l.oc("value","ALL"),l.Cb(2),l.oc("ngForOf",e.services),l.Cb(1),l.oc("ngIf",!!e.services&&0===e.services.length),l.Cb(2),l.Nc(" ",l.kc(14,18,"FACILITY_DETAIL.SERVICE_CONFIG.ALL_SERVICES")," "),l.Cb(4),l.Mc(l.kc(18,20,"FACILITY_DETAIL.SERVICE_CONFIG.RES_SELECT")),l.Cb(2),l.oc("value",e.selectedResource),l.Cb(2),l.Mc(l.kc(22,22,"FACILITY_DETAIL.SERVICE_CONFIG.UNSELECTED")),l.Cb(2),l.oc("ngForOf",e.resources),l.Cb(3),l.Mc(l.kc(27,24,"FACILITY_DETAIL.SERVICE_CONFIG.GROUP_SELECT")),l.Cb(2),l.oc("value",e.selectedGroup)("disabled",void 0===e.selectedResource),l.Cb(1),l.oc("ngForOf",e.groups),l.Cb(1),l.oc("ngIf",void 0===e.selectedResource)}}function Oe(e,t){if(1&e&&l.Rb(0,"perun-web-apps-service-configurator",12),2&e){const e=l.ic();l.oc("facility",e.facility)("resource",e.selectedResource)("group",e.selectedGroup)("service",e.selectedService)}}let Me=(()=>{class e{constructor(e,t,i,s){this.route=e,this.facilityManager=t,this.resourceManager=i,this.serviceManager=s,this.selectedService="NOT_SELECTED"}ngOnInit(){this.route.parent.params.subscribe(e=>{this.facilityManager.getFacilityById(e.facilityId).subscribe(e=>{this.facility=e,this.facilityManager.getAssignedResourcesForFacility(e.id).subscribe(e=>this.resources=e),this.serviceManager.getAssignedServices(e.id).subscribe(e=>this.services=e)})})}onSelectedResource(){void 0!==this.selectedResource&&(this.resourceManager.getAssignedGroups(this.selectedResource.id).subscribe(e=>this.groups=e),this.selectedGroup=void 0)}onOfferAllServices(e){e.checked||this.serviceManager.getAssignedServices(this.facility.id).subscribe(e=>this.services=e)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(a.a),l.Qb(r.g),l.Qb(r.j),l.Qb(r.k))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-service-config"]],decls:6,vars:5,consts:[[1,"page-subtitle"],["class","col-12 col-lg-6 mb-2",4,"ngIf"],[3,"facility","resource","group","service",4,"ngIf"],[1,"col-12","col-lg-6","mb-2"],[1,"w-100"],[3,"value","valueChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"change"],[3,"value","valueChange","selectionChange"],[3,"value","disabled","valueChange"],[3,"facility","resource","group","service"]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Wb(1,"h1",0),l.Lc(2),l.jc(3,"translate"),l.Vb(),l.Jc(4,we,31,26,"div",1),l.Jc(5,Oe,1,4,"perun-web-apps-service-configurator",2),l.Vb()),2&e&&(l.Cb(2),l.Mc(l.kc(3,3,"FACILITY_DETAIL.SERVICE_CONFIG.TITLE")),l.Cb(2),l.oc("ngIf",!!t.facility),l.Cb(1),l.oc("ngIf",!!t.facility))},directives:[s.t,he.c,he.g,fe.a,de.l,s.s,ge.a,he.f,ye],pipes:[d.d],styles:[""]}),e})();var Ne=i("Iydx"),Fe=i("NU+N");function _e(e,t){if(1&e&&l.Rb(0,"app-managers-page",1),2&e){const e=l.ic();l.oc("complementaryObject",e.facility)("complementaryObjectType",e.type)("theme",e.theme)("availableRoles",e.availableRoles)}}let De=(()=>{class e{constructor(e,t){this.facilityService=e,this.route=t,this.availableRoles=[Ne.b.FACILITYADMIN],this.selected="user",this.type="Facility",this.theme="facility-theme"}ngOnInit(){this.route.parent.parent.params.subscribe(e=>{this.facilityService.getFacilityById(e.facilityId).subscribe(e=>{this.facility=e})})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(r.g),l.Qb(a.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-perun-web-apps-facility-settings-managers"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:1,vars:1,consts:[[3,"complementaryObject","complementaryObjectType","theme","availableRoles",4,"ngIf"],[3,"complementaryObject","complementaryObjectType","theme","availableRoles"]],template:function(e,t){1&e&&l.Jc(0,_e,1,4,"app-managers-page",0),2&e&&l.oc("ngIf",t.facility)},directives:[s.t,Fe.a],styles:[""]}),e})();var Ge=i("/nwi"),We=i("Dkjx"),ke=i("pgvo");function ze(e,t){1&e&&l.Rb(0,"mat-spinner",7)}function Ue(e,t){if(1&e){const e=l.Xb();l.Wb(0,"app-perun-web-apps-destination-list",8),l.ec("page",(function(t){return l.Bc(e),l.ic().pageChanged(t)})),l.Vb()}if(2&e){const e=l.ic();l.oc("pageSize",e.pageSize)("filterValue",e.filterValue)("destinations",e.destinations)("selection",e.selected)("displayedColumns",e.displayedColumns)}}const je=[{path:"",component:E},{path:":facilityId",component:L,children:[{path:"",component:V,data:{animation:"FacilityOverviewPage"}},{path:"resources",component:w.a,data:{animation:"FacilityResourcesPage"}},{path:"allowed-groups",component:O.a,data:{animation:"FacilityAllowedGroupsPage"}},{path:"service-config",component:Me,data:{animation:"FacilityServiceConfigPage"}},{path:"services-destinations",component:(()=>{class e{constructor(e,t,i,s,a,c,r){this.dialog=e,this.facilitiesManager=t,this.servicesManager=i,this.tableConfigService=s,this.translate=a,this.notificator=c,this.route=r,this.selected=new z.c(!0,[]),this.displayedColumns=["select","destinationId","service","destination","type","propagationType"],this.filterValue="",this.tableId=o.q}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.loading=!0,this.route.parent.params.subscribe(e=>{this.facilitiesManager.getFacilityById(e.facilityId).subscribe(e=>{this.facility=e,this.refreshTable()})})}refreshTable(){this.loading=!0,this.servicesManager.getAllRichDestinationsForFacility(this.facility.id).subscribe(e=>{this.destinations=e,this.selected.clear(),this.loading=!1})}addDestination(){const e=Object(n.i)();e.width="600px",e.data={facility:this.facility,theme:"facility-theme"},this.dialog.open(We.a,e).afterClosed().subscribe(e=>{e&&this.translate.get("FACILITY_DETAIL.SERVICES_DESTINATIONS.ADD_SUCCESS").subscribe(e=>{this.refreshTable(),this.notificator.showSuccess(e)})})}removeDestination(){const e=Object(n.i)();e.width="600px",e.data={destinations:this.selected.selected,theme:"facility-theme"},this.dialog.open(Ge.a,e).afterClosed().subscribe(e=>{e&&(this.loading=!0,this.deleteDestinations(this.selected.selected))})}applyFilter(e){this.filterValue=e}pageChanged(e){console.log(e.pageSize),this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}deleteDestinations(e){if(0===e.length)this.translate.get("FACILITY_DETAIL.SERVICES_DESTINATIONS.REMOVE_SUCCESS").subscribe(e=>{this.refreshTable(),this.notificator.showSuccess(e)});else{const t=e[0];this.servicesManager.removeDestination(t.service.id,t.facility.id,t.destination,t.type).subscribe(()=>{e.shift(),this.deleteDestinations(e)})}}}return e.id="FacilityServicesDestinationsComponent",e.\u0275fac=function(t){return new(t||e)(l.Qb(B.b),l.Qb(r.g),l.Qb(r.k),l.Qb(o.S),l.Qb(d.e),l.Qb(W.i),l.Qb(a.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-perun-web-apps-facility-services-destinations"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Gb("router-component",!0)},decls:14,vars:13,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","destinations","selection","displayedColumns","page",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","destinations","selection","displayedColumns","page"]],template:function(e,t){1&e&&(l.Wb(0,"div"),l.Wb(1,"h1",0),l.Lc(2),l.jc(3,"translate"),l.Vb(),l.Wb(4,"perun-web-apps-refresh-button",1),l.ec("refresh",(function(){return t.refreshTable()})),l.Vb(),l.Wb(5,"button",2),l.ec("click",(function(){return t.addDestination()})),l.Lc(6),l.jc(7,"translate"),l.Vb(),l.Wb(8,"button",3),l.ec("click",(function(){return t.removeDestination()})),l.Lc(9),l.jc(10,"translate"),l.Vb(),l.Wb(11,"perun-web-apps-immediate-filter",4),l.ec("filter",(function(e){return t.applyFilter(e)})),l.Vb(),l.Jc(12,ze,1,0,"mat-spinner",5),l.Jc(13,Ue,1,5,"app-perun-web-apps-destination-list",6),l.Vb()),2&e&&(l.Cb(2),l.Mc(l.kc(3,7,"FACILITY_DETAIL.SERVICES_DESTINATIONS.TITLE")),l.Cb(4),l.Nc(" ",l.kc(7,9,"FACILITY_DETAIL.SERVICES_DESTINATIONS.ADD")," "),l.Cb(2),l.oc("disabled",0===t.selected.selected.length),l.Cb(1),l.Nc(" ",l.kc(10,11,"FACILITY_DETAIL.SERVICES_DESTINATIONS.REMOVE")," "),l.Cb(2),l.oc("placeholder","FACILITY_DETAIL.SERVICES_DESTINATIONS.FILTER"),l.Cb(1),l.oc("ngIf",t.loading),l.Cb(1),l.oc("ngIf",!t.loading))},directives:[u.a,P.b,p.a,s.t,h.c,ke.a],pipes:[d.d],styles:[""]}),e})(),data:{animation:"FacilityServicesDestinationsPage"}},{path:"settings",component:D,children:[{path:"",component:G,data:{animation:"FacilitySettingsOverviewPage"}},{path:"attributes",component:$,data:{animation:"FacilitySettingsAttributesPage"}},{path:"owners",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Kb({type:e,selectors:[["app-facility-settings-owners"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Wb(0,"p"),l.Lc(1,"facility-settings-owners works!"),l.Vb())},styles:[""]}),e})(),data:{animation:"FacilitySettingOwnersPage"}},{path:"managers",component:De,data:{animation:"FacilitySettingsManagersPage"}}]}]},{path:":facilityId/resources/:resourceId",component:F,children:[{path:"",component:_,data:{animation:"ResourceOverviewPage"}},{path:"groups",component:pe,data:{animation:"ResourceGroupsComponent"}},{path:"settings",component:X,children:[{path:"",component:H,data:{animation:"ResourceSettingsOverviewPage"}},{path:"attributes",component:te,data:{animation:"ResourceSettingsAttributesPage"}}]}]}];let Qe=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(je)],a.j]}),e})();var Be=i("PCNd"),Pe=i("mWkV"),Ye=i("KoHB");let xe=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[s.c,Ie.g,k.b]]}),e})(),Je=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[s.c,Qe,Pe.b,Be.a,Ye.a,k.b,xe]]}),e})()}}]);