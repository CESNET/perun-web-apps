{"version":3,"sources":["webpack:///home/vectoun/git/perun-web-apps/libs/perun/facility-services-config/src/index.ts","webpack:///home/vectoun/git/perun-web-apps/libs/perun/facility-services-config/src/lib/perun-facility-services-config.module.ts","webpack:///home/vectoun/git/perun-web-apps/libs/perun/facility-services-config/src/lib/service-configurator/service-configurator.component.ts","webpack:///home/vectoun/git/perun-web-apps/libs/perun/facility-services-config/src/lib/service-configurator/service-configurator.component.html","webpack:///src/app/facilities/components/facility-select-table/facility-select-table.component.ts","webpack:///src/app/facilities/components/facility-select-table/facility-select-table.component.html","webpack:///src/app/facilities/facilities-routing.module.ts","webpack:///src/app/facilities/facilities.module.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-detail-page.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-detail-page.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-overview/facility-overview.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-overview/facility-overview.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-service-config/facility-service-config.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-service-config/facility-service-config.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-managers/facility-settings-managers.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-managers/facility-settings-managers.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings.component.html","webpack:///src/app/facilities/pages/facility-select-page/facility-select-page.component.ts","webpack:///src/app/facilities/pages/facility-select-page/facility-select-page.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-detail-page.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-detail-page.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-groups/resource-groups.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-groups/resource-groups.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-overview/resource-overview.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-overview/resource-overview.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings.component.html"],"names":["PerunFacilityServicesConfigModule","imports","declarations","exports","ServiceConfiguratorComponent","attributesManager","tableConfigService","showTab","tableId","pageSize","getTablePageSize","loadFacilityAttributes","changes","reloadAll","currentValue","undefined","resourceAttributes","loadResourceAttributes","groupAttributes","getGroupAttributes","group","id","subscribe","attrs","service","getResourceAttributes","resource","getRequiredAttributesResource","getRequiredAttributesResourceService","getFacilityAttributes","facility","facilityAttributes","getRequiredAttributesFacility","getRequiredAttributesFacilityService","event","setTablePageSize","selector","templateUrl","styleUrls","FacilitySelectTableComponent","page","exporting","displayedColumns","pageSizeOptions","dataSource","facilities","setDataSource","filter","filterValue","paginator","sort","filterPredicate","data","lowerCaseFilter","trim","toLowerCase","name","indexOf","description","toString","startsWith","facilityOwners","emit","ms","pageChanged","routes","path","component","children","animation","FacilitiesRoutingModule","forChild","FacilitiesModule","FacilityDetailPageComponent","facilityManager","route","sideMenuService","sideMenuItemService","params","facilityId","getFacilityById","facilityItem","parseFacility","setFacilityMenuItems","animations","FacilityOverviewComponent","navItems","initItems","cssIcon","url","label","style","FacilityServiceConfigComponent","resourceManager","serviceManager","selectedService","parent","parentParams","getAssignedResourcesForFacility","resources","getAssignedServices","services","selectedResource","getAssignedGroups","groups","selectedGroup","checked","FacilitySettingsAttributesComponent","dialog","notificator","translate","attributes","selection","get","value","saveSuccessMessage","deleteSuccessMessage","refreshTable","dialogRef","open","width","entityId","entity","selected","afterClosed","result","list","updateMapAttributes","notEmptyAttributes","loading","clear","onCreate","onSave","onDelete","applyFilter","FacilitySettingsManagersComponent","facilityService","availableRoles","FACILITYADMIN","type","theme","parentParentParams","FacilitySettingsOverviewComponent","items","FacilitySettingsComponent","FacilitySelectPageComponent","recentIds","getRichFacilities","ResourceDetailPageComponent","resourcesManager","resourceId","getResourceById","resourceItem","parseResource","ResourceGroupsComponent","assignedGroups","filteredGroups","loadAllGroups","success","option","includes","addGroup","removeGroups","ResourceOverviewComponent","ResourceSettingsAttributesComponent","ResourceSettingsOverviewComponent","ResourceSettingsComponent"],"mappings":"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","file":"facilities-facilities-module-es5.js","sourcesContent":["export * from './lib/perun-facility-services-config.module';\nexport * from './lib/service-configurator/service-configurator.component';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ServiceConfiguratorComponent } from './service-configurator/service-configurator.component';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { PerunSharedComponentsModule } from '@perun-web-apps/perun/components';\n\n@NgModule({\n  imports: [CommonModule, MatTabsModule, PerunSharedComponentsModule],\n  declarations: [ServiceConfiguratorComponent],\n  exports: [ServiceConfiguratorComponent]\n})\nexport class PerunFacilityServicesConfigModule {}\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { Attribute, AttributesManagerService, Facility, Group, Resource, Service } from '@perun-web-apps/perun/openapi';\nimport {\n  TABLE_ATTRIBUTES_SETTINGS,\n  TableConfigService\n} from '@perun-web-apps/config/table-config';\nimport { PageEvent } from '@angular/material/paginator';\n\nexport type ServiceSelectValue = 'ALL' | 'NOT_SELECTED';\n\n@Component({\n  selector: 'perun-web-apps-service-configurator',\n  templateUrl: './service-configurator.component.html',\n  styleUrls: ['./service-configurator.component.scss']\n})\nexport class ServiceConfiguratorComponent implements OnInit, OnChanges {\n\n  constructor(\n    private attributesManager: AttributesManagerService,\n    private tableConfigService: TableConfigService\n  ) { }\n\n  @Input()\n  facility: Facility;\n\n  @Input()\n  service: Service | ServiceSelectValue;\n\n  @Input()\n  resource: Resource;\n\n  @Input()\n  group: Group;\n\n  showTab = 0;\n\n  facilityAttributes: Attribute[];\n  resourceAttributes: Attribute[];\n  groupAttributes: Attribute[];\n\n  tableId = TABLE_ATTRIBUTES_SETTINGS;\n  pageSize: number;\n\n  ngOnInit() {\n    this.pageSize = this.tableConfigService.getTablePageSize(this.tableId);\n    this.loadFacilityAttributes();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['service']) {\n      this.reloadAll();\n      return;\n    }\n    if (changes['resource']) {\n      if (changes['resource'].currentValue === undefined) {\n        this.resourceAttributes = undefined;\n        this.showTab = 0;\n      } else {\n        this.showTab = 1;\n        this.loadResourceAttributes()\n      }\n    } else if (changes['group']) {\n      if (changes['group'].currentValue === undefined) {\n        this.groupAttributes = undefined;\n        this.showTab = 1;\n      } else {\n        this.showTab = 2;\n        this.attributesManager.getGroupAttributes(this.group.id).subscribe(attrs => this.groupAttributes = attrs);\n      }\n    }\n  }\n\n  loadResourceAttributes() {\n    if (this.service === 'NOT_SELECTED') {\n      this.attributesManager\n        .getResourceAttributes(this.resource.id)\n        .subscribe(attrs => this.resourceAttributes = attrs);\n    } else if (this.service === 'ALL') {\n      this.attributesManager\n        .getRequiredAttributesResource(this.resource.id)\n        .subscribe(attrs => this.resourceAttributes = attrs);\n    } else {\n      this.attributesManager\n        .getRequiredAttributesResourceService(this.service.id, this.resource.id)\n        .subscribe(attrs => this.resourceAttributes = attrs);\n    }\n  }\n\n  loadFacilityAttributes() {\n    if (this.service === 'NOT_SELECTED') {\n      this.attributesManager\n        .getFacilityAttributes(this.facility.id)\n        .subscribe(attrs => this.facilityAttributes = attrs);\n    } else if (this.service === 'ALL') {\n      this.attributesManager\n        .getRequiredAttributesFacility(this.facility.id)\n        .subscribe(attrs => this.facilityAttributes = attrs);\n    } else {\n      this.attributesManager\n        .getRequiredAttributesFacilityService(this.service.id, this.facility.id)\n        .subscribe(attrs => this.facilityAttributes = attrs);\n    }\n  }\n\n  private reloadAll() {\n    this.loadFacilityAttributes();\n    if (this.resource !== undefined) {\n      this.loadResourceAttributes();\n    }\n  }\n\n  pageChanged(event: PageEvent) {\n    this.pageSize = event.pageSize;\n    this.tableConfigService.setTablePageSize(this.tableId, event.pageSize);\n  }\n}\n","<!--The min-height is a hack to prevent page scrolling on tab switching-->\n<div style=\"min-height: 500px\">\n  <mat-tab-group [dynamicHeight]=\"true\" [(selectedIndex)]=\"showTab\">\n    <mat-tab [label]=\"facility.name\">\n      <perun-web-apps-attributes-list\n        (page)=\"pageChanged($event)\"\n        [pageSize]=\"pageSize\"\n        *ngIf=\"!!facilityAttributes\"\n        [attributes]=\"facilityAttributes\">\n      </perun-web-apps-attributes-list>\n    </mat-tab>\n    <mat-tab [label]=\"resource.name\" *ngIf=\"!!resource\">\n      <perun-web-apps-attributes-list\n        (page)=\"pageChanged($event)\"\n        [pageSize]=\"pageSize\"\n        *ngIf=\"!!resourceAttributes\"\n        [attributes]=\"resourceAttributes\">\n      </perun-web-apps-attributes-list>\n    </mat-tab>\n    <mat-tab [label]=\"group.name\" *ngIf=\"!!group\">\n      <perun-web-apps-attributes-list\n        (page)=\"pageChanged($event)\"\n        [pageSize]=\"pageSize\"\n        *ngIf=\"!!groupAttributes\"\n        [attributes]=\"groupAttributes\">\n      </perun-web-apps-attributes-list>\n    </mat-tab>\n  </mat-tab-group>\n</div>\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { RichFacility } from '@perun-web-apps/perun/openapi';\nimport { parseTechnicalOwnersNames, TABLE_ITEMS_COUNT_OPTIONS } from '@perun-web-apps/perun/utils';\n\n@Component({\n  selector: 'app-facility-select-table',\n  templateUrl: './facility-select-table.component.html',\n  styleUrls: ['./facility-select-table.component.scss']\n})\nexport class FacilitySelectTableComponent implements AfterViewInit, OnChanges {\n  constructor() { }\n\n  @Input()\n  facilities: RichFacility[];\n\n  @Input()\n  recentIds: number[];\n\n  @Input()\n  filterValue: string;\n\n  @Input()\n  pageSize = 10;\n\n  @Output()\n  page: EventEmitter<PageEvent> = new EventEmitter<PageEvent>();\n\n  exporting = false;\n\n  @ViewChild(MatSort, { static: true }) set matSort(ms: MatSort) {\n    this.sort = ms;\n    this.setDataSource();\n  }\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n\n  private sort: MatSort;\n\n  displayedColumns: string[] = ['id', 'recent', 'name', 'description', 'technicalOwners'];\n  dataSource: MatTableDataSource<RichFacility>;\n  pageSizeOptions = TABLE_ITEMS_COUNT_OPTIONS;\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.dataSource = new MatTableDataSource<RichFacility>(this.facilities);\n    this.setDataSource();\n    this.dataSource.filter = this.filterValue;\n  }\n\n  ngAfterViewInit(): void {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  setDataSource() {\n    if (!!this.dataSource) {\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.filterPredicate = ((data, filter) => {\n        const lowerCaseFilter = filter.trim().toLowerCase();\n        if (data.name.trim().toLowerCase().indexOf(lowerCaseFilter) !== -1) {\n          return true;\n        }\n        if (data.description !== null && data.description.trim().toLowerCase().indexOf(lowerCaseFilter) !== -1) {\n          return true;\n        }\n        if (data.id.toString(10).startsWith(filter)) {\n          return true;\n        }\n        return parseTechnicalOwnersNames(data.facilityOwners).toLowerCase().indexOf(lowerCaseFilter) !== -1;\n      });\n    }\n  }\n\n  pageChanged(event: PageEvent) {\n    this.page.emit(event);\n  }\n}\n","<div class=\"card mt-3\" [class.hide-table]=\"exporting\" [hidden]=\"dataSource.filteredData.length === 0\">\n  <div class=\"card-body\">\n    <perun-web-apps-table-options (end)=\"exporting = false\" (start)=\"exporting = true\" [exporter]=\"exporter\"></perun-web-apps-table-options>\n\n    <table mat-table matTableExporter [dataSource]=\"dataSource\" #exporter=\"matTableExporter\" matSort matSortDirection=\"asc\" matSortDisableClear\n           class=\"w-100\">\n      <ng-container matColumnDef=\"id\">\n        <th mat-header-cell *matHeaderCellDef\n            mat-sort-header>{{'FACILITY_MANAGEMENT.TABLE.ID' | translate}}</th>\n        <td class=\"static-column-size\" mat-cell *matCellDef=\"let facility\">{{facility.id}}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"recent\">\n        <th mat-header-cell *matHeaderCellDef>\n        </th>\n        <td mat-cell *matCellDef=\"let facility\">\n          <mat-icon\n            class=\"align-bottom\"\n            *ngIf=\"recentIds.indexOf(facility.id) > -1\"\n            matTooltip=\"{{'VO_MANAGEMENT.TABLE.RECENT' | translate}}\">\n            visibility\n          </mat-icon>\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef\n            mat-sort-header>{{'FACILITY_MANAGEMENT.TABLE.NAME' | translate}}</th>\n        <td mat-cell *matCellDef=\"let facility\">{{facility.name}}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"description\">\n        <th mat-header-cell *matHeaderCellDef>{{'FACILITY_MANAGEMENT.TABLE.DESCRIPTION' | translate}}</th>\n        <td mat-cell *matCellDef=\"let facility\">{{facility.description}}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"technicalOwners\">\n        <th mat-header-cell *matHeaderCellDef>{{'FACILITY_MANAGEMENT.TABLE.TECHNICAL_OWNERS' | translate}}</th>\n        <td mat-cell *matCellDef=\"let facility\">{{facility.facilityOwners | technicalOwners}}</td>\n      </ng-container>\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr\n        mat-row\n        *matRowDef=\"let facility; columns: displayedColumns;\"\n        [routerLink]=\"['/facilities', facility.id]\"\n        class=\"dark-hover-list-item\">\n      </tr>\n    </table>\n    <mat-paginator\n      [length]=\"this.facilities.length\"\n      (page)=\"pageChanged($event)\"\n      [pageSize]=\"pageSize\"\n      [pageSizeOptions]=\"pageSizeOptions\">\n    </mat-paginator>\n  </div>\n</div>\n\n<mat-spinner *ngIf=\"exporting\" class=\"ml-auto mr-auto\"></mat-spinner>\n\n<app-alert *ngIf=\"dataSource.filteredData.length === 0\" color=\"warn\">\n  {{'SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT' | translate}}\n</app-alert>\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FacilitySelectPageComponent} from './pages/facility-select-page/facility-select-page.component';\nimport {FacilityDetailPageComponent} from './pages/facility-detail-page/facility-detail-page.component';\nimport {FacilityOverviewComponent} from './pages/facility-detail-page/facility-overview/facility-overview.component';\nimport {FacilityResourcesComponent} from './pages/facility-detail-page/facility-resources/facility-resources.component';\nimport {FacilityAllowedGroupsComponent} from './pages/facility-detail-page/facility-allowed-groups/facility-allowed-groups.component';\nimport {ResourceDetailPageComponent} from './pages/resource-detail-page/resource-detail-page.component';\nimport {ResourceOverviewComponent} from './pages/resource-detail-page/resource-overview/resource-overview.component';\nimport {FacilitySettingsComponent} from './pages/facility-detail-page/facility-settings/facility-settings.component';\nimport {\n  FacilitySettingsOverviewComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component';\nimport {\n  FacilitySettingsAttributesComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component';\nimport {ResourceSettingsComponent} from './pages/resource-detail-page/resource-settings/resource-settings.component';\nimport {\n  ResourceSettingsOverviewComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component';\nimport {\n  ResourceSettingsAttributesComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component';\nimport { ResourceGroupsComponent } from './pages/resource-detail-page/resource-groups/resource-groups.component';\nimport { FacilityServiceConfigComponent } from './pages/facility-detail-page/facility-service-config/facility-service-config.component';\nimport { FacilitySettingsManagersComponent } from './pages/facility-detail-page/facility-settings/facility-settings-managers/facility-settings-managers.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacilitySelectPageComponent\n  },\n  {\n    path: ':facilityId',\n    component: FacilityDetailPageComponent,\n    children: [\n      {\n        path: '',\n        component: FacilityOverviewComponent,\n        data: {animation: 'FacilityOverviewPage'}\n      },\n      {\n        path: 'resources',\n        component: FacilityResourcesComponent,\n        data: {animation: 'FacilityResourcesPage'}\n      },\n      {\n        path: 'allowed-groups',\n        component: FacilityAllowedGroupsComponent,\n        data: {animation: 'FacilityAllowedGroupsPage'}\n      },\n      {\n        path: 'service-config',\n        component: FacilityServiceConfigComponent,\n        data: {animation: 'FacilityServiceConfigPage'}\n      },\n      {\n        path: 'settings',\n        component: FacilitySettingsComponent,\n        children: [\n          {\n            path: '',\n            component: FacilitySettingsOverviewComponent,\n            data: {animation: 'FacilitySettingsOverviewPage'}\n          },\n          {\n            path: 'attributes',\n            component: FacilitySettingsAttributesComponent,\n            data: {animation: 'FacilitySettingsAttributesPage'}\n          },\n          {\n            path: 'managers',\n            component: FacilitySettingsManagersComponent,\n            data: {animation: 'FacilitySettingsManagersPage'}\n          }\n        ]\n      }\n    ]\n  },\n  {\n    path: ':facilityId/resources/:resourceId',\n    component: ResourceDetailPageComponent,\n    children: [\n      {\n        path: '',\n        component: ResourceOverviewComponent,\n        data: {animation: 'ResourceOverviewPage'}\n      },\n      {\n        path: 'groups',\n        component: ResourceGroupsComponent,\n        data: {animation: 'ResourceGroupsComponent'}\n      },\n      {\n        path: 'settings',\n        component: ResourceSettingsComponent,\n        children: [\n          {\n            path: '',\n            component: ResourceSettingsOverviewComponent,\n            data: {animation: 'ResourceSettingsOverviewPage'}\n          },\n          {\n            path: 'attributes',\n            component: ResourceSettingsAttributesComponent,\n            data: {animation: 'ResourceSettingsAttributesPage'}\n          }\n        ]\n      },\n    ]\n  }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FacilitiesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FacilitiesRoutingModule } from './facilities-routing.module';\nimport { FacilitySelectPageComponent } from './pages/facility-select-page/facility-select-page.component';\nimport {SharedModule} from '../shared/shared.module';\nimport { FacilitySelectTableComponent } from './components/facility-select-table/facility-select-table.component';\nimport { FacilityDetailPageComponent } from './pages/facility-detail-page/facility-detail-page.component';\nimport { FacilityOverviewComponent } from './pages/facility-detail-page/facility-overview/facility-overview.component';\nimport { FacilityResourcesComponent } from './pages/facility-detail-page/facility-resources/facility-resources.component';\nimport {FacilityAllowedGroupsComponent} from './pages/facility-detail-page/facility-allowed-groups/facility-allowed-groups.component';\nimport { ResourceDetailPageComponent } from './pages/resource-detail-page/resource-detail-page.component';\nimport { ResourceOverviewComponent } from './pages/resource-detail-page/resource-overview/resource-overview.component';\nimport { FacilitySettingsComponent } from './pages/facility-detail-page/facility-settings/facility-settings.component';\nimport {\n  FacilitySettingsOverviewComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component';\nimport {\n  FacilitySettingsAttributesComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component';\nimport { ResourceSettingsComponent } from './pages/resource-detail-page/resource-settings/resource-settings.component';\nimport {\n  ResourceSettingsOverviewComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component';\nimport {\n  ResourceSettingsAttributesComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component';\nimport { MatTableExporterModule } from 'mat-table-exporter';\nimport { UiAlertsModule } from '@perun-web-apps/ui/alerts';\nimport { ResourceGroupsComponent } from './pages/resource-detail-page/resource-groups/resource-groups.component';\nimport { PerunSharedComponentsModule } from '@perun-web-apps/perun/components';\nimport { FacilityServiceConfigComponent } from './pages/facility-detail-page/facility-service-config/facility-service-config.component';\nimport { PerunFacilityServicesConfigModule } from '@perun-web-apps/perun/facility-services-config';\nimport { FacilitySettingsManagersComponent } from './pages/facility-detail-page/facility-settings/facility-settings-managers/facility-settings-managers.component';\n\n@NgModule({\n  declarations: [\n    FacilitySelectPageComponent,\n    FacilitySelectTableComponent,\n    FacilityDetailPageComponent,\n    FacilityOverviewComponent,\n    FacilityResourcesComponent,\n    FacilityAllowedGroupsComponent,\n    ResourceDetailPageComponent,\n    ResourceOverviewComponent,\n    FacilitySettingsComponent,\n    FacilitySettingsOverviewComponent,\n    FacilitySettingsAttributesComponent,\n    ResourceSettingsComponent,\n    ResourceSettingsOverviewComponent,\n    ResourceSettingsAttributesComponent,\n    ResourceGroupsComponent,\n    FacilityServiceConfigComponent,\n    FacilitySettingsManagersComponent\n  ],\n  imports: [\n    CommonModule,\n    FacilitiesRoutingModule,\n    MatTableExporterModule,\n    SharedModule,\n    UiAlertsModule,\n    PerunSharedComponentsModule,\n    PerunFacilityServicesConfigModule\n  ]\n})\nexport class FacilitiesModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { fadeIn } from '../../../shared/animations/Animations';\nimport { SideMenuService } from '../../../core/services/common/side-menu.service';\nimport { SideMenuItemService } from '../../../shared/side-menu/side-menu-item.service';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\nimport { addRecentlyVisited } from '@perun-web-apps/perun/utils';\n\n@Component({\n  selector: 'app-facility-detail-page',\n  templateUrl: './facility-detail-page.component.html',\n  styleUrls: ['./facility-detail-page.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class FacilityDetailPageComponent implements OnInit {\n\n  constructor(\n    private facilityManager: FacilitiesManagerService,\n    private route: ActivatedRoute,\n    private sideMenuService: SideMenuService,\n    private sideMenuItemService: SideMenuItemService\n  ) { }\n\n  facility: Facility;\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const facilityId = params['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n        const facilityItem = this.sideMenuItemService.parseFacility(facility);\n\n        this.sideMenuService.setFacilityMenuItems([facilityItem]);\n\n        addRecentlyVisited('facilities', this.facility);\n      });\n    });\n  }\n}\n","<div class=\"container-fluid pl-xl-5 pr-xl-5 facility-theme\" *ngIf=\"facility !== undefined\">\n  <perun-web-apps-back-button>\n  </perun-web-apps-back-button>\n  <h1 class=\"page-title\">\n    {{'FACILITY_DETAIL.TITLE' | translate}}\n    <a class=\"facility-link\" [routerLink]=\"['/facilities', facility.id]\">\n      {{facility.name}}\n    </a>\n    <span class=\"text-muted\">\n      &nbsp;#{{facility.id}}\n    </span>\n  </h1>\n  <app-animated-router-outlet></app-animated-router-outlet>\n</div>\n\n","import { Component, HostBinding, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MenuItem } from '@perun-web-apps/perun/models';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-facility-overview',\n  templateUrl: './facility-overview.component.html',\n  styleUrls: ['./facility-overview.component.scss']\n})\nexport class FacilityOverviewComponent implements OnInit {\n\n  // class used for animation\n  @HostBinding('class.router-component') true;\n  navItems: MenuItem[] = [];\n  facility: Facility;\n\n  constructor(\n    private facilityManager: FacilitiesManagerService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const facilityId = params['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.navItems = [\n      {\n        cssIcon: 'perun-manage-facility',\n        url: `/facilities/${this.facility.id}/resources`,\n        label: 'MENU_ITEMS.FACILITY.RESOURCES',\n        style: 'facility-btn'\n      },\n      {\n        cssIcon: 'perun-group',\n        url: `/facilities/${this.facility.id}/allowed-groups`,\n        label: 'MENU_ITEMS.FACILITY.ALLOWED_GROUPS',\n        style: 'facility-btn'\n      },\n      {\n        cssIcon: 'perun-settings2',\n        url: `/facilities/${this.facility.id}/settings`,\n        label: 'MENU_ITEMS.FACILITY.SETTINGS',\n        style: 'facility-btn'\n      },\n      {\n        cssIcon: 'perun-settings2',\n        url: `/facilities/${this.facility.id}/service-config`,\n        label: 'MENU_ITEMS.FACILITY.SERVICE_CONFIG',\n        style: 'facility-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <perun-web-apps-menu-buttons-field [items]=\"navItems\" [size]=\"'small'\"></perun-web-apps-menu-buttons-field>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport {\n  FacilitiesManagerService,\n  Facility,\n  Group,\n  Resource,\n  ResourcesManagerService, Service, ServicesManagerService, Vo\n} from '@perun-web-apps/perun/openapi';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { ServiceSelectValue } from '@perun-web-apps/perun/facility-services-config';\n\n\n@Component({\n  selector: 'app-facility-service-config',\n  templateUrl: './facility-service-config.component.html',\n  styleUrls: ['./facility-service-config.component.scss']\n})\nexport class FacilityServiceConfigComponent implements OnInit {\n\n  constructor(\n    private route: ActivatedRoute,\n    private facilityManager: FacilitiesManagerService,\n    private resourceManager: ResourcesManagerService,\n    private serviceManager: ServicesManagerService\n  ) { }\n\n  facility: Facility;\n  serviceId: number;\n\n  services: Service[];\n  resources: Resource[];\n  groups: Group[];\n  vos: Vo[];\n\n  selectedService: Service | ServiceSelectValue = 'NOT_SELECTED';\n  selectedResource: Resource;\n  selectedGroup: Group;\n  selectedVo: Vo;\n\n  ngOnInit() {\n    this.route.parent.params.subscribe(parentParams => {\n      const facilityId = parentParams['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n\n        this.facilityManager.getAssignedResourcesForFacility(facility.id)\n          .subscribe(resources => this.resources = resources);\n\n        this.serviceManager.getAssignedServices(facility.id).subscribe(services => this.services = services);\n      });\n    });\n  }\n\n  onSelectedResource() {\n    if (this.selectedResource !== undefined) {\n      this.resourceManager.getAssignedGroups(this.selectedResource.id).subscribe(groups => this.groups = groups);\n      this.selectedGroup = undefined;\n    }\n  }\n\n  onOfferAllServices(event: MatCheckboxChange) {\n    if (!event.checked) {\n      this.serviceManager.getAssignedServices(this.facility.id).subscribe(services => this.services = services);\n    }\n  }\n}\n","<div>\n  <h1 class=\"page-subtitle\">{{'FACILITY_DETAIL.SERVICE_CONFIG.TITLE' | translate}}</h1>\n  <div class=\"col-12 col-lg-6 mb-2\" *ngIf=\"!!facility\">\n    <mat-form-field class=\"w-100\">\n      <mat-label>{{'FACILITY_DETAIL.SERVICE_CONFIG.SERVICE_SELECT' | translate}}</mat-label>\n      <mat-select [(value)]=\"selectedService\">\n        <mat-option [value]=\"'NOT_SELECTED'\">\n<!--          TODO - translation -->\n          NOT SELECTED\n        </mat-option>\n        <mat-option [value]=\"'ALL'\">\n<!--          TODO - translation -->\n          ALL\n        </mat-option>\n        <mat-option *ngFor=\"let s of services\" [value]=\"s\">\n          {{s.name}}\n        </mat-option>\n        <mat-option *ngIf=\"!!services && services.length === 0\">\n          {{'FACILITY_DETAIL.SERVICE_CONFIG.SERVICE_SELECT_NO_SERVICE' | translate}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n<!--    <mat-form-field>-->\n    <mat-checkbox (change)=\"onOfferAllServices($event)\">\n      {{'FACILITY_DETAIL.SERVICE_CONFIG.ALL_SERVICES' | translate}}\n    </mat-checkbox>\n<!--    </mat-form-field>-->\n    <mat-form-field class=\"w-100\">\n      <mat-label>{{'FACILITY_DETAIL.SERVICE_CONFIG.RES_SELECT' | translate}}</mat-label>\n      <mat-select [(value)]=\"selectedResource\" (selectionChange)=\"onSelectedResource()\">\n        <mat-option>{{'FACILITY_DETAIL.SERVICE_CONFIG.UNSELECTED' | translate}}</mat-option>\n        <mat-option *ngFor=\"let res of resources\" [value]=\"res\">\n          {{res.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <mat-form-field class=\"w-100\">\n      <mat-label>{{'FACILITY_DETAIL.SERVICE_CONFIG.GROUP_SELECT' | translate}}</mat-label>\n      <mat-select [(value)]=\"selectedGroup\" [disabled]=\"selectedResource === undefined\">\n        <mat-option *ngFor=\"let g of groups\" [value]=\"g\">\n          {{g.name}}\n        </mat-option>\n      </mat-select>\n      <mat-hint *ngIf=\"selectedResource === undefined\">\n          {{'FACILITY_DETAIL.SERVICE_CONFIG.GROUP_SELECT_DEFAULT' | translate}}\n      </mat-hint>\n    </mat-form-field>\n<!--    <mat-form-field class=\"w-100\">-->\n<!--      <mat-label>{{'FACILITY_DETAIL.SERVICE_CONFIG.VO_SELECT' | translate}}</mat-label>-->\n<!--      <mat-select [(value)]=\"voId\" [disabled]=\"selectedResource === undefined\">-->\n<!--        <mat-option [value]=\"-1\" *ngIf=\"!!vos\">-->\n<!--          {{'FACILITY_DETAIL.SERVICE_CONFIG.VO_SELECT_DEFAULT' | translate}}-->\n<!--        </mat-option>-->\n<!--      </mat-select>-->\n<!--    </mat-form-field>-->\n<!--    <mat-form-field class=\"w-100\">-->\n<!--      <mat-label>{{'FACILITY_DETAIL.SERVICE_CONFIG.MEMBER_SELECT' | translate}}</mat-label>-->\n<!--      <mat-select [(value)]=\"memberId\" [disabled]=\"selectedGroup === undefined\">-->\n<!--        <mat-option [value]=\"-1\">-->\n<!--          {{'FACILITY_DETAIL.SERVICE_CONFIG.MEMBER_SELECT_DEFAULT' | translate}}-->\n<!--        </mat-option>-->\n<!--      </mat-select>-->\n<!--    </mat-form-field>-->\n  </div>\n  <perun-web-apps-service-configurator\n    *ngIf=\"!!facility\"\n    [facility]=\"facility\"\n    [resource]=\"selectedResource\"\n    [group]=\"selectedGroup\"\n    [service]=\"selectedService\">\n  </perun-web-apps-service-configurator>\n</div>\n","import {Component, HostBinding, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport {NotificatorService} from '../../../../../core/services/common/notificator.service';\nimport {TranslateService} from '@ngx-translate/core';\nimport {AttributesListComponent} from '@perun-web-apps/perun/components';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {\n  DeleteAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/delete-attribute-dialog/delete-attribute-dialog.component';\nimport {\n  CreateAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/create-attribute-dialog/create-attribute-dialog.component';\nimport { filterCoreAttributes } from '@perun-web-apps/perun/utils';\nimport { Attribute, AttributesManagerService } from '@perun-web-apps/perun/openapi';\nimport { EditAttributeDialogComponent } from '../../../../../shared/components/dialogs/edit-attribute-dialog/edit-attribute-dialog.component';\nimport { PageEvent } from '@angular/material/paginator';\nimport {\n  TABLE_ATTRIBUTES_SETTINGS,\n  TableConfigService\n} from '@perun-web-apps/config/table-config';\n\n@Component({\n  selector: 'app-facility-settings-attributes',\n  templateUrl: './facility-settings-attributes.component.html',\n  styleUrls: ['./facility-settings-attributes.component.scss']\n})\nexport class FacilitySettingsAttributesComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(private attributesManager: AttributesManagerService,\n              private route: ActivatedRoute,\n              private dialog: MatDialog,\n              private notificator: NotificatorService,\n              private tableConfigService: TableConfigService,\n              private translate: TranslateService) {\n    this.translate.get('FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE').subscribe(value => this.saveSuccessMessage = value);\n    this.translate.get('FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE').subscribe(value => this.deleteSuccessMessage = value);\n  }\n\n  @ViewChild('list')\n  list: AttributesListComponent;\n\n  attributes: Attribute[] = [];\n  selection = new SelectionModel<Attribute>(true, []);\n  facilityId: number;\n  saveSuccessMessage: string;\n  deleteSuccessMessage: string;\n\n  loading: boolean;\n  filterValue = '';\n  pageSize: number;\n  tableId = TABLE_ATTRIBUTES_SETTINGS;\n\n  ngOnInit() {\n    this.pageSize = this.tableConfigService.getTablePageSize(this.tableId);\n    this.route.parent.parent.params.subscribe(params => {\n      this.facilityId = params['facilityId'];\n      this.refreshTable();\n    });\n  }\n\n  onDelete() {\n    const dialogRef = this.dialog.open(DeleteAttributeDialogComponent, {\n      width: '450px',\n      data: {\n        entityId: this.facilityId,\n        entity: 'facility',\n        attributes: this.selection.selected\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.refreshTable();\n      }\n    });\n  }\n\n  onSave() {\n    // have to use this to update attribute with map in it, before saving it\n    this.list.updateMapAttributes();\n\n    const dialogRef = this.dialog.open(EditAttributeDialogComponent, {\n      width: '450px',\n      data: {\n        entityId: this.facilityId,\n        entity: 'facility',\n        attributes: this.selection.selected\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.refreshTable();\n      }\n    });\n  }\n\n  onCreate() {\n    const dialogRef = this.dialog.open(CreateAttributeDialogComponent, {\n      width: '1050px',\n      data: {\n        entityId: this.facilityId,\n        entity: 'facility',\n        notEmptyAttributes: this.attributes,\n        style: 'facility-theme'\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 'saved') {\n        this.refreshTable();\n      }\n    });\n  }\n\n  refreshTable() {\n    this.loading = true;\n    this.attributesManager.getFacilityAttributes(this.facilityId).subscribe(attributes => {\n      this.attributes = filterCoreAttributes(attributes);\n      this.selection.clear();\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    this.filterValue = filterValue;\n  }\n\n  pageChanged(event: PageEvent) {\n    this.pageSize = event.pageSize;\n    this.tableConfigService.setTablePageSize(this.tableId, event.pageSize);\n  }\n}\n","<div>\n  <h1 class=\"page-subtitle\">{{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.TITLE' | translate}}</h1>\n  <perun-web-apps-refresh-button (refresh)=\"refreshTable()\"></perun-web-apps-refresh-button>\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onCreate()\">\n    {{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.CREATE' | translate}}\n  </button>\n\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onSave()\" [disabled]=\"selection.selected.length === 0\">\n    {{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SAVE' | translate}}\n  </button>\n\n  <button mat-flat-button color=\"warn\" (click)=\"onDelete()\" [disabled]=\"selection.selected.length === 0\">\n    {{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.DELETE' | translate}}\n  </button>\n  <perun-web-apps-immediate-filter (filter)=\"applyFilter($event)\" [placeholder]=\"'SHARED.COMPONENTS.ATTRIBUTES_LIST.FILTER'\"></perun-web-apps-immediate-filter>\n  <mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n  <perun-web-apps-attributes-list\n    #list\n    *ngIf=\"!loading\"\n    (page)=\"pageChanged($event)\"\n    [pageSize]=\"pageSize\"\n    [filterValue]=\"filterValue\"\n    [attributes]=\"attributes\"\n    [selection]=\"selection\">\n  </perun-web-apps-attributes-list>\n</div>\n","import { Component, HostBinding, OnInit } from '@angular/core';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\nimport { ActivatedRoute } from '@angular/router';\nimport { Role } from '@perun-web-apps/perun/models';\n\n@Component({\n  selector: 'app-perun-web-apps-facility-settings-managers',\n  templateUrl: './facility-settings-managers.component.html',\n  styleUrls: ['./facility-settings-managers.component.scss']\n})\nexport class FacilitySettingsManagersComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private facilityService: FacilitiesManagerService,\n    private route: ActivatedRoute\n  ) { }\n\n  facility: Facility;\n\n  availableRoles: Role[] = [ Role.FACILITYADMIN ];\n\n  selected = 'user';\n\n  type = 'Facility';\n\n  theme = 'facility-theme';\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(parentParentParams => {\n      const facilityId = parentParentParams ['facilityId'];\n\n      this.facilityService.getFacilityById(facilityId).subscribe( facility => {\n        this.facility = facility;\n      });\n    });\n  }\n\n}\n","<app-managers-page *ngIf=\"facility\"\n                   [complementaryObject]=\"facility\"\n                   [complementaryObjectType]=\"type\"\n                   [theme]=\"theme\"\n                   [availableRoles]=\"availableRoles\"\n></app-managers-page>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {MenuItem} from '@perun-web-apps/perun/models';\nimport {ActivatedRoute} from '@angular/router';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-facility-settings-overview',\n  templateUrl: './facility-settings-overview.component.html',\n  styleUrls: ['./facility-settings-overview.component.scss']\n})\nexport class FacilitySettingsOverviewComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private route: ActivatedRoute,\n    private facilityManager: FacilitiesManagerService\n  ) { }\n\n  items: MenuItem[] = [];\n  facility: Facility;\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(parentParams => {\n      const facilityId = parentParams['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.items = [\n      {\n        cssIcon: 'perun-attributes',\n        url: `/facilities/${this.facility.id}/settings/attributes`,\n        label: 'MENU_ITEMS.FACILITY.ATTRIBUTES',\n        style: 'facility-btn'\n      },\n      {\n        cssIcon: 'perun-manager',\n        url: `/facilities/${this.facility.id}/settings/managers`,\n        label: 'MENU_ITEMS.FACILITY.MANAGERS',\n        style: 'facility-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <perun-web-apps-menu-buttons-field [items]=\"items\" [size]=\"'small'\"></perun-web-apps-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {fadeIn} from '../../../../shared/animations/Animations';\n\n@Component({\n  selector: 'app-facility-settings',\n  templateUrl: './facility-settings.component.html',\n  styleUrls: ['./facility-settings.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class FacilitySettingsComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","<app-animated-router-outlet></app-animated-router-outlet>\n","import {Component, OnInit} from '@angular/core';\nimport {SideMenuService} from '../../../core/services/common/side-menu.service';\nimport { FacilitiesManagerService, RichFacility } from '@perun-web-apps/perun/openapi';\nimport { getRecentlyVisited, getRecentlyVisitedIds } from '@perun-web-apps/perun/utils';\nimport {\n  TABLE_FACILITY_SELECT,\n  TableConfigService\n} from '@perun-web-apps/config/table-config';\nimport { PageEvent } from '@angular/material/paginator';\n\n@Component({\n  selector: 'app-facility-select-page',\n  templateUrl: './facility-select-page.component.html',\n  styleUrls: ['./facility-select-page.component.scss']\n})\nexport class FacilitySelectPageComponent implements OnInit {\n\n  constructor(\n    private facilityManager: FacilitiesManagerService,\n    private sideMenuService: SideMenuService,\n    private tableConfigService: TableConfigService\n  ) { }\n\n  facilities: RichFacility[] = [];\n  recentIds: number[] = [];\n  loading: boolean;\n  filterValue = '';\n  pageSize: number;\n  tableId = TABLE_FACILITY_SELECT;\n\n  ngOnInit() {\n    this.pageSize = this.tableConfigService.getTablePageSize(this.tableId);\n    this.sideMenuService.setFacilityMenuItems([]);\n\n    this.refreshTable();\n  }\n\n  refreshTable() {\n    this.loading = true;\n    this.facilityManager.getRichFacilities().subscribe(facilities => {\n      this.facilities = getRecentlyVisited('facilities', facilities);\n      this.recentIds = getRecentlyVisitedIds('facilities');\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    this.filterValue = filterValue;\n  }\n\n  pageChanged(event: PageEvent) {\n    this.pageSize = event.pageSize;\n    this.tableConfigService.setTablePageSize(this.tableId, event.pageSize);\n  }\n}\n","<div class=\"container-fluid pl-xl-5 pr-xl-5 facility-theme\">\n  <perun-web-apps-back-button>\n  </perun-web-apps-back-button>\n\n  <h1 class=\"page-title\">{{'FACILITY_MANAGEMENT.TITLE' | translate}}</h1>\n  <perun-web-apps-refresh-button (refresh)=\"refreshTable()\" *ngIf=\"!loading\"></perun-web-apps-refresh-button>\n  <perun-web-apps-immediate-filter (filter)=\"applyFilter($event)\" *ngIf=\"!loading\" [placeholder]=\"'FACILITY_MANAGEMENT.FILTER_PLACEHOLDER'\"></perun-web-apps-immediate-filter>\n  <mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n  <app-facility-select-table\n    [pageSize]=\"pageSize\"\n    (page)=\"pageChanged($event)\"\n    *ngIf=\"!loading\"\n    [filterValue]=\"filterValue\"\n    [facilities]=\"facilities\"\n    [recentIds]=\"recentIds\">\n  </app-facility-select-table>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {fadeIn} from '../../../shared/animations/Animations';\nimport {SideMenuService} from '../../../core/services/common/side-menu.service';\nimport {SideMenuItemService} from '../../../shared/side-menu/side-menu-item.service';\nimport { FacilitiesManagerService, Resource, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-detail-page',\n  templateUrl: './resource-detail-page.component.html',\n  styleUrls: ['./resource-detail-page.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class ResourceDetailPageComponent implements OnInit {\n\n  constructor(\n    private route: ActivatedRoute,\n    private facilityManager: FacilitiesManagerService,\n    private resourcesManager: ResourcesManagerService,\n    private sideMenuService: SideMenuService,\n    private sideMenuItemService: SideMenuItemService\n  ) { }\n\n  resource: Resource;\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const resourceId = params['resourceId'];\n\n      this.resourcesManager.getResourceById(resourceId).subscribe(resource => {\n        this.resource = resource;\n\n        this.facilityManager.getFacilityById(resource.facilityId).subscribe(facility => {\n          const facilityItem = this.sideMenuItemService.parseFacility(facility);\n          const resourceItem = this.sideMenuItemService.parseResource(resource);\n\n          this.sideMenuService.setFacilityMenuItems([facilityItem, resourceItem]);\n        });\n      });\n    });\n  }\n}\n","<div class=\"container-fluid pl-xl-5 pr-xl-5 resource-theme\" *ngIf=\"resource !== undefined\">\n  <perun-web-apps-back-button>\n  </perun-web-apps-back-button>\n  <h1 class=\"page-title\">\n    {{'RESOURCE_DETAIL.TITLE' | translate}}\n    <a class=\"resource-link\" [routerLink]=\"['/facilities', resource.facilityId, 'resources', resource.id]\">\n      {{resource.name}}\n    </a>\n    <span class=\"text-muted\">\n      &nbsp;#{{resource.id}}\n    </span>\n  </h1>\n  <app-animated-router-outlet></app-animated-router-outlet>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Group, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { MatCheckbox } from '@angular/material/checkbox';\nimport { MatDialog } from '@angular/material/dialog';\nimport { RemoveGroupFromResourceDialogComponent } from '../../../../shared/components/dialogs/remove-group-from-resource-dialog/remove-group-from-resource-dialog.component';\nimport { AssignGroupToResourceDialogComponent } from '../../../../shared/components/dialogs/assign-group-to-resource-dialog/assign-group-to-resource-dialog.component';\nimport {\n  TABLE_RESOURCE_ALLOWED_GROUPS,\n  TableConfigService\n} from '@perun-web-apps/config/table-config';\nimport { PageEvent } from '@angular/material/paginator';\n\n@Component({\n  selector: 'app-perun-web-apps-resource-groups',\n  templateUrl: './resource-groups.component.html',\n  styleUrls: ['./resource-groups.component.scss']\n})\nexport class ResourceGroupsComponent implements OnInit {\n\n  constructor(private route: ActivatedRoute,\n              private resourcesManager: ResourcesManagerService,\n              private tableConfigService: TableConfigService,\n              private dialog: MatDialog) { }\n\n  resourceId: number;\n  assignedGroups: Group[] = [];\n  selected = new SelectionModel<Group>(true, []);\n  loading: boolean;\n  filteredGroups: Group[] = [];\n\n  tableId = TABLE_RESOURCE_ALLOWED_GROUPS;\n  pageSize: number;\n\n  @ViewChild('checkbox', {static: true})\n  checkbox: MatCheckbox;\n\n  ngOnInit() {\n    this.pageSize = this.tableConfigService.getTablePageSize(this.tableId);\n    this.loading = true;\n    this.route.parent.params.subscribe(parentParams => {\n      this.resourceId = parentParams['resourceId'];\n        this.loadAllGroups();\n    });\n  }\n\n  loadAllGroups() {\n    this.loading = true;\n    this.resourcesManager.getAssignedGroups(this.resourceId).subscribe( assignedGroups => {\n      this.assignedGroups = assignedGroups;\n      this.filteredGroups = assignedGroups;\n      this.selected.clear();\n      this.loading = false;\n    });\n  }\n\n  addGroup() {\n    const dialogRef = this.dialog.open(AssignGroupToResourceDialogComponent, {\n      width: '800px',\n      data: {theme: 'resource-theme', resourceId: this.resourceId}\n    });\n    dialogRef.afterClosed().subscribe((success) => {\n      if (success) {\n        this.loadAllGroups();\n      }\n    });\n  }\n\n  removeGroups() {\n    const dialogRef = this.dialog.open(RemoveGroupFromResourceDialogComponent, {\n      width: '500px',\n      data: {resourceId: this.resourceId, groups: this.selected.selected}\n    });\n    dialogRef.afterClosed().subscribe((success) => {\n      if (success) {\n        this.loadAllGroups();\n      }\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    this.filteredGroups = this.assignedGroups.filter( option => option.name.toLowerCase().includes(filterValue.toLowerCase()));\n  }\n\n  pageChanged(event: PageEvent) {\n    this.pageSize = event.pageSize;\n    this.tableConfigService.setTablePageSize(this.tableId, event.pageSize);\n  }\n}\n","<h1 class=\"page-subtitle\">{{'RESOURCE_DETAIL.ASSIGNED_GROUPS.TITLE' | translate}}</h1>\n<perun-web-apps-refresh-button (refresh)=\"loadAllGroups()\"></perun-web-apps-refresh-button>\n<button mat-flat-button color=\"accent\" (click)=\"addGroup()\">\n  {{'RESOURCE_DETAIL.ASSIGNED_GROUPS.ADD_GROUP' | translate}}\n</button>\n<button mat-flat-button color=\"warn\" class=\"ml-2\" [disabled]=\"selected.selected.length === 0\" (click)=\"removeGroups()\">\n  {{'RESOURCE_DETAIL.ASSIGNED_GROUPS.REMOVE_GROUP' | translate}}\n</button>\n<app-debounce-filter\n  [placeholder]=\"'RESOURCE_DETAIL.ASSIGNED_GROUPS.FILTER_GROUPS'\"\n  (filter)=\"applyFilter($event)\">\n</app-debounce-filter>\n<mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n<div class=\"mt-3\" *ngIf=\"!loading && assignedGroups.length !== 0\">\n  <perun-web-apps-groups-list\n    (page)=\"pageChanged($event)\"\n    [pageSize]=\"pageSize\"\n    [groups]=\"filteredGroups\"\n    [selection]=\"selected\"\n    [disableMembers]=\"false\"\n    [inDialog]=\"false\"\n    [hideColumns]=\"['vo', 'menu']\">\n  </perun-web-apps-groups-list>\n</div>\n<app-alert *ngIf=\"assignedGroups.length === 0 && !loading\" color=\"warn\">\n  {{'RESOURCE_DETAIL.ASSIGNED_GROUPS.NO_GROUPS' | translate}}\n</app-alert>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {MenuItem} from '@perun-web-apps/perun/models';\nimport { Resource, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-overview',\n  templateUrl: './resource-overview.component.html',\n  styleUrls: ['./resource-overview.component.scss']\n})\nexport class ResourceOverviewComponent implements OnInit {\n\n  // class used for animation\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private resourcesManager: ResourcesManagerService,\n    private route: ActivatedRoute,\n  ) { }\n\n  navItems: MenuItem[] = [];\n  resource: Resource;\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const resourceId = params['resourceId'];\n\n      this.resourcesManager.getResourceById(resourceId).subscribe(resource => {\n        this.resource = resource;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.navItems = [\n      {\n        cssIcon: 'perun-group',\n        url: `/facilities/${this.resource.facilityId}/resources/${this.resource.id}/groups`,\n        label: 'MENU_ITEMS.RESOURCE.ASSIGNED_GROUPS',\n        style: 'resource-btn'\n      },\n      {\n        cssIcon: 'perun-settings2',\n        url: `/facilities/${this.resource.facilityId}/resources/${this.resource.id}/settings`,\n        label: 'MENU_ITEMS.RESOURCE.SETTINGS',\n        style: 'resource-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <perun-web-apps-menu-buttons-field [items]=\"navItems\" [size]=\"'small'\"></perun-web-apps-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport {NotificatorService} from '../../../../../core/services/common/notificator.service';\nimport {TranslateService} from '@ngx-translate/core';\nimport {AttributesListComponent} from '@perun-web-apps/perun/components';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {\n  DeleteAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/delete-attribute-dialog/delete-attribute-dialog.component';\nimport {\n  CreateAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/create-attribute-dialog/create-attribute-dialog.component';\nimport { filterCoreAttributes } from '@perun-web-apps/perun/utils';\nimport { Attribute, AttributesManagerService } from '@perun-web-apps/perun/openapi';\nimport { EditAttributeDialogComponent } from '../../../../../shared/components/dialogs/edit-attribute-dialog/edit-attribute-dialog.component';\nimport { PageEvent } from '@angular/material/paginator';\nimport {\n  TABLE_ATTRIBUTES_SETTINGS,\n  TableConfigService\n} from '@perun-web-apps/config/table-config';\n\n@Component({\n  selector: 'app-resource-settings-attributes',\n  templateUrl: './resource-settings-attributes.component.html',\n  styleUrls: ['./resource-settings-attributes.component.scss']\n})\nexport class ResourceSettingsAttributesComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(private attributesManager: AttributesManagerService,\n              private route: ActivatedRoute,\n              private dialog: MatDialog,\n              private notificator: NotificatorService,\n              private tableConfigService: TableConfigService,\n              private translate: TranslateService) {\n    this.translate.get('RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE').subscribe(value => this.saveSuccessMessage = value);\n    this.translate.get('RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE').subscribe(value => this.deleteSuccessMessage = value);\n  }\n\n  @ViewChild('list')\n  list: AttributesListComponent;\n\n  attributes: Attribute[] = [];\n  selection = new SelectionModel<Attribute>(true, []);\n  resourceId: number;\n  saveSuccessMessage: string;\n  deleteSuccessMessage: string;\n  loading: boolean;\n  filterValue = '';\n  tableId = TABLE_ATTRIBUTES_SETTINGS;\n  pageSize: number;\n\n  ngOnInit() {\n    this.pageSize = this.tableConfigService.getTablePageSize(this.tableId);\n    this.route.parent.parent.params.subscribe(params => {\n      this.resourceId = params['resourceId'];\n      this.refreshTable();\n    });\n  }\n\n  onDelete() {\n    const dialogRef = this.dialog.open(DeleteAttributeDialogComponent, {\n      width: '450px',\n      data: {\n        entityId: this.resourceId,\n        entity: 'resource',\n        attributes: this.selection.selected\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.refreshTable();\n      }\n    });\n  }\n\n  onSave() {\n    // have to use this to update attribute with map in it, before saving it\n    this.list.updateMapAttributes();\n\n    const dialogRef = this.dialog.open(EditAttributeDialogComponent, {\n      width: '450px',\n      data: {\n        entityId: this.resourceId,\n        entity: 'resource',\n        attributes: this.selection.selected\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.refreshTable();\n      }\n    });\n  }\n\n  onCreate() {\n    const dialogRef = this.dialog.open(CreateAttributeDialogComponent, {\n      width: '1050px',\n      data: {\n        entityId: this.resourceId,\n        entity: 'resource',\n        notEmptyAttributes: this.attributes,\n        style: 'resource-theme'\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 'saved') {\n       this.refreshTable();\n      }\n    });\n  }\n\n  refreshTable() {\n    this.loading = true;\n    this.attributesManager.getResourceAttributes(this.resourceId).subscribe(attributes => {\n      this.attributes = filterCoreAttributes(attributes);\n      this.selection.clear();\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n   this.filterValue = filterValue;\n  }\n\n  pageChanged(event: PageEvent) {\n    this.pageSize = event.pageSize;\n    this.tableConfigService.setTablePageSize(this.tableId, event.pageSize);\n  }\n}\n","<div>\n  <h1 class=\"page-subtitle\">{{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.TITLE' | translate}}</h1>\n  <perun-web-apps-refresh-button (refresh)=\"refreshTable()\"></perun-web-apps-refresh-button>\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onCreate()\">\n    {{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.CREATE' | translate}}\n  </button>\n\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onSave()\" [disabled]=\"selection.selected.length === 0\">\n    {{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SAVE' | translate}}\n  </button>\n\n  <button mat-flat-button color=\"warn\" (click)=\"onDelete()\" [disabled]=\"selection.selected.length === 0\">\n    {{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.DELETE' | translate}}\n  </button>\n  <perun-web-apps-immediate-filter (filter)=\"applyFilter($event)\" [placeholder]=\"'SHARED.COMPONENTS.ATTRIBUTES_LIST.FILTER'\"></perun-web-apps-immediate-filter>\n  <mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n  <perun-web-apps-attributes-list\n    (page)=\"pageChanged($event)\"\n    [pageSize]=\"pageSize\"\n    #list\n    *ngIf=\"!loading\"\n    [filterValue]=\"filterValue\"\n    [attributes]=\"attributes\"\n    [selection]=\"selection\">\n  </perun-web-apps-attributes-list>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {MenuItem} from '@perun-web-apps/perun/models';\nimport { Resource, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-settings-overview',\n  templateUrl: './resource-settings-overview.component.html',\n  styleUrls: ['./resource-settings-overview.component.scss']\n})\nexport class ResourceSettingsOverviewComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private route: ActivatedRoute,\n    private resourceManager: ResourcesManagerService\n  ) { }\n\n  items: MenuItem[] = [];\n  resource: Resource;\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(parentParams => {\n      const resourceId = parentParams['resourceId'];\n\n      this.resourceManager.getResourceById(resourceId).subscribe(resource => {\n        this.resource = resource;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.items = [\n      {\n        cssIcon: 'perun-attributes',\n        url: `/facilities/${this.resource.facilityId}/resources/${this.resource.id}/settings/attributes`,\n        label: 'MENU_ITEMS.RESOURCE.ATTRIBUTES',\n        style: 'resource-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <perun-web-apps-menu-buttons-field [items]=\"items\" [size]=\"'small'\"></perun-web-apps-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {fadeIn} from '../../../../shared/animations/Animations';\n\n@Component({\n  selector: 'app-resource-settings',\n  templateUrl: './resource-settings.component.html',\n  styleUrls: ['./resource-settings.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class ResourceSettingsComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n}\n","<app-animated-router-outlet></app-animated-router-outlet>\n"]}