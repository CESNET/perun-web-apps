{"version":3,"sources":["webpack:///src/app/facilities/components/facility-select-table/facility-select-table.component.ts","webpack:///src/app/facilities/components/facility-select-table/facility-select-table.component.html","webpack:///src/app/facilities/facilities-routing.module.ts","webpack:///src/app/facilities/facilities.module.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-detail-page.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-detail-page.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-overview/facility-overview.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-overview/facility-overview.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component.html","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings.component.ts","webpack:///src/app/facilities/pages/facility-detail-page/facility-settings/facility-settings.component.html","webpack:///src/app/facilities/pages/facility-select-page/facility-select-page.component.ts","webpack:///src/app/facilities/pages/facility-select-page/facility-select-page.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-detail-page.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-detail-page.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-groups/resource-groups.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-groups/resource-groups.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-overview/resource-overview.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-overview/resource-overview.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component.html","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings.component.ts","webpack:///src/app/facilities/pages/resource-detail-page/resource-settings/resource-settings.component.html"],"names":["FacilitySelectTableComponent","exporting","displayedColumns","changes","dataSource","facilities","setDataSource","filter","filterValue","paginator","sort","filterPredicate","data","lowerCaseFilter","trim","toLowerCase","name","indexOf","description","id","toString","startsWith","facilityOwners","ms","selector","templateUrl","styleUrls","routes","path","component","children","animation","FacilitiesRoutingModule","forChild","imports","exports","FacilitiesModule","declarations","FacilityDetailPageComponent","facilityManager","route","sideMenuService","sideMenuItemService","params","subscribe","facilityId","getFacilityById","facility","facilityItem","parseFacility","setFacilityMenuItems","animations","FacilityOverviewComponent","navItems","initItems","cssIcon","url","label","style","FacilitySettingsAttributesComponent","attributesManager","dialog","notificator","translate","attributes","selection","get","value","saveSuccessMessage","deleteSuccessMessage","parent","refreshTable","dialogRef","open","width","entityId","entity","selected","afterClosed","result","list","updateMapAttributes","setFacilityAttributes","getFacilityAttributes","showSuccess","clear","notEmptyAttributes","loading","onCreate","onSave","onDelete","applyFilter","FacilitySettingsOverviewComponent","items","parentParams","FacilitySettingsComponent","FacilitySelectPageComponent","recentIds","getRichFacilities","ResourceDetailPageComponent","resourcesManager","resourceId","getResourceById","resource","resourceItem","parseResource","ResourceGroupsComponent","assignedGroups","filteredGroups","loadAllGroups","getAssignedGroups","theme","success","groups","option","includes","addGroup","removeGroups","ResourceOverviewComponent","ResourceSettingsAttributesComponent","setResourceAttributes","getResourceAttributes","ResourceSettingsOverviewComponent","resourceManager","ResourceSettingsComponent"],"mappings":"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","file":"facilities-facilities-module-es5.js","sourcesContent":["import {AfterViewInit, Component, Input, OnChanges, SimpleChanges, ViewChild} from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { RichFacility } from '@perun-web-apps/perun/openapi';\nimport { parseTechnicalOwnersNames } from '@perun-web-apps/perun/utils';\n\n@Component({\n  selector: 'app-facility-select-table',\n  templateUrl: './facility-select-table.component.html',\n  styleUrls: ['./facility-select-table.component.scss']\n})\nexport class FacilitySelectTableComponent implements AfterViewInit, OnChanges {\n  constructor() { }\n\n  @Input()\n  facilities: RichFacility[];\n\n  @Input()\n  recentIds: number[];\n\n  @Input()\n  filterValue: string;\n\n  exporting = false;\n\n  @ViewChild(MatSort, { static: true }) set matSort(ms: MatSort) {\n    this.sort = ms;\n    this.setDataSource();\n  }\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n\n  private sort: MatSort;\n\n  displayedColumns: string[] = ['id', 'recent', 'name', 'description', 'technicalOwners'];\n  dataSource: MatTableDataSource<RichFacility>;\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.dataSource = new MatTableDataSource<RichFacility>(this.facilities);\n    this.setDataSource();\n    this.dataSource.filter = this.filterValue;\n  }\n\n  ngAfterViewInit(): void {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  setDataSource() {\n    if (!!this.dataSource) {\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.filterPredicate = ((data, filter) => {\n        const lowerCaseFilter = filter.trim().toLowerCase();\n        if (data.name.trim().toLowerCase().indexOf(lowerCaseFilter) !== -1) {\n          return true;\n        }\n        if (data.description !== null && data.description.trim().toLowerCase().indexOf(lowerCaseFilter) !== -1) {\n          return true;\n        }\n        if (data.id.toString(10).startsWith(filter)) {\n          return true;\n        }\n        return parseTechnicalOwnersNames(data.facilityOwners).toLowerCase().indexOf(lowerCaseFilter) !== -1;\n      });\n    }\n  }\n}\n","<div class=\"card mt-3\" [class.hide-table]=\"exporting\" [hidden]=\"dataSource.filteredData.length === 0\">\n  <div class=\"card-body\">\n    <app-table-options [exporter]=\"exporter\" (start)=\"exporting = true\" (end)=\"exporting = false\"></app-table-options>\n\n    <table mat-table matTableExporter [dataSource]=\"dataSource\" #exporter=\"matTableExporter\" matSort matSortDirection=\"asc\" matSortDisableClear\n           class=\"w-100\">\n      <ng-container matColumnDef=\"id\">\n        <th mat-header-cell *matHeaderCellDef\n            mat-sort-header>{{'FACILITY_MANAGEMENT.TABLE.ID' | translate}}</th>\n        <td class=\"static-column-size\" mat-cell *matCellDef=\"let facility\">{{facility.id}}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"recent\">\n        <th mat-header-cell *matHeaderCellDef>\n        </th>\n        <td mat-cell *matCellDef=\"let facility\">\n          <mat-icon\n            class=\"align-bottom\"\n            *ngIf=\"recentIds.indexOf(facility.id) > -1\"\n            matTooltip=\"{{'VO_MANAGEMENT.TABLE.RECENT' | translate}}\">\n            visibility\n          </mat-icon>\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef\n            mat-sort-header>{{'FACILITY_MANAGEMENT.TABLE.NAME' | translate}}</th>\n        <td mat-cell *matCellDef=\"let facility\">{{facility.name}}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"description\">\n        <th mat-header-cell *matHeaderCellDef>{{'FACILITY_MANAGEMENT.TABLE.DESCRIPTION' | translate}}</th>\n        <td mat-cell *matCellDef=\"let facility\">{{facility.description}}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"technicalOwners\">\n        <th mat-header-cell *matHeaderCellDef>{{'FACILITY_MANAGEMENT.TABLE.TECHNICAL_OWNERS' | translate}}</th>\n        <td mat-cell *matCellDef=\"let facility\">{{facility.facilityOwners | technicalOwners}}</td>\n      </ng-container>\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr\n        mat-row\n        *matRowDef=\"let facility; columns: displayedColumns;\"\n        [routerLink]=\"['/facilities', facility.id]\"\n        class=\"dark-hover-list-item\">\n      </tr>\n    </table>\n    <mat-paginator [length]=\"this.facilities.length\" [pageSize]=\"10\" [pageSizeOptions]=\"[5,10,25]\"></mat-paginator>\n  </div>\n</div>\n\n<mat-spinner *ngIf=\"exporting\" class=\"ml-auto mr-auto\"></mat-spinner>\n\n<app-alert *ngIf=\"dataSource.filteredData.length === 0\" color=\"warn\">\n  {{'SHARED.COMPONENTS.NO_FILTER_RESULTS_ALERT' | translate}}\n</app-alert>\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FacilitySelectPageComponent} from './pages/facility-select-page/facility-select-page.component';\nimport {FacilityDetailPageComponent} from './pages/facility-detail-page/facility-detail-page.component';\nimport {FacilityOverviewComponent} from './pages/facility-detail-page/facility-overview/facility-overview.component';\nimport {FacilityResourcesComponent} from './pages/facility-detail-page/facility-resources/facility-resources.component';\nimport {FacilityAllowedGroupsComponent} from './pages/facility-detail-page/facility-allowed-groups/facility-allowed-groups.component';\nimport {ResourceDetailPageComponent} from './pages/resource-detail-page/resource-detail-page.component';\nimport {ResourceOverviewComponent} from './pages/resource-detail-page/resource-overview/resource-overview.component';\nimport {FacilitySettingsComponent} from './pages/facility-detail-page/facility-settings/facility-settings.component';\nimport {\n  FacilitySettingsOverviewComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component';\nimport {\n  FacilitySettingsAttributesComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component';\nimport {ResourceSettingsComponent} from './pages/resource-detail-page/resource-settings/resource-settings.component';\nimport {\n  ResourceSettingsOverviewComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component';\nimport {\n  ResourceSettingsAttributesComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component';\nimport { ResourceGroupsComponent } from './pages/resource-detail-page/resource-groups/resource-groups.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacilitySelectPageComponent\n  },\n  {\n    path: ':facilityId',\n    component: FacilityDetailPageComponent,\n    children: [\n      {\n        path: '',\n        component: FacilityOverviewComponent,\n        data: {animation: 'FacilityOverviewPage'}\n      },\n      {\n        path: 'resources',\n        component: FacilityResourcesComponent,\n        data: {animation: 'FacilityResourcesPage'}\n      },\n      {\n        path: 'allowed-groups',\n        component: FacilityAllowedGroupsComponent,\n        data: {animation: 'FacilityAllowedGroupsPage'}\n      },\n      {\n        path: 'settings',\n        component: FacilitySettingsComponent,\n        children: [\n          {\n            path: '',\n            component: FacilitySettingsOverviewComponent,\n            data: {animation: 'FacilitySettingsOverviewPage'}\n          },\n          {\n            path: 'attributes',\n            component: FacilitySettingsAttributesComponent,\n            data: {animation: 'FacilitySettingsAttributesPage'}\n          }\n        ]\n      }\n    ]\n  },\n  {\n    path: ':facilityId/resources/:resourceId',\n    component: ResourceDetailPageComponent,\n    children: [\n      {\n        path: '',\n        component: ResourceOverviewComponent,\n        data: {animation: 'ResourceOverviewPage'}\n      },\n      {\n        path: 'groups',\n        component: ResourceGroupsComponent,\n        data: {animation: 'ResourceGroupsComponent'}\n      },\n      {\n        path: 'settings',\n        component: ResourceSettingsComponent,\n        children: [\n          {\n            path: '',\n            component: ResourceSettingsOverviewComponent,\n            data: {animation: 'ResourceSettingsOverviewPage'}\n          },\n          {\n            path: 'attributes',\n            component: ResourceSettingsAttributesComponent,\n            data: {animation: 'ResourceSettingsAttributesPage'}\n          }\n        ]\n      },\n    ]\n  }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FacilitiesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FacilitiesRoutingModule } from './facilities-routing.module';\nimport { FacilitySelectPageComponent } from './pages/facility-select-page/facility-select-page.component';\nimport {SharedModule} from '../shared/shared.module';\nimport { FacilitySelectTableComponent } from './components/facility-select-table/facility-select-table.component';\nimport { FacilityDetailPageComponent } from './pages/facility-detail-page/facility-detail-page.component';\nimport { FacilityOverviewComponent } from './pages/facility-detail-page/facility-overview/facility-overview.component';\nimport { FacilityResourcesComponent } from './pages/facility-detail-page/facility-resources/facility-resources.component';\nimport {FacilityAllowedGroupsComponent} from './pages/facility-detail-page/facility-allowed-groups/facility-allowed-groups.component';\nimport { ResourceDetailPageComponent } from './pages/resource-detail-page/resource-detail-page.component';\nimport { ResourceOverviewComponent } from './pages/resource-detail-page/resource-overview/resource-overview.component';\nimport { FacilitySettingsComponent } from './pages/facility-detail-page/facility-settings/facility-settings.component';\nimport {\n  FacilitySettingsOverviewComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-overview/facility-settings-overview.component';\nimport {\n  FacilitySettingsAttributesComponent\n} from './pages/facility-detail-page/facility-settings/facility-settings-attributes/facility-settings-attributes.component';\nimport { ResourceSettingsComponent } from './pages/resource-detail-page/resource-settings/resource-settings.component';\nimport {\n  ResourceSettingsOverviewComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-overview/resource-settings-overview.component';\nimport {\n  ResourceSettingsAttributesComponent\n} from './pages/resource-detail-page/resource-settings/resource-settings-attributes/resource-settings-attributes.component';\nimport { MatTableExporterModule } from 'mat-table-exporter';\nimport { UiAlertsModule } from '@perun-web-apps/ui/alerts';\nimport { ResourceGroupsComponent } from './pages/resource-detail-page/resource-groups/resource-groups.component';\n\n@NgModule({\n  declarations: [\n    FacilitySelectPageComponent,\n    FacilitySelectTableComponent,\n    FacilityDetailPageComponent,\n    FacilityOverviewComponent,\n    FacilityResourcesComponent,\n    FacilityAllowedGroupsComponent,\n    ResourceDetailPageComponent,\n    ResourceOverviewComponent,\n    FacilitySettingsComponent,\n    FacilitySettingsOverviewComponent,\n    FacilitySettingsAttributesComponent,\n    ResourceSettingsComponent,\n    ResourceSettingsOverviewComponent,\n    ResourceSettingsAttributesComponent,\n    ResourceGroupsComponent\n  ],\n  imports: [\n    CommonModule,\n    FacilitiesRoutingModule,\n    MatTableExporterModule,\n    SharedModule,\n    UiAlertsModule\n  ]\n})\nexport class FacilitiesModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { fadeIn } from '../../../shared/animations/Animations';\nimport { SideMenuService } from '../../../core/services/common/side-menu.service';\nimport { SideMenuItemService } from '../../../shared/side-menu/side-menu-item.service';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\nimport { addRecentlyVisited } from '@perun-web-apps/perun/utils';\n\n@Component({\n  selector: 'app-facility-detail-page',\n  templateUrl: './facility-detail-page.component.html',\n  styleUrls: ['./facility-detail-page.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class FacilityDetailPageComponent implements OnInit {\n\n  constructor(\n    private facilityManager: FacilitiesManagerService,\n    private route: ActivatedRoute,\n    private sideMenuService: SideMenuService,\n    private sideMenuItemService: SideMenuItemService\n  ) { }\n\n  facility: Facility;\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const facilityId = params['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n        const facilityItem = this.sideMenuItemService.parseFacility(facility);\n\n        this.sideMenuService.setFacilityMenuItems([facilityItem]);\n\n        addRecentlyVisited('facilities', this.facility);\n      });\n    });\n  }\n}\n","<div class=\"container-fluid pl-xl-5 pr-xl-5 facility-theme\" *ngIf=\"facility !== undefined\">\n  <app-back-button>\n  </app-back-button>\n  <h1 class=\"page-title\">\n    {{'FACILITY_DETAIL.TITLE' | translate}}\n    <a class=\"facility-link\" [routerLink]=\"['/facilities', facility.id]\">\n      {{facility.name}}\n    </a>\n    <span class=\"text-muted\">\n      &nbsp;#{{facility.id}}\n    </span>\n  </h1>\n  <app-animated-router-outlet></app-animated-router-outlet>\n</div>\n\n","import { Component, HostBinding, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MenuItem } from '../../../../shared/models/MenuItem';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-facility-overview',\n  templateUrl: './facility-overview.component.html',\n  styleUrls: ['./facility-overview.component.scss']\n})\nexport class FacilityOverviewComponent implements OnInit {\n\n  // class used for animation\n  @HostBinding('class.router-component') true;\n  navItems: MenuItem[] = [];\n  facility: Facility;\n\n  constructor(\n    private facilityManager: FacilitiesManagerService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const facilityId = params['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.navItems = [\n      {\n        cssIcon: 'perun-manage-facility',\n        url: `/facilities/${this.facility.id}/resources`,\n        label: 'MENU_ITEMS.FACILITY.RESOURCES',\n        style: 'facility-btn'\n      },\n      {\n        cssIcon: 'perun-group',\n        url: `/facilities/${this.facility.id}/allowed-groups`,\n        label: 'MENU_ITEMS.FACILITY.ALLOWED_GROUPS',\n        style: 'facility-btn'\n      },\n      {\n        cssIcon: 'perun-settings2',\n        url: `/facilities/${this.facility.id}/settings`,\n        label: 'MENU_ITEMS.FACILITY.SETTINGS',\n        style: 'facility-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <app-menu-buttons-field [items]=\"navItems\" [size]=\"'small'\"></app-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport {NotificatorService} from '../../../../../core/services/common/notificator.service';\nimport {TranslateService} from '@ngx-translate/core';\nimport {AttributesListComponent} from '../../../../../shared/components/attributes-list/attributes-list.component';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {\n  DeleteAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/delete-attribute-dialog/delete-attribute-dialog.component';\nimport {\n  CreateAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/create-attribute-dialog/create-attribute-dialog.component';\nimport { filterCoreAttributes } from '@perun-web-apps/perun/utils';\nimport { Attribute, AttributesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-facility-settings-attributes',\n  templateUrl: './facility-settings-attributes.component.html',\n  styleUrls: ['./facility-settings-attributes.component.scss']\n})\nexport class FacilitySettingsAttributesComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(private attributesManager: AttributesManagerService,\n              private route: ActivatedRoute,\n              private dialog: MatDialog,\n              private notificator: NotificatorService,\n              private translate: TranslateService) {\n    this.translate.get('FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE').subscribe(value => this.saveSuccessMessage = value);\n    this.translate.get('FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE').subscribe(value => this.deleteSuccessMessage = value);\n  }\n\n  @ViewChild('list')\n  list: AttributesListComponent;\n\n  attributes: Attribute[] = [];\n  selection = new SelectionModel<Attribute>(true, []);\n  facilityId: number;\n  saveSuccessMessage: string;\n  deleteSuccessMessage: string;\n\n  loading: boolean;\n  filterValue = '';\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(params => {\n      this.facilityId = params['facilityId'];\n      this.refreshTable();\n    });\n  }\n\n  onDelete() {\n    const dialogRef = this.dialog.open(DeleteAttributeDialogComponent, {\n      width: '450px',\n      data: {\n        entityId: this.facilityId,\n        entity: 'facility',\n        attributes: this.selection.selected\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.refreshTable();\n      }\n    });\n  }\n\n  onSave() {\n    // have to use this to update attribute with map in it, before saving it\n    this.list.updateMapAttributes();\n    this.attributesManager.setFacilityAttributes({facility: this.facilityId, attributes: this.selection.selected}).subscribe(() => {\n      this.attributesManager.getFacilityAttributes(this.facilityId).subscribe(attributes => {\n        this.attributes = filterCoreAttributes(attributes);\n        this.notificator.showSuccess(this.saveSuccessMessage);\n        this.selection.clear();\n      });\n    });\n  }\n\n  onCreate() {\n    const dialogRef = this.dialog.open(CreateAttributeDialogComponent, {\n      width: '1050px',\n      data: {\n        entityId: this.facilityId,\n        entity: 'facility',\n        notEmptyAttributes: this.attributes,\n        style: 'facility-theme'\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 'saved') {\n        this.refreshTable();\n      }\n    });\n  }\n\n  refreshTable() {\n    this.loading = true;\n    this.attributesManager.getFacilityAttributes(this.facilityId).subscribe(attributes => {\n      this.attributes = filterCoreAttributes(attributes);\n      this.selection.clear();\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    this.filterValue = filterValue;\n  }\n}\n","<div>\n  <h1 class=\"page-subtitle\">{{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.TITLE' | translate}}</h1>\n  <app-refresh-button (refresh)=\"refreshTable()\"></app-refresh-button>\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onCreate()\">\n    {{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.CREATE' | translate}}\n  </button>\n\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onSave()\" [disabled]=\"selection.selected.length === 0\">\n    {{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SAVE' | translate}}\n  </button>\n\n  <button mat-flat-button color=\"warn\" (click)=\"onDelete()\" [disabled]=\"selection.selected.length === 0\">\n    {{'FACILITY_DETAIL.SETTINGS.ATTRIBUTES.DELETE' | translate}}\n  </button>\n  <app-immediate-filter [placeholder]=\"'SHARED.COMPONENTS.ATTRIBUTES_LIST.FILTER'\" (filter)=\"applyFilter($event)\"></app-immediate-filter>\n  <mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n  <app-attributes-list\n    #list\n    *ngIf=\"!loading\"\n    [filterValue]=\"filterValue\"\n    [attributes]=\"attributes\"\n    [selection]=\"selection\">\n  </app-attributes-list>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {MenuItem} from '../../../../../shared/models/MenuItem';\nimport {ActivatedRoute} from '@angular/router';\nimport { FacilitiesManagerService, Facility } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-facility-settings-overview',\n  templateUrl: './facility-settings-overview.component.html',\n  styleUrls: ['./facility-settings-overview.component.scss']\n})\nexport class FacilitySettingsOverviewComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private route: ActivatedRoute,\n    private facilityManager: FacilitiesManagerService\n  ) { }\n\n  items: MenuItem[] = [];\n  facility: Facility;\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(parentParams => {\n      const facilityId = parentParams['facilityId'];\n\n      this.facilityManager.getFacilityById(facilityId).subscribe(facility => {\n        this.facility = facility;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.items = [\n      {\n        cssIcon: 'perun-attributes',\n        url: `/facilities/${this.facility.id}/settings/attributes`,\n        label: 'MENU_ITEMS.FACILITY.ATTRIBUTES',\n        style: 'facility-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <app-menu-buttons-field [items]=\"items\" [size]=\"'small'\"></app-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {fadeIn} from '../../../../shared/animations/Animations';\n\n@Component({\n  selector: 'app-facility-settings',\n  templateUrl: './facility-settings.component.html',\n  styleUrls: ['./facility-settings.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class FacilitySettingsComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","<app-animated-router-outlet></app-animated-router-outlet>\n","import {Component, OnInit} from '@angular/core';\nimport {SideMenuService} from '../../../core/services/common/side-menu.service';\nimport { FacilitiesManagerService, RichFacility } from '@perun-web-apps/perun/openapi';\nimport { getRecentlyVisited, getRecentlyVisitedIds } from '@perun-web-apps/perun/utils';\n\n@Component({\n  selector: 'app-facility-select-page',\n  templateUrl: './facility-select-page.component.html',\n  styleUrls: ['./facility-select-page.component.scss']\n})\nexport class FacilitySelectPageComponent implements OnInit {\n\n  constructor(\n    private facilityManager: FacilitiesManagerService,\n    private sideMenuService: SideMenuService\n  ) { }\n\n  facilities: RichFacility[] = [];\n  recentIds: number[] = [];\n  loading: boolean;\n  filterValue = '';\n\n  ngOnInit() {\n    this.sideMenuService.setFacilityMenuItems([]);\n\n    this.refreshTable();\n  }\n\n  refreshTable() {\n    this.loading = true;\n    this.facilityManager.getRichFacilities().subscribe(facilities => {\n      this.facilities = getRecentlyVisited('facilities', facilities);\n      this.recentIds = getRecentlyVisitedIds('facilities');\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    this.filterValue = filterValue;\n  }\n}\n","<div class=\"container-fluid pl-xl-5 pr-xl-5 facility-theme\">\n  <app-back-button>\n  </app-back-button>\n\n  <h1 class=\"page-title\">{{'FACILITY_MANAGEMENT.TITLE' | translate}}</h1>\n  <app-refresh-button (refresh)=\"refreshTable()\" *ngIf=\"!loading\"></app-refresh-button>\n  <app-immediate-filter [placeholder]=\"'FACILITY_MANAGEMENT.FILTER_PLACEHOLDER'\" (filter)=\"applyFilter($event)\" *ngIf=\"!loading\"></app-immediate-filter>\n  <mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n  <app-facility-select-table\n    *ngIf=\"!loading\"\n    [filterValue]=\"filterValue\"\n    [facilities]=\"facilities\"\n    [recentIds]=\"recentIds\">\n  </app-facility-select-table>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {fadeIn} from '../../../shared/animations/Animations';\nimport {SideMenuService} from '../../../core/services/common/side-menu.service';\nimport {SideMenuItemService} from '../../../shared/side-menu/side-menu-item.service';\nimport { FacilitiesManagerService, Resource, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-detail-page',\n  templateUrl: './resource-detail-page.component.html',\n  styleUrls: ['./resource-detail-page.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class ResourceDetailPageComponent implements OnInit {\n\n  constructor(\n    private route: ActivatedRoute,\n    private facilityManager: FacilitiesManagerService,\n    private resourcesManager: ResourcesManagerService,\n    private sideMenuService: SideMenuService,\n    private sideMenuItemService: SideMenuItemService\n  ) { }\n\n  resource: Resource;\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const resourceId = params['resourceId'];\n\n      this.resourcesManager.getResourceById(resourceId).subscribe(resource => {\n        this.resource = resource;\n\n        this.facilityManager.getFacilityById(resource.facilityId).subscribe(facility => {\n          const facilityItem = this.sideMenuItemService.parseFacility(facility);\n          const resourceItem = this.sideMenuItemService.parseResource(resource);\n\n          this.sideMenuService.setFacilityMenuItems([facilityItem, resourceItem]);\n        });\n      });\n    });\n  }\n}\n","<div class=\"container-fluid pl-xl-5 pr-xl-5 resource-theme\" *ngIf=\"resource !== undefined\">\n  <app-back-button>\n  </app-back-button>\n  <h1 class=\"page-title\">\n    {{'RESOURCE_DETAIL.TITLE' | translate}}\n    <a class=\"resource-link\" [routerLink]=\"['/facilities', resource.facilityId, 'resources', resource.id]\">\n      {{resource.name}}\n    </a>\n    <span class=\"text-muted\">\n      &nbsp;#{{resource.id}}\n    </span>\n  </h1>\n  <app-animated-router-outlet></app-animated-router-outlet>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Group, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { MatCheckbox } from '@angular/material/checkbox';\nimport { MatDialog } from '@angular/material/dialog';\nimport { RemoveGroupFromResourceDialogComponent } from '../../../../shared/components/dialogs/remove-group-from-resource-dialog/remove-group-from-resource-dialog.component';\nimport { AssignGroupToResourceDialogComponent } from '../../../../shared/components/dialogs/assign-group-to-resource-dialog/assign-group-to-resource-dialog.component';\n\n@Component({\n  selector: 'app-perun-web-apps-resource-groups',\n  templateUrl: './resource-groups.component.html',\n  styleUrls: ['./resource-groups.component.scss']\n})\nexport class ResourceGroupsComponent implements OnInit {\n\n  constructor(private route: ActivatedRoute,\n              private resourcesManager: ResourcesManagerService,\n              private dialog: MatDialog) { }\n\n  resourceId: number;\n  assignedGroups: Group[] = [];\n  selected = new SelectionModel<Group>(true, []);\n  loading: boolean;\n  filteredGroups: Group[] = [];\n\n  @ViewChild('checkbox', {static: true})\n  checkbox: MatCheckbox;\n\n  ngOnInit() {\n    this.loading = true;\n    this.route.parent.params.subscribe(parentParams => {\n      this.resourceId = parentParams['resourceId'];\n        this.loadAllGroups();\n    });\n  }\n\n  loadAllGroups() {\n    this.loading = true;\n    this.resourcesManager.getAssignedGroups(this.resourceId).subscribe( assignedGroups => {\n      this.assignedGroups = assignedGroups;\n      this.filteredGroups = assignedGroups;\n      this.selected.clear();\n      this.loading = false;\n    });\n  }\n\n  addGroup() {\n    const dialogRef = this.dialog.open(AssignGroupToResourceDialogComponent, {\n      width: '800px',\n      data: {theme: 'resource-theme', resourceId: this.resourceId}\n    });\n    dialogRef.afterClosed().subscribe((success) => {\n      if (success) {\n        this.loadAllGroups();\n      }\n    });\n  }\n\n  removeGroups() {\n    const dialogRef = this.dialog.open(RemoveGroupFromResourceDialogComponent, {\n      width: '500px',\n      data: {resourceId: this.resourceId, groups: this.selected.selected}\n    });\n    dialogRef.afterClosed().subscribe((success) => {\n      if (success) {\n        this.loadAllGroups();\n      }\n    });\n  }\n\n  applyFilter(filterValue: string) {\n    this.filteredGroups = this.assignedGroups.filter( option => option.name.toLowerCase().includes(filterValue.toLowerCase()));\n  }\n}\n","<h1 class=\"page-subtitle\">{{'RESOURCE_DETAIL.ASSIGNED_GROUPS.TITLE' | translate}}</h1>\n<app-refresh-button (refresh)=\"loadAllGroups()\"></app-refresh-button>\n<button mat-flat-button color=\"accent\" (click)=\"addGroup()\">\n  {{'RESOURCE_DETAIL.ASSIGNED_GROUPS.ADD_GROUP' | translate}}\n</button>\n<button mat-flat-button color=\"warn\" class=\"ml-2\" [disabled]=\"selected.selected.length === 0\" (click)=\"removeGroups()\">\n  {{'RESOURCE_DETAIL.ASSIGNED_GROUPS.REMOVE_GROUP' | translate}}\n</button>\n<app-debounce-filter\n  [placeholder]=\"'RESOURCE_DETAIL.ASSIGNED_GROUPS.FILTER_GROUPS'\"\n  (filter)=\"applyFilter($event)\">\n</app-debounce-filter>\n<mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n<div class=\"mt-3\" *ngIf=\"!loading && assignedGroups.length !== 0\">\n  <app-groups-list\n    [groups]=\"filteredGroups\"\n    [selection]=\"selected\"\n    [disableMembers]=\"false\"\n    [inDialog]=\"false\"\n    [hideColumns]=\"['vo', 'menu']\">\n  </app-groups-list>\n</div>\n<app-alert *ngIf=\"assignedGroups.length === 0 && !loading\" color=\"warn\">\n  {{'RESOURCE_DETAIL.ASSIGNED_GROUPS.NO_GROUPS' | translate}}\n</app-alert>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {MenuItem} from '../../../../shared/models/MenuItem';\nimport { Resource, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-overview',\n  templateUrl: './resource-overview.component.html',\n  styleUrls: ['./resource-overview.component.scss']\n})\nexport class ResourceOverviewComponent implements OnInit {\n\n  // class used for animation\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private resourcesManager: ResourcesManagerService,\n    private route: ActivatedRoute,\n  ) { }\n\n  navItems: MenuItem[] = [];\n  resource: Resource;\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const resourceId = params['resourceId'];\n\n      this.resourcesManager.getResourceById(resourceId).subscribe(resource => {\n        this.resource = resource;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.navItems = [\n      {\n        cssIcon: 'perun-group',\n        url: `/facilities/${this.resource.facilityId}/resources/${this.resource.id}/groups`,\n        label: 'MENU_ITEMS.RESOURCE.ASSIGNED_GROUPS',\n        style: 'resource-btn'\n      },\n      {\n        cssIcon: 'perun-settings2',\n        url: `/facilities/${this.resource.facilityId}/resources/${this.resource.id}/settings`,\n        label: 'MENU_ITEMS.RESOURCE.SETTINGS',\n        style: 'resource-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <app-menu-buttons-field [items]=\"navItems\" [size]=\"'small'\"></app-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit, ViewChild} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport {NotificatorService} from '../../../../../core/services/common/notificator.service';\nimport {TranslateService} from '@ngx-translate/core';\nimport {AttributesListComponent} from '../../../../../shared/components/attributes-list/attributes-list.component';\nimport {SelectionModel} from '@angular/cdk/collections';\nimport {\n  DeleteAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/delete-attribute-dialog/delete-attribute-dialog.component';\nimport {\n  CreateAttributeDialogComponent\n} from '../../../../../shared/components/dialogs/create-attribute-dialog/create-attribute-dialog.component';\nimport { filterCoreAttributes } from '@perun-web-apps/perun/utils';\nimport { Attribute, AttributesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-settings-attributes',\n  templateUrl: './resource-settings-attributes.component.html',\n  styleUrls: ['./resource-settings-attributes.component.scss']\n})\nexport class ResourceSettingsAttributesComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(private attributesManager: AttributesManagerService,\n              private route: ActivatedRoute,\n              private dialog: MatDialog,\n              private notificator: NotificatorService,\n              private translate: TranslateService) {\n    this.translate.get('RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE').subscribe(value => this.saveSuccessMessage = value);\n    this.translate.get('RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE').subscribe(value => this.deleteSuccessMessage = value);\n  }\n\n  @ViewChild('list')\n  list: AttributesListComponent;\n\n  attributes: Attribute[] = [];\n  selection = new SelectionModel<Attribute>(true, []);\n  resourceId: number;\n  saveSuccessMessage: string;\n  deleteSuccessMessage: string;\n\n  loading: boolean;\n  filterValue = '';\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(params => {\n      this.resourceId = params['resourceId'];\n      this.refreshTable();\n    });\n  }\n\n  onDelete() {\n    const dialogRef = this.dialog.open(DeleteAttributeDialogComponent, {\n      width: '450px',\n      data: {\n        entityId: this.resourceId,\n        entity: 'resource',\n        attributes: this.selection.selected\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.refreshTable();\n      }\n    });\n  }\n\n  onSave() {\n    // have to use this to update attribute with map in it, before saving it\n    this.list.updateMapAttributes();\n    this.attributesManager.setResourceAttributes({resource: this.resourceId, attributes: this.selection.selected}).subscribe(() => {\n      this.attributesManager.getResourceAttributes(this.resourceId).subscribe(attributes => {\n        this.attributes = filterCoreAttributes(attributes);\n        this.notificator.showSuccess(this.saveSuccessMessage);\n        this.selection.clear();\n      });\n    });\n  }\n\n  onCreate() {\n    const dialogRef = this.dialog.open(CreateAttributeDialogComponent, {\n      width: '1050px',\n      data: {\n        entityId: this.resourceId,\n        entity: 'resource',\n        notEmptyAttributes: this.attributes,\n        style: 'resource-theme'\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 'saved') {\n       this.refreshTable();\n      }\n    });\n  }\n\n  refreshTable() {\n    this.loading = true;\n    this.attributesManager.getResourceAttributes(this.resourceId).subscribe(attributes => {\n      this.attributes = filterCoreAttributes(attributes);\n      this.selection.clear();\n      this.loading = false;\n    });\n  }\n\n  applyFilter(filterValue: string) {\n   this.filterValue = filterValue;\n  }\n}\n","<div>\n  <h1 class=\"page-subtitle\">{{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.TITLE' | translate}}</h1>\n  <app-refresh-button (refresh)=\"refreshTable()\"></app-refresh-button>\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onCreate()\">\n    {{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.CREATE' | translate}}\n  </button>\n\n  <button mat-flat-button class=\"mr-2\" color=\"accent\" (click)=\"onSave()\" [disabled]=\"selection.selected.length === 0\">\n    {{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.SAVE' | translate}}\n  </button>\n\n  <button mat-flat-button color=\"warn\" (click)=\"onDelete()\" [disabled]=\"selection.selected.length === 0\">\n    {{'RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.DELETE' | translate}}\n  </button>\n  <app-immediate-filter [placeholder]=\"'SHARED.COMPONENTS.ATTRIBUTES_LIST.FILTER'\" (filter)=\"applyFilter($event)\"></app-immediate-filter>\n  <mat-spinner class=\"ml-auto mr-auto\" *ngIf=\"loading\"></mat-spinner>\n  <app-attributes-list\n    #list\n    *ngIf=\"!loading\"\n    [filterValue]=\"filterValue\"\n    [attributes]=\"attributes\"\n    [selection]=\"selection\">\n  </app-attributes-list>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {MenuItem} from '../../../../../shared/models/MenuItem';\nimport { Resource, ResourcesManagerService } from '@perun-web-apps/perun/openapi';\n\n@Component({\n  selector: 'app-resource-settings-overview',\n  templateUrl: './resource-settings-overview.component.html',\n  styleUrls: ['./resource-settings-overview.component.scss']\n})\nexport class ResourceSettingsOverviewComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor(\n    private route: ActivatedRoute,\n    private resourceManager: ResourcesManagerService\n  ) { }\n\n  items: MenuItem[] = [];\n  resource: Resource;\n\n  ngOnInit() {\n    this.route.parent.parent.params.subscribe(parentParams => {\n      const resourceId = parentParams['resourceId'];\n\n      this.resourceManager.getResourceById(resourceId).subscribe(resource => {\n        this.resource = resource;\n\n        this.initItems();\n      });\n    });\n  }\n\n  private initItems() {\n    this.items = [\n      {\n        cssIcon: 'perun-attributes',\n        url: `/facilities/${this.resource.facilityId}/resources/${this.resource.id}/settings/attributes`,\n        label: 'MENU_ITEMS.RESOURCE.ATTRIBUTES',\n        style: 'resource-btn'\n      }\n    ];\n  }\n}\n","<div>\n  <app-menu-buttons-field [items]=\"items\" [size]=\"'small'\"></app-menu-buttons-field>\n</div>\n","import {Component, HostBinding, OnInit} from '@angular/core';\nimport {fadeIn} from '../../../../shared/animations/Animations';\n\n@Component({\n  selector: 'app-resource-settings',\n  templateUrl: './resource-settings.component.html',\n  styleUrls: ['./resource-settings.component.scss'],\n  animations: [\n    fadeIn\n  ]\n})\nexport class ResourceSettingsComponent implements OnInit {\n\n  @HostBinding('class.router-component') true;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n}\n","<app-animated-router-outlet></app-animated-router-outlet>\n"]}