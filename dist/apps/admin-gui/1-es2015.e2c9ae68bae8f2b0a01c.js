(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{BAI5:function(e,t,s){"use strict";s.d(t,"a",(function(){return A}));var i=s("Ssnw"),n=s("X2Q7"),a=s("iyZ4"),r=s("EM62"),c=s("sEIs"),o=s("2kYt"),b=s("0XDM"),l=s("A8Ay"),u=s("csyo"),p=s("K9kF"),d=s("s2Ay");function f(e,t){1&e&&(r.Sb(0,"h1",6),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&e&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.YOU_ARE_MEMBER"),"\n"))}function h(e,t){1&e&&(r.Sb(0,"h1",6),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&e&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.USER_IS_MEMBER"),"\n"))}function m(e,t){1&e&&r.Nb(0,"mat-spinner",7)}const S=function(){return["select","expiration","menu","recent"]};function g(e,t){if(1&e){const e=r.Tb();r.Sb(0,"perun-web-apps-groups-list",8),r.Zb("page",(function(t){return r.xc(e),r.dc().pageChanged(t)})),r.Rb()}if(2&e){const e=r.dc();r.kc("pageSize",e.pageSize)("groups",e.membersGroups)("hideColumns",r.oc(5,S))("disableMembers",!1)("filter",e.memberFilterValue)}}function R(e,t){1&e&&r.Nb(0,"mat-spinner",7)}function I(e,t){if(1&e){const e=r.Tb();r.Sb(0,"perun-web-apps-groups-list",8),r.Zb("page",(function(t){return r.xc(e),r.dc(2).adminPageChanged(t)})),r.Rb()}if(2&e){const e=r.dc(2);r.kc("pageSize",e.adminPageSize)("groups",e.adminsGroups)("hideColumns",r.oc(5,S))("disableMembers",!1)("filter",e.adminFilterValue)}}function E(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",9),r.Sb(1,"h1",6),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"perun-web-apps-refresh-button",1),r.Zb("refresh",(function(){return r.xc(e),r.dc().refreshAdminTable()})),r.Rb(),r.Sb(5,"perun-web-apps-immediate-filter",2),r.Zb("filter",(function(t){return r.xc(e),r.dc().adminFilter(t)})),r.Rb(),r.Hc(6,R,1,0,"mat-spinner",3),r.Hc(7,I,1,6,"perun-web-apps-groups-list",4),r.Rb()}if(2&e){const e=r.dc();r.Ab(2),r.Lc(" ",r.fc(3,4,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.USER_IS_ADMIN")," "),r.Ab(3),r.kc("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),r.Ab(1),r.kc("ngIf",e.adminRefresh),r.Ab(1),r.kc("ngIf",!e.adminRefresh)}}let A=(()=>{class e{constructor(e,t,s,i,n,r){this.usersService=e,this.memberService=t,this.tableConfigService=s,this.groupService=i,this.store=n,this.route=r,this.memberFilterValue="",this.adminFilterValue="",this.vos=[],this.membersGroups=[],this.adminsGroups=[],this.tableId=a.bb,this.adminTableId=a.ab}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.adminPageSize=this.tableConfigService.getTablePageSize(this.adminTableId),!0===(this.showPrincipal=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.params.subscribe(e=>this.userId=e.userId),this.refreshAdminTable(),this.refreshMemberTable()}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}adminPageChanged(e){this.adminPageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.adminTableId,e.pageSize)}memberFilter(e){this.memberFilterValue=e}adminFilter(e){this.adminFilterValue=e}refreshAdminTable(){this.adminRefresh=!0,this.usersService.getGroupsWhereUserIsAdmin(this.userId).subscribe(e=>{this.adminsGroups=e,this.adminRefresh=!1})}refreshMemberTable(){this.memberRefresh=!0,this.membersGroups=[],this.usersService.getVosWhereUserIsMember(this.userId).subscribe(e=>{this.vos=e;for(const t of this.vos)this.memberService.getMemberByUser(t.id,this.userId).subscribe(e=>{this.groupService.getMemberGroups(e.id).subscribe(e=>{this.membersGroups=this.membersGroups.concat(e),this.vos.indexOf(t)===this.vos.length-1&&(this.memberRefresh=!1)})});0===e.length&&(this.memberRefresh=!1)})}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(n.q),r.Mb(n.i),r.Mb(a.pb),r.Mb(n.h),r.Mb(i.m),r.Mb(c.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-user-groups"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Eb("router-component",!0)},decls:7,vars:6,consts:[["class","page-subtitle",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","groups","hideColumns","disableMembers","filter","page",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"page-subtitle"],[1,"ml-auto","mr-auto"],[3,"pageSize","groups","hideColumns","disableMembers","filter","page"],[1,"mt-5"]],template:function(e,t){1&e&&(r.Hc(0,f,3,3,"h1",0),r.Hc(1,h,3,3,"h1",0),r.Sb(2,"perun-web-apps-refresh-button",1),r.Zb("refresh",(function(){return t.refreshMemberTable()})),r.Rb(),r.Sb(3,"perun-web-apps-immediate-filter",2),r.Zb("filter",(function(e){return t.memberFilter(e)})),r.Rb(),r.Hc(4,m,1,0,"mat-spinner",3),r.Hc(5,g,1,6,"perun-web-apps-groups-list",4),r.Hc(6,E,8,6,"div",5)),2&e&&(r.kc("ngIf",t.showPrincipal),r.Ab(1),r.kc("ngIf",!t.showPrincipal),r.Ab(2),r.kc("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),r.Ab(1),r.kc("ngIf",t.memberRefresh),r.Ab(1),r.kc("ngIf",!t.memberRefresh),r.Ab(1),r.kc("ngIf",!t.showPrincipal))},directives:[o.t,b.a,l.a,u.c,p.a],pipes:[d.d],styles:[""]}),e})()},ECIY:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var i=s("X2Q7"),n=s("Ssnw"),a=s("EM62"),r=s("sEIs"),c=s("2kYt"),o=s("bdug"),b=s("csyo"),l=s("s2Ay");function u(e,t){if(1&e&&a.Nb(0,"app-two-entity-attribute-page",3),2&e){const e=a.dc();a.kc("entityValues",e.facilities)("firstEntity","user")("firstEntityId",e.userId)("secondEntity","facility")}}function p(e,t){1&e&&a.Nb(0,"mat-spinner",4)}let d=(()=>{class e{constructor(e,t,s,i){this.route=e,this.storage=t,this.facilitiesManagerService=s,this.store=i,this.facilities=[]}ngOnInit(){this.loading=!0,!0===(this.showPrincipal=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.parent.params.subscribe(e=>this.userId=e.userId),this.facilitiesManagerService.getAssignedFacilitiesByUser(this.userId).subscribe(e=>{this.facilities=e,this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(r.a),a.Mb(n.m),a.Mb(i.g),a.Mb(n.m))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-user-settings-facility-attributes"]],decls:5,vars:5,consts:[[1,"page-subtitle"],[3,"entityValues","firstEntity","firstEntityId","secondEntity",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],[3,"entityValues","firstEntity","firstEntityId","secondEntity"],[1,"ml-auto","mr-auto"]],template:function(e,t){1&e&&(a.Sb(0,"h1",0),a.Jc(1),a.ec(2,"translate"),a.Rb(),a.Hc(3,u,1,4,"app-two-entity-attribute-page",1),a.Hc(4,p,1,0,"mat-spinner",2)),2&e&&(a.Ab(1),a.Kc(a.fc(2,3,"USER_DETAIL.SETTINGS.FACILITY_ATTRIBUTES.TITLE")),a.Ab(2),a.kc("ngIf",!t.loading),a.Ab(1),a.kc("ngIf",t.loading))},directives:[c.t,o.a,b.c],pipes:[l.d],styles:[""]}),e})()},"Q/gj":function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var i=s("Ssnw"),n=(s("HHEo"),s("cqs0")),a=s("8clQ"),r=s("mEf3"),c=s("X2Q7"),o=s("iyZ4"),b=s("+0js"),l=s("IDQ9"),u=s("EM62"),p=s("sEIs"),d=s("OZ4H"),f=s("s2Ay"),h=s("KZIX"),m=s("0XDM"),S=s("PBFl"),g=s("A8Ay"),R=s("2kYt"),I=s("csyo"),E=s("LKLE"),A=s("bdug");const v=["list"];function T(e,t){1&e&&(u.Jc(0),u.ec(1,"translate")),2&e&&u.Lc(" ",u.fc(1,1,"ADMIN_USER.ENTITY")," ")}function O(e,t){1&e&&u.Nb(0,"mat-spinner",11)}function M(e,t){if(1&e){const e=u.Tb();u.Sb(0,"perun-web-apps-attributes-list",12,13),u.Zb("page",(function(t){return u.xc(e),u.dc().pageChanged(t)})),u.Rb()}if(2&e){const e=u.dc();u.kc("pageSize",e.pageSize)("filterValue",e.filterValue)("attributes",e.attributes)("selection",e.selection)}}function N(e,t){1&e&&(u.Jc(0),u.ec(1,"translate"),u.ec(2,"translate")),2&e&&u.Mc(" ",u.fc(1,2,"ADMIN_USER.ENTITY")," - ",u.fc(2,4,"FACILITY_DETAIL.ENTITY")," ")}function y(e,t){if(1&e&&u.Nb(0,"app-two-entity-attribute-page",16),2&e){const e=u.dc(3);u.kc("firstEntity","user")("firstEntityId",e.userId)("secondEntity","facility")}}function k(e,t){if(1&e&&u.Hc(0,y,1,3,"app-two-entity-attribute-page",15),2&e){const e=u.dc(2);u.kc("ngIf",!e.loading)}}function U(e,t){1&e&&(u.Sb(0,"mat-tab"),u.Hc(1,N,3,6,"ng-template",2),u.Hc(2,k,1,1,"ng-template",14),u.Rb())}let C=(()=>{class e{constructor(e,t,s,i,a,r,c,b){this.route=e,this.attributesManager=t,this.notificator=s,this.dialog=i,this.translate=a,this.tableConfigService=r,this.store=c,this.authResolver=b,this.selection=new n.c(!0,[]),this.attributes=[],this.filterValue="",this.tableId=o.r,this.translate.get("USER_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE").subscribe(e=>this.saveSuccessMessage=e),this.translate.get("USER_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE").subscribe(e=>this.deleteSuccessMessage=e)}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe(e=>{this.userId=e.userId,void 0===this.userId&&(this.userId=this.store.getPerunPrincipal().userId),this.userFacilityAttAuth=this.authResolver.isAuthorized("getAssignedFacilities_User_policy",[{id:this.userId,beanName:"User"}]),this.refreshTable()})}onCreate(){const e=Object(a.o)();e.width="1050px",e.data={entityId:this.userId,entity:"user",notEmptyAttributes:this.attributes,style:"user-theme"},this.dialog.open(l.a,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}onSave(){this.list.updateMapAttributes();const e=Object(a.o)();e.width="450px",e.data={entityId:this.userId,entity:"user",attributes:this.selection.selected},this.dialog.open(b.f,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}onDelete(){const e=Object(a.o)();e.width="450px",e.data={entityId:this.userId,entity:"user",attributes:this.selection.selected},this.dialog.open(r.a,e).afterClosed().subscribe(e=>{e&&this.refreshTable()})}refreshTable(){this.loading=!0,this.attributesManager.getUserAttributes(this.userId).subscribe(e=>{this.attributes=e,this.selection.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(p.a),u.Mb(c.c),u.Mb(i.l),u.Mb(d.b),u.Mb(f.e),u.Mb(o.pb),u.Mb(i.m),u.Mb(i.h))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-user-settings-attributes"]],viewQuery:function(e,t){var s;1&e&&u.Qc(v,!0),2&e&&u.sc(s=u.ac())&&(t.list=s.first)},hostVars:2,hostBindings:function(e,t){2&e&&u.Eb("router-component",!0)},decls:20,vars:18,consts:[[1,"page-subtitle"],[1,"mb-2"],["matTabLabel",""],[1,"mt-2",3,"refresh"],["mat-flat-button","","color","accent",1,"mr-2","mt-2",3,"click"],["mat-flat-button","","color","accent",1,"mr-2","mt-2",3,"disabled","click"],["mat-flat-button","","color","warn",1,"mt-2",3,"disabled","click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","attributes","selection","page",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","attributes","selection","page"],["list",""],["matTabContent",""],[3,"firstEntity","firstEntityId","secondEntity",4,"ngIf"],[3,"firstEntity","firstEntityId","secondEntity"]],template:function(e,t){1&e&&(u.Sb(0,"h1",0),u.Jc(1),u.ec(2,"translate"),u.Rb(),u.Sb(3,"mat-tab-group"),u.Sb(4,"mat-tab",1),u.Hc(5,T,2,3,"ng-template",2),u.Sb(6,"perun-web-apps-refresh-button",3),u.Zb("refresh",(function(){return t.refreshTable()})),u.Rb(),u.Sb(7,"button",4),u.Zb("click",(function(){return t.onCreate()})),u.Jc(8),u.ec(9,"translate"),u.Rb(),u.Sb(10,"button",5),u.Zb("click",(function(){return t.onSave()})),u.Jc(11),u.ec(12,"translate"),u.Rb(),u.Sb(13,"button",6),u.Zb("click",(function(){return t.onDelete()})),u.Jc(14),u.ec(15,"translate"),u.Rb(),u.Sb(16,"perun-web-apps-immediate-filter",7),u.Zb("filter",(function(e){return t.applyFilter(e)})),u.Rb(),u.Hc(17,O,1,0,"mat-spinner",8),u.Hc(18,M,2,4,"perun-web-apps-attributes-list",9),u.Rb(),u.Hc(19,U,3,0,"mat-tab",10),u.Rb()),2&e&&(u.Ab(1),u.Kc(u.fc(2,10,"USER_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),u.Ab(7),u.Lc(" ",u.fc(9,12,"USER_DETAIL.SETTINGS.ATTRIBUTES.CREATE")," "),u.Ab(2),u.kc("disabled",0===t.selection.selected.length),u.Ab(1),u.Lc(" ",u.fc(12,14,"USER_DETAIL.SETTINGS.ATTRIBUTES.SAVE")," "),u.Ab(2),u.kc("disabled",0===t.selection.selected.length),u.Ab(1),u.Lc(" ",u.fc(15,16,"USER_DETAIL.SETTINGS.ATTRIBUTES.DELETE")," "),u.Ab(2),u.kc("placeholder","SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTES_LIST.FILTER"),u.Ab(1),u.kc("ngIf",t.loading),u.Ab(1),u.kc("ngIf",!t.loading),u.Ab(1),u.kc("ngIf",t.userFacilityAttAuth))},directives:[h.c,h.a,h.d,m.a,S.b,g.a,R.t,I.c,E.a,h.b,A.a],pipes:[f.d],styles:[""]}),e})()},QOlj:function(e,t,s){"use strict";s.d(t,"a",(function(){return T}));var i=s("X2Q7"),n=s("FlRo"),a=s("Ssnw"),r=s("nyAh"),c=s("8clQ"),o=s("+0js"),b=s("EM62"),l=s("sEIs"),u=s("OZ4H"),p=s("2kYt"),d=s("ZG5M"),f=s("Meci"),h=s("PBFl"),m=s("bFHC"),S=s("s2Ay");function g(e,t){1&e&&b.Nb(0,"th",12)}function R(e,t){if(1&e&&(b.Sb(0,"td",13),b.Jc(1),b.Rb()),2&e){const e=t.$implicit;b.Ab(1),b.Lc(" ",e.displayName,": ")}}function I(e,t){1&e&&b.Nb(0,"th",12)}function E(e,t){if(1&e){const e=b.Tb();b.Sb(0,"td",14),b.Jc(1),b.Sb(2,"button",15),b.Zb("click",(function(){return b.xc(e),b.dc(2).changeEmail()})),b.Sb(3,"mat-icon"),b.Jc(4,"edit"),b.Rb(),b.Rb(),b.Rb()}if(2&e){const e=t.$implicit;b.Ab(1),b.Lc(" ",e.value," ")}}function A(e,t){1&e&&b.Nb(0,"tr",16)}function v(e,t){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"mat-card",3),b.Sb(2,"mat-card-header"),b.Sb(3,"mat-card-title"),b.Sb(4,"h1",4),b.Jc(5),b.ec(6,"translate"),b.Rb(),b.Rb(),b.Rb(),b.Sb(7,"mat-card-content"),b.Sb(8,"table",5),b.Qb(9,6),b.Hc(10,g,1,0,"th",7),b.Hc(11,R,2,1,"td",8),b.Pb(),b.Qb(12,9),b.Hc(13,I,1,0,"th",7),b.Hc(14,E,5,1,"td",10),b.Pb(),b.Hc(15,A,1,0,"tr",11),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&e){const e=b.dc();b.Ab(5),b.Kc(b.fc(6,3,"USER_DETAIL.OVERVIEW.GENERAL_SETTINGS")),b.Ab(3),b.kc("dataSource",e.mailDataSource),b.Ab(7),b.kc("matRowDefColumns",e.displayedColumns)}}let T=(()=>{class e{constructor(e,t,s,i,n){this.userService=e,this.attributeService=t,this.storeService=s,this.route=i,this.dialog=n,this.navItems=[],this.displayedColumns=["name","value"],this.inMyProfile=!1}ngOnInit(){this.route.params.subscribe(e=>{void 0!==e.userId?this.userService.getUserById(e.userId).subscribe(e=>{this.user=e,this.initNavItems()}):(this.inMyProfile=!0,this.userID=this.storeService.getPerunPrincipal().user.id,this.attributeService.getUserAttributeByName(this.userID,r.a.USER_DEF_PREFERRED_MAIL).subscribe(e=>{this.preferredMail=e,this.handleMailNotDefined(),this.mailDataSource=new n.o([this.preferredMail]),this.initNavItems()}))})}initNavItems(){this.navItems=[{cssIcon:"perun-vo",url:"organizations",label:"MENU_ITEMS.ADMIN.ORGANIZATIONS",style:"user-btn"},{cssIcon:"perun-group",url:"groups",label:"MENU_ITEMS.ADMIN.GROUPS",style:"user-btn"}],window.location.pathname.startsWith("/admin")&&this.navItems.push({cssIcon:"perun-group",url:"identities",label:"MENU_ITEMS.USER.IDENTITIES",style:"user-btn"},{cssIcon:"perun-facility-white",url:"facilities",label:"MENU_ITEMS.USER.FACILITIES",style:"user-btn"},{cssIcon:"perun-resource",url:"resources",label:"MENU_ITEMS.USER.RESOURCES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-attributes",url:"attributes",label:"MENU_ITEMS.USER.ATTRIBUTES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-group",url:"roles",label:"MENU_ITEMS.USER.ROLES",style:"user-btn"},{cssIcon:"perun-settings2",url:"settings",label:"MENU_ITEMS.ADMIN.SETTINGS",style:"user-btn"})}changeEmail(){const e=Object(c.o)();e.width="350px",e.data={userId:this.userID},this.dialog.open(o.c,e).afterClosed().subscribe(e=>{e&&this.attributeService.getUserAttributeByName(this.userID,r.a.USER_DEF_PREFERRED_MAIL).subscribe(e=>{this.preferredMail=e,this.handleMailNotDefined(),this.mailDataSource=new n.o([this.preferredMail])})})}handleMailNotDefined(){null==this.preferredMail&&(this.preferredMail={id:-1,beanName:"Attribute",displayName:Object(c.t)(r.a.USER_DEF_PREFERRED_MAIL.split(":").pop()),value:Object("-")})}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(i.q),b.Mb(i.c),b.Mb(a.m),b.Mb(l.a),b.Mb(u.b))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-user-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&b.Eb("router-component",!0)},decls:2,vars:3,consts:[["class","align-cards",4,"ngIf"],[3,"items","size"],[1,"align-cards"],[1,"mat-elevation-z3"],[1,"page-subtitle"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","font-weight-bold","mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-cell","",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"font-weight-bold"],["mat-cell",""],["mat-icon-button","",1,"ml-3",3,"click"],["mat-row",""]],template:function(e,t){1&e&&(b.Hc(0,v,16,5,"div",0),b.Nb(1,"perun-web-apps-menu-buttons-field",1)),2&e&&(b.kc("ngIf",t.inMyProfile),b.Ab(1),b.kc("items",t.navItems)("size","small"))},directives:[p.t,d.a,f.a,f.f,f.m,f.d,n.n,n.c,n.i,n.b,n.m,n.h,n.a,h.b,m.a,n.l],pipes:[S.d],styles:[".align-cards[_ngcontent-%COMP%]{margin:1rem;display:inline-block;vertical-align:top}"]}),e})()},S5du:function(e,t,s){"use strict";s.d(t,"a",(function(){return E}));var i=s("X2Q7"),n=s("Ssnw"),a=s("iyZ4"),r=s("EM62"),c=s("sEIs"),o=s("2kYt"),b=s("0XDM"),l=s("A8Ay"),u=s("csyo"),p=s("qySP"),d=s("s2Ay");function f(e,t){1&e&&(r.Sb(0,"h1",6),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&e&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"SHARED_LIB.PERUN.ORGANIZATIONS.YOU_ARE_MEMBER"),"\n"))}function h(e,t){1&e&&(r.Sb(0,"h1",6),r.Jc(1),r.ec(2,"translate"),r.Rb()),2&e&&(r.Ab(1),r.Lc(" ",r.fc(2,1,"SHARED_LIB.PERUN.ORGANIZATIONS.USER_IS_MEMBER"),"\n"))}function m(e,t){1&e&&r.Nb(0,"mat-spinner",7)}function S(e,t){if(1&e){const e=r.Tb();r.Sb(0,"perun-web-apps-vos-list",8),r.Zb("page",(function(t){return r.xc(e),r.dc().memberPageChanged(t)})),r.Rb()}if(2&e){const e=r.dc();r.kc("displayedColumns",e.displayedColumns)("pageSize",e.memberPageSize)("filterValue",e.memberFilterValue)("vos",e.vosWhereIsMember)}}function g(e,t){1&e&&r.Nb(0,"mat-spinner",7)}function R(e,t){if(1&e){const e=r.Tb();r.Sb(0,"perun-web-apps-vos-list",8),r.Zb("page",(function(t){return r.xc(e),r.dc(2).adminPageChanged(t)})),r.Rb()}if(2&e){const e=r.dc(2);r.kc("displayedColumns",e.displayedColumns)("pageSize",e.adminPageSize)("filterValue",e.adminFilterValue)("vos",e.vosWhereIsAdmin)}}function I(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",9),r.Sb(1,"h1",6),r.Jc(2),r.ec(3,"translate"),r.Rb(),r.Sb(4,"perun-web-apps-refresh-button",1),r.Zb("refresh",(function(){return r.xc(e),r.dc().refreshAdminTable()})),r.Rb(),r.Sb(5,"perun-web-apps-immediate-filter",2),r.Zb("filter",(function(t){return r.xc(e),r.dc().applyAdminFilter(t)})),r.Rb(),r.Hc(6,g,1,0,"mat-spinner",3),r.Hc(7,R,1,4,"perun-web-apps-vos-list",4),r.Rb()}if(2&e){const e=r.dc();r.Ab(2),r.Kc(r.fc(3,4,"SHARED_LIB.PERUN.ORGANIZATIONS.USER_IS_ADMIN")),r.Ab(3),r.kc("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),r.Ab(1),r.kc("ngIf",e.adminRefresh),r.Ab(1),r.kc("ngIf",!e.adminRefresh)}}let E=(()=>{class e{constructor(e,t,s,i,n){this.usersService=e,this.authResolver=t,this.tableConfigService=s,this.store=i,this.route=n,this.adminFilterValue="",this.memberFilterValue="",this.displayedColumns=["id","name"],this.adminTableId=a.db,this.memberTableId=a.eb}ngOnInit(){this.adminPageSize=this.tableConfigService.getTablePageSize(this.adminTableId),this.memberPageSize=this.tableConfigService.getTablePageSize(this.memberTableId),!0===(this.isMyProfile=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.params.subscribe(e=>this.userId=e.userId),this.refreshAdminTable(),this.refreshMemberTable()}refreshMemberTable(){this.memberRefresh=!0,this.usersService.getVosWhereUserIsMember(this.userId).subscribe(e=>{this.vosWhereIsMember=e,this.memberRefresh=!1},()=>this.memberRefresh=!1)}refreshAdminTable(){this.adminRefresh=!0,this.usersService.getVosWhereUserIsAdmin(this.userId).subscribe(e=>{this.vosWhereIsAdmin=e,this.adminRefresh=!1},()=>this.adminRefresh=!1)}applyMemberFilter(e){this.memberFilterValue=e}adminPageChanged(e){this.adminPageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.adminTableId,e.pageSize)}memberPageChanged(e){this.memberPageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.memberTableId,e.pageSize)}applyAdminFilter(e){this.adminFilterValue=e}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(i.q),r.Mb(n.h),r.Mb(a.pb),r.Mb(n.m),r.Mb(c.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-user-organizations"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Eb("router-component",!0)},decls:7,vars:6,consts:[["class","page-subtitle",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],["class","mr-auto ml-auto",4,"ngIf"],[3,"displayedColumns","pageSize","filterValue","vos","page",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"page-subtitle"],[1,"mr-auto","ml-auto"],[3,"displayedColumns","pageSize","filterValue","vos","page"],[1,"mt-5"]],template:function(e,t){1&e&&(r.Hc(0,f,3,3,"h1",0),r.Hc(1,h,3,3,"h1",0),r.Sb(2,"perun-web-apps-refresh-button",1),r.Zb("refresh",(function(){return t.refreshMemberTable()})),r.Rb(),r.Sb(3,"perun-web-apps-immediate-filter",2),r.Zb("filter",(function(e){return t.applyMemberFilter(e)})),r.Rb(),r.Hc(4,m,1,0,"mat-spinner",3),r.Hc(5,S,1,4,"perun-web-apps-vos-list",4),r.Hc(6,I,8,6,"div",5)),2&e&&(r.kc("ngIf",t.isMyProfile),r.Ab(1),r.kc("ngIf",!t.isMyProfile),r.Ab(2),r.kc("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),r.Ab(1),r.kc("ngIf",t.memberRefresh),r.Ab(1),r.kc("ngIf",!t.memberRefresh),r.Ab(1),r.kc("ngIf",!t.isMyProfile))},directives:[o.t,b.a,l.a,u.c,p.a],pipes:[d.d],styles:[""]}),e})()},faZ6:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("EM62"),n=s("ma6z");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["app-user-settings"]],hostVars:2,hostBindings:function(e,t){2&e&&i.Eb("router-component",!0)},decls:1,vars:0,template:function(e,t){1&e&&i.Nb(0,"app-animated-router-outlet")},directives:[n.a],styles:[""]}),e})()},m1kt:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var i=s("X2Q7"),n=s("EM62"),a=s("sEIs"),r=s("2kYt"),c=s("csyo"),o=s("ZG5M");function b(e,t){1&e&&n.Nb(0,"mat-spinner",2)}function l(e,t){if(1&e&&(n.Sb(0,"div"),n.Nb(1,"perun-web-apps-menu-buttons-field",3),n.Rb()),2&e){const e=n.dc();n.Ab(1),n.kc("items",e.navItems)("size","small")}}let u=(()=>{class e{constructor(e,t){this.route=e,this.userManager=t,this.navItems=[],this.loading=!1}ngOnInit(){window.location.pathname.startsWith("/admin")?(this.loading=!0,this.route.parent.parent.params.subscribe(e=>{this.userManager.getUserById(e.userId).subscribe(e=>{this.isServiceUser=e.serviceUser,this.initNavItems(),this.loading=!1},()=>this.loading=!1)})):this.initNavItems()}initNavItems(){this.navItems=[],window.location.pathname.startsWith("/admin")?this.navItems.push(this.isServiceUser?{cssIcon:"perun-service-identity",url:"associated-users",label:"MENU_ITEMS.USER.ASSOCIATED_USERS",style:"user-btn"}:{cssIcon:"perun-service-identity",url:"service-identities",label:"MENU_ITEMS.USER.SERVICE_IDENTITIES",style:"user-btn"}):this.navItems.push({cssIcon:"perun-settings2",url:"passwordReset",label:"MENU_ITEMS.USER.PASSWORD_RESET",style:"user-btn"},{cssIcon:"perun-settings2",url:"guiConfig",label:"MENU_ITEMS.USER.GUI_CONFIG",style:"user-btn"})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(a.a),n.Mb(i.q))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-user-settings-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&n.Eb("router-component",!0)},decls:2,vars:2,consts:[["class","mr-auto ml-auto",4,"ngIf"],[4,"ngIf"],[1,"mr-auto","ml-auto"],[3,"items","size"]],template:function(e,t){1&e&&(n.Hc(0,b,1,0,"mat-spinner",0),n.Hc(1,l,2,2,"div",1)),2&e&&(n.kc("ngIf",t.loading),n.Ab(1),n.kc("ngIf",!t.loading))},directives:[r.t,c.c,o.a],styles:[""]}),e})()},oXY0:function(e,t,s){"use strict";s.d(t,"a",(function(){return Fe}));var i=s("X2Q7"),n=s("Ssnw"),a=s("EM62"),r=s("sEIs"),c=s("2kYt"),o=s("csyo"),b=s("3Uyd"),l=s("bFHC"),u=s("Meci"),p=s("qySP"),d=s("NC8S"),f=s("K9kF"),h=s("23RZ"),m=s("w+DT"),S=s("nz2m"),g=s("s2Ay");function R(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function I(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function E(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.SELF_VOS_ADMIN")," "))}function A(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.SELF_VOS")," "))}function v(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.SELF_IDENTITIES_ADMIN")," "))}function T(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.SELF_IDENTITIES")," "))}const O=function(){return["user","id","name"]};function M(e,t){if(1&e&&(a.Sb(0,"div",11),a.Hc(1,v,3,3,"div",2),a.Hc(2,T,3,3,"div",2),a.Nb(3,"app-users-list",12),a.Rb()),2&e){const e=a.dc(4);a.Ab(1),a.kc("ngIf",!e.showDescription),a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("users",e.users)("disableRouting",!0)("displayedColumns",a.oc(5,O))}}const N=function(){return["id","name","shortName"]};function y(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,E,3,3,"div",2),a.Hc(2,A,3,3,"div",2),a.Nb(3,"perun-web-apps-vos-list",9),a.Hc(4,M,4,6,"div",10),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",!e.showDescription),a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(5,N))("vos",e.vos),a.Ab(1),a.kc("ngIf",e.users.length)}}function k(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getSelfData()})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",7),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,I,1,0,"mat-spinner",1),a.Hc(8,y,5,6,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.SELF")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function U(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function C(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.GROUPADMIN_GROUPS")," "))}const P=function(){return["select","menu","expiration","recent"]};function L(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,C,3,3,"div",2),a.Nb(2,"perun-web-apps-groups-list",14),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("groups",e.groups)("hideColumns",a.oc(3,P))}}function w(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getAdminGroupsAndVos()})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",13),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,U,1,0,"mat-spinner",1),a.Hc(8,L,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.GROUPADMIN")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function D(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function H(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.GROUPOBSERVER_GROUPS")," "))}const F=function(){return["select","menu","expiration"]};function V(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,H,3,3,"div",2),a.Nb(2,"perun-web-apps-groups-list",14),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("groups",e.groups)("hideColumns",a.oc(3,F))}}function _(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getGroupsAndVos("GROUPOBSERVER")})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",13),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,D,1,0,"mat-spinner",1),a.Hc(8,V,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.GROUPOBSERVER")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function x(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function G(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.VOADMIN_VOS")," "))}function z(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,G,3,3,"div",2),a.Nb(2,"perun-web-apps-vos-list",9),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,N))("vos",e.vos)}}function B(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getAdminVos()})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",15),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,x,1,0,"mat-spinner",1),a.Hc(8,z,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.VOADMIN")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function J(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function Z(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.VOOBSERVER_VOS")," "))}function Y(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,Z,3,3,"div",2),a.Nb(2,"perun-web-apps-vos-list",9),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,N))("vos",e.vos)}}function K(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){a.xc(e);const t=a.dc(2);return t.getVos(t.roles.get("VOOBSERVER").get("Vo"))})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",15),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,J,1,0,"mat-spinner",1),a.Hc(8,Y,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.VOOBSERVER")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function j(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function Q(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.TRUSTEDFACILITYADMIN_VOS")," "))}function W(e,t){if(1&e&&(a.Sb(0,"div"),a.Sb(1,"div"),a.Hc(2,Q,3,3,"div",2),a.Nb(3,"perun-web-apps-vos-list",9),a.Rb(),a.Rb()),2&e){const e=a.dc(3);a.Ab(2),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,N))("vos",e.vos)}}function X(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){a.xc(e);const t=a.dc(2);return t.getVos(t.roles.get("TRUSTEDFACILITYADMIN").get("Vo"))})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",15),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,j,1,0,"mat-spinner",1),a.Hc(8,W,4,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.TRUSTEDFACILITYADMIN")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function q(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function $(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.TOPGROUPCREATOR_VOS")," "))}function ee(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,$,3,3,"div",2),a.Nb(2,"perun-web-apps-vos-list",9),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,N))("vos",e.vos)}}function te(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){a.xc(e);const t=a.dc(2);return t.getVos(t.roles.get("TOPGROUPCREATOR").get("Vo"))})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",15),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,q,1,0,"mat-spinner",1),a.Hc(8,ee,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.TOPGROUPCREATOR")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function se(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function ie(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.RESOURCEADMIN_RESOURCES")," "))}const ne=function(){return["id","name","vo","facility","description"]};function ae(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,ie,3,3,"div",2),a.Nb(2,"perun-web-apps-resources-list",17),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("resources",e.resources)("routingVo",!0)("displayedColumns",a.oc(4,ne))}}function re(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getResourcesData("RESOURCEADMIN")})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",16),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,se,1,0,"mat-spinner",1),a.Hc(8,ae,3,5,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.RESOURCEADMIN")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function ce(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function oe(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.RESOURCEOBSERVER_RESOURCES")," "))}function be(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,oe,3,3,"div",2),a.Nb(2,"perun-web-apps-resources-list",17),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("resources",e.resources)("routingVo",!0)("displayedColumns",a.oc(4,ne))}}function le(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getResourcesData("RESOURCEOBSERVER")})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",16),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,ce,1,0,"mat-spinner",1),a.Hc(8,be,3,5,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.RESOURCEOBSERVER")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function ue(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function pe(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.RESOURCESELFSERVICE_RESOURCES")," "))}function de(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,pe,3,3,"div",2),a.Nb(2,"perun-web-apps-resources-list",17),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("resources",e.resources)("routingVo",!0)("displayedColumns",a.oc(4,ne))}}function fe(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getResourcesData("RESOURCESELFSERVICE")})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",16),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,ue,1,0,"mat-spinner",1),a.Hc(8,de,3,5,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.RESOURCESELFSERVICE")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function he(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function me(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.FACILITYADMIN_FACILITIES")," "))}const Se=function(){return["id","name","description"]};function ge(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,me,3,3,"div",2),a.Nb(2,"perun-web-apps-facilities-list",19),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,Se))("facilities",e.facilities)}}function Re(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getAdminFacilities()})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",18),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,he,1,0,"mat-spinner",1),a.Hc(8,ge,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.FACILITYADMIN")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function Ie(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function Ee(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.FACILITYOBSERVER_FACILITIES")," "))}function Ae(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,Ee,3,3,"div",2),a.Nb(2,"perun-web-apps-facilities-list",19),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,Se))("facilities",e.facilities)}}function ve(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getFacilities("FACILITYOBSERVER")})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",18),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,Ie,1,0,"mat-spinner",1),a.Hc(8,Ae,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.FACILITYOBSERVER")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function Te(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function Oe(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.SPONSORSHIP_MEMBERS")," "))}const Me=function(){return["checkbox","email","logins","status","groupStatus","organization","type"]};function Ne(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,Oe,3,3,"div",2),a.Nb(2,"perun-web-apps-members-list",20),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("members",e.members)("hideColumns",a.oc(3,Me))}}function ye(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){return a.xc(e),a.dc(2).getMembers()})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",7),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,Te,1,0,"mat-spinner",1),a.Hc(8,Ne,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.SPONSORSHIP")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function ke(e,t){1&e&&a.Nb(0,"mat-spinner",3)}function Ue(e,t){1&e&&(a.Sb(0,"div"),a.Jc(1),a.ec(2,"translate"),a.Rb()),2&e&&(a.Ab(1),a.Lc(" ",a.fc(2,1,"ROLES.SPONSOR_VOS")," "))}function Ce(e,t){if(1&e&&(a.Sb(0,"div"),a.Hc(1,Ue,3,3,"div",2),a.Nb(2,"perun-web-apps-vos-list",9),a.Rb()),2&e){const e=a.dc(3);a.Ab(1),a.kc("ngIf",e.showDescription),a.Ab(1),a.kc("displayedColumns",a.oc(3,N))("vos",e.vos)}}function Pe(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){a.xc(e);const t=a.dc(2);return t.getVos(t.roles.get("SPONSOR").get("Vo"))})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",7),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Hc(7,ke,1,0,"mat-spinner",1),a.Hc(8,Ce,3,4,"div",2),a.Rb()}if(2&e){const e=a.dc(2);a.Ab(5),a.Kc(a.fc(6,3,"ROLES.SPONSOR")),a.Ab(2),a.kc("ngIf",e.loading),a.Ab(1),a.kc("ngIf",!e.loading)}}function Le(e,t){1&e&&(a.Sb(0,"mat-expansion-panel"),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",7),a.Sb(4,"p",8),a.Jc(5),a.ec(6,"translate"),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.Ab(5),a.Kc(a.fc(6,1,"ROLES.PERUN_ADMIN")))}function we(e,t){if(1&e&&(a.Sb(0,"p",22),a.Jc(1),a.Rb()),2&e){const e=t.$implicit;a.Ab(1),a.Mc("",e[0]," ids: ",e[1],"")}}function De(e,t){if(1&e){const e=a.Tb();a.Sb(0,"mat-expansion-panel",6),a.Zb("opened",(function(){a.xc(e);const s=t.$implicit;return a.dc(2).getInnerKeys(s)})),a.Sb(1,"mat-expansion-panel-header"),a.Sb(2,"mat-panel-title"),a.Nb(3,"mat-icon",7),a.Sb(4,"p",8),a.Jc(5),a.Rb(),a.Rb(),a.Rb(),a.Hc(6,we,2,2,"p",21),a.Rb()}if(2&e){const e=t.$implicit,s=a.dc(2);a.Ab(5),a.Kc(e),a.Ab(1),a.kc("ngForOf",s.currentIds)}}function He(e,t){if(1&e&&(a.Sb(0,"mat-accordion"),a.Hc(1,k,9,5,"mat-expansion-panel",4),a.Hc(2,w,9,5,"mat-expansion-panel",4),a.Hc(3,_,9,5,"mat-expansion-panel",4),a.Hc(4,B,9,5,"mat-expansion-panel",4),a.Hc(5,K,9,5,"mat-expansion-panel",4),a.Hc(6,X,9,5,"mat-expansion-panel",4),a.Hc(7,te,9,5,"mat-expansion-panel",4),a.Hc(8,re,9,5,"mat-expansion-panel",4),a.Hc(9,le,9,5,"mat-expansion-panel",4),a.Hc(10,fe,9,5,"mat-expansion-panel",4),a.Hc(11,Re,9,5,"mat-expansion-panel",4),a.Hc(12,ve,9,5,"mat-expansion-panel",4),a.Hc(13,ye,9,5,"mat-expansion-panel",4),a.Hc(14,Pe,9,5,"mat-expansion-panel",4),a.Hc(15,Le,7,3,"mat-expansion-panel",2),a.Hc(16,De,7,2,"mat-expansion-panel",5),a.Rb()),2&e){const e=a.dc();a.Ab(1),a.kc("ngIf",e.isSelf),a.Ab(1),a.kc("ngIf",e.isGroupAdmin),a.Ab(1),a.kc("ngIf",e.isGroupObserver),a.Ab(1),a.kc("ngIf",e.isVoAdmin),a.Ab(1),a.kc("ngIf",e.isVoObserver),a.Ab(1),a.kc("ngIf",e.isTrustedFacilityAdmin),a.Ab(1),a.kc("ngIf",e.isTopGroupCreator),a.Ab(1),a.kc("ngIf",e.isResourceAdmin),a.Ab(1),a.kc("ngIf",e.isResourceObserver),a.Ab(1),a.kc("ngIf",e.isResourceSelfService),a.Ab(1),a.kc("ngIf",e.isFacilityAdmin),a.Ab(1),a.kc("ngIf",e.isFacilityObserver),a.Ab(1),a.kc("ngIf",e.hasSponsorship),a.Ab(1),a.kc("ngIf",e.isSponsor),a.Ab(1),a.kc("ngIf",e.isPerunAdmin),a.Ab(1),a.kc("ngForOf",e.roleNames)}}let Fe=(()=>{class e{constructor(e,t,s,i,n,a,r,c,o){this.authzResolverService=e,this.usersManagerService=t,this.vosManagerService=s,this.facilitiesManagerService=i,this.resourcesManagerService=n,this.membersManagerService=a,this.groupsManagerService=r,this.route=c,this.store=o,this.currentIds=[],this.roles=new Map,this.roleFilter=["SELF","GROUPADMIN","VOADMIN","RESOURCEADMIN","FACILITYADMIN","TOPGROUPCREATOR","SPONSORSHIP","SPONSOR","RESOURCESELFSERVICE","VOOBSERVER","RESOURCEOBSERVER","GROUPOBSERVER","TRUSTEDFACILITYADMIN","FACILITYOBSERVER","PERUNADMIN"],this.roleNames=[],this.groups=[],this.vos=[],this.facilities=[],this.users=[],this.resources=[],this.members=[]}ngOnInit(){this.outerLoading=!0,this.route.parent.params.subscribe(e=>{e.userId?(this.userId=e.userId,this.authzResolverService.getUserRoleNames(this.userId).subscribe(e=>{this.roleNames=e.map(e=>e.toUpperCase()),this.authzResolverService.getUserRoles(this.userId).subscribe(e=>{this.prepareRoles(e)})})):(this.showDescription=!0,this.principal=this.store.getPerunPrincipal(),this.userId=this.principal.userId,this.roleNames=Object.keys(this.principal.roles),this.prepareRoles(this.principal.roles))})}prepareRoles(e){this.roleNames.forEach(t=>{const s=new Map;switch(Object.keys(e[t]).forEach(i=>{s.set(i,e[t][i])}),t){case"SELF":this.isSelf=!0;break;case"GROUPADMIN":this.isGroupAdmin=!0;break;case"VOADMIN":this.isVoAdmin=!0;break;case"RESOURCEADMIN":this.isResourceAdmin=!0;break;case"FACILITYADMIN":this.isFacilityAdmin=!0;break;case"TOPGROUPCREATOR":this.isTopGroupCreator=!0;break;case"SPONSORSHIP":this.hasSponsorship=!0;break;case"SPONSOR":this.isSponsor=!0;break;case"RESOURCESELFSERVICE":this.isResourceSelfService=!0;break;case"VOOBSERVER":this.isVoObserver=!0;break;case"RESOURCEOBSERVER":this.isResourceObserver=!0;break;case"GROUPOBSERVER":this.isGroupObserver=!0;break;case"TRUSTEDFACILITYADMIN":this.isTrustedFacilityAdmin=!0;break;case"FACILITYOBSERVER":this.isFacilityObserver=!0;break;case"PERUNADMIN":this.isPerunAdmin=!0}this.roles.set(t,s)}),this.roleNames=this.roleNames.filter(e=>!this.roleFilter.includes(e)),this.outerLoading=!1}getAdminGroupsAndVos(){this.loading=!0,this.groups=[],this.usersManagerService.getGroupsWhereUserIsAdmin(this.userId).subscribe(e=>{this.groups=e;const t=[...new Set(this.groups.map(e=>e.voId))];this.getVos(t)})}getVos(e){this.loading=!0,this.vos=[],this.vosManagerService.getVosByIds(e).subscribe(e=>{this.vos=e,this.loading=!1})}getInnerKeys(e){if(this.roles.get(e)){const t=this.roles.get(e).entries(),s=[];let i=t.next().value;for(;i;)s.push(i),i=t.next().value;this.currentIds=s}else this.currentIds=[]}getAdminVos(){this.loading=!0,this.vos=[],this.usersManagerService.getVosWhereUserIsAdmin(this.userId).subscribe(e=>{this.vos=e,this.loading=!1})}getAdminFacilities(){this.loading=!0,this.facilities=[],this.facilitiesManagerService.getFacilitiesWhereUserIsAdmin(this.userId).subscribe(e=>{this.facilities=e.map(e=>({facility:e})),this.loading=!1})}getSelfData(){this.loading=!0,this.vos=[],this.users=[],this.usersManagerService.getVosWhereUserIsMember(this.userId).subscribe(e=>{this.vos=e;const t=this.roles.get("SELF").get("User");t?this.usersManagerService.getUsersByIds(t).subscribe(e=>{this.users=e,this.loading=!1}):this.loading=!1})}getResourcesData(e){this.loading=!0;const t=this.roles.get(e).get("Resource");this.vos=[],this.facilities=[],this.resources=[],this.resourcesManagerService.getRichResourcesByIds(t).subscribe(e=>{this.resources=e,this.vos=this.resources.map(e=>e.vo).filter((e,t,s)=>s.indexOf(e)===t),this.facilities=this.resources.map(e=>({facility:e.facility})).filter((e,t,s)=>s.indexOf(e)===t),this.loading=!1})}getMembers(){this.loading=!0;const e=this.roles.get("SPONSORSHIP").get("Member");this.members=[],this.membersManagerService.getRichMembersByIds(e).subscribe(e=>{this.members=e,this.loading=!1})}getGroupsAndVos(e){this.loading=!0;const t=this.roles.get(e).get("Vo"),s=this.roles.get(e).get("Group");this.vos=[],this.groups=[],this.groupsManagerService.getGroupsByIds(s).subscribe(e=>{this.groups=e,this.vosManagerService.getVosByIds(t).subscribe(e=>{this.vos=e,this.loading=!1})})}getFacilities(e){this.loading=!0,this.facilities=[];const t=this.roles.get(e).get("Facility");this.facilitiesManagerService.getFacilitiesByIds(t).subscribe(e=>{this.facilities=e.map(e=>({facility:e})),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.d),a.Mb(i.q),a.Mb(i.r),a.Mb(i.g),a.Mb(i.m),a.Mb(i.i),a.Mb(i.h),a.Mb(r.a),a.Mb(n.m))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-user-roles"]],hostVars:2,hostBindings:function(e,t){2&e&&a.Eb("router-component",!0)},decls:5,vars:5,consts:[[1,"page-subtitle","d-flex"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"opened",4,"ngIf"],[3,"opened",4,"ngFor","ngForOf"],[3,"opened"],["mat-card-avatar","","svgIcon","perun-user-dark",1,"mr-2"],[1,"mt-auto","mb-auto"],[3,"displayedColumns","vos"],["class","mt-5",4,"ngIf"],[1,"mt-5"],[3,"users","disableRouting","displayedColumns"],["mat-card-avatar","","svgIcon","perun-group-black",1,"mr-2"],[3,"groups","hideColumns"],["mat-card-avatar","","svgIcon","perun-vo-black",1,"mr-2"],["mat-card-avatar","","svgIcon","perun-resource-black",1,"mr-2"],[3,"resources","routingVo","displayedColumns"],["mat-card-avatar","","svgIcon","perun-facility-black",1,"mr-2"],[3,"displayedColumns","facilities"],[3,"members","hideColumns"],["class","role-content",4,"ngFor","ngForOf"],[1,"role-content"]],template:function(e,t){1&e&&(a.Sb(0,"h1",0),a.Jc(1),a.ec(2,"translate"),a.Rb(),a.Hc(3,R,1,0,"mat-spinner",1),a.Hc(4,He,17,16,"mat-accordion",2)),2&e&&(a.Ab(1),a.Kc(a.fc(2,3,"ROLES.TITLE")),a.Ab(2),a.kc("ngIf",t.outerLoading),a.Ab(1),a.kc("ngIf",!t.outerLoading))},directives:[c.t,o.c,b.a,c.s,b.c,b.g,b.h,l.a,u.c,p.a,d.a,f.a,h.a,m.a,S.a],pipes:[g.d],styles:[".role-content[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.info-icon[_ngcontent-%COMP%]{vertical-align:middle;transform:scale(.8)}"]}),e})()},zrcO:function(e,t,s){"use strict";s.r(t),s.d(t,"UsersModule",(function(){return pe}));var i=s("2kYt"),n=s("sEIs"),a=s("S5du"),r=s("BAI5"),c=s("faZ6"),o=s("m1kt"),b=s("Q/gj"),l=s("ECIY"),u=s("HHEo"),p=s("8clQ"),d=s("iyZ4"),f=s("EM62"),h=s("29Wa"),m=s("R7+U"),S=s("mFH5"),g=s("s2Ay");function R(e,t){if(1&e&&(f.Sb(0,"mat-option",5),f.Jc(1),f.Rb()),2&e){const e=t.$implicit;f.kc("value",e),f.Ab(1),f.Lc(" ",e," ")}}let I=(()=>{class e{constructor(e){this.guiConfigService=e,this.tablePageSizeOptions=p.a}ngOnInit(){this.preferredTablePageSize=this.guiConfigService.getNumber(d.c)}updatePreferredTablePageSize(){this.guiConfigService.setNumber(d.c,this.preferredTablePageSize)}}return e.\u0275fac=function(t){return new(t||e)(f.Mb(d.b))},e.\u0275cmp=f.Gb({type:e,selectors:[["app-user-settings-app-configuration"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[1,"col-12","col-lg-6","p-0"],[1,"w-100"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(f.Sb(0,"h1",0),f.Jc(1),f.ec(2,"translate"),f.Rb(),f.Sb(3,"div",1),f.Sb(4,"mat-form-field",2),f.Sb(5,"mat-label"),f.Jc(6),f.ec(7,"translate"),f.Rb(),f.Sb(8,"mat-select",3),f.Zb("valueChange",(function(e){return t.preferredTablePageSize=e}))("valueChange",(function(){return t.updatePreferredTablePageSize()})),f.Hc(9,R,2,2,"mat-option",4),f.Rb(),f.Rb(),f.Rb()),2&e&&(f.Ab(1),f.Kc(f.fc(2,4,"USER_DETAIL.SETTINGS.GUI_CONFIG.TITLE")),f.Ab(5),f.Kc(f.fc(7,6,"USER_DETAIL.SETTINGS.GUI_CONFIG.PREF_TABLE_PAGE_SIZE")),f.Ab(2),f.kc("value",t.preferredTablePageSize),f.Ab(1),f.kc("ngForOf",t.tablePageSizeOptions))},directives:[h.c,h.g,m.a,i.s,S.n],pipes:[g.d],styles:[""]}),e})();var E=s("QOlj"),A=s("4sdY"),v=s("Ssnw"),T=s("EtYo"),O=s("bFHC"),M=s("Y2X+"),N=s("ma6z"),y=s("j+u3");const k=function(){return{color:"black"}},U=function(){return["/myProfile"]};function C(e,t){if(1&e&&(f.Sb(0,"div",1),f.Nb(1,"perun-web-apps-back-button"),f.Sb(2,"div",2),f.Nb(3,"mat-icon",3),f.ec(4,"translate"),f.Sb(5,"div",4),f.Sb(6,"div",5),f.Sb(7,"a",6),f.Jc(8),f.ec(9,"userFullName"),f.Rb(),f.Sb(10,"span",7),f.Jc(11),f.Rb(),f.Rb(),f.Sb(12,"span",8),f.Jc(13),f.ec(14,"translate"),f.ec(15,"translate"),f.Rb(),f.Rb(),f.Rb(),f.Nb(16,"app-animated-router-outlet"),f.Rb()),2&e){const e=f.dc();f.Ab(3),f.lc("matTooltip",f.fc(4,8,"MENU_ITEMS.USER.ENTITY")),f.kc("ngStyle",f.oc(16,k)),f.Ab(4),f.kc("routerLink",f.oc(17,U)),f.Ab(1),f.Lc(" ",f.fc(9,10,e.user)," "),f.Ab(3),f.Lc(" \xa0#",e.user.id," "),f.Ab(2),f.Nc(" ",f.fc(14,12,"MENU_ITEMS.USER.ENTITY"),", ",f.fc(15,14,"MENU_ITEMS.USER.USER_TYPE"),": ",e.getUserType()," ")}}let P=(()=>{class e{constructor(e,t,s){this.sideMenuService=e,this.store=t,this.router=s}ngOnInit(){this.path=this.router.url,this.router.events.subscribe(e=>{this.path=this.router.url}),this.principal=this.store.getPerunPrincipal(),this.user=this.principal.user,this.sideMenuService.setUserItems([])}getUserType(){return this.user.serviceUser?"Service":"Person"}}return e.\u0275fac=function(t){return new(t||e)(f.Mb(A.a),f.Mb(v.m),f.Mb(n.f))},e.\u0275cmp=f.Gb({type:e,selectors:[["app-user-profile"]],decls:1,vars:1,consts:[["class","container-fluid pl-xl-5 pr-xl-5 user-theme",4,"ngIf"],[1,"container-fluid","pl-xl-5","pr-xl-5","user-theme"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-user-dark",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],[1,"user-link",3,"routerLink"],[1,"text-muted"],[1,"mt-1","entity-info"]],template:function(e,t){1&e&&f.Hc(0,C,17,18,"div",0),2&e&&f.kc("ngIf",void 0!==t.user)},directives:[i.t,T.a,O.a,M.a,i.w,n.i,N.a],pipes:[g.d,y.a],styles:[""]}),e})();var L=s("oXY0");const w=[{path:"",component:P,children:[{path:"",component:E.a,data:{animation:"UserOverviewPage"}},{path:"attributes",component:b.a,data:{animation:"UserAttributesPage"}},{path:"organizations",component:a.a,data:{animation:"UserOrganizationsPage",showPrincipal:!0}},{path:"groups",component:r.a,data:{animation:"UserGroupsPage",showPrincipal:!0}},{path:"roles",component:L.a,data:{animation:"UserRolesPage"}},{path:"settings",component:c.a,children:[{path:"",component:o.a,data:{animation:"UserSettingsOverviewPage"}},{path:"facilityAttributes",component:l.a,data:{animation:"UserSettingsFacilityAttributesPage",showPrincipal:!0}},{path:"passwordReset",component:u.c,data:{animation:"PasswordResetPage"}},{path:"guiConfig",component:I,data:{animation:"UserAppConfigurationPage"}}]}]}];let D=(()=>{class e{}return e.\u0275mod=f.Kb({type:e}),e.\u0275inj=f.Jb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(w)],n.j]}),e})();var H=s("ulve"),F=s("Cd2c"),V=s("nIj0"),_=s("lQ7A"),x=s("3Uyd"),G=s("PBFl"),z=s("cePI"),B=s("FlRo"),J=s("KZIX"),Z=s("QcI7"),Y=s("+Tre"),K=s("OZ4H"),j=s("W1gw"),Q=s("csyo"),W=s("66mq"),X=s("k8N0"),q=s("gcUQ"),$=s("F1o0"),ee=s("zmEM"),te=s("iAde"),se=s("Meci"),ie=s("x9Az"),ne=s("oqI+"),ae=s("S17y"),re=s("Jb3d"),ce=s("qvOF"),oe=s("KoHB"),be=s("f3iV"),le=s("t47Z"),ue=s("PCNd");let pe=(()=>{class e{constructor(e){this.translate=e,e.addLangs(["en","cs"])}}return e.\u0275mod=f.Kb({type:e}),e.\u0275inj=f.Jb({factory:function(t){return new(t||e)(f.Wb(g.e))},imports:[[i.c,D,H.b,F.c,h.e,V.B,V.l,O.b,_.g,x.b,g.c.forChild({}),G.c,z.c,B.p,J.g,Z.e,G.c,Y.b,K.h,m.b,j.b,Q.b,W.b,M.b,X.b,q.g,S.l,$.c,ee.b,S.t,te.b,se.j,ie.g,ne.g,se.j,ae.g,re.c,ce.g,oe.a,be.b,u.d,d.a,le.b,ue.a]]}),e})()}}]);