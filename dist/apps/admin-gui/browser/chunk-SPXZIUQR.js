import{$f as T,$i as Ct,Aa as w,Ac as Ve,Af as Xe,Ag as le,Ba as b,Bb as Le,Bf as Ze,Bg as pe,Ca as Q,Ce as Qe,Cf as et,Ci as gt,Da as Te,Dc as ke,Di as _t,Fa as ie,Fi as vt,Gb as D,Hc as Pe,Hg as P,Ia as re,Ih as lt,Ja as B,K as R,Kc as Fe,Kg as ot,Lg as st,Ma as h,Mb as Oe,Mh as pt,Na as g,Ng as ue,O as E,Oc as je,Od as He,P as I,Pa as Ae,Qa as U,Qi as St,Rb as G,Ri as bt,Sh as ut,Si as Rt,Tb as Be,Ti as Et,Uf as ne,Ug as nt,Uh as mt,Ui as It,Va as xe,Vb as y,Vh as fe,Wa as x,Wb as oe,Wc as $e,Xa as De,Xc as We,Xg as at,Y as n,Z as c,Zc as se,Zg as F,_e as X,ad as ee,ae as Ye,ag as ae,ba as ye,bc as N,c as Ie,ca as _,da as Re,fa as a,fd as ze,fg as tt,fh as me,fj as yt,ga as H,gc as Ue,ge as qe,gj as Tt,hg as k,id as M,ja as l,ka as p,kg as it,la as S,lg as rt,mi as dt,ne as Ke,oa as C,ob as L,oi as ft,pa as v,ph as j,qa as d,qc as V,qg as ce,rb as Me,sb as we,sh as ct,ta as J,ug as Ee,vh as de,vi as ht,xc as Y,ya as O,yc as Ne,z as Ce,za as f,zb as Ge,zf as Je}from"./chunk-NLN5OKUI.js";var At=(e=class{})=>class extends e{constructor(){super(...arguments),this.destroyed$=new Ie}ngOnDestroy(){this.destroyed$.next()}};function kt(e,s){e&1&&S(0,"mat-spinner",3)}function Pt(e,s){if(e&1){let o=C();l(0,"button",14),v("click",function(){E(o);let i=d(2);return I(i.editResource())}),h(1,"translate"),l(2,"mat-icon"),f(3,"edit"),p()()}e&2&&J("matTooltip",g(1,1,"RESOURCE_DETAIL.EDIT"))}function Ft(e,s){if(e&1){let o=C();l(0,"button",15),v("click",function(){E(o);let i=d(2);return I(i.deleteResource())}),h(1,"translate"),l(2,"mat-icon"),f(3,"delete_forever"),p()()}e&2&&J("matTooltip",g(1,1,"RESOURCE_DETAIL.DELETE"))}var xt=e=>["/organizations",e];function jt(e,s){if(e&1&&(l(0,"a",8),v("auxclick",function(t){return t.preventDefault()}),f(1),p()),e&2){let o=d(2);a("perunWebAppsMiddleClickRouterLink",B(4,xt,o.resource.vo.id.toString()))("routerLink",B(6,xt,o.resource.vo.id)),Re("data-cy",o.resource.vo.name),n(),w(o.resource.vo.name)}}function $t(e,s){if(e&1&&(l(0,"span"),f(1),p()),e&2){let o=d(2);n(),b(" ",o.resource.vo.name," ")}}var Dt=e=>["/facilities",e];function Wt(e,s){if(e&1&&(l(0,"a",8),v("auxclick",function(t){return t.preventDefault()}),f(1),p()),e&2){let o=d(2);a("perunWebAppsMiddleClickRouterLink",B(4,Dt,o.resource.facilityId.toString()))("routerLink",B(6,Dt,o.resource.facilityId)),Re("data-cy",o.resource.facility.name),n(),w(o.resource.facility.name)}}function zt(e,s){if(e&1&&(l(0,"span"),f(1),p()),e&2){let o=d(2);n(),b(" ",o.resource.facility.name," ")}}var Ht=()=>({color:"black"}),Mt=e=>[e];function Yt(e,s){if(e&1&&(l(0,"div")(1,"div",4),S(2,"mat-icon",5),h(3,"translate"),l(4,"div",6)(5,"div",7)(6,"a",8),v("auxclick",function(t){return t.preventDefault()}),f(7),p(),l(8,"span",9),f(9),p(),_(10,Pt,4,3,"button",10)(11,Ft,4,3,"button",11),p(),l(12,"div"),f(13),h(14,"translate"),p(),l(15,"span",12),f(16),h(17,"translate"),h(18,"translate"),_(19,jt,2,8,"a",13)(20,$t,2,1,"span",2),f(21),h(22,"translate"),_(23,Wt,2,8,"a",13)(24,zt,2,1,"span",2),f(25),h(26,"translate"),p()()(),S(27,"app-animated-router-outlet"),p()),e&2){let o=d();n(2),J("matTooltip",g(3,21,"RESOURCE_DETAIL.ENTITY")),a("ngStyle",re(33,Ht)),n(4),a("perunWebAppsMiddleClickRouterLink",B(34,Mt,o.baseUrl))("routerLink",B(36,Mt,o.baseUrl)),n(),b(" ",o.resource.name," "),n(2),b(" \xA0#",o.resource.id," "),n(),a("ngIf",o.editResourceAuth),n(),a("ngIf",o.deleteAuth),n(2),Q("",g(14,23,"RESOURCE_DETAIL.UUID"),": ",o.resource.uuid,""),n(3),Q(" ",g(17,25,"RESOURCE_DETAIL.ENTITY"),", ",g(18,27,"RESOURCE_DETAIL.VO"),": "),n(3),a("ngIf",o.voLinkAuth),n(),a("ngIf",!o.voLinkAuth),n(),Q(" #",o.resource.voId,", ",g(22,29,"RESOURCE_DETAIL.FACILITY"),": "),n(2),a("ngIf",o.facilityLinkAuth),n(),a("ngIf",!o.facilityLinkAuth),n(),Te(" #",o.resource.facilityId,", ",g(26,31,"RESOURCE_DETAIL.DESCRIPTION"),": ",o.resource.description," ")}}var sr=(()=>{let s=class s extends At(){constructor(t,i,r,u,m,A,z,Lt,Ot,Bt,Ut){super(),this.route=t,this.facilityManager=i,this.vosManagerService=r,this.resourcesManager=u,this.sideMenuService=m,this.sideMenuItemService=A,this.dialog=z,this.guiAuthResolver=Lt,this.router=Ot,this.entityStorageService=Bt,this.reloadEntityDetail=Ut,this.underVoUrl=!1,this.deleteAuth=!1,this.baseUrl="",this.loading=!1}ngOnInit(){this.reloadData(),this.reloadEntityDetail.entityDetailChange.pipe(Ce(this.destroyed$)).subscribe(()=>{this.reloadData()})}reloadData(){this.loading=!0,this.route.params.subscribe(t=>{let i=Number(t.resourceId);this.resourcesManager.getRichResourceById(i).subscribe(r=>{this.resource=r,this.entityStorageService.setEntity({id:r.id,voId:r.voId,facilityId:r.facilityId,beanName:"Resource"}),this.setAuth(),this.route.parent.snapshot.url[0].path==="facilities"?(this.baseUrl=new Ee().transform(r,!1),this.facilityManager.getFacilityById(r.facilityId).subscribe(u=>{this.facility=u,this.setMenuItems(),this.loading=!1},()=>this.loading=!1)):(this.baseUrl=new Ee().transform(r,!0),this.vosManagerService.getVoById(r.voId).subscribe(u=>{this.vo=u,this.underVoUrl=!0,this.setMenuItems(),this.loading=!1},()=>this.loading=!1)),ze("resources",this.resource)})})}setMenuItems(){let t,i=this.sideMenuItemService.parseResource(this.resource,this.underVoUrl);this.underVoUrl?(t=this.sideMenuItemService.parseVo(this.vo),this.sideMenuService.setAccessMenuItems([t,i])):(t=this.sideMenuItemService.parseFacility(this.facility),this.sideMenuService.setFacilityMenuItems([t,i]))}editResource(){let t;this.resourcesManager.getResourceById(this.resource.id).subscribe(i=>{t=i;let r=M();r.width="450px",r.data={theme:"resource-theme",resource:t,dialogType:it.RESOURCE},this.dialog.open(rt,r).afterClosed().subscribe(m=>{m&&this.resourcesManager.getRichResourceById(this.resource.id).subscribe(A=>{this.resource=A,this.setMenuItems()})})})}deleteResource(){let t=M();t.width="500px",t.data={theme:"resource-theme",resources:[this.resource]},this.dialog.open(gt,t).afterClosed().subscribe(r=>{r&&this.router.navigate(["../"],{relativeTo:this.route,queryParamsHandling:"preserve"})})}setAuth(){this.facilityLinkAuth=this.guiAuthResolver.isAuthorized("getFacilityById_int_policy",[this.resource]),this.editResourceAuth=this.guiAuthResolver.isAuthorized("updateResource_Resource_policy",[this.resource]),this.voLinkAuth=this.guiAuthResolver.isAuthorized("getVoById_int_policy",[this.resource]),this.deleteAuth=this.guiAuthResolver.isAuthorized("deleteResource_Resource_policy",[this.resource])}};s.\u0275fac=function(i){return new(i||s)(c(L),c(Le),c(Oe),c(D),c(tt),c(ut),c(V),c(y),c(Me),c(T),c(mt))},s.\u0275cmp=R({type:s,selectors:[["app-resource-detail-page"]],features:[ye],decls:4,vars:2,consts:[[1,"container-fluid","ps-xl-5","pe-xl-5","resource-theme"],["class","me-auto ms-auto",4,"ngIf"],[4,"ngIf"],[1,"me-auto","ms-auto"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-resource-black",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],[1,"resource-link",3,"perunWebAppsMiddleClickRouterLink","routerLink","auxclick"],[1,"text-muted"],["aria-label","Edit resource","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],[1,"mt-1","entity-info"],["class","resource-link",3,"perunWebAppsMiddleClickRouterLink","routerLink","auxclick",4,"ngIf"],["aria-label","Edit resource","mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",3,"matTooltip","click"]],template:function(i,r){i&1&&(l(0,"div",0),S(1,"perun-web-apps-back-button"),_(2,kt,1,0,"mat-spinner",1)(3,Yt,28,38,"div",2),p()),i&2&&(n(2),a("ngIf",r.loading),n(),a("ngIf",!r.loading&&r.resource!==void 0))},dependencies:[x,De,we,Qe,Ne,X,se,fe,at,ot,st,G],styles:[".break-line[_ngcontent-%COMP%]{display:inline-block}"],data:{animation:[de]}});let e=s;return e})();function Kt(e,s){e&1&&S(0,"mat-spinner",2)}function Qt(e,s){if(e&1&&(l(0,"div"),S(1,"perun-web-apps-menu-buttons-field",3)(2,"perun-web-apps-expandable-tiles",4),p()),e&2){let o=d();n(),a("items",o.items),n(),a("items",o.settingsItems)("title","MENU_ITEMS.RESOURCE.SETTINGS")("sectionId","settings")}}var fr=(()=>{let s=class s{constructor(t,i,r,u,m){this.resourcesManager=t,this.route=i,this.guiAuthResolver=r,this.entityStorageService=u,this.routePolicyService=m,this.items=[],this.settingsItems=[],this.loading=!1}ngOnInit(){this.loading=!0,this.resource=this.entityStorageService.getEntity();let t=this.route.parent.parent.snapshot.url[0].path==="facilities";this.setItems(t),this.setSettingsItems(t),this.loading=!1}setItems(t){let i=t?`/organizations/${this.resource.voId}`:`/facilities/${this.resource.facilityId}`;this.items=[],this.routePolicyService.canNavigate("resources-groups",this.resource)&&this.items.push({cssIcon:"perun-group",url:`${i}/resources/${this.resource.id}/groups`,label:"MENU_ITEMS.RESOURCE.ASSIGNED_GROUPS",style:"resource-btn"}),this.routePolicyService.canNavigate("resources-services",this.resource)&&this.items.push({cssIcon:"perun-service",url:`${i}/resources/${this.resource.id}/services`,label:"MENU_ITEMS.RESOURCE.ASSIGNED_SERVICES",style:"resource-btn"}),this.routePolicyService.canNavigate("resources-members",this.resource)&&this.items.push({cssIcon:"perun-user",url:`${i}/resources/${this.resource.id}/members`,label:"MENU_ITEMS.RESOURCE.ASSIGNED_MEMBERS",style:"resource-btn"}),this.routePolicyService.canNavigate("resources-tags",this.resource)&&this.items.push({cssIcon:"perun-resource-tags",url:`${i}/resources/${this.resource.id}/tags`,label:"MENU_ITEMS.RESOURCE.RESOURCE_TAGS",style:"resource-btn"}),this.routePolicyService.canNavigate("resources-attributes",this.resource)&&this.items.push({cssIcon:"perun-attributes",url:`${i}/resources/${this.resource.id}/attributes`,label:"MENU_ITEMS.RESOURCE.ATTRIBUTES",style:"resource-btn"})}setSettingsItems(t){this.settingsItems=[],this.routePolicyService.canNavigate("resources-settings-managers",this.resource)&&this.settingsItems.push({cssIcon:"perun-manager",url:`${t?`/organizations/${this.resource.voId}`:`/facilities/${this.resource.facilityId}`}/resources/${this.resource.id}/settings/managers`,label:"MENU_ITEMS.RESOURCE.MANAGERS",style:"resource-btn"}),this.routePolicyService.canNavigate("resources-settings-bans",this.resource)&&this.settingsItems.push({cssIcon:"perun-ban",url:`${t?`/organizations/${this.resource.voId}`:`/facilities/${this.resource.facilityId}`}/resources/${this.resource.id}/settings/bans`,label:"MENU_ITEMS.RESOURCE.BANS",style:"resource-btn"})}};s.\u0275fac=function(i){return new(i||s)(c(D),c(L),c(y),c(T),c(ae))},s.\u0275cmp=R({type:s,selectors:[["app-resource-overview"]],hostVars:2,hostBindings:function(i,r){i&2&&H("router-component",r.true)},decls:2,vars:2,consts:[["class","me-auto ms-auto",4,"ngIf"],[4,"ngIf"],[1,"me-auto","ms-auto"],[3,"items"],[3,"items","title","sectionId"]],template:function(i,r){i&1&&_(0,Kt,1,0,"mat-spinner",0)(1,Qt,3,4,"div",1),i&2&&(a("ngIf",r.loading),n(),a("ngIf",!r.loading))},dependencies:[x,X,me,pt]});let e=s;return e})();function Jt(e,s){if(e&1){let o=C();l(0,"button",9),v("click",function(){E(o);let i=d();return I(i.addGroup())}),f(1),h(2,"translate"),p()}e&2&&(n(),b(" ",g(2,1,"RESOURCE_DETAIL.ASSIGNED_GROUPS.ADD_GROUP"),`
`))}function Xt(e,s){e&1&&S(0,"perun-web-apps-loading-table")}var Gt=e=>[e],Zt=()=>["select","id","indirectGroupAssigment","name","status","description"];function ei(e,s){if(e&1){let o=C();l(0,"perun-web-apps-groups-list",10),v("refreshTable",function(){E(o);let i=d();return I(i.loadAllGroups())}),p()}if(e&2){let o=d();a("loading",o.loading)("disableGroups",!0)("groupsToDisableCheckbox",o.groupsToDisable)("disableMembers",!1)("groups",o.assignedGroups)("disableRouting",o.assignedGroups[0]?!o.guiAuthResolver.isAuthorized("getGroupById_int_policy",B(11,Gt,o.assignedGroups[0])):!1)("displayedColumns",re(13,Zt))("filter",o.filteredValue)("resourceId",o.resource.id)("selection",o.selected)("tableId",o.tableId)}}var xr=(()=>{let s=class s{constructor(t,i,r,u,m){this.route=t,this.resourcesManager=i,this.dialog=r,this.guiAuthResolver=u,this.entityStorageService=m,this.assignedGroups=[],this.selected=new N(!0,[]),this.filteredValue="",this.tableId=He}ngOnInit(){this.loading=!0,this.resource=this.entityStorageService.getEntity(),this.loadAllGroups()}loadAllGroups(){this.loading=!0,this.resourcesManager.getGroupAssignments(this.resource.id,[ee.GROUP_SYNC_ENABLED]).subscribe(t=>{this.assignedGroups=t.map(m=>{let A=m.enrichedGroup.group;return A.status=m.status,A.failureCause=m.failureCause,A.sourceGroupId=m.sourceGroupId,A});let i=this.assignedGroups.map(m=>m.id),r=this.assignedGroups.filter((m,A)=>i.indexOf(m.id)===A),u=this.assignedGroups.filter((m,A)=>{let z=i.indexOf(m.id);return z!==A&&(m.sourceGroupId===null||this.assignedGroups[z].sourceGroupId===null)}).map(m=>m.id);r.forEach(m=>{u.includes(m.id)&&(m.moreTypesOfAssignment=!0)}),this.assignedGroups=r,this.groupsToDisable=new Set(this.assignedGroups.filter(m=>!!m.sourceGroupId&&!m.moreTypesOfAssignment).map(m=>m.id)),this.selected.clear(),this.loading=!1})}addGroup(){let t=M();t.width="1000px",t.data={theme:"resource-theme",resource:this.resource,onlyAutoAssignedGroups:this.assignedGroups.filter(r=>this.groupsToDisable.has(r.id))},this.dialog.open(bt,t).afterClosed().subscribe(r=>{r&&this.loadAllGroups()})}removeGroups(){let t=M();t.width="500px",t.data={resourceId:this.resource.id,groups:this.selected.selected,theme:"resource-theme"},this.dialog.open(St,t).afterClosed().subscribe(r=>{r&&this.loadAllGroups()})}canRemoveGroups(){let t=!0;return this.selected.selected.forEach(i=>{this.guiAuthResolver.isAuthorized("removeGroupsFromResource_List<Group>_Resource_policy",[this.resource,i])||(t=!1)}),t}applyFilter(t){this.filteredValue=t}};s.\u0275fac=function(i){return new(i||s)(c(L),c(D),c(V),c(y),c(T))},s.\u0275cmp=R({type:s,selectors:[["app-perun-web-apps-resource-groups"]],decls:15,vars:17,consts:[[1,"page-subtitle"],[3,"refresh"],["class","action-button","color","accent","mat-flat-button","","data-cy","add-group-button",3,"click",4,"ngIf"],["color","warn","mat-flat-button","","data-cy","remove-group-button",1,"ms-2","me-2",3,"disabled","click"],[3,"matTooltipDisabled","matTooltip"],[3,"placeholder","filter"],["spinner",""],[1,"position-relative","table-min-height"],[3,"loading","disableGroups","groupsToDisableCheckbox","disableMembers","groups","disableRouting","displayedColumns","filter","resourceId","selection","tableId","refreshTable",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["color","accent","mat-flat-button","","data-cy","add-group-button",1,"action-button",3,"click"],[3,"loading","disableGroups","groupsToDisableCheckbox","disableMembers","groups","disableRouting","displayedColumns","filter","resourceId","selection","tableId","refreshTable"]],template:function(i,r){if(i&1&&(l(0,"h1",0),f(1),h(2,"translate"),p(),l(3,"perun-web-apps-refresh-button",1),v("refresh",function(){return r.loadAllGroups()}),p(),_(4,Jt,3,3,"button",2),l(5,"button",3),v("click",function(){return r.removeGroups()}),l(6,"span",4),h(7,"translate"),f(8),h(9,"translate"),p()(),l(10,"perun-web-apps-debounce-filter",5),v("filter",function(m){return r.applyFilter(m)}),p(),_(11,Xt,1,0,"ng-template",null,6,U),l(13,"div",7),_(14,ei,1,14,"perun-web-apps-groups-list",8),p()),i&2){let u=O(12);n(),w(g(2,9,"RESOURCE_DETAIL.ASSIGNED_GROUPS.TITLE")),n(3),a("ngIf",r.guiAuthResolver.isAuthorized("getAllGroups_Vo_policy",B(15,Gt,r.resource))),n(),a("disabled",r.selected.selected.length===0||!r.canRemoveGroups()),n(),J("matTooltip",g(7,11,"RESOURCE_DETAIL.ASSIGNED_GROUPS.REMOVE_TOOLTIP")),a("matTooltipDisabled",r.canRemoveGroups()),n(2),b(" ",g(9,13,"RESOURCE_DETAIL.ASSIGNED_GROUPS.REMOVE_GROUP")," "),n(2),a("placeholder","RESOURCE_DETAIL.ASSIGNED_GROUPS.FILTER_GROUPS"),n(4),a("perunWebAppsLoader",r.loading)("perunWebAppsLoaderIndicator",u)}},dependencies:[x,Y,se,P,nt,F,j,k,G]});let e=s;return e})();var wr=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=R({type:s,selectors:[["app-resource-settings"]],hostVars:2,hostBindings:function(i,r){i&2&&H("router-component",r.true)},decls:1,vars:0,template:function(i,r){i&1&&S(0,"app-animated-router-outlet")},dependencies:[fe],data:{animation:[de]}});let e=s;return e})();function ti(e,s){e&1&&S(0,"mat-spinner",2)}function ii(e,s){if(e&1&&(l(0,"div"),S(1,"perun-web-apps-menu-buttons-field",3),p()),e&2){let o=d();n(),a("items",o.items)}}var kr=(()=>{let s=class s{constructor(t,i,r,u,m){this.route=t,this.resourceManager=i,this.authResolver=r,this.entityStorageService=u,this.routePolicyService=m,this.items=[],this.loading=!1}ngOnInit(){this.loading=!0,this.resource=this.entityStorageService.getEntity(),this.route.parent.parent.parent.snapshot.url[0].path==="facilities"?this.initItems(!1):this.initItems(!0),this.loading=!1}initItems(t){this.items=[],this.routePolicyService.canNavigate("resources-settings-managers",this.resource)&&this.items.push({cssIcon:"perun-manager",url:`${t?`/organizations/${this.resource.voId}`:`/facilities/${this.resource.facilityId}`}/resources/${this.resource.id}/settings/managers`,label:"MENU_ITEMS.RESOURCE.MANAGERS",style:"resource-btn"}),this.routePolicyService.canNavigate("resources-settings-bans",this.resource)&&this.items.push({cssIcon:"perun-ban",url:`${t?`/organizations/${this.resource.voId}`:`/facilities/${this.resource.facilityId}`}/resources/${this.resource.id}/settings/bans`,label:"MENU_ITEMS.RESOURCE.BANS",style:"resource-btn"})}};s.\u0275fac=function(i){return new(i||s)(c(L),c(D),c(y),c(T),c(ae))},s.\u0275cmp=R({type:s,selectors:[["app-resource-settings-overview"]],hostVars:2,hostBindings:function(i,r){i&2&&H("router-component",r.true)},decls:2,vars:2,consts:[["class","me-auto ms-auto",4,"ngIf"],[4,"ngIf"],[1,"me-auto","ms-auto"],[3,"items"]],template:function(i,r){i&1&&_(0,ti,1,0,"mat-spinner",0)(1,ii,2,1,"div",1),i&2&&(a("ngIf",r.loading),n(),a("ngIf",!r.loading))},dependencies:[x,X,me]});let e=s;return e})();function ri(e,s){e&1&&(f(0),h(1,"translate")),e&2&&b(" ",g(1,1,"RESOURCE_DETAIL.ENTITY")," ")}function oi(e,s){if(e&1&&S(0,"app-one-entity-attribute-page",5),e&2){let o=d();a("entityId",o.resource.id)("entity","resource")}}function si(e,s){e&1&&(f(0),h(1,"translate"),h(2,"translate")),e&2&&Q(" ",g(1,2,"RESOURCE_DETAIL.ENTITY")," - ",g(2,4,"MEMBER_DETAIL.ENTITY")," ")}function ni(e,s){if(e&1&&S(0,"app-two-entity-attribute-page",6),e&2){let o=d(2);a("firstEntity","resource")("firstEntityId",o.resource.id)("secondEntity","member")}}function ai(e,s){e&1&&(l(0,"mat-tab"),_(1,si,3,6,"ng-template",2)(2,ni,1,3,"ng-template",3),p())}function ci(e,s){e&1&&(f(0),h(1,"translate"),h(2,"translate")),e&2&&Q(" ",g(1,2,"RESOURCE_DETAIL.ENTITY")," - ",g(2,4,"GROUP_DETAIL.ENTITY")," ")}function li(e,s){if(e&1&&S(0,"app-two-entity-attribute-page",6),e&2){let o=d(2);a("firstEntity","resource")("firstEntityId",o.resource.id)("secondEntity","group")}}function pi(e,s){e&1&&(l(0,"mat-tab"),_(1,ci,3,6,"ng-template",2)(2,li,1,3,"ng-template",3),p())}var Kr=(()=>{let s=class s{constructor(t,i,r){this.authResolver=t,this.resourceManager=i,this.entityStorageService=r}ngOnInit(){this.resource=this.entityStorageService.getEntity(),this.resourceGroupAttAuth=this.authResolver.isAuthorized("getGroupAssignments_Resource_policy",[this.resource]),this.resourceMemberAttAuth=this.authResolver.isAuthorized("getAssignedMembersWithStatus_Resource_policy",[this.resource])}};s.\u0275fac=function(i){return new(i||s)(c(y),c(D),c(T))},s.\u0275cmp=R({type:s,selectors:[["app-resource-attributes"]],hostVars:2,hostBindings:function(i,r){i&2&&H("router-component",r.true)},decls:10,vars:5,consts:[[1,"page-subtitle"],["mat-stretch-tabs","false"],["matTabLabel",""],["matTabContent",""],[4,"ngIf"],[3,"entityId","entity"],[3,"firstEntity","firstEntityId","secondEntity"]],template:function(i,r){i&1&&(l(0,"div")(1,"h1",0),f(2),h(3,"translate"),p(),l(4,"mat-tab-group",1)(5,"mat-tab"),_(6,ri,2,3,"ng-template",2)(7,oi,1,2,"ng-template",3),p(),_(8,ai,3,0,"mat-tab",4)(9,pi,3,0,"mat-tab",4),p()()),i&2&&(n(2),w(g(3,3,"RESOURCE_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),n(6),a("ngIf",r.resourceMemberAttAuth),n(),a("ngIf",r.resourceGroupAttAuth))},dependencies:[x,Je,Xe,Ze,et,ht,dt,G]});let e=s;return e})();var to=(()=>{let s=class s{constructor(t,i){this.guiAuthResolver=t,this.entityStorageService=i,this.availableRoles=[],this.type="Resource",this.theme="resource-theme"}ngOnInit(){this.resource=this.entityStorageService.getEntity(),this.guiAuthResolver.assignAvailableRoles(this.availableRoles,"Resource")}};s.\u0275fac=function(i){return new(i||s)(c(y),c(T))},s.\u0275cmp=R({type:s,selectors:[["app-resource-settings-managers"]],decls:1,vars:4,consts:[[3,"complementaryObject","availableRoles","complementaryObjectType","theme"]],template:function(i,r){i&1&&S(0,"app-managers-page",0),i&2&&a("complementaryObject",r.resource)("availableRoles",r.availableRoles)("complementaryObjectType",r.type)("theme",r.theme)},dependencies:[ft]});let e=s;return e})();function ui(e,s){if(e&1){let o=C();l(0,"button",8),v("click",function(){E(o);let i=d();return I(i.addService())}),f(1),h(2,"translate"),p()}e&2&&(n(),b(" ",g(2,1,"RESOURCE_DETAIL.ASSIGNED_SERVICES.ADD_SERVICE"),`
`))}function mi(e,s){if(e&1){let o=C();l(0,"button",9),v("click",function(){E(o);let i=d();return I(i.removeServices())}),f(1),h(2,"translate"),p()}if(e&2){let o=d();a("disabled",o.selected.selected.length===0),n(),b(" ",g(2,2,"RESOURCE_DETAIL.ASSIGNED_SERVICES.REMOVE_SERVICE"),`
`)}}function di(e,s){e&1&&S(0,"perun-web-apps-loading-table")}function fi(e,s){if(e&1&&S(0,"app-services-list",10),e&2){let o=d();a("loading",o.loading)("disableRouting",!o.serviceRoutingAuth)("selection",o.selected)("displayedColumns",o.displayedColumns)("filterValue",o.filterValue)("services",o.assignedServices)("tableId",o.tableId)}}var ho=(()=>{let s=class s{constructor(t,i,r,u,m){this.route=t,this.resourcesManager=i,this.dialog=r,this.guiAuthResolver=u,this.entityStorageService=m,this.assignedServices=[],this.selected=new N(!0,[]),this.tableId=Ye,this.filterValue="",this.displayedColumns=["select","id","name","enabled","script","description"]}ngOnInit(){this.loading=!0,this.resource=this.entityStorageService.getEntity(),this.getDataForAuthorization(),this.loadAllServices()}loadAllServices(){this.loading=!0,this.resourcesManager.getAssignedServicesToResource(this.resource.id).subscribe(t=>{this.assignedServices=t,this.selected.clear(),this.loading=!1})}addService(){let t=M();t.width="800px",t.data={theme:"resource-theme",resourceId:this.resource.id},this.dialog.open(Et,t).afterClosed().subscribe(r=>{r&&this.loadAllServices()})}removeServices(){let t=M();t.width="500px",t.data={theme:"resource-theme",resourceId:this.resource.id,services:this.selected.selected},this.dialog.open(It,t).afterClosed().subscribe(r=>{r&&this.loadAllServices()})}applyFilter(t){this.filterValue=t}getDataForAuthorization(){this.assignServiceAuth=this.guiAuthResolver.isAuthorized("assignServices_Resource_List<Service>_policy",[this.resource]),this.removeServiceAuth=this.guiAuthResolver.isAuthorized("removeServices_Resource_List<Service>_policy",[this.resource]),this.displayedColumns=this.removeServiceAuth?["select","id","name","enabled","script","description"]:["id","name","enabled","script","description"],this.serviceRoutingAuth=this.guiAuthResolver.isPerunAdminOrObserver()}};s.\u0275fac=function(i){return new(i||s)(c(L),c(D),c(V),c(y),c(T))},s.\u0275cmp=R({type:s,selectors:[["app-perun-web-apps-resource-assigned-services"]],decls:11,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["class","action-button me-2","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["class","me-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["spinner",""],[1,"position-relative","table-min-height"],[3,"loading","disableRouting","selection","displayedColumns","filterValue","services","tableId",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["color","accent","mat-flat-button","",1,"action-button","me-2",3,"click"],["color","warn","mat-flat-button","",1,"me-2",3,"disabled","click"],[3,"loading","disableRouting","selection","displayedColumns","filterValue","services","tableId"]],template:function(i,r){if(i&1&&(l(0,"h1",0),f(1),h(2,"translate"),p(),l(3,"perun-web-apps-refresh-button",1),v("refresh",function(){return r.loadAllServices()}),p(),_(4,ui,3,3,"button",2)(5,mi,3,4,"button",3),l(6,"perun-web-apps-debounce-filter",4),v("filter",function(m){return r.applyFilter(m)}),p(),_(7,di,1,0,"ng-template",null,5,U),l(9,"div",6),_(10,fi,1,7,"app-services-list",7),p()),i&2){let u=O(8);n(),w(g(2,6,"RESOURCE_DETAIL.ASSIGNED_SERVICES.TITLE")),n(3),a("ngIf",r.assignServiceAuth),n(),a("ngIf",r.removeServiceAuth),n(),a("placeholder","RESOURCE_DETAIL.ASSIGNED_SERVICES.FILTER_SERVICES"),n(4),a("perunWebAppsLoader",r.loading)("perunWebAppsLoaderIndicator",u)}},dependencies:[x,Y,Rt,P,F,j,k,G]});let e=s;return e})();function gi(e,s){if(e&1&&(l(0,"mat-option",10),f(1),h(2,"translate"),p()),e&2){let o=s.$implicit;a("value",o),n(),b(" ",g(2,2,"CONSENTS.STATUS_"+o)," ")}}function _i(e,s){if(e&1){let o=C();l(0,"mat-form-field",7)(1,"mat-label"),f(2),h(3,"translate"),p(),l(4,"mat-select",8),v("closed",function(){E(o);let i=d();return I(i.changeConsentStatuses())}),l(5,"mat-select-trigger"),f(6),h(7,"selectedConsentStatuses"),p(),_(8,gi,3,4,"mat-option",9),p()()}if(e&2){let o=d();n(2),w(g(3,4,"RESOURCE_DETAIL.ASSIGNED_MEMBERS.FILTER_CONSENT_STATUS")),n(2),a("formControl",o.consentStatuses),n(2),b(" ",Ae(7,6,o.selectedConsentStatuses,o.consentStatusList,o.consentStatuses.value)," "),n(2),a("ngForOf",o.consentStatusList)}}function vi(e,s){e&1&&S(0,"perun-web-apps-loading-table")}function Si(e,s){if(e&1){let o=C();l(0,"perun-web-apps-members-list",11),v("refreshTable",function(){E(o);let i=d();return I(i.refreshTable())}),p()}if(e&2){let o=d();a("loading",o.loading)("displayedColumns",o.columns)("disableRouting",!o.routeAuth)("members",o.members)("filter",o.filterValue)("tableId",o.tableId)}}var Oo=(()=>{let s=class s{constructor(t,i,r,u,m,A,z){this.route=t,this.resourceService=i,this.authResolver=r,this.entityStorageService=u,this.storeService=m,this.consentService=A,this.consentStatusPipe=z,this.loading=!1,this.filterValue="",this.tableId=qe,this.members=[],this.columns=["id","fullName"],this.includeConsents=!1,this.consents=[],this.consentStatuses=new Fe,this.consentStatusList=["UNSIGNED","GRANTED","REVOKED"],this.selectedConsentStatuses=[],this.selection=new N(!0,[])}ngOnInit(){this.loading=!0,this.resource=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.resourceService.getAssignedRichMembers(this.resource.id).subscribe(t=>{this.setAuthRights(t),this.consentService.getConsentHubByResource(this.resource.id).subscribe(i=>{this.includeConsents=this.storeService.getProperty("enforce_consents")&&i.enforceConsents,this.includeConsents?(this.columns=["id","fullName","consentStatus"],this.consentService.getConsentsForConsentHubByResource(this.resource.id).subscribe(r=>{this.consents=r,this.members=this.getConsentsForMembers(t).filter(u=>!this.selectedConsentStatuses||this.selectedConsentStatuses.length===0||this.selectedConsentStatuses.includes(u.consent))})):this.members=t,this.loading=!1})})}setAuthRights(t){t.length!==0&&(this.routeAuth=this.authResolver.isAuthorized("getMemberById_int_policy",[t[0]]))}applyFilter(t){this.filterValue=t}getConsentsForMembers(t){let i=[];return t.forEach(r=>{let u=r;u.consent=this.consentStatusPipe.transform(r.userId,this.consents),i.push(u)}),i}changeConsentStatuses(){this.selection.clear(),this.selectedConsentStatuses=this.consentStatuses.value,this.refreshTable()}};s.\u0275fac=function(i){return new(i||s)(c(L),c(D),c(y),c(T),c(oe),c(Ge),c(le))},s.\u0275cmp=R({type:s,selectors:[["app-resource-assigned-members"]],features:[ie([le,pe])],decls:10,vars:7,consts:[[1,"page-subtitle"],[3,"refresh"],["class","me-2 fix-select",4,"ngIf"],[3,"placeholder","filter"],["spinner",""],[1,"position-relative","table-min-height"],[3,"loading","displayedColumns","disableRouting","members","filter","tableId","refreshTable",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],[1,"me-2","fix-select"],["multiple","",3,"formControl","closed"],["class","resource-theme",3,"value",4,"ngFor","ngForOf"],[1,"resource-theme",3,"value"],[3,"loading","displayedColumns","disableRouting","members","filter","tableId","refreshTable"]],template:function(i,r){if(i&1&&(l(0,"h1",0),f(1),h(2,"translate"),p(),l(3,"perun-web-apps-refresh-button",1),v("refresh",function(){return r.refreshTable()}),p(),_(4,_i,9,10,"mat-form-field",2),l(5,"perun-web-apps-debounce-filter",3),v("filter",function(m){return r.applyFilter(m)}),p(),_(6,vi,1,0,"ng-template",null,4,U),l(8,"div",5),_(9,Si,1,6,"perun-web-apps-members-list",6),p()),i&2){let u=O(7);n(),w(g(2,5,"RESOURCE_DETAIL.ASSIGNED_MEMBERS.TITLE")),n(3),a("ngIf",r.includeConsents),n(),a("placeholder","RESOURCE_DETAIL.ASSIGNED_MEMBERS.FILTER"),n(4),a("perunWebAppsLoader",r.loading)("perunWebAppsLoaderIndicator",u)}},dependencies:[xe,x,Ue,ke,Ve,Pe,je,$e,We,P,F,ct,j,k,G,pe]});let e=s;return e})();function bi(e,s){if(e&1){let o=C();l(0,"button",8),v("click",function(){E(o);let i=d();return I(i.create())}),f(1),h(2,"translate"),p()}e&2&&(n(),b(" ",g(2,1,"VO_DETAIL.RESOURCES.TAGS.CREATE_BUTTON"),`
`))}function Ri(e,s){if(e&1){let o=C();l(0,"button",8),v("click",function(){E(o);let i=d();return I(i.addTag())}),f(1),h(2,"translate"),p()}e&2&&(n(),b(" ",g(2,1,"RESOURCE_DETAIL.TAGS.ADD_BUTTON"),`
`))}function Ei(e,s){if(e&1){let o=C();l(0,"button",9),v("click",function(){E(o);let i=d();return I(i.removeTags())}),f(1),h(2,"translate"),p()}if(e&2){let o=d();a("disabled",o.selection.selected.length===0),n(),b(" ",g(2,2,"RESOURCE_DETAIL.TAGS.REMOVE_BUTTON"),`
`)}}function Ii(e,s){e&1&&S(0,"perun-web-apps-loading-table")}function Ci(e,s){if(e&1&&S(0,"app-resources-tags-list",10),e&2){let o=d();a("loading",o.loading)("displayedColumns",o.displayedColumns)("entity","resource")("resourceTags",o.resourceTags)("filterValue",o.filterValue)("selection",o.selection)("tableId",o.tableId)}}var Qo=(()=>{let s=class s{constructor(t,i,r,u,m,A){this.authResolver=t,this.resourcesManager=i,this.dialog=r,this.notificator=u,this.translate=m,this.entityStorageService=A,this.loading=!1,this.resourceTags=[],this.selection=new N(!0,[]),this.tableId=Ke,this.displayedColumns=[]}ngOnInit(){this.loading=!0,this.resource=this.entityStorageService.getEntity(),this.setAuthRights(),this.updateData()}removeTags(){let t=M();t.width="450px",t.data={items:this.selection.selected.map(r=>r.tagName),title:"RESOURCE_DETAIL.TAGS.REMOVE_TAGS_DIALOG_TITLE",description:"RESOURCE_DETAIL.TAGS.REMOVE_TAGS_DIALOG_DESCRIPTION",theme:"resource-theme",type:"remove",showAsk:!0},this.dialog.open(ue,t).afterClosed().subscribe(r=>{r&&this.resourcesManager.removeResourceTagsFromResource({resource:this.resource.id,resourceTags:this.selection.selected}).subscribe(()=>(this.notificator.showSuccess(this.translate.instant("RESOURCE_DETAIL.TAGS.REMOVED_SUCCESSFULLY")),this.updateData()))})}addTag(){let t=M();t.width="600px",t.data={voId:this.resource.voId,resourceId:this.resource.id,assignedTags:this.resourceTags,theme:"resource-theme"},this.dialog.open(Ct,t).afterClosed().subscribe(r=>{r&&(this.notificator.showSuccess(this.translate.instant("RESOURCE_DETAIL.TAGS.ADDED_SUCCESSFULLY")),this.updateData())})}create(){let t=M();t.width="450px",t.data={voId:this.resource.voId,theme:"resource-theme"},this.dialog.open(_t,t).afterClosed().subscribe(r=>{r&&(this.notificator.showSuccess(this.translate.instant("VO_DETAIL.RESOURCES.TAGS.CREATE_SUCCESS")),this.updateData())})}updateData(){this.loading=!0,this.selection.clear(),this.resourcesManager.getAllResourcesTagsForResource(this.resource.id).subscribe(t=>{this.resourceTags=t,this.selection.clear(),this.loading=!1})}setAuthRights(){let t={id:this.resource.voId,beanName:"Vo"};this.displayedColumns=[],this.createAuth=this.authResolver.isAuthorized("createResourceTag_ResourceTag_Vo_policy",[t]),this.addAuth=this.authResolver.isAuthorized("assignResourceTagToResource_ResourceTag_Resource_policy",[this.resource]),this.removeAuth=this.authResolver.isAuthorized("removeResourceTagFromResource_ResourceTag_Resource_policy",[this.resource]),this.displayedColumns=this.removeAuth?["select","id","name"]:["id","name"]}applyFilter(t){this.filterValue=t}};s.\u0275fac=function(i){return new(i||s)(c(y),c(D),c(V),c(ne),c(Be),c(T))},s.\u0275cmp=R({type:s,selectors:[["app-perun-web-apps-resource-tags"]],decls:12,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["class","me-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["class","me-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["spinner",""],[1,"position-relative","table-min-height"],[3,"loading","displayedColumns","entity","resourceTags","filterValue","selection","tableId",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["color","accent","mat-flat-button","",1,"me-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"me-2",3,"disabled","click"],[3,"loading","displayedColumns","entity","resourceTags","filterValue","selection","tableId"]],template:function(i,r){if(i&1&&(l(0,"h1",0),f(1),h(2,"translate"),p(),l(3,"perun-web-apps-refresh-button",1),v("refresh",function(){return r.updateData()}),p(),_(4,bi,3,3,"button",2)(5,Ri,3,3,"button",2)(6,Ei,3,4,"button",3),l(7,"perun-web-apps-debounce-filter",4),v("filter",function(m){return r.applyFilter(m)}),p(),_(8,Ii,1,0,"ng-template",null,5,U),l(10,"div",6),_(11,Ci,1,7,"app-resources-tags-list",7),p()),i&2){let u=O(9);n(),w(g(2,7,"RESOURCE_DETAIL.TAGS.TITLE")),n(3),a("ngIf",r.createAuth),n(),a("ngIf",r.addAuth),n(),a("ngIf",r.removeAuth),n(),a("placeholder","RESOURCE_DETAIL.TAGS.SEARCH"),n(4),a("perunWebAppsLoader",r.loading)("perunWebAppsLoaderIndicator",u)}},dependencies:[x,Y,vt,P,F,j,k,G]});let e=s;return e})();function yi(e,s){if(e&1){let o=C();l(0,"button",8),v("click",function(){E(o);let i=d();return I(i.add())}),f(1),h(2,"translate"),p()}e&2&&(n(),b(" ",g(2,1,"RESOURCE_DETAIL.SETTINGS.BANS.ADD"),`
`))}function Ti(e,s){if(e&1){let o=C();l(0,"button",9),v("click",function(){E(o);let i=d();return I(i.remove())}),f(1),h(2,"translate"),p()}if(e&2){let o=d();a("disabled",o.selection.selected.length===0),n(),b(" ",g(2,2,"RESOURCE_DETAIL.SETTINGS.BANS.REMOVE"),`
`)}}function Ai(e,s){if(e&1){let o=C();l(0,"perun-web-apps-ban-on-entity-list",10),v("updateBan",function(i){E(o);let r=d();return I(r.update(i))}),p()}if(e&2){let o=d();a("loading",o.loading)("bans",o.bans)("selection",o.selection)("displayedColumns",o.displayedColumns)("filter",o.filter)("updatePolicy","updateBan_BanOnResource_policy")}}function xi(e,s){e&1&&S(0,"perun-web-apps-loading-table")}var ds=(()=>{let s=class s{constructor(t,i,r,u,m,A,z){this.resourceService=t,this.entityService=i,this.authResolver=r,this.dialog=u,this.notificator=m,this.store=A,this.userName=z,this.loading=!1,this.bans=[],this.removeAuth=!1,this.filter="",this.selection=new N(!1,[]),this.attrNames=[ee.MEMBER_DEF_MAIL,ee.USER_DEF_PREFERRED_MAIL].concat(this.store.getLoginAttributeNames()),this.displayedColumns=["select","banId","subjectId","subjectName","description","expiration","edit"]}ngOnInit(){this.loading=!0,this.resource=this.entityService.getEntity(),this.addAuth=this.authResolver.isAuthorized("setBan_BanOnResource_policy",[this.resource]),this.removeAuth=this.authResolver.isAuthorized("resource-removeBan_int_policy",[this.resource]),this.refresh()}refresh(){this.loading=!0,this.resourceService.getEnrichedBansForResource(this.resource.id,this.attrNames).subscribe({next:t=>{this.bans=t,this.selection.clear(),this.loading=!1},error:()=>this.loading=!1})}add(){let t=M();t.width="850px",t.data={entityId:this.resource.id,theme:"resource-theme",bans:this.bans.map(r=>r.ban)},this.dialog.open(yt,t).afterClosed().subscribe(r=>{r&&this.refresh()})}remove(){let t=M();t.width="550px",t.data={theme:"resource-theme",title:"DIALOGS.REMOVE_BAN.TITLE",description:"DIALOGS.REMOVE_BAN.DESCRIPTION",items:[this.userName.transform(this.selection.selected[0].member.user)],type:"remove",showAsk:!0},this.dialog.open(ue,t).afterClosed().subscribe(r=>{r&&this.resourceService.removeResourceBanById(this.selection.selected[0].ban.id).subscribe(()=>{this.notificator.showSuccess("DIALOGS.REMOVE_BAN.SUCCESS"),this.refresh()})})}update(t){let i=M();i.width="600px",i.data={ban:t.ban,theme:"facility-theme"},this.dialog.open(Tt,i).afterClosed().subscribe(u=>{u&&this.refresh()})}};s.\u0275fac=function(i){return new(i||s)(c(D),c(T),c(y),c(V),c(ne),c(oe),c(ce))},s.\u0275cmp=R({type:s,selectors:[["app-resource-settings-bans"]],features:[ie([ce])],decls:11,vars:8,consts:[[1,"page-subtitle"],[3,"click"],["class","me-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["color","warn","class","me-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],[1,"mt-2","search-field",3,"placeholder","filter"],[1,"position-relative","table-min-height"],[3,"loading","bans","selection","displayedColumns","filter","updatePolicy","updateBan",4,"perunWebAppsLoader","perunWebAppsLoaderIndicator"],["spinner",""],["color","accent","mat-flat-button","",1,"me-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"me-2",3,"disabled","click"],[3,"loading","bans","selection","displayedColumns","filter","updatePolicy","updateBan"]],template:function(i,r){if(i&1&&(l(0,"h1",0),f(1),h(2,"translate"),p(),l(3,"perun-web-apps-refresh-button",1),v("click",function(){return r.refresh()}),p(),_(4,yi,3,3,"button",2)(5,Ti,3,4,"button",3),l(6,"perun-web-apps-debounce-filter",4),v("filter",function(m){return r.filter=m}),p(),l(7,"div",5),_(8,Ai,1,6,"perun-web-apps-ban-on-entity-list",6),p(),_(9,xi,1,0,"ng-template",null,7,U)),i&2){let u=O(10);n(),b(" ",g(2,6,"RESOURCE_DETAIL.SETTINGS.BANS.TITLE"),`
`),n(3),a("ngIf",r.addAuth),n(),a("ngIf",r.removeAuth),n(),a("placeholder","RESOURCE_DETAIL.SETTINGS.BANS.FILTER"),n(2),a("perunWebAppsLoader",r.loading)("perunWebAppsLoaderIndicator",u)}},dependencies:[x,Y,P,F,j,lt,k,G]});let e=s;return e})();export{At as a,sr as b,fr as c,xr as d,wr as e,kr as f,Kr as g,to as h,ho as i,Oo as j,Qo as k,ds as l};
