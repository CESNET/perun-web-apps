!function(){function e(e,i){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,i)}(e))||i&&e&&"number"==typeof e.length){a&&(e=a);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){l=!0,c=e},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"pjY/":function(t,a,n){"use strict";n.r(a),n.d(a,"FacilitiesModule",(function(){return Ti}));var c=n("2kYt"),r=n("sEIs"),l=n("VFai"),o=n("TkCa"),u=n("4sdY"),b=n("EkAj"),f=n("X2Q7"),d=n("8clQ"),h=n("Ssnw"),p=n("+0js"),g=n("49Zq"),m=n("EM62"),y=n("OZ4H"),v=n("EtYo"),I=n("csyo"),S=n("bFHC"),T=n("Y2X+"),A=n("ma6z"),k=n("PBFl"),E=n("s2Ay");function R(e,t){1&e&&m.Nb(0,"mat-spinner",3)}function C(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",12),m.Zb("click",(function(){return m.xc(i),m.dc(2).editFacility()})),m.Sb(1,"mat-icon"),m.Jc(2,"edit"),m.Rb(),m.Rb()}}function L(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",12),m.Zb("click",(function(){return m.xc(i),m.dc(2).deleteFacility()})),m.Sb(1,"mat-icon"),m.Jc(2,"delete_forever"),m.Rb(),m.Rb()}}var F=function(){return{color:"black"}},_=function(e){return["/facilities",e]};function M(e,t){if(1&e&&(m.Sb(0,"div"),m.Sb(1,"div",4),m.Nb(2,"mat-icon",5),m.ec(3,"translate"),m.Sb(4,"div",6),m.Sb(5,"div",7),m.Sb(6,"a",8),m.Jc(7),m.Rb(),m.Sb(8,"span",9),m.Jc(9),m.Rb(),m.Hc(10,C,3,0,"button",10),m.Hc(11,L,3,0,"button",10),m.Rb(),m.Sb(12,"span",11),m.Jc(13),m.ec(14,"translate"),m.ec(15,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Nb(16,"app-animated-router-outlet"),m.Rb()),2&e){var i=m.dc();m.Ab(2),m.lc("matTooltip",m.fc(3,10,"FACILITY_DETAIL.ENTITY")),m.kc("ngStyle",m.oc(16,F)),m.Ab(4),m.kc("routerLink",m.pc(17,_,i.facility.id)),m.Ab(1),m.Kc(i.facility.name),m.Ab(2),m.Lc(" \xa0#",i.facility.id," "),m.Ab(1),m.kc("ngIf",i.editFacilityAuth),m.Ab(1),m.kc("ngIf",i.deleteAuth),m.Ab(2),m.Nc(" ",m.fc(14,12,"FACILITY_DETAIL.ENTITY"),", ",m.fc(15,14,"FACILITY_DETAIL.DESCRIPTION"),": ",i.facility.description," ")}}var w,O=((w=function(){function e(t,a,s,n,c,r,l){i(this,e),this.dialog=t,this.facilityManager=a,this.route=s,this.sideMenuService=n,this.sideMenuItemService=c,this.guiAuthResolver=r,this.router=l,this.editFacilityAuth=!1,this.deleteAuth=!1,this.loading=!1}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.route.params.subscribe((function(t){e.facilityManager.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t;var i=e.sideMenuItemService.parseFacility(t);e.sideMenuService.setFacilityMenuItems([i]),e.editFacilityAuth=e.guiAuthResolver.isAuthorized("updateFacility_Facility_policy",[e.facility]),e.deleteAuth=e.guiAuthResolver.isAuthorized("deleteFacility_Facility_Boolean_policy",[e.facility]),Object(d.b)("facilities",e.facility),Object(d.c)(e.facility),e.loading=!1}),(function(){return e.loading=!1}))}))}},{key:"editFacility",value:function(){var e=this,t=Object(d.o)();t.width="450px",t.data={theme:"facility-theme",facility:this.facility,dialogType:p.h.FACILITY},this.dialog.open(p.g,t).afterClosed().subscribe((function(t){t&&e.facilityManager.getFacilityById(e.facility.id).subscribe((function(t){e.facility=t}))}))}},{key:"deleteFacility",value:function(){var e=this,t=Object(d.o)();t.width="500px",t.data={theme:"facility-theme",facility:this.facility},this.dialog.open(g.a,t).afterClosed().subscribe((function(t){t&&e.router.navigate([""])}))}}]),e}()).\u0275fac=function(e){return new(e||w)(m.Mb(y.b),m.Mb(f.g),m.Mb(r.a),m.Mb(u.a),m.Mb(b.a),m.Mb(h.h),m.Mb(r.f))},w.\u0275cmp=m.Gb({type:w,selectors:[["app-facility-detail-page"]],decls:4,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","facility-theme"],["class","mr-auto ml-auto",4,"ngIf"],[4,"ngIf"],[1,"mr-auto","ml-auto"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-facility-black",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"facility-link",3,"routerLink"],[1,"text-muted"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"mt-1","entity-info"],["mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(m.Sb(0,"div",0),m.Nb(1,"perun-web-apps-back-button"),m.Hc(2,R,1,0,"mat-spinner",1),m.Hc(3,M,17,19,"div",2),m.Rb()),2&e&&(m.Ab(2),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading&&void 0!==t.facility))},directives:[v.a,c.t,I.c,S.a,T.a,c.w,r.i,A.a,k.b],pipes:[E.d],styles:[""],data:{animation:[o.a]}}),w),D=n("ZG5M");function z(e,t){1&e&&m.Nb(0,"mat-spinner",2)}function N(e,t){if(1&e&&(m.Sb(0,"div"),m.Nb(1,"perun-web-apps-menu-buttons-field",3),m.Rb()),2&e){var i=m.dc();m.Ab(1),m.kc("items",i.navItems)("size","small")}}var V,H,Y=((V=function(){function e(t,a,s){i(this,e),this.facilityManager=t,this.route=a,this.authResolver=s,this.navItems=[],this.loading=!1}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.route.params.subscribe((function(t){e.facilityManager.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t,e.initItems(),e.loading=!1}),(function(){return e.loading=!1}))}))}},{key:"initItems",value:function(){this.navItems=[],this.authResolver.isAuthorized("getAssignedRichResources_Facility_policy",[this.facility])&&this.navItems.push({cssIcon:"perun-manage-facility",url:"/facilities/".concat(this.facility.id,"/resources"),label:"MENU_ITEMS.FACILITY.RESOURCES",style:"facility-btn"}),this.authResolver.isAuthorized("getAssignedUsers_Facility_Service_policy",[this.facility])&&this.navItems.push({cssIcon:"perun-user",url:"/facilities/".concat(this.facility.id,"/allowed-users"),label:"MENU_ITEMS.FACILITY.ALLOWED_USERS",style:"facility-btn"}),this.authResolver.isAuthorized("getAllowedGroups_Facility_Vo_Service_policy",[this.facility])&&this.navItems.push({cssIcon:"perun-group",url:"/facilities/".concat(this.facility.id,"/allowed-groups"),label:"MENU_ITEMS.FACILITY.ALLOWED_GROUPS",style:"facility-btn"}),this.authResolver.isAuthorized("getFacilityServicesState_Facility_policy",[this.facility])&&this.navItems.push({cssIcon:"perun-service-status",url:"/facilities/".concat(this.facility.id,"/services-status"),label:"MENU_ITEMS.FACILITY.SERVICES_STATUS",style:"facility-btn"}),this.authResolver.isAuthorized("getAllRichDestinations_Facility_policy",[this.facility])&&this.navItems.push({cssIcon:"perun-service_destination",url:"/facilities/".concat(this.facility.id,"/services-destinations"),label:"MENU_ITEMS.FACILITY.SERVICES_DESTINATIONS",style:"facility-btn"}),this.authResolver.isFacilityAdmin()&&this.navItems.push({cssIcon:"perun-hosts",url:"/facilities/".concat(this.facility.id,"/hosts"),label:"MENU_ITEMS.FACILITY.HOSTS",style:"facility-btn"}),this.navItems.push({cssIcon:"perun-attributes",url:"/facilities/".concat(this.facility.id,"/attributes"),label:"MENU_ITEMS.FACILITY.ATTRIBUTES",style:"facility-btn"}),(this.authResolver.isAuthorized("getBansForFacility_int_policy",[this.facility])||this.authResolver.isManagerPagePrivileged(this.facility)||this.authResolver.isAuthorized("getOwners_Facility_policy",[this.facility])||this.authResolver.isAuthorized("getAssignedSecurityTeams_Facility_policy",[this.facility]))&&this.navItems.push({cssIcon:"perun-settings2",url:"/facilities/".concat(this.facility.id,"/settings"),label:"MENU_ITEMS.FACILITY.SETTINGS",style:"facility-btn"})}}]),e}()).\u0275fac=function(e){return new(e||V)(m.Mb(f.g),m.Mb(r.a),m.Mb(h.h))},V.\u0275cmp=m.Gb({type:V,selectors:[["app-facility-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Eb("router-component",!0)},decls:2,vars:2,consts:[["class","mr-auto ml-auto",4,"ngIf"],[4,"ngIf"],[1,"mr-auto","ml-auto"],[3,"items","size"]],template:function(e,t){1&e&&(m.Hc(0,z,1,0,"mat-spinner",0),m.Hc(1,N,2,2,"div",1)),2&e&&(m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[c.t,I.c,D.a],styles:[""]}),V),U=n("s8L6"),B=n("Wq+4"),x=n("nSPi"),P=n("y/MV"),G=((H=function(){function e(){i(this,e)}return s(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=m.Gb({type:H,selectors:[["app-facility-settings"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Eb("router-component",!0)},decls:1,vars:0,template:function(e,t){1&e&&m.Nb(0,"app-animated-router-outlet")},directives:[A.a],styles:[""],data:{animation:[o.a]}}),H);function Z(e,t){1&e&&m.Nb(0,"mat-spinner",2)}function J(e,t){if(1&e&&(m.Sb(0,"div"),m.Nb(1,"perun-web-apps-menu-buttons-field",3),m.Rb()),2&e){var i=m.dc();m.Ab(1),m.kc("items",i.items)("size","small")}}var j,W=((j=function(){function e(t,a,s){i(this,e),this.route=t,this.facilityManager=a,this.authResolver=s,this.items=[],this.loading=!1}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.route.parent.parent.params.subscribe((function(t){e.facilityManager.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t,e.initItems(),e.loading=!1}),(function(){return e.loading=!1}))}))}},{key:"initItems",value:function(){this.items=[],this.authResolver.isAuthorized("getOwners_Facility_policy",[this.facility])&&this.items.push({cssIcon:"perun-owner-grey",url:"/facilities/".concat(this.facility.id,"/settings/owners"),label:"MENU_ITEMS.FACILITY.OWNERS",style:"facility-btn"}),this.authResolver.isManagerPagePrivileged(this.facility)&&this.items.push({cssIcon:"perun-manager",url:"/facilities/".concat(this.facility.id,"/settings/managers"),label:"MENU_ITEMS.FACILITY.MANAGERS",style:"facility-btn"}),this.authResolver.isAuthorized("getAssignedSecurityTeams_Facility_policy",[this.facility])&&this.items.push({cssIcon:"perun-security-teams",url:"/facilities/".concat(this.facility.id,"/settings/security-teams"),label:"MENU_ITEMS.FACILITY.SECURITY_TEAMS",style:"facility-btn"}),this.authResolver.isAuthorized("getBansForFacility_int_policy",[this.facility])&&this.items.push({cssIcon:"perun-black-list",url:"/facilities/".concat(this.facility.id,"/settings/blacklist"),label:"MENU_ITEMS.FACILITY.BLACKLIST",style:"facility-btn"})}}]),e}()).\u0275fac=function(e){return new(e||j)(m.Mb(r.a),m.Mb(f.g),m.Mb(h.h))},j.\u0275cmp=m.Gb({type:j,selectors:[["app-facility-settings-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Eb("router-component",!0)},decls:2,vars:2,consts:[["class","mr-auto ml-auto",4,"ngIf"],[4,"ngIf"],[1,"mr-auto","ml-auto"],[3,"items","size"]],template:function(e,t){1&e&&(m.Hc(0,Z,1,0,"mat-spinner",0),m.Hc(1,J,2,2,"div",1)),2&e&&(m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[c.t,I.c,D.a],styles:[""]}),j),K=n("HHEo"),$=n("cqs0"),q=n("mEf3"),Q=n("iyZ4"),X=n("IDQ9"),ee=n("KZIX"),te=n("0XDM"),ie=n("A8Ay"),ae=n("LKLE"),se=n("bdug"),ne=["list"];function ce(e,t){1&e&&(m.Jc(0),m.ec(1,"translate")),2&e&&m.Lc(" ",m.fc(1,1,"FACILITY_DETAIL.ENTITY")," ")}function re(e,t){1&e&&m.Nb(0,"mat-spinner",10)}function le(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-attributes-list",11,12),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("attributes",a.attributes)("selection",a.selection)}}function oe(e,t){1&e&&(m.Jc(0),m.ec(1,"translate"),m.ec(2,"translate")),2&e&&m.Mc(" ",m.fc(1,2,"FACILITY_DETAIL.ENTITY")," - ",m.fc(2,4,"ADMIN_USER.ENTITY")," ")}function ue(e,t){if(1&e&&m.Nb(0,"app-two-entity-attribute-page",15),2&e){var i=m.dc(3);m.kc("firstEntity","facility")("firstEntityId",i.facilityId)("secondEntity","user")}}function be(e,t){if(1&e&&m.Hc(0,ue,1,3,"app-two-entity-attribute-page",14),2&e){var i=m.dc(2);m.kc("ngIf",!i.loading)}}function fe(e,t){1&e&&(m.Sb(0,"mat-tab"),m.Hc(1,oe,3,6,"ng-template",1),m.Hc(2,be,1,1,"ng-template",13),m.Rb())}var de,he=((de=function(){function e(t,a,s,n,c,r,l){var o=this;i(this,e),this.attributesManager=t,this.route=a,this.dialog=s,this.notificator=n,this.tableConfigService=c,this.translate=r,this.authResolver=l,this.attributes=[],this.selection=new $.c(!0,[]),this.filterValue="",this.tableId=Q.r,this.translate.get("FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_SAVE").subscribe((function(e){return o.saveSuccessMessage=e})),this.translate.get("FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SUCCESS_DELETE").subscribe((function(e){return o.deleteSuccessMessage=e}))}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe((function(t){e.facilityId=t.facilityId,e.facilityUserAttAuth=e.authResolver.isAuthorized("getAssignedUsers_Facility_policy",[{id:e.facilityId,beanName:"Facility"}]),e.refreshTable()}))}},{key:"onDelete",value:function(){var e=this,t=Object(d.o)();t.width="450px",t.data={entityId:this.facilityId,entity:"facility",attributes:this.selection.selected,theme:"facility-theme"},this.dialog.open(q.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"onSave",value:function(){var e=this;this.list.updateMapAttributes();var t=Object(d.o)();t.width="450px",t.data={entityId:this.facilityId,entity:"facility",attributes:this.selection.selected},this.dialog.open(p.f,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"onCreate",value:function(){var e=this,t=Object(d.o)();t.width="1050px",t.data={entityId:this.facilityId,entity:"facility",notEmptyAttributes:this.attributes,style:"facility-theme"},this.dialog.open(X.a,t).afterClosed().subscribe((function(t){"saved"===t&&e.refreshTable()}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.attributesManager.getFacilityAttributes(this.facilityId).subscribe((function(t){e.attributes=t,e.selection.clear(),e.loading=!1}))}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||de)(m.Mb(f.c),m.Mb(r.a),m.Mb(y.b),m.Mb(h.l),m.Mb(Q.pb),m.Mb(E.e),m.Mb(h.h))},de.\u0275cmp=m.Gb({type:de,selectors:[["app-facility-attributes"]],viewQuery:function(e,t){var i;1&e&&m.Qc(ne,!0),2&e&&m.sc(i=m.ac())&&(t.list=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&m.Eb("router-component",!0)},decls:22,vars:20,consts:[[1,"page-subtitle"],["matTabLabel",""],[1,"mt-2",3,"refresh"],["mat-flat-button","","color","accent",1,"mr-2","mt-2",3,"click"],["mat-flat-button","","color","accent",1,"mr-2","mt-2",3,"disabled","click"],["mat-flat-button","","color","warn",1,"mt-2",3,"disabled","click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","attributes","selection","page",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","attributes","selection","page"],["list",""],["matTabContent",""],[3,"firstEntity","firstEntityId","secondEntity",4,"ngIf"],[3,"firstEntity","firstEntityId","secondEntity"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"mat-tab-group"),m.Sb(5,"mat-tab"),m.Hc(6,ce,2,3,"ng-template",1),m.Sb(7,"perun-web-apps-refresh-button",2),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Sb(8,"button",3),m.Zb("click",(function(){return t.onCreate()})),m.Jc(9),m.ec(10,"translate"),m.Rb(),m.Sb(11,"button",4),m.Zb("click",(function(){return t.onSave()})),m.Jc(12),m.ec(13,"translate"),m.Rb(),m.Sb(14,"button",5),m.Zb("click",(function(){return t.onDelete()})),m.Jc(15),m.ec(16,"translate"),m.Rb(),m.Sb(17,"perun-web-apps-immediate-filter",6),m.Zb("filter",(function(e){return t.applyFilter(e)})),m.ec(18,"translate"),m.Rb(),m.Hc(19,re,1,0,"mat-spinner",7),m.Hc(20,le,2,4,"perun-web-apps-attributes-list",8),m.Rb(),m.Hc(21,fe,3,0,"mat-tab",9),m.Rb(),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,10,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),m.Ab(7),m.Lc(" ",m.fc(10,12,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.CREATE")," "),m.Ab(2),m.kc("disabled",0===t.selection.selected.length),m.Ab(1),m.Lc(" ",m.fc(13,14,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.SAVE")," "),m.Ab(2),m.kc("disabled",0===t.selection.selected.length),m.Ab(1),m.Lc(" ",m.fc(16,16,"FACILITY_DETAIL.SETTINGS.ATTRIBUTES.DELETE")," "),m.Ab(2),m.kc("placeholder",m.fc(18,18,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTES_LIST.FILTER")),m.Ab(2),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading),m.Ab(1),m.kc("ngIf",t.facilityUserAttAuth))},directives:[ee.c,ee.a,ee.d,te.a,k.b,ie.a,c.t,I.c,ae.a,ee.b,se.a],pipes:[E.d],styles:[""]}),de),pe=n("GyaY"),ge=n("HUrR"),me=n("gxIj"),ye=n("jblC"),ve=n("nIj0"),Ie=n("jIqt"),Se=n("YtkY"),Te=n("t47Z"),Ae=n("+Tre"),ke=n("29Wa"),Ee=n("Cd2c"),Re=n("ulve"),Ce=n("mFH5"),Le=n("j+u3");function Fe(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-option",10),m.Zb("onSelectionChange",(function(){m.xc(i);var e=t.$implicit;return m.dc(3).onSelectedService(e)})),m.Jc(1),m.Rb()}if(2&e){var a=t.$implicit;m.kc("value",a),m.Ab(1),m.Lc(" ",a.name," ")}}function _e(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-form-field",6),m.Sb(1,"input",7),m.Zb("keyup",(function(e){return m.xc(i),m.dc(2).updatedSerVal(e)})),m.ec(2,"translate"),m.Rb(),m.Sb(3,"mat-autocomplete",8,9),m.Sb(5,"mat-option",10),m.Zb("onSelectionChange",(function(){return m.xc(i),m.dc(2).onSelectedService("NOT_SELECTED")})),m.Jc(6),m.ec(7,"translate"),m.Rb(),m.Sb(8,"mat-option",10),m.Zb("onSelectionChange",(function(){return m.xc(i),m.dc(2).onSelectedService("ALL")})),m.Jc(9),m.ec(10,"translate"),m.Rb(),m.Hc(11,Fe,2,2,"mat-option",11),m.ec(12,"async"),m.Rb(),m.Rb()}if(2&e){var a=m.tc(4),s=m.dc(2);m.Ab(1),m.lc("placeholder",m.fc(2,9,"FACILITY_DETAIL.SERVICE_CONFIG.SERVICE_SELECT")),m.kc("formControl",s.serviceField)("matAutocomplete",a),m.Ab(2),m.kc("displayWith",s.serviceDisplayFn.bind(s)),m.Ab(2),m.kc("value","NOT_SELECTED"),m.Ab(1),m.Lc(" ",m.fc(7,11,"FACILITY_DETAIL.SERVICE_CONFIG.NOT_SELECTED")," "),m.Ab(2),m.kc("value","ALL"),m.Ab(1),m.Lc(" ",m.fc(10,13,"FACILITY_DETAIL.SERVICE_CONFIG.ALL")," "),m.Ab(2),m.kc("ngForOf",m.fc(12,15,s.filteredServices))}}function Me(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-option",10),m.Zb("onSelectionChange",(function(){m.xc(i);var e=t.$implicit;return m.dc(3).onSelectedResource(e)})),m.Jc(1),m.Rb()}if(2&e){var a=t.$implicit;m.kc("value",a),m.Ab(1),m.Lc(" ",a.name," ")}}function we(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-form-field",6),m.Sb(1,"input",12),m.Zb("keyup",(function(e){return m.xc(i),m.dc(2).updatedResVal(e)})),m.ec(2,"translate"),m.Rb(),m.Sb(3,"mat-autocomplete",8,9),m.Hc(5,Me,2,2,"mat-option",11),m.ec(6,"async"),m.Rb(),m.Rb()}if(2&e){var a=m.tc(4),s=m.dc(2);m.Ab(1),m.lc("placeholder",m.fc(2,5,"FACILITY_DETAIL.SERVICE_CONFIG.RES_SELECT")),m.kc("matAutocomplete",a)("formControl",s.resourceField),m.Ab(2),m.kc("displayWith",s.resourceDisplayFn.bind(s)),m.Ab(2),m.kc("ngForOf",m.fc(6,7,s.filteredResources))}}function Oe(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-option",10),m.Zb("onSelectionChange",(function(){m.xc(i);var e=t.$implicit;return m.dc(3).onSelectedGroup(e)})),m.Jc(1),m.Rb()}if(2&e){var a=t.$implicit;m.kc("value",a),m.Ab(1),m.Lc(" ",a.name," ")}}function De(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-form-field",6),m.Sb(1,"input",12),m.Zb("keyup",(function(e){return m.xc(i),m.dc(2).updatedGroupVal(e)})),m.ec(2,"translate"),m.Rb(),m.Sb(3,"mat-autocomplete",13,9),m.Hc(5,Oe,2,2,"mat-option",11),m.ec(6,"async"),m.Rb(),m.Rb()}if(2&e){var a=m.tc(4),s=m.dc(2);m.Ab(1),m.lc("placeholder",m.fc(2,5,"FACILITY_DETAIL.SERVICE_CONFIG.GROUP_SELECT")),m.kc("matAutocomplete",a)("formControl",s.groupField),m.Ab(2),m.kc("displayWith",s.groupDisplayFn.bind(s)),m.Ab(2),m.kc("ngForOf",m.fc(6,7,s.filteredGroups))}}function ze(e,t){if(1&e){var i=m.Tb();m.Sb(0,"mat-option",10),m.Zb("onSelectionChange",(function(){m.xc(i);var e=t.$implicit;return m.dc(3).onSelectedMember(e)})),m.Jc(1),m.ec(2,"userFullName"),m.Rb()}if(2&e){var a=t.$implicit;m.kc("value",a),m.Ab(1),m.Lc(" ",m.fc(2,2,a.user)," ")}}function Ne(e,t){if(1&e&&(m.Sb(0,"mat-form-field",6),m.Nb(1,"input",14),m.ec(2,"translate"),m.Sb(3,"mat-autocomplete",8,9),m.Hc(5,ze,3,4,"mat-option",11),m.ec(6,"async"),m.Rb(),m.Rb()),2&e){var i=m.tc(4),a=m.dc(2);m.Ab(1),m.lc("placeholder",m.fc(2,5,"FACILITY_DETAIL.SERVICE_CONFIG.MEMBER_SELECT")),m.kc("formControl",a.memberField)("matAutocomplete",i),m.Ab(2),m.kc("displayWith",a.memberDisplayFn.bind(a)),m.Ab(2),m.kc("ngForOf",m.fc(6,7,a.filteredMembers))}}function Ve(e,t){if(1&e){var i=m.Tb();m.Sb(0,"div",3),m.Hc(1,_e,13,17,"mat-form-field",4),m.Sb(2,"mat-checkbox",5),m.Zb("change",(function(e){return m.xc(i),m.dc().onOfferAllServices(e)})),m.Jc(3),m.ec(4,"translate"),m.Rb(),m.Hc(5,we,7,9,"mat-form-field",4),m.Hc(6,De,7,9,"mat-form-field",4),m.Hc(7,Ne,7,9,"mat-form-field",4),m.Rb()}if(2&e){var a=m.dc();m.Ab(1),m.kc("ngIf",void 0!==a.services),m.Ab(2),m.Lc(" ",m.fc(4,5,"FACILITY_DETAIL.SERVICE_CONFIG.ALL_SERVICES")," "),m.Ab(2),m.kc("ngIf",void 0!==a.resources&&0!=a.resources.length),m.Ab(1),m.kc("ngIf",void 0!==a.selectedResource&&void 0!==a.groups&&0!=a.groups.length),m.Ab(1),m.kc("ngIf",void 0!==a.selectedGroup&&void 0!==a.members&&0!==a.members.length)}}function He(e,t){if(1&e&&m.Nb(0,"perun-web-apps-service-configurator",15),2&e){var i=m.dc();m.kc("facility",i.facility)("resource",i.selectedResource)("group",i.selectedGroup)("service",i.selectedService)("member",i.selectedMember)}}var Ye,Ue=((Ye=function(){function e(t,a,s,n,c,r,l){var o=this;i(this,e),this.route=t,this.facilityManager=a,this.resourceManager=s,this.serviceManager=n,this.membersManager=c,this.namePipe=r,this.translate=l,this.selectedService="NOT_SELECTED",this.attrNames=[],this.serviceField=new ve.g,this.resourceField=new ve.g,this.groupField=new ve.g,this.memberField=new ve.g,this.allowedStatuses=["INVALID","VALID"],this.translate.get("FACILITY_DETAIL.SERVICE_CONFIG.ALL").subscribe((function(e){return o.serviceAllTranslation=e})),this.translate.get("FACILITY_DETAIL.SERVICE_CONFIG.NOT_SELECTED").subscribe((function(e){return o.serviceNotSelectedTranslation=e}))}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.route.parent.params.subscribe((function(t){e.facilityManager.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t,e.facilityManager.getAssignedResourcesForFacility(t.id).subscribe((function(t){return e.resources=t})),e.serviceManager.getAssignedServices(t.id).subscribe((function(t){return e.services=t}))}))})),this.filteredServices=this.serviceField.valueChanges.pipe(Object(Ie.a)(""),Object(Se.a)((function(t){return e._filterServices(t)}))),this.filteredResources=this.resourceField.valueChanges.pipe(Object(Ie.a)(""),Object(Se.a)((function(t){return e._filterResources(t)}))),this.filteredGroups=this.groupField.valueChanges.pipe(Object(Ie.a)(""),Object(Se.a)((function(t){return e._filterGroups(t)}))),this.filteredMembers=this.memberField.valueChanges.pipe(Object(Ie.a)(""),Object(Se.a)((function(t){return e._filterMembers(t)})))}},{key:"onSelectedService",value:function(e){this.selectedService=e}},{key:"onSelectedResource",value:function(e){var t=this;this.selectedResource=e,void 0!==this.selectedResource?(this.resourceManager.getAssignedGroups(this.selectedResource.id).subscribe((function(e){return t.groups=e})),this.selectedGroup=void 0,this.selectedMember=void 0):this.groups=void 0}},{key:"onOfferAllServices",value:function(e){var t=this;e.checked||this.serviceManager.getAssignedServices(this.facility.id).subscribe((function(e){return t.services=e}))}},{key:"onSelectedGroup",value:function(e){var t=this;this.selectedGroup=e,void 0!==this.selectedGroup?(this.membersManager.getCompleteRichMembersForGroup(this.selectedGroup.id,!1,this.allowedStatuses,this.attrNames).subscribe((function(e){return t.members=e})),this.selectedMember=void 0):this.members=void 0}},{key:"onSelectedMember",value:function(e){this.selectedMember=e}},{key:"_filterServices",value:function(e){var t=e.toString().toLowerCase();return this.services.filter((function(e){return e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(t)}))}},{key:"_filterResources",value:function(e){var t=e.toString().toLowerCase();return this.resources.filter((function(e){return e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(t)}))}},{key:"_filterGroups",value:function(e){var t=e.toString().toLowerCase();return this.groups.filter((function(e){return e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(t)}))}},{key:"_filterMembers",value:function(e){var t=this,i=e.toString().toLowerCase();return this.members.filter((function(e){return t.namePipe.transform(e.user).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(i)}))}},{key:"serviceDisplayFn",value:function(e){if(null!==e)return"ALL"===e?this.serviceAllTranslation:"NOT_SELECTED"===e?this.serviceNotSelectedTranslation:e.name}},{key:"resourceDisplayFn",value:function(e){if(null!==e)return e.name}},{key:"groupDisplayFn",value:function(e){if(null!==e)return e.name}},{key:"memberDisplayFn",value:function(e){if(null!==e)return this.namePipe.transform(e.user)}},{key:"updatedSerVal",value:function(e){""===e.target.value&&(this.selectedService="NOT_SELECTED")}},{key:"updatedResVal",value:function(e){""===e.target.value&&(this.groups=void 0,this.members=void 0)}},{key:"updatedGroupVal",value:function(e){""===e.target.value&&(this.members=void 0)}},{key:"updatedMemVal",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||Ye)(m.Mb(r.a),m.Mb(f.g),m.Mb(f.m),m.Mb(f.n),m.Mb(f.i),m.Mb(Te.c),m.Mb(E.e))},Ye.\u0275cmp=m.Gb({type:Ye,selectors:[["app-facility-service-config"]],decls:6,vars:5,consts:[[1,"page-subtitle"],["class","col-12 col-lg-6 mb-2",4,"ngIf"],[3,"facility","resource","group","service","member",4,"ngIf"],[1,"col-12","col-lg-6","mb-2"],["class","w-100",4,"ngIf"],[3,"change"],[1,"w-100"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete","keyup"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value","onSelectionChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["type","text","matInput","",3,"placeholder","matAutocomplete","formControl","keyup"],["autoActiveFirstOption","",3,"ngClass","displayWith"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"facility","resource","group","service","member"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Hc(4,Ve,8,7,"div",1),m.Hc(5,He,1,5,"perun-web-apps-service-configurator",2),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,3,"FACILITY_DETAIL.SERVICE_CONFIG.TITLE")),m.Ab(2),m.kc("ngIf",!!t.facility),m.Ab(1),m.kc("ngIf",!!t.facility))},directives:[c.t,Ae.a,ke.c,Ee.b,ve.c,Re.d,ve.r,ve.h,Re.a,Ce.n,c.s,c.q],pipes:[E.d,c.b,Le.a],styles:[""]}),Ye),Be=n("NU+N");function xe(e,t){if(1&e&&m.Nb(0,"app-managers-page",1),2&e){var i=m.dc();m.kc("complementaryObject",i.facility)("complementaryObjectType",i.type)("theme",i.theme)("availableRoles",i.availableRoles)}}var Pe,Ge=((Pe=function(){function e(t,a,s){i(this,e),this.facilityService=t,this.route=a,this.guiAuthResolver=s,this.availableRoles=[],this.selected="user",this.type="Facility",this.theme="facility-theme"}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.route.parent.parent.params.subscribe((function(t){e.facilityService.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t}))})),this.guiAuthResolver.assignAvailableRoles(this.availableRoles,"Facility")}}]),e}()).\u0275fac=function(e){return new(e||Pe)(m.Mb(f.g),m.Mb(r.a),m.Mb(h.h))},Pe.\u0275cmp=m.Gb({type:Pe,selectors:[["app-perun-web-apps-facility-settings-managers"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Eb("router-component",!0)},decls:1,vars:1,consts:[[3,"complementaryObject","complementaryObjectType","theme","availableRoles",4,"ngIf"],[3,"complementaryObject","complementaryObjectType","theme","availableRoles"]],template:function(e,t){1&e&&m.Hc(0,xe,1,4,"app-managers-page",0),2&e&&m.kc("ngIf",t.facility)},directives:[c.t,Be.a],styles:[""]}),Pe),Ze=n("/nwi"),Je=n("Dkjx"),je=n("pgvo");function We(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",8),m.Zb("click",(function(){return m.xc(i),m.dc().addDestination()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}2&e&&(m.Ab(1),m.Lc(" ",m.fc(2,1,"FACILITY_DETAIL.SERVICES_DESTINATIONS.ADD")," "))}function Ke(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",9),m.Zb("click",(function(){return m.xc(i),m.dc().removeDestination()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.SERVICES_DESTINATIONS.REMOVE")," ")}}function $e(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",10),m.Zb("click",(function(){return m.xc(i),m.dc().onAllow()})),m.Sb(1,"mat-icon"),m.Jc(2," check_circle_outline "),m.Rb(),m.Jc(3),m.ec(4,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length||a.allSelectedAllowed()),m.Ab(3),m.Lc(" ",m.fc(4,2,"FACILITY_DETAIL.SERVICES_DESTINATIONS.ALLOW")," ")}}function qe(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",10),m.Zb("click",(function(){return m.xc(i),m.dc().onBlock()})),m.Sb(1,"mat-icon"),m.Jc(2," block "),m.Rb(),m.Jc(3),m.ec(4,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length||a.allSelectedBlocked()),m.Ab(3),m.Lc(" ",m.fc(4,2,"FACILITY_DETAIL.SERVICES_DESTINATIONS.BLOCK")," ")}}function Qe(e,t){1&e&&m.Nb(0,"mat-spinner",11)}function Xe(e,t){if(1&e){var i=m.Tb();m.Sb(0,"app-perun-web-apps-destination-list",12),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("destinations",a.destinations)("selection",a.selected)("displayedColumns",a.displayedColumns)}}var et,tt=((et=function(){function e(t,a,s,n,c,r,l,o,u){i(this,e),this.dialog=t,this.facilitiesManager=a,this.servicesManager=s,this.tableConfigService=n,this.translate=c,this.notificator=r,this.route=l,this.authResolver=o,this.serviceManager=u,this.selected=new $.c(!0,[]),this.displayedColumns=["select","destinationId","service","destination","type","propagationType"],this.filterValue="",this.tableId=Q.C}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.loading=!0,this.route.parent.params.subscribe((function(t){e.facilitiesManager.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t,e.refreshTable()}))}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.servicesManager.getAllRichDestinationsForFacility(this.facility.id).subscribe((function(t){e.destinations=t,e.selected.clear(),e.setAuthRights(),e.loading=!1}))}},{key:"setAuthRights",value:function(){this.addAuth=this.authResolver.isAuthorized("addDestination_Service_Facility_Destination_policy",[this.facility]),this.removeAuth=this.authResolver.isAuthorized("removeDestination_Service_Facility_Destination_policy",[this.facility]),this.allowAuth=this.authResolver.isAuthorized("unblockServiceOnDestination_Service_int_policy",[this.facility]),this.blockAuth=this.authResolver.isAuthorized("blockServiceOnDestination_Service_int_policy",[this.facility]),this.displayedColumns=this.removeAuth?["select","destinationId","service","destination","type","status","propagationType"]:["destinationId","service","destination","type","status","propagationType"]}},{key:"addDestination",value:function(){var e=this,t=Object(d.o)();t.width="600px",t.data={facility:this.facility,theme:"facility-theme"},this.dialog.open(Je.a,t).afterClosed().subscribe((function(t){t&&e.translate.get("FACILITY_DETAIL.SERVICES_DESTINATIONS.ADD_SUCCESS").subscribe((function(t){e.refreshTable(),e.notificator.showSuccess(t)}))}))}},{key:"removeDestination",value:function(){var e=this,t=Object(d.o)();t.width="600px",t.data={destinations:this.selected.selected,theme:"facility-theme"},this.dialog.open(Ze.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"blockServiceOnDestinations",value:function(e){var t=this;if(0===e.length)return this.notificator.showSuccess(this.translate.instant("FACILITY_DETAIL.SERVICES_DESTINATIONS.BLOCK_SUCCESS")),void this.refreshTable();var i=e.pop();this.serviceManager.blockServiceOnDestination(i.service.id,i.id).subscribe((function(){t.blockServiceOnDestinations(e)}),(function(){return t.loading=!1}))}},{key:"onBlock",value:function(){this.loading=!0,this.blockServiceOnDestinations(this.selected.selected)}},{key:"allowServiceOnDestinations",value:function(e){var t=this;if(0===e.length)return this.notificator.showSuccess(this.translate.instant("FACILITY_DETAIL.SERVICES_DESTINATIONS.ALLOW_SUCCESS")),void this.refreshTable();var i=e.pop();this.serviceManager.unblockServiceOnDestinationById(i.service.id,i.id).subscribe((function(){t.allowServiceOnDestinations(e)}),(function(){return t.loading=!1}))}},{key:"onAllow",value:function(){this.loading=!0,this.allowServiceOnDestinations(this.selected.selected)}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}},{key:"allSelectedAllowed",value:function(){return this.selected.selected.reduce((function(e,t){return e&&!t.blocked}),!0)}},{key:"allSelectedBlocked",value:function(){return this.selected.selected.reduce((function(e,t){return e&&t.blocked}),!0)}}]),e}()).id="FacilityServicesDestinationsComponent",et.\u0275fac=function(e){return new(e||et)(m.Mb(y.b),m.Mb(f.g),m.Mb(f.n),m.Mb(Q.pb),m.Mb(E.e),m.Mb(h.l),m.Mb(r.a),m.Mb(h.h),m.Mb(f.n))},et.\u0275cmp=m.Gb({type:et,selectors:[["app-perun-web-apps-facility-services-destinations"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Eb("router-component",!0)},decls:12,vars:10,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent","class","mr-2",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","class","mr-2",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","destinations","selection","displayedColumns","page",4,"ngIf"],["mat-flat-button","","color","accent",1,"mr-2",3,"click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],["mat-stroked-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","destinations","selection","displayedColumns","page"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"perun-web-apps-refresh-button",1),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Hc(5,We,3,3,"button",2),m.Hc(6,Ke,3,4,"button",3),m.Hc(7,$e,5,4,"button",4),m.Hc(8,qe,5,4,"button",4),m.Sb(9,"perun-web-apps-immediate-filter",5),m.Zb("filter",(function(e){return t.applyFilter(e)})),m.Rb(),m.Hc(10,Qe,1,0,"mat-spinner",6),m.Hc(11,Xe,1,5,"app-perun-web-apps-destination-list",7),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,8,"FACILITY_DETAIL.SERVICES_DESTINATIONS.TITLE")),m.Ab(3),m.kc("ngIf",!t.loading&&t.addAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.removeAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.allowAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.blockAuth),m.Ab(1),m.kc("placeholder","FACILITY_DETAIL.SERVICES_DESTINATIONS.FILTER"),m.Ab(1),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[te.a,c.t,ie.a,k.b,S.a,I.c,je.a],pipes:[E.d],styles:[""]}),et),it=n("st5j"),at=n("noDS"),st=n("9Iem");function nt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-refresh-button",7),m.Zb("refresh",(function(){return m.xc(i),m.dc().refreshTable()})),m.Rb()}}function ct(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",8),m.Zb("click",(function(){return m.xc(i),m.dc().onCreate()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}2&e&&(m.Ab(1),m.Lc(" ",m.fc(2,1,"FACILITY_DETAIL.SETTINGS.OWNERS.ADD"),"\n"))}function rt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",9),m.Zb("click",(function(){return m.xc(i),m.dc().onRemove()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selection.selected.length),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.SETTINGS.OWNERS.DELETE"),"\n")}}function lt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-immediate-filter",10),m.Zb("filter",(function(e){return m.xc(i),m.dc().applyFilter(e)})),m.Rb()}2&e&&m.kc("placeholder","VO_MANAGEMENT.FILTER_PLACEHOLDER")}function ot(e,t){1&e&&m.Nb(0,"mat-spinner",11)}function ut(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-owners-list",12),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("owners",a.owners)("displayedColumns",a.displayedColumns)("selection",a.selection)}}var bt,ft=((bt=function(){function e(t,a,s,n,c){i(this,e),this.facilitiesManagerService=t,this.tableConfigService=a,this.route=s,this.dialog=n,this.authResolver=c,this.owners=[],this.selection=new $.c(!0,[]),this.displayedColumns=["id","name","contact","type"],this.tableId=Q.y}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.filterValue="",this.route.parent.parent.params.subscribe((function(t){e.facilityId=parseInt(t.facilityId,10),e.facility={id:e.facilityId,beanName:"Facility"},e.refreshTable()}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.selection.clear(),this.facilitiesManagerService.getFacilityOwners(this.facilityId).subscribe((function(t){e.owners=t,e.setAuthRights(),e.loading=!1}))}},{key:"setAuthRights",value:function(){this.addAuth=this.authResolver.isAuthorized("addOwner_Facility_Owner_policy",[this.facility]),this.removeAuth=this.authResolver.isAuthorized("removeOwner_Facility_Owner_policy",[this.facility]),this.displayedColumns=this.removeAuth?["select","id","name","contact","type"]:["id","name","contact","type"]}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"onCreate",value:function(){var e=this,t=Object(d.o)();t.width="800px",t.data={theme:"facility-theme",facilityId:this.facilityId,forbiddenOwners:this.owners.map((function(e){return e.id}))},this.dialog.open(it.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"onRemove",value:function(){var e=this,t=Object(d.o)();t.width="600px",t.data={theme:"facility-theme",owners:this.selection.selected,facilityId:this.facilityId},this.dialog.open(at.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||bt)(m.Mb(f.g),m.Mb(Q.pb),m.Mb(r.a),m.Mb(y.b),m.Mb(h.h))},bt.\u0275cmp=m.Gb({type:bt,selectors:[["app-facility-settings-owners"]],decls:9,vars:9,consts:[[1,"page-subtitle"],[3,"refresh",4,"ngIf"],["class","mr-2","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","owners","displayedColumns","selection","page",4,"ngIf"],[3,"refresh"],["color","accent","mat-flat-button","",1,"mr-2",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[3,"placeholder","filter"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","owners","displayedColumns","selection","page"]],template:function(e,t){1&e&&(m.Sb(0,"h1",0),m.Jc(1),m.ec(2,"translate"),m.Rb(),m.Hc(3,nt,1,0,"perun-web-apps-refresh-button",1),m.Hc(4,ct,3,3,"button",2),m.Hc(5,rt,3,4,"button",3),m.Hc(6,lt,1,1,"perun-web-apps-immediate-filter",4),m.Hc(7,ot,1,0,"mat-spinner",5),m.Hc(8,ut,1,5,"perun-web-apps-owners-list",6)),2&e&&(m.Ab(1),m.Kc(m.fc(2,7,"FACILITY_DETAIL.SETTINGS.OWNERS.TITLE")),m.Ab(2),m.kc("ngIf",!t.loading),m.Ab(1),m.kc("ngIf",!t.loading&&t.addAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.removeAuth),m.Ab(1),m.kc("ngIf",!t.loading),m.Ab(1),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[c.t,te.a,k.b,ie.a,I.c,st.a],pipes:[E.d],styles:[""]}),bt),dt=n("dnAU"),ht=n("vUrr"),pt=n("gdiH");function gt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",7),m.Zb("click",(function(){return m.xc(i),m.dc().addHost()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}2&e&&(m.Ab(1),m.Lc(" ",m.fc(2,1,"FACILITY_DETAIL.HOSTS.ADD")," "))}function mt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",8),m.Zb("click",(function(){return m.xc(i),m.dc().removeHost()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.HOSTS.REMOVE")," ")}}function yt(e,t){1&e&&m.Nb(0,"mat-spinner",9)}function vt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"app-hosts-list",10),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("hosts",a.hosts)("selection",a.selected)("displayedColumns",a.displayedColumns)("disableRouting",!a.routeAuth)("facilityId",a.facilityId)}}var It,St=((It=function(){function e(t,a,s,n,c){i(this,e),this.dialog=t,this.facilitiesManager=a,this.tableConfigService=s,this.route=n,this.authResolver=c,this.hosts=[],this.selected=new $.c(!0,[]),this.filterValue="",this.tableId=Q.x,this.displayedColumns=["id","name"]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe((function(t){e.facilityId=t.facilityId,e.facilitiesManager.getFacilityById(e.facilityId).subscribe((function(t){e.facility=t,e.refreshTable()}))}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.facilitiesManager.getHosts(this.facilityId).subscribe((function(t){e.hosts=t,e.selected.clear(),e.setAuthRights(),e.loading=!1}))}},{key:"setAuthRights",value:function(){this.addAuth=this.authResolver.isAuthorized("addHosts_Facility_List<String>_policy",[this.facility]),this.removeAuth=this.authResolver.isAuthorized("removeHosts_List<Host>_Facility_policy",[this.facility]),this.displayedColumns=this.removeAuth?["select","id","name"]:["id","name"],0!==this.hosts.length&&(this.routeAuth=this.authResolver.isAuthorized("getHostById_int_policy",[this.facility,this.hosts[0]]))}},{key:"addHost",value:function(){var e=this,t=Object(d.o)();t.width="600px",t.data={facilityId:this.facility.id,facilityName:this.facility.name,theme:"facility-theme"},this.dialog.open(dt.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"removeHost",value:function(){var e=this,t=Object(d.o)();t.width="600px",t.data={facilityId:this.facility.id,theme:"facility-theme",hosts:this.selected.selected},this.dialog.open(ht.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||It)(m.Mb(y.b),m.Mb(f.g),m.Mb(Q.pb),m.Mb(r.a),m.Mb(h.h))},It.\u0275cmp=m.Gb({type:It,selectors:[["app-facility-hosts"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent","class","mr-2",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","hosts","selection","displayedColumns","disableRouting","facilityId","page",4,"ngIf"],["mat-flat-button","","color","accent",1,"mr-2",3,"click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","hosts","selection","displayedColumns","disableRouting","facilityId","page"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"perun-web-apps-refresh-button",1),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Hc(5,gt,3,3,"button",2),m.Hc(6,mt,3,4,"button",3),m.Sb(7,"perun-web-apps-immediate-filter",4),m.Zb("filter",(function(e){return t.applyFilter(e)})),m.Rb(),m.Hc(8,yt,1,0,"mat-spinner",5),m.Hc(9,vt,1,7,"app-hosts-list",6),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,6,"FACILITY_DETAIL.HOSTS.TITLE")),m.Ab(3),m.kc("ngIf",!t.loading&&t.addAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.removeAuth),m.Ab(1),m.kc("placeholder","FACILITY_DETAIL.HOSTS.FILTER"),m.Ab(1),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[te.a,c.t,ie.a,k.b,I.c,pt.a],pipes:[E.d],styles:[""]}),It),Tt=n("77So");function At(e,t){1&e&&m.Nb(0,"mat-spinner",5)}function kt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"app-perun-web-apps-blacklist-list",6),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("bansOnFacilitiesWithUsers",a.bansOnFacilitiesWithUsers)("selection",a.selected)}}var Et,Rt=((Et=function(){function t(e,a,s,n){i(this,t),this.facilitiesManager=e,this.usersManager=a,this.tableConfigService=s,this.route=n,this.bansOnFacilitiesWithUsers=[],this.selected=new $.c(!0,[]),this.filterValue="",this.tableId=Q.w}return s(t,[{key:"ngOnInit",value:function(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.refreshTable()}},{key:"refreshTable",value:function(){var t=this;this.loading=!0,this.route.parent.parent.params.subscribe((function(i){t.facilitiesManager.getBansForFacility(i.facilityId).subscribe((function(i){var a,s=e(i);try{for(s.s();!(a=s.n()).done;){var n=a.value,c=void 0;t.usersManager.getUserById(n.userId).subscribe((function(e){c=e})),t.bansOnFacilitiesWithUsers.push([n,c])}}catch(r){s.e(r)}finally{s.f()}t.selected.clear(),t.loading=!1}))}))}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),t}()).\u0275fac=function(e){return new(e||Et)(m.Mb(f.g),m.Mb(f.q),m.Mb(Q.pb),m.Mb(r.a))},Et.\u0275cmp=m.Gb({type:Et,selectors:[["app-perun-web-apps-facility-settings-blacklist"]],decls:9,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","bansOnFacilitiesWithUsers","selection","page",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","bansOnFacilitiesWithUsers","selection","page"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"perun-web-apps-refresh-button",1),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Sb(5,"perun-web-apps-immediate-filter",2),m.Zb("filter",(function(e){return t.applyFilter(e)})),m.ec(6,"translate"),m.Rb(),m.Hc(7,At,1,0,"mat-spinner",3),m.Hc(8,kt,1,4,"app-perun-web-apps-blacklist-list",4),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,4,"FACILITY_DETAIL.SETTINGS.BLACKLIST.TITLE")),m.Ab(3),m.kc("placeholder",m.fc(6,6,"FACILITY_DETAIL.SETTINGS.BLACKLIST.FILTER")),m.Ab(2),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[te.a,ie.a,c.t,I.c,Tt.a],pipes:[E.d],styles:[""]}),Et),Ct=["list"];function Lt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-attributes-list",6,7),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("attributes",a.attributes)("selection",a.selected)}}var Ft,_t=((Ft=function(){function e(t,a,s,n,c){i(this,e),this.dialog=t,this.attributesManager=a,this.facilityManager=s,this.tableConfigService=n,this.route=c,this.attributes=[],this.selected=new $.c(!0,[]),this.host={beanName:"",id:0},this.tableId=Q.r}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.params.subscribe((function(t){e.hostId=t.hostId,e.facilityManager.getHostById(e.hostId).subscribe((function(t){e.host=t})),e.refreshTable()}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.attributesManager.getHostAttributes(this.hostId).subscribe((function(t){e.attributes=Object(d.j)(t),e.selected.clear(),e.loading=!1}))}},{key:"onSave",value:function(){var e=this;this.list.updateMapAttributes();var t=Object(d.o)();t.width="450px",t.data={entityId:this.hostId,entity:"host",attributes:this.selected.selected},this.dialog.open(p.f,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"addAttribute",value:function(){var e=this,t=Object(d.o)();t.width="1050px",t.data={entityId:this.hostId,entity:"host",notEmptyAttributes:this.attributes,style:"facility-theme"},this.dialog.open(X.a,t).afterClosed().subscribe((function(t){"saved"===t&&e.refreshTable()}))}},{key:"removeAttribute",value:function(){var e=this,t=Object(d.o)();t.width="450px",t.data={entityId:this.hostId,entity:"host",attributes:this.selected.selected,theme:"facility-theme"},this.dialog.open(q.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||Ft)(m.Mb(y.b),m.Mb(f.c),m.Mb(f.g),m.Mb(Q.pb),m.Mb(r.a))},Ft.\u0275cmp=m.Gb({type:Ft,selectors:[["app-facility-hosts-detail"]],viewQuery:function(e,t){var i;1&e&&m.Qc(Ct,!0),2&e&&m.sc(i=m.ac())&&(t.list=i.first)},decls:15,vars:16,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent",1,"mr-2",3,"click"],["mat-flat-button","","color","accent",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","warn",1,"ml-2",3,"disabled","click"],[3,"pageSize","attributes","selection","page",4,"ngIf"],[3,"pageSize","attributes","selection","page"],["list",""]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"perun-web-apps-refresh-button",1),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Sb(5,"button",2),m.Zb("click",(function(){return t.addAttribute()})),m.Jc(6),m.ec(7,"translate"),m.Rb(),m.Sb(8,"button",3),m.Zb("click",(function(){return t.onSave()})),m.Jc(9),m.ec(10,"translate"),m.Rb(),m.Sb(11,"button",4),m.Zb("click",(function(){return t.removeAttribute()})),m.Jc(12),m.ec(13,"translate"),m.Rb(),m.Hc(14,Lt,2,3,"perun-web-apps-attributes-list",5),m.Rb()),2&e&&(m.Ab(2),m.Mc(" ",m.fc(3,8,"FACILITY_DETAIL.HOSTS.HOSTS_DETAIL.TITLE")," ",t.host.hostname,""),m.Ab(4),m.Lc(" ",m.fc(7,10,"FACILITY_DETAIL.HOSTS.HOSTS_DETAIL.ADD")," "),m.Ab(2),m.kc("disabled",0===t.selected.selected.length),m.Ab(1),m.Lc(" ",m.fc(10,12,"FACILITY_DETAIL.HOSTS.HOSTS_DETAIL.SAVE")," "),m.Ab(2),m.kc("disabled",0===t.selected.selected.length),m.Ab(1),m.Lc(" ",m.fc(13,14,"FACILITY_DETAIL.HOSTS.HOSTS_DETAIL.REMOVE")," "),m.Ab(2),m.kc("ngIf",!t.loading))},directives:[te.a,k.b,c.t,ae.a],pipes:[E.d],styles:[""]}),Ft),Mt=n("iT3j");function wt(e,t){1&e&&m.Nb(0,"mat-spinner",5)}function Ot(e,t){if(1&e){var i=m.Tb();m.Sb(0,"app-security-teams-list",6),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("securityTeams",a.securityTeams)("displayedColumns",a.displayedColumns)("selection",a.selected)}}var Dt,zt=((Dt=function(){function e(t,a,s,n,c){i(this,e),this.dialog=t,this.facilitiesManager=a,this.tableConfigService=s,this.route=n,this.authResolver=c,this.securityTeams=[],this.selected=new $.c(!0,[]),this.filterValue="",this.tableId=Q.A,this.displayedColumns=[]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe((function(t){e.facilitiesManager.getFacilityById(t.facilityId).subscribe((function(t){e.facility=t,e.refreshTable()}))}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.facilitiesManager.getAssignedSecurityTeams(this.facility.id).subscribe((function(t){e.securityTeams=t,e.selected.clear(),e.setAuthRights(),e.loading=!1}))}},{key:"setAuthRights",value:function(){this.addAuth=this.authResolver.isAuthorized("assignSecurityTeam_Facility_SecurityTeam_policy",[this.facility]),this.removeAuth=this.authResolver.isAuthorized("removeSecurityTeam_Facility_SecurityTeam_policy",[this.facility]),this.displayedColumns=this.removeAuth?["select","id","name","description"]:["id","name","description"]}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"addSecurityTeam",value:function(){}},{key:"removeSecurityTeam",value:function(){}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||Dt)(m.Mb(y.b),m.Mb(f.g),m.Mb(Q.pb),m.Mb(r.a),m.Mb(h.h))},Dt.\u0275cmp=m.Gb({type:Dt,selectors:[["app-facility-security-teams"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","securityTeams","displayedColumns","selection","page",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","securityTeams","displayedColumns","selection","page"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"perun-web-apps-refresh-button",1),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Sb(5,"perun-web-apps-immediate-filter",2),m.Zb("filter",(function(e){return t.applyFilter(e)})),m.Rb(),m.Hc(6,wt,1,0,"mat-spinner",3),m.Hc(7,Ot,1,5,"app-security-teams-list",4),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,4,"FACILITY_DETAIL.SECURITY_TEAMS.TITLE")),m.Ab(3),m.kc("placeholder","FACILITY_DETAIL.SECURITY_TEAMS.FILTER"),m.Ab(1),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[te.a,ie.a,c.t,I.c,Mt.a],pipes:[E.d],styles:[""]}),Dt),Nt=n("Fm3m"),Vt=n("TNye"),Ht=n("CIWc"),Yt=n("RCwe"),Ut=n("NMas"),Bt=n("Jb3d"),xt=n("WLDY");function Pt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",11),m.Zb("click",(function(){return m.xc(i),m.dc().forcePropagation()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.SERVICES_STATUS.FORCE_PROPAGATION")," ")}}function Gt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",11),m.Zb("click",(function(){return m.xc(i),m.dc().allow()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length||a.disableAllowButton),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.SERVICES_STATUS.ALLOW")," ")}}function Zt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",12),m.Zb("click",(function(){return m.xc(i),m.dc().block()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc();m.kc("disabled",0===a.selected.selected.length||a.disableBlockButton),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.SERVICES_STATUS.BLOCK")," ")}}function Jt(e,t){if(1&e&&(m.Sb(0,"button",13),m.ec(1,"translate"),m.Jc(2),m.ec(3,"translate"),m.Rb()),2&e){var i=m.dc(),a=m.tc(10);m.lc("matTooltip",m.fc(1,5,"DIALOGS.REMOVE_SERVICE_FROM_FACILITY.CHECKBOXES_DISABLED")),m.kc("matTooltipDisabled",!i.disableRemoveButton)("disabled",i.disableRemoveButton)("matMenuTriggerFor",a),m.Ab(2),m.Lc(" ",m.fc(3,7,"FACILITY_DETAIL.SERVICES_STATUS.REMOVE")," ")}}function jt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",7),m.Zb("click",(function(){return m.xc(i),m.dc().removeTaskResults()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}2&e&&(m.Ab(1),m.Lc(" ",m.fc(2,1,"FACILITY_DETAIL.SERVICES_STATUS.REMOVE_TASK_RESULTS")," "))}function Wt(e,t){1&e&&m.Nb(0,"mat-spinner",14)}function Kt(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-services-status-list",15),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)}))("selectionChange",(function(){return m.xc(i),m.dc().selectionChanged()})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("filterValue",a.filterValue)("servicesStatus",a.servicesStates)("selection",a.selected)("disableRouting",!a.routeAuth)}}var $t,qt=(($t=function(){function t(e,a,s,n,c,r,l,o,u,b){var f=this;i(this,t),this.route=e,this.tasksManager=a,this.tableConfigService=s,this.servicesManager=n,this.notificator=c,this.translate=r,this.authResolver=l,this.facilityManager=o,this.resourcesManager=u,this.dialog=b,this.servicesStates=[],this.selected=new $.c(!0,[]),this.filterValue="",this.tableId=Q.D,this.disableAllowButton=!0,this.disableBlockButton=!0,this.disableRemoveButton=!0,r.get("FACILITY_DETAIL.SERVICES_STATUS.SUCCESS_FORCE_PROPAGATION").subscribe((function(e){return f.successFPMessage=e})),r.get("FACILITY_DETAIL.SERVICES_STATUS.SUCCESS_ALLOW").subscribe((function(e){return f.successAllowMessage=e})),r.get("FACILITY_DETAIL.SERVICES_STATUS.SUCCESS_BLOCK").subscribe((function(e){return f.successBlockMessage=e})),r.get("FACILITY_DETAIL.SERVICES_STATUS.SUCCESS_DELETE").subscribe((function(e){return f.successDeleteMessage=e})),r.get("FACILITY_DETAIL.SERVICES_STATUS.ALREADY_DELETED").subscribe((function(e){return f.allreadyDeletedMessage=e}))}return s(t,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe((function(t){e.facilityId=parseInt(t.facilityId,10),e.facility={id:e.facilityId,beanName:"Facility"},e.refreshTable()}))}},{key:"forcePropagation",value:function(){var t,i=this,a=e(this.selected.selected);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.servicesManager.forceServicePropagation(s.service.id,s.facility.id).subscribe((function(){i.refreshTable(),i.notificator.showSuccess(i.successFPMessage)}))}}catch(n){a.e(n)}finally{a.f()}}},{key:"allow",value:function(){var t,i=this,a=e(this.selected.selected);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.servicesManager.unblockServiceOnFacility(s.service.id,s.facility.id).subscribe((function(){i.refreshTable(),i.notificator.showSuccess(i.successAllowMessage)}))}}catch(n){a.e(n)}finally{a.f()}}},{key:"block",value:function(){var t,i=this,a=e(this.selected.selected);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.servicesManager.blockServiceOnFacility(s.service.id,s.facility.id).subscribe((function(){i.refreshTable(),i.notificator.showSuccess(i.successBlockMessage)}))}}catch(n){a.e(n)}finally{a.f()}}},{key:"removeTaskResults",value:function(){var e=this;this.tasksManager.getTaskResultsForGUIByTask(this.selected.selected[0].task.id).subscribe((function(t){var i=Object(d.o)();i.width="600px",i.data={theme:"facility-theme",taskResults:t},e.dialog.open(Ht.a,i)}))}},{key:"removeServiceFromFacility",value:function(){var e=this;this.facilityManager.getAssignedResourcesByAssignedServiceForFacility(this.selected.selected[0].facility.id,this.selected.selected[0].service.id).subscribe((function(t){var i=Object(d.o)();i.width="600px",e.taskId=e.taskIsNull?null:e.selected.selected[0].task.id,0===t.length?(i.data={theme:"facility-theme",taskId:e.taskId},e.dialog.open(Ut.a,i).afterClosed().subscribe((function(t){t&&(e.disableRemoveButton=!0,e.refreshTable())}))):e.resourcesManager.getRichResourcesByIds(t.map((function(e){return e.id}))).subscribe((function(t){i.data={theme:"facility-theme",taskId:e.taskId,serviceId:e.selected.selected[0].service.id,facilityId:e.selected.selected[0].facility.id,resource:t},e.dialog.open(Yt.a,i).afterClosed().subscribe((function(t){t&&(e.disableRemoveButton=!0,e.refreshTable())}))}))}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.tasksManager.getFacilityServicesState(this.facilityId).subscribe((function(t){e.servicesStates=t,e.selected.clear(),e.setAuthRights(),e.loading=!1}))}},{key:"setAuthRights",value:function(){this.propagationAuth=this.authResolver.isAuthorized("forceServicePropagation_Facility_Service_policy",[this.facility]),this.blockAuth=this.authResolver.isAuthorized("blockServiceOnFacility_Service_Facility_policy",[this.facility]),this.allowAuth=this.authResolver.isAuthorized("unblockServiceOnFacility_Service_Facility_policy",[this.facility]),this.deleteAuth=this.authResolver.isAuthorized("deleteTask_Task_policy",[this.facility]),this.routeAuth=this.authResolver.isAuthorized("getTaskResultsByTask_int_policy",[this.facility])}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}},{key:"selectionChanged",value:function(){this.disableBlockButton=!0,this.disableAllowButton=!0,this.disableRemoveButton=1!==this.selected.selected.length,this.disableRemoveButton||(this.taskIsNull=null===this.selected.selected[0].task);var t,i=e(this.selected.selected);try{for(i.s();!(t=i.n()).done;)t.value.blockedOnFacility?this.disableAllowButton=!1:this.disableBlockButton=!1}catch(a){i.e(a)}finally{i.f()}}}]),t}()).\u0275fac=function(e){return new(e||$t)(m.Mb(r.a),m.Mb(f.o),m.Mb(Q.pb),m.Mb(f.n),m.Mb(h.l),m.Mb(E.e),m.Mb(h.h),m.Mb(f.g),m.Mb(f.m),m.Mb(y.b))},$t.\u0275cmp=m.Gb({type:$t,selectors:[["app-facility-service-status"]],decls:18,vars:14,consts:[[1,"page-subtitle"],[3,"refresh"],["mat-flat-button","","color","accent","class","mr-2",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","warn","class","mr-2 dropdown-toggle",3,"matTooltip","matTooltipDisabled","disabled","matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","filterValue","servicesStatus","selection","disableRouting","page","selectionChange",4,"ngIf"],["mat-flat-button","","color","accent",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","warn",1,"mr-2",3,"disabled","click"],["mat-flat-button","","color","warn",1,"mr-2","dropdown-toggle",3,"matTooltip","matTooltipDisabled","disabled","matMenuTriggerFor"],[1,"ml-auto","mr-auto"],[3,"pageSize","filterValue","servicesStatus","selection","disableRouting","page","selectionChange"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Sb(4,"perun-web-apps-refresh-button",1),m.Zb("refresh",(function(){return t.refreshTable()})),m.Rb(),m.Hc(5,Pt,3,4,"button",2),m.Hc(6,Gt,3,4,"button",2),m.Hc(7,Zt,3,4,"button",3),m.Hc(8,Jt,4,9,"button",4),m.Sb(9,"mat-menu",null,5),m.Hc(11,jt,3,3,"button",6),m.Sb(12,"button",7),m.Zb("click",(function(){return t.removeServiceFromFacility()})),m.Jc(13),m.ec(14,"translate"),m.Rb(),m.Rb(),m.Sb(15,"perun-web-apps-immediate-filter",8),m.Zb("filter",(function(e){return t.applyFilter(e)})),m.Rb(),m.Hc(16,Wt,1,0,"mat-spinner",9),m.Hc(17,Kt,1,5,"perun-web-apps-services-status-list",10),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,10,"FACILITY_DETAIL.SERVICES_STATUS.TITLE")),m.Ab(3),m.kc("ngIf",!t.loading&&t.propagationAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.allowAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.blockAuth),m.Ab(1),m.kc("ngIf",!t.loading&&t.deleteAuth),m.Ab(3),m.kc("ngIf",!t.taskIsNull),m.Ab(2),m.Kc(m.fc(14,12,"FACILITY_DETAIL.SERVICES_STATUS.REMOVE_SERVICE_FROM_FACILITY")),m.Ab(2),m.kc("placeholder","SHARED_LIB.PERUN.COMPONENTS.SERVICES_STATUS_LIST.TABLE_SEARCH"),m.Ab(1),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading))},directives:[te.a,c.t,Bt.e,Bt.b,ie.a,k.b,T.a,Bt.d,I.c,xt.a],pipes:[E.d],styles:[""]}),$t),Qt=n("FcRk"),Xt=n("NC8S");function ei(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-refresh-button",6),m.Zb("refresh",(function(){return m.xc(i),m.dc().refreshTable()})),m.Rb()}}function ti(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-immediate-filter",7),m.Zb("filter",(function(e){return m.xc(i),m.dc().applyFilter(e)})),m.Rb()}2&e&&m.kc("placeholder","FACILITY_DETAIL.ALLOWED_USERS.FILTER")}function ii(e,t){1&e&&m.Nb(0,"mat-spinner",8)}function ai(e,t){1&e&&(m.Sb(0,"app-alert",9),m.Jc(1),m.ec(2,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Lc(" ",m.fc(2,1,"FACILITY_DETAIL.ALLOWED_USERS.NO_USERS")," "))}var si=function(){return["id","name"]};function ni(e,t){if(1&e){var i=m.Tb();m.Sb(0,"app-users-list",10),m.Zb("page",(function(e){return m.xc(i),m.dc().pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc();m.kc("pageSize",a.pageSize)("users",a.users)("displayedColumns",m.oc(5,si))("disableRouting",!a.routeAuth)("filter",a.filterValue)}}var ci,ri=((ci=function(){function e(t,a,s,n){i(this,e),this.route=t,this.facilityService=a,this.tableConfigService=s,this.authResolver=n,this.loading=!1,this.filterValue="",this.tableId=Q.v}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe((function(t){e.facilityId=t.facilityId,e.routeAuth=e.authResolver.isPerunAdmin(),e.refreshTable()}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.facilityService.getAssignedUsers(this.facilityId).subscribe((function(t){e.users=t,e.loading=!1}))}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}()).\u0275fac=function(e){return new(e||ci)(m.Mb(r.a),m.Mb(f.g),m.Mb(Q.pb),m.Mb(h.h))},ci.\u0275cmp=m.Gb({type:ci,selectors:[["app-facility-allowed-users"]],decls:9,vars:8,consts:[[1,"page-subtitle"],[3,"refresh",4,"ngIf"],[3,"placeholder","filter",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],["alert_type","warn",4,"ngIf"],[3,"pageSize","users","displayedColumns","disableRouting","filter","page",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],[1,"ml-auto","mr-auto"],["alert_type","warn"],[3,"pageSize","users","displayedColumns","disableRouting","filter","page"]],template:function(e,t){1&e&&(m.Sb(0,"div"),m.Sb(1,"h1",0),m.Jc(2),m.ec(3,"translate"),m.Rb(),m.Hc(4,ei,1,0,"perun-web-apps-refresh-button",1),m.Hc(5,ti,1,1,"perun-web-apps-immediate-filter",2),m.Hc(6,ii,1,0,"mat-spinner",3),m.Hc(7,ai,3,3,"app-alert",4),m.Hc(8,ni,1,6,"app-users-list",5),m.Rb()),2&e&&(m.Ab(2),m.Kc(m.fc(3,6,"FACILITY_DETAIL.ALLOWED_USERS.TITLE")),m.Ab(2),m.kc("ngIf",!t.loading),m.Ab(1),m.kc("ngIf",!t.loading),m.Ab(1),m.kc("ngIf",t.loading),m.Ab(1),m.kc("ngIf",!t.loading&&(void 0===t.users||0===t.users.length)),m.Ab(1),m.kc("ngIf",!t.loading&&0!==t.users.length))},directives:[c.t,te.a,ie.a,I.c,Qt.a,Xt.a],pipes:[E.d],styles:[""]}),ci),li=n("lfUW"),oi=n("COMt");function ui(e,t){if(1&e){var i=m.Tb();m.Sb(0,"button",8),m.Zb("click",(function(){return m.xc(i),m.dc(2).removeTaskResult()})),m.Jc(1),m.ec(2,"translate"),m.Rb()}if(2&e){var a=m.dc(2);m.kc("disabled",0===a.selection.selected.length),m.Ab(1),m.Lc(" ",m.fc(2,2,"FACILITY_DETAIL.TASK_RESULTS.REMOVE")," ")}}function bi(e,t){1&e&&m.Nb(0,"mat-spinner",9)}function fi(e,t){if(1&e){var i=m.Tb();m.Sb(0,"perun-web-apps-task-results-list",10),m.Zb("page",(function(e){return m.xc(i),m.dc(2).pageChanged(e)})),m.Rb()}if(2&e){var a=m.dc(2);m.kc("displayedColumns",a.displayedColumns)("filterValue",a.filterValue)("pageSize",a.pageSize)("selection",a.selection)("taskResults",a.taskResults)}}function di(e,t){if(1&e){var i=m.Tb();m.Sb(0,"div"),m.Sb(1,"h1",1),m.Jc(2),m.ec(3,"translate"),m.Sb(4,"span",2),m.Jc(5),m.Rb(),m.Rb(),m.Sb(6,"perun-web-apps-refresh-button",3),m.Zb("refresh",(function(){return m.xc(i),m.dc().refreshTable()})),m.Rb(),m.Hc(7,ui,3,4,"button",4),m.Sb(8,"perun-web-apps-immediate-filter",5),m.Zb("filter",(function(e){return m.xc(i),m.dc().applyFilter(e)})),m.Rb(),m.Hc(9,bi,1,0,"mat-spinner",6),m.Hc(10,fi,1,5,"perun-web-apps-task-results-list",7),m.Rb()}if(2&e){var a=m.dc();m.Ab(2),m.Mc("",m.fc(3,7,"FACILITY_DETAIL.TASK_RESULTS.TITLE")," - ",a.task.service.name," "),m.Ab(3),m.Lc(" \xa0#",a.task.id," "),m.Ab(2),m.kc("ngIf",!a.loading&&a.removeAuth),m.Ab(1),m.kc("placeholder","FACILITY_DETAIL.TASK_RESULTS.FILTER"),m.Ab(1),m.kc("ngIf",a.loading),m.Ab(1),m.kc("ngIf",!a.loading)}}var hi,pi,gi,mi=[{path:"",component:l.a},{path:":facilityId",component:O,children:[{path:"",component:Y,data:{animation:"FacilityOverviewPage"}},{path:"attributes",component:he,data:{animation:"FacilityAttributesPage"}},{path:"resources",component:U.a,data:{animation:"FacilityResourcesPage"}},{path:"allowed-users",component:ri,data:{animation:"FacilityAllowedUsersPage"}},{path:"allowed-groups",component:B.a,data:{animation:"FacilityAllowedGroupsPage"}},{path:"services-status",component:qt,data:{animation:"FacilityServiceStatusPage"}},{path:"services-status/:taskId",component:(hi=function(){function e(t,a,s,n,c){i(this,e),this.route=t,this.tableConfigService=a,this.taskManager=s,this.authResolver=n,this.dialog=c,this.loading=!1,this.filterValue="",this.selection=new $.c(!0,[]),this.tableId=Q.Y,this.displayedColumns=["select","id","destination","type","service","status","time","returnCode","standardMessage","errorMessage"],this.removeAuth=!1}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.route.parent.params.subscribe((function(t){e.facility={id:parseInt(t.facilityId,10),beanName:"Facility"},e.removeAuth=e.authResolver.isAuthorized("deleteTask_Task_policy",[e.facility]),e.removeAuth||(e.displayedColumns=["id","destination","type","service","status","time","returnCode","standardMessage","errorMessage"]),e.route.params.subscribe((function(t){e.taskId=t.taskId,e.taskManager.getTaskById(e.taskId).subscribe((function(t){e.task=t,e.refreshTable()}))}))}))}},{key:"refreshTable",value:function(){var e=this;this.loading=!0,this.taskManager.getTaskResultsForGUIByTask(this.taskId).subscribe((function(t){e.selection.clear(),e.taskResults=t,e.loading=!1}))}},{key:"removeTaskResult",value:function(){var e=this,t=Object(d.o)();t.width="600px",t.data={theme:"facility-theme",taskResults:this.selection.selected},this.dialog.open(Ht.a,t).afterClosed().subscribe((function(t){t&&e.refreshTable()}))}},{key:"applyFilter",value:function(e){this.filterValue=e}},{key:"pageChanged",value:function(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}}]),e}(),hi.\u0275fac=function(e){return new(e||hi)(m.Mb(r.a),m.Mb(Q.pb),m.Mb(f.o),m.Mb(h.h),m.Mb(y.b))},hi.\u0275cmp=m.Gb({type:hi,selectors:[["app-facility-task-results"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-subtitle"],[1,"text-muted"],[3,"refresh"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"displayedColumns","filterValue","pageSize","selection","taskResults","page",4,"ngIf"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","filterValue","pageSize","selection","taskResults","page"]],template:function(e,t){1&e&&m.Hc(0,di,11,9,"div",0),2&e&&m.kc("ngIf",!t.loading)},directives:[c.t,te.a,ie.a,k.b,I.c,oi.a],pipes:[E.d],styles:[""]}),hi),data:{animation:"FacilityTaskResultsPage"}},{path:"service-config",component:Ue,data:{animation:"FacilityServiceConfigPage"}},{path:"services-destinations",component:tt,data:{animation:"FacilityServicesDestinationsPage"}},{path:"hosts",component:St,data:{animation:"FacilityHostsPage"}},{path:"hosts/:hostId",component:_t,data:{animation:"FacilityHostsDetailPage"}},{path:"settings",component:G,children:[{path:"",component:W,data:{animation:"FacilitySettingsOverviewPage"}},{path:"owners",component:ft,data:{animation:"FacilitySettingOwnersPage"}},{path:"managers",component:Ge,data:{animation:"FacilitySettingsManagersPage"}},{path:"security-teams",component:zt,data:{animation:"FacilitySecurityTeamsPage"}},{path:"blacklist",component:Rt,data:{animation:"FacilitySettingsBlackListPage"}}]}]},{path:":facilityId/resources/:resourceId",component:x.a,children:[{path:"",component:P.a,data:{animation:"ResourceOverviewPage"}},{path:"attributes",component:me.a,data:{animation:"ResourceAttributesPage"}},{path:"groups",component:ye.a,data:{animation:"ResourceGroupsComponent"}},{path:"services",component:Vt.a,data:{animation:"ResourceAssignedServicesComponent"}},{path:"members",component:li.a,data:{animation:"ResourceAssignedMembersComponent"}},{path:"settings",component:pe.a,children:[{path:"",component:ge.a,data:{animation:"ResourceSettingsOverviewPage"}},{path:"managers",component:Nt.a,data:{animation:"ResourceSettingsManagersPage"}}]}]}],yi=((pi=function e(){i(this,e)}).\u0275mod=m.Kb({type:pi}),pi.\u0275inj=m.Jb({factory:function(e){return new(e||pi)},imports:[[r.j.forChild(mi)],r.j]}),pi),vi=n("PCNd"),Ii=n("KoHB"),Si=n("zrcO"),Ti=((gi=function e(){i(this,e)}).\u0275mod=m.Kb({type:gi}),gi.\u0275inj=m.Jb({factory:function(e){return new(e||gi)},providers:[Te.c],imports:[[c.c,yi,vi.a,Ii.a,K.d,Te.b,Si.UsersModule]]}),gi)}}])}();