(self.webpackChunkadmin_gui=self.webpackChunkadmin_gui||[]).push([[417],{89397:function(w,I){!function(o){"use strict";function c(H,K){return K.forEach(function(lt){lt&&"string"!=typeof lt&&!Array.isArray(lt)&&Object.keys(lt).forEach(function(it){if("default"!==it&&!(it in H)){var z=Object.getOwnPropertyDescriptor(lt,it);Object.defineProperty(H,it,z.get?z:{enumerable:!0,get:function(){return lt[it]}})}})}),Object.freeze(H)}var it,lt,x={exports:{}};it="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,lt=function(z){var Ct,It,E=void 0!==(z=z||{})?z:{};E.ready=new Promise(function(b,M){Ct=b,It=M});var Ht,Rt={};for(Ht in E)E.hasOwnProperty(Ht)&&(Rt[Ht]=E[Ht]);var Nt,Qt,ne="./this.program",vt="";"undefined"!=typeof document&&document.currentScript&&(vt=document.currentScript.src),it&&(vt=it),vt=0!==vt.indexOf("blob:")?vt.substr(0,vt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Nt=function(b){var M=new XMLHttpRequest;return M.open("GET",b,!1),M.send(null),M.responseText},Qt=function(b,M,B){var j=new XMLHttpRequest;j.open("GET",b,!0),j.responseType="arraybuffer",j.onload=function(){200==j.status||0==j.status&&j.response?M(j.response):B()},j.onerror=B,j.send(null)};var Be,ge=E.print||console.log.bind(console),ye=E.printErr||console.warn.bind(console);for(Ht in Rt)Rt.hasOwnProperty(Ht)&&(E[Ht]=Rt[Ht]);Rt=null,E.thisProgram&&(ne=E.thisProgram),E.wasmBinary&&(Be=E.wasmBinary),"object"!=typeof WebAssembly&&Ln("no native wasm support detected");var vn,Re=!1;function mn(b,M){b||Ln("Assertion failed: "+M)}var je,wn,In,ze,ci,Ve="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Ce(b,M,B){for(var j=M+B,ct=M;b[ct]&&!(ct>=j);)++ct;if(ct-M>16&&b.subarray&&Ve)return Ve.decode(b.subarray(M,ct));for(var xt="";M<ct;){var kt=b[M++];if(128&kt){var Pt=63&b[M++];if(192!=(224&kt)){var ae=63&b[M++];if((kt=224==(240&kt)?(15&kt)<<12|Pt<<6|ae:(7&kt)<<18|Pt<<12|ae<<6|63&b[M++])<65536)xt+=String.fromCharCode(kt);else{var De=kt-65536;xt+=String.fromCharCode(55296|De>>10,56320|1023&De)}}else xt+=String.fromCharCode((31&kt)<<6|Pt)}else xt+=String.fromCharCode(kt)}return xt}function Ae(b,M){return b?Ce(In,b,M):""}function Yn(b,M,B,j){if(!(j>0))return 0;for(var ct=B,xt=B+j-1,kt=0;kt<b.length;++kt){var Pt=b.charCodeAt(kt);if(Pt>=55296&&Pt<=57343&&(Pt=65536+((1023&Pt)<<10)|1023&b.charCodeAt(++kt)),Pt<=127){if(B>=xt)break;M[B++]=Pt}else if(Pt<=2047){if(B+1>=xt)break;M[B++]=192|Pt>>6,M[B++]=128|63&Pt}else if(Pt<=65535){if(B+2>=xt)break;M[B++]=224|Pt>>12,M[B++]=128|Pt>>6&63,M[B++]=128|63&Pt}else{if(B+3>=xt)break;M[B++]=240|Pt>>18,M[B++]=128|Pt>>12&63,M[B++]=128|Pt>>6&63,M[B++]=128|63&Pt}}return M[B]=0,B-ct}function ni(b){for(var M=0,B=0;B<b.length;++B){var j=b.charCodeAt(B);j>=55296&&j<=57343&&(j=65536+((1023&j)<<10)|1023&b.charCodeAt(++B)),j<=127?++M:M+=j<=2047?2:j<=65535?3:4}return M}function sn(b,M){return b%M>0&&(b+=M-b%M),b}function Mn(b){je=b,E.HEAP8=wn=new Int8Array(b),E.HEAP16=new Int16Array(b),E.HEAP32=ze=new Int32Array(b),E.HEAPU8=In=new Uint8Array(b),E.HEAPU16=new Uint16Array(b),E.HEAPU32=new Uint32Array(b),E.HEAPF32=new Float32Array(b),E.HEAPF64=ci=new Float64Array(b)}var Tn,Hn=[],Kn=[],Ne=[];var _e=0,Ue=null;function nn(b){_e++,E.monitorRunDependencies&&E.monitorRunDependencies(_e)}function Zn(b){if(_e--,E.monitorRunDependencies&&E.monitorRunDependencies(_e),0==_e&&Ue){var M=Ue;Ue=null,M()}}function Ln(b){E.onAbort&&E.onAbort(b),ye(b="Aborted("+b+")"),Re=!0,b+=". Build with -s ASSERTIONS=1 for more info.";var M=new WebAssembly.RuntimeError(b);throw It(M),M}E.preloadedImages={},E.preloadedAudios={};var gn;function Di(b){return b.startsWith("data:application/octet-stream;base64,")}function ti(b){try{if(b==gn&&Be)return new Uint8Array(Be);throw"both async and sync fetching of the wasm failed"}catch(M){Ln(M)}}Di(gn="expatlib.wasm")||(gn=function ft(b){return E.locateFile?E.locateFile(b,vt):vt+b}(gn));var un,yn,ei={11694:function(b){var M=E.getCache(E.CExpatJS)[b];if(!M.hasOwnProperty("startElement"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::startElement.";M.startElement()},11912:function(b){var M=E.getCache(E.CExpatJS)[b];if(!M.hasOwnProperty("endElement"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::endElement.";M.endElement()},12124:function(b){var M=E.getCache(E.CExpatJS)[b];if(!M.hasOwnProperty("characterData"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::characterData.";M.characterData()}};function ui(b){for(;b.length>0;){var M=b.shift();if("function"!=typeof M){var B=M.func;"number"==typeof B?void 0===M.arg?Nn(B)():Nn(B)(M.arg):B(void 0===M.arg?null:M.arg)}else M(E)}}function Nn(b){return Tn.get(b)}var Le={splitPath:function(b){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(b).slice(1)},normalizeArray:function(b,M){for(var B=0,j=b.length-1;j>=0;j--){var ct=b[j];"."===ct?b.splice(j,1):".."===ct?(b.splice(j,1),B++):B&&(b.splice(j,1),B--)}if(M)for(;B;B--)b.unshift("..");return b},normalize:function(b){var M="/"===b.charAt(0),B="/"===b.substr(-1);return!(b=Le.normalizeArray(b.split("/").filter(function(j){return!!j}),!M).join("/"))&&!M&&(b="."),b&&B&&(b+="/"),(M?"/":"")+b},dirname:function(b){var M=Le.splitPath(b),B=M[0],j=M[1];return B||j?(j&&(j=j.substr(0,j.length-1)),B+j):"."},basename:function(b){if("/"===b)return"/";var M=(b=(b=Le.normalize(b)).replace(/\/$/,"")).lastIndexOf("/");return-1===M?b:b.substr(M+1)},extname:function(b){return Le.splitPath(b)[3]},join:function(){var b=Array.prototype.slice.call(arguments,0);return Le.normalize(b.join("/"))},join2:function(b,M){return Le.normalize(b+"/"+M)}};var Bn={resolve:function(){for(var b="",M=!1,B=arguments.length-1;B>=-1&&!M;B--){var j=B>=0?arguments[B]:D.cwd();if("string"!=typeof j)throw new TypeError("Arguments to path.resolve must be strings");if(!j)return"";b=j+"/"+b,M="/"===j.charAt(0)}return(M?"/":"")+(b=Le.normalizeArray(b.split("/").filter(function(ct){return!!ct}),!M).join("/"))||"."},relative:function(b,M){function B(De){for(var Ge=0;Ge<De.length&&""===De[Ge];Ge++);for(var Ke=De.length-1;Ke>=0&&""===De[Ke];Ke--);return Ge>Ke?[]:De.slice(Ge,Ke-Ge+1)}b=Bn.resolve(b).substr(1),M=Bn.resolve(M).substr(1);for(var j=B(b.split("/")),ct=B(M.split("/")),xt=Math.min(j.length,ct.length),kt=xt,Pt=0;Pt<xt;Pt++)if(j[Pt]!==ct[Pt]){kt=Pt;break}var ae=[];for(Pt=kt;Pt<j.length;Pt++)ae.push("..");return(ae=ae.concat(ct.slice(kt))).join("/")}},fn={ttys:[],init:function(){},shutdown:function(){},register:function(b,M){fn.ttys[b]={input:[],output:[],ops:M},D.registerDevice(b,fn.stream_ops)},stream_ops:{open:function(b){var M=fn.ttys[b.node.rdev];if(!M)throw new D.ErrnoError(43);b.tty=M,b.seekable=!1},close:function(b){b.tty.ops.flush(b.tty)},flush:function(b){b.tty.ops.flush(b.tty)},read:function(b,M,B,j,ct){if(!b.tty||!b.tty.ops.get_char)throw new D.ErrnoError(60);for(var xt=0,kt=0;kt<j;kt++){var Pt;try{Pt=b.tty.ops.get_char(b.tty)}catch(ae){throw new D.ErrnoError(29)}if(void 0===Pt&&0===xt)throw new D.ErrnoError(6);if(null==Pt)break;xt++,M[B+kt]=Pt}return xt&&(b.node.timestamp=Date.now()),xt},write:function(b,M,B,j,ct){if(!b.tty||!b.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var xt=0;xt<j;xt++)b.tty.ops.put_char(b.tty,M[B+xt])}catch(kt){throw new D.ErrnoError(29)}return j&&(b.node.timestamp=Date.now()),xt}},default_tty_ops:{get_char:function(b){if(!b.input.length){var M=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(M=window.prompt("Input: "))&&(M+="\n"):"function"==typeof readline&&null!==(M=readline())&&(M+="\n"),!M)return null;b.input=ve(M,!0)}return b.input.shift()},put_char:function(b,M){null===M||10===M?(ge(Ce(b.output,0)),b.output=[]):0!=M&&b.output.push(M)},flush:function(b){b.output&&b.output.length>0&&(ge(Ce(b.output,0)),b.output=[])}},default_tty1_ops:{put_char:function(b,M){null===M||10===M?(ye(Ce(b.output,0)),b.output=[]):0!=M&&b.output.push(M)},flush:function(b){b.output&&b.output.length>0&&(ye(Ce(b.output,0)),b.output=[])}}};var X={ops_table:null,mount:function(b){return X.createNode(null,"/",16895,0)},createNode:function(b,M,B,j){if(D.isBlkdev(B)||D.isFIFO(B))throw new D.ErrnoError(63);X.ops_table||(X.ops_table={dir:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,lookup:X.node_ops.lookup,mknod:X.node_ops.mknod,rename:X.node_ops.rename,unlink:X.node_ops.unlink,rmdir:X.node_ops.rmdir,readdir:X.node_ops.readdir,symlink:X.node_ops.symlink},stream:{llseek:X.stream_ops.llseek}},file:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:{llseek:X.stream_ops.llseek,read:X.stream_ops.read,write:X.stream_ops.write,allocate:X.stream_ops.allocate,mmap:X.stream_ops.mmap,msync:X.stream_ops.msync}},link:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,readlink:X.node_ops.readlink},stream:{}},chrdev:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:D.chrdev_stream_ops}});var ct=D.createNode(b,M,B,j);return D.isDir(ct.mode)?(ct.node_ops=X.ops_table.dir.node,ct.stream_ops=X.ops_table.dir.stream,ct.contents={}):D.isFile(ct.mode)?(ct.node_ops=X.ops_table.file.node,ct.stream_ops=X.ops_table.file.stream,ct.usedBytes=0,ct.contents=null):D.isLink(ct.mode)?(ct.node_ops=X.ops_table.link.node,ct.stream_ops=X.ops_table.link.stream):D.isChrdev(ct.mode)&&(ct.node_ops=X.ops_table.chrdev.node,ct.stream_ops=X.ops_table.chrdev.stream),ct.timestamp=Date.now(),b&&(b.contents[M]=ct,b.timestamp=ct.timestamp),ct},getFileDataAsTypedArray:function(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage:function(b,M){var B=b.contents?b.contents.length:0;if(!(B>=M)){M=Math.max(M,B*(B<1048576?2:1.125)>>>0),0!=B&&(M=Math.max(M,256));var ct=b.contents;b.contents=new Uint8Array(M),b.usedBytes>0&&b.contents.set(ct.subarray(0,b.usedBytes),0)}},resizeFileStorage:function(b,M){if(b.usedBytes!=M)if(0==M)b.contents=null,b.usedBytes=0;else{var B=b.contents;b.contents=new Uint8Array(M),B&&b.contents.set(B.subarray(0,Math.min(M,b.usedBytes))),b.usedBytes=M}},node_ops:{getattr:function(b){var M={};return M.dev=D.isChrdev(b.mode)?b.id:1,M.ino=b.id,M.mode=b.mode,M.nlink=1,M.uid=0,M.gid=0,M.rdev=b.rdev,M.size=D.isDir(b.mode)?4096:D.isFile(b.mode)?b.usedBytes:D.isLink(b.mode)?b.link.length:0,M.atime=new Date(b.timestamp),M.mtime=new Date(b.timestamp),M.ctime=new Date(b.timestamp),M.blksize=4096,M.blocks=Math.ceil(M.size/M.blksize),M},setattr:function(b,M){void 0!==M.mode&&(b.mode=M.mode),void 0!==M.timestamp&&(b.timestamp=M.timestamp),void 0!==M.size&&X.resizeFileStorage(b,M.size)},lookup:function(b,M){throw D.genericErrors[44]},mknod:function(b,M,B,j){return X.createNode(b,M,B,j)},rename:function(b,M,B){if(D.isDir(b.mode)){var j;try{j=D.lookupNode(M,B)}catch(xt){}if(j)for(var ct in j.contents)throw new D.ErrnoError(55)}delete b.parent.contents[b.name],b.parent.timestamp=Date.now(),b.name=B,M.contents[B]=b,M.timestamp=b.parent.timestamp,b.parent=M},unlink:function(b,M){delete b.contents[M],b.timestamp=Date.now()},rmdir:function(b,M){var B=D.lookupNode(b,M);for(var j in B.contents)throw new D.ErrnoError(55);delete b.contents[M],b.timestamp=Date.now()},readdir:function(b){var M=[".",".."];for(var B in b.contents)!b.contents.hasOwnProperty(B)||M.push(B);return M},symlink:function(b,M,B){var j=X.createNode(b,M,41471,0);return j.link=B,j},readlink:function(b){if(!D.isLink(b.mode))throw new D.ErrnoError(28);return b.link}},stream_ops:{read:function(b,M,B,j,ct){var xt=b.node.contents;if(ct>=b.node.usedBytes)return 0;var kt=Math.min(b.node.usedBytes-ct,j);if(kt>8&&xt.subarray)M.set(xt.subarray(ct,ct+kt),B);else for(var Pt=0;Pt<kt;Pt++)M[B+Pt]=xt[ct+Pt];return kt},write:function(b,M,B,j,ct,xt){if(M.buffer===wn.buffer&&(xt=!1),!j)return 0;var kt=b.node;if(kt.timestamp=Date.now(),M.subarray&&(!kt.contents||kt.contents.subarray)){if(xt)return kt.contents=M.subarray(B,B+j),kt.usedBytes=j,j;if(0===kt.usedBytes&&0===ct)return kt.contents=M.slice(B,B+j),kt.usedBytes=j,j;if(ct+j<=kt.usedBytes)return kt.contents.set(M.subarray(B,B+j),ct),j}if(X.expandFileStorage(kt,ct+j),kt.contents.subarray&&M.subarray)kt.contents.set(M.subarray(B,B+j),ct);else for(var Pt=0;Pt<j;Pt++)kt.contents[ct+Pt]=M[B+Pt];return kt.usedBytes=Math.max(kt.usedBytes,ct+j),j},llseek:function(b,M,B){var j=M;if(1===B?j+=b.position:2===B&&D.isFile(b.node.mode)&&(j+=b.node.usedBytes),j<0)throw new D.ErrnoError(28);return j},allocate:function(b,M,B){X.expandFileStorage(b.node,M+B),b.node.usedBytes=Math.max(b.node.usedBytes,M+B)},mmap:function(b,M,B,j,ct,xt){if(0!==M)throw new D.ErrnoError(28);if(!D.isFile(b.node.mode))throw new D.ErrnoError(43);var kt,Pt,ae=b.node.contents;if(2&xt||ae.buffer!==je){if((j>0||j+B<ae.length)&&(ae=ae.subarray?ae.subarray(j,j+B):Array.prototype.slice.call(ae,j,j+B)),Pt=!0,!(kt=function G(b){Ln()}()))throw new D.ErrnoError(48);wn.set(ae,kt)}else Pt=!1,kt=ae.byteOffset;return{ptr:kt,allocated:Pt}},msync:function(b,M,B,j,ct){if(!D.isFile(b.node.mode))throw new D.ErrnoError(43);return 2&ct||X.stream_ops.write(b,M,0,j,B,!1),0}}};var D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(b,M){if(M=M||{},!(b=Bn.resolve(D.cwd(),b)))return{path:"",node:null};var B={follow_mount:!0,recurse_count:0};for(var j in B)void 0===M[j]&&(M[j]=B[j]);if(M.recurse_count>8)throw new D.ErrnoError(32);for(var ct=Le.normalizeArray(b.split("/").filter(function(Ze){return!!Ze}),!1),xt=D.root,kt="/",Pt=0;Pt<ct.length;Pt++){var ae=Pt===ct.length-1;if(ae&&M.parent)break;if(xt=D.lookupNode(xt,ct[Pt]),kt=Le.join2(kt,ct[Pt]),D.isMountpoint(xt)&&(!ae||ae&&M.follow_mount)&&(xt=xt.mounted.root),!ae||M.follow)for(var De=0;D.isLink(xt.mode);){var Ge=D.readlink(kt);if(kt=Bn.resolve(Le.dirname(kt),Ge),xt=D.lookupPath(kt,{recurse_count:M.recurse_count}).node,De++>40)throw new D.ErrnoError(32)}}return{path:kt,node:xt}},getPath:function(b){for(var M;;){if(D.isRoot(b)){var B=b.mount.mountpoint;return M?"/"!==B[B.length-1]?B+"/"+M:B+M:B}M=M?b.name+"/"+M:b.name,b=b.parent}},hashName:function(b,M){for(var B=0,j=0;j<M.length;j++)B=(B<<5)-B+M.charCodeAt(j)|0;return(b+B>>>0)%D.nameTable.length},hashAddNode:function(b){var M=D.hashName(b.parent.id,b.name);b.name_next=D.nameTable[M],D.nameTable[M]=b},hashRemoveNode:function(b){var M=D.hashName(b.parent.id,b.name);if(D.nameTable[M]===b)D.nameTable[M]=b.name_next;else for(var B=D.nameTable[M];B;){if(B.name_next===b){B.name_next=b.name_next;break}B=B.name_next}},lookupNode:function(b,M){var B=D.mayLookup(b);if(B)throw new D.ErrnoError(B,b);for(var j=D.hashName(b.id,M),ct=D.nameTable[j];ct;ct=ct.name_next)if(ct.parent.id===b.id&&ct.name===M)return ct;return D.lookup(b,M)},createNode:function(b,M,B,j){var ct=new D.FSNode(b,M,B,j);return D.hashAddNode(ct),ct},destroyNode:function(b){D.hashRemoveNode(b)},isRoot:function(b){return b===b.parent},isMountpoint:function(b){return!!b.mounted},isFile:function(b){return 32768==(61440&b)},isDir:function(b){return 16384==(61440&b)},isLink:function(b){return 40960==(61440&b)},isChrdev:function(b){return 8192==(61440&b)},isBlkdev:function(b){return 24576==(61440&b)},isFIFO:function(b){return 4096==(61440&b)},isSocket:function(b){return 49152==(49152&b)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(b){var M=D.flagModes[b];if(void 0===M)throw new Error("Unknown file open mode: "+b);return M},flagsToPermissionString:function(b){var M=["r","w","rw"][3&b];return 512&b&&(M+="w"),M},nodePermissions:function(b,M){return D.ignorePermissions?0:M.includes("r")&&!(292&b.mode)||M.includes("w")&&!(146&b.mode)||M.includes("x")&&!(73&b.mode)?2:0},mayLookup:function(b){return D.nodePermissions(b,"x")||(b.node_ops.lookup?0:2)},mayCreate:function(b,M){try{return D.lookupNode(b,M),20}catch(j){}return D.nodePermissions(b,"wx")},mayDelete:function(b,M,B){var j;try{j=D.lookupNode(b,M)}catch(xt){return xt.errno}var ct=D.nodePermissions(b,"wx");if(ct)return ct;if(B){if(!D.isDir(j.mode))return 54;if(D.isRoot(j)||D.getPath(j)===D.cwd())return 10}else if(D.isDir(j.mode))return 31;return 0},mayOpen:function(b,M){return b?D.isLink(b.mode)?32:D.isDir(b.mode)&&("r"!==D.flagsToPermissionString(M)||512&M)?31:D.nodePermissions(b,D.flagsToPermissionString(M)):44},MAX_OPEN_FDS:4096,nextfd:function(b,M){M=M||D.MAX_OPEN_FDS;for(var B=b=b||0;B<=M;B++)if(!D.streams[B])return B;throw new D.ErrnoError(33)},getStream:function(b){return D.streams[b]},createStream:function(b,M,B){D.FSStream||(D.FSStream=function(){},D.FSStream.prototype={object:{get:function(){return this.node},set:function(kt){this.node=kt}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var j=new D.FSStream;for(var ct in b)j[ct]=b[ct];b=j;var xt=D.nextfd(M,B);return b.fd=xt,D.streams[xt]=b,b},closeStream:function(b){D.streams[b]=null},chrdev_stream_ops:{open:function(b){var M=D.getDevice(b.node.rdev);b.stream_ops=M.stream_ops,b.stream_ops.open&&b.stream_ops.open(b)},llseek:function(){throw new D.ErrnoError(70)}},major:function(b){return b>>8},minor:function(b){return 255&b},makedev:function(b,M){return b<<8|M},registerDevice:function(b,M){D.devices[b]={stream_ops:M}},getDevice:function(b){return D.devices[b]},getMounts:function(b){for(var M=[],B=[b];B.length;){var j=B.pop();M.push(j),B.push.apply(B,j.mounts)}return M},syncfs:function(b,M){"function"==typeof b&&(M=b,b=!1),D.syncFSRequests++,D.syncFSRequests>1&&ye("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var B=D.getMounts(D.root.mount),j=0;function ct(kt){return D.syncFSRequests--,M(kt)}function xt(kt){if(kt)return xt.errored?void 0:(xt.errored=!0,ct(kt));++j>=B.length&&ct(null)}B.forEach(function(kt){if(!kt.type.syncfs)return xt(null);kt.type.syncfs(kt,b,xt)})},mount:function(b,M,B){var xt,j="/"===B,ct=!B;if(j&&D.root)throw new D.ErrnoError(10);if(!j&&!ct){var kt=D.lookupPath(B,{follow_mount:!1});if(B=kt.path,D.isMountpoint(xt=kt.node))throw new D.ErrnoError(10);if(!D.isDir(xt.mode))throw new D.ErrnoError(54)}var Pt={type:b,opts:M,mountpoint:B,mounts:[]},ae=b.mount(Pt);return ae.mount=Pt,Pt.root=ae,j?D.root=ae:xt&&(xt.mounted=Pt,xt.mount&&xt.mount.mounts.push(Pt)),ae},unmount:function(b){var M=D.lookupPath(b,{follow_mount:!1});if(!D.isMountpoint(M.node))throw new D.ErrnoError(28);var B=M.node,j=B.mounted,ct=D.getMounts(j);Object.keys(D.nameTable).forEach(function(kt){for(var Pt=D.nameTable[kt];Pt;){var ae=Pt.name_next;ct.includes(Pt.mount)&&D.destroyNode(Pt),Pt=ae}}),B.mounted=null;var xt=B.mount.mounts.indexOf(j);B.mount.mounts.splice(xt,1)},lookup:function(b,M){return b.node_ops.lookup(b,M)},mknod:function(b,M,B){var ct=D.lookupPath(b,{parent:!0}).node,xt=Le.basename(b);if(!xt||"."===xt||".."===xt)throw new D.ErrnoError(28);var kt=D.mayCreate(ct,xt);if(kt)throw new D.ErrnoError(kt);if(!ct.node_ops.mknod)throw new D.ErrnoError(63);return ct.node_ops.mknod(ct,xt,M,B)},create:function(b,M){return M=void 0!==M?M:438,M&=4095,D.mknod(b,M|=32768,0)},mkdir:function(b,M){return M=void 0!==M?M:511,M&=1023,D.mknod(b,M|=16384,0)},mkdirTree:function(b,M){for(var B=b.split("/"),j="",ct=0;ct<B.length;++ct)if(B[ct]){j+="/"+B[ct];try{D.mkdir(j,M)}catch(xt){if(20!=xt.errno)throw xt}}},mkdev:function(b,M,B){return void 0===B&&(B=M,M=438),D.mknod(b,M|=8192,B)},symlink:function(b,M){if(!Bn.resolve(b))throw new D.ErrnoError(44);var j=D.lookupPath(M,{parent:!0}).node;if(!j)throw new D.ErrnoError(44);var ct=Le.basename(M),xt=D.mayCreate(j,ct);if(xt)throw new D.ErrnoError(xt);if(!j.node_ops.symlink)throw new D.ErrnoError(63);return j.node_ops.symlink(j,ct,b)},rename:function(b,M){var Pt,ae,B=Le.dirname(b),j=Le.dirname(M),ct=Le.basename(b),xt=Le.basename(M);if(Pt=D.lookupPath(b,{parent:!0}).node,ae=D.lookupPath(M,{parent:!0}).node,!Pt||!ae)throw new D.ErrnoError(44);if(Pt.mount!==ae.mount)throw new D.ErrnoError(75);var Ke,De=D.lookupNode(Pt,ct),Ge=Bn.relative(b,j);if("."!==Ge.charAt(0))throw new D.ErrnoError(28);if("."!==(Ge=Bn.relative(M,B)).charAt(0))throw new D.ErrnoError(55);try{Ke=D.lookupNode(ae,xt)}catch(An){}if(De!==Ke){var Ze=D.isDir(De.mode),We=D.mayDelete(Pt,ct,Ze);if(We)throw new D.ErrnoError(We);if(We=Ke?D.mayDelete(ae,xt,Ze):D.mayCreate(ae,xt))throw new D.ErrnoError(We);if(!Pt.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(De)||Ke&&D.isMountpoint(Ke))throw new D.ErrnoError(10);if(ae!==Pt&&(We=D.nodePermissions(Pt,"w")))throw new D.ErrnoError(We);D.hashRemoveNode(De);try{Pt.node_ops.rename(De,ae,xt)}catch(An){throw An}finally{D.hashAddNode(De)}}},rmdir:function(b){var B=D.lookupPath(b,{parent:!0}).node,j=Le.basename(b),ct=D.lookupNode(B,j),xt=D.mayDelete(B,j,!0);if(xt)throw new D.ErrnoError(xt);if(!B.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(ct))throw new D.ErrnoError(10);B.node_ops.rmdir(B,j),D.destroyNode(ct)},readdir:function(b){var B=D.lookupPath(b,{follow:!0}).node;if(!B.node_ops.readdir)throw new D.ErrnoError(54);return B.node_ops.readdir(B)},unlink:function(b){var B=D.lookupPath(b,{parent:!0}).node,j=Le.basename(b),ct=D.lookupNode(B,j),xt=D.mayDelete(B,j,!1);if(xt)throw new D.ErrnoError(xt);if(!B.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(ct))throw new D.ErrnoError(10);B.node_ops.unlink(B,j),D.destroyNode(ct)},readlink:function(b){var B=D.lookupPath(b).node;if(!B)throw new D.ErrnoError(44);if(!B.node_ops.readlink)throw new D.ErrnoError(28);return Bn.resolve(D.getPath(B.parent),B.node_ops.readlink(B))},stat:function(b,M){var j=D.lookupPath(b,{follow:!M}).node;if(!j)throw new D.ErrnoError(44);if(!j.node_ops.getattr)throw new D.ErrnoError(63);return j.node_ops.getattr(j)},lstat:function(b){return D.stat(b,!0)},chmod:function(b,M,B){var j;if(!(j="string"==typeof b?D.lookupPath(b,{follow:!B}).node:b).node_ops.setattr)throw new D.ErrnoError(63);j.node_ops.setattr(j,{mode:4095&M|-4096&j.mode,timestamp:Date.now()})},lchmod:function(b,M){D.chmod(b,M,!0)},fchmod:function(b,M){var B=D.getStream(b);if(!B)throw new D.ErrnoError(8);D.chmod(B.node,M)},chown:function(b,M,B,j){var ct;if(!(ct="string"==typeof b?D.lookupPath(b,{follow:!j}).node:b).node_ops.setattr)throw new D.ErrnoError(63);ct.node_ops.setattr(ct,{timestamp:Date.now()})},lchown:function(b,M,B){D.chown(b,M,B,!0)},fchown:function(b,M,B){var j=D.getStream(b);if(!j)throw new D.ErrnoError(8);D.chown(j.node,M,B)},truncate:function(b,M){if(M<0)throw new D.ErrnoError(28);var B;if(!(B="string"==typeof b?D.lookupPath(b,{follow:!0}).node:b).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(B.mode))throw new D.ErrnoError(31);if(!D.isFile(B.mode))throw new D.ErrnoError(28);var ct=D.nodePermissions(B,"w");if(ct)throw new D.ErrnoError(ct);B.node_ops.setattr(B,{size:M,timestamp:Date.now()})},ftruncate:function(b,M){var B=D.getStream(b);if(!B)throw new D.ErrnoError(8);if(0==(2097155&B.flags))throw new D.ErrnoError(28);D.truncate(B.node,M)},utime:function(b,M,B){var ct=D.lookupPath(b,{follow:!0}).node;ct.node_ops.setattr(ct,{timestamp:Math.max(M,B)})},open:function(b,M,B,j,ct){if(""===b)throw new D.ErrnoError(44);var xt;if(B=void 0===B?438:B,B=64&(M="string"==typeof M?D.modeStringToFlags(M):M)?4095&B|32768:0,"object"==typeof b)xt=b;else{b=Le.normalize(b);try{xt=D.lookupPath(b,{follow:!(131072&M)}).node}catch(Ge){}}var Pt=!1;if(64&M)if(xt){if(128&M)throw new D.ErrnoError(20)}else xt=D.mknod(b,B,0),Pt=!0;if(!xt)throw new D.ErrnoError(44);if(D.isChrdev(xt.mode)&&(M&=-513),65536&M&&!D.isDir(xt.mode))throw new D.ErrnoError(54);if(!Pt){var ae=D.mayOpen(xt,M);if(ae)throw new D.ErrnoError(ae)}512&M&&D.truncate(xt,0),M&=-131713;var De=D.createStream({node:xt,path:D.getPath(xt),id:xt.id,flags:M,mode:xt.mode,seekable:!0,position:0,stream_ops:xt.stream_ops,node_ops:xt.node_ops,ungotten:[],error:!1},j,ct);return De.stream_ops.open&&De.stream_ops.open(De),E.logReadFiles&&!(1&M)&&(D.readFiles||(D.readFiles={}),b in D.readFiles||(D.readFiles[b]=1)),De},close:function(b){if(D.isClosed(b))throw new D.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(M){throw M}finally{D.closeStream(b.fd)}b.fd=null},isClosed:function(b){return null===b.fd},llseek:function(b,M,B){if(D.isClosed(b))throw new D.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=B&&1!=B&&2!=B)throw new D.ErrnoError(28);return b.position=b.stream_ops.llseek(b,M,B),b.ungotten=[],b.position},read:function(b,M,B,j,ct){if(j<0||ct<0)throw new D.ErrnoError(28);if(D.isClosed(b))throw new D.ErrnoError(8);if(1==(2097155&b.flags))throw new D.ErrnoError(8);if(D.isDir(b.node.mode))throw new D.ErrnoError(31);if(!b.stream_ops.read)throw new D.ErrnoError(28);var xt=void 0!==ct;if(xt){if(!b.seekable)throw new D.ErrnoError(70)}else ct=b.position;var kt=b.stream_ops.read(b,M,B,j,ct);return xt||(b.position+=kt),kt},write:function(b,M,B,j,ct,xt){if(j<0||ct<0)throw new D.ErrnoError(28);if(D.isClosed(b))throw new D.ErrnoError(8);if(0==(2097155&b.flags))throw new D.ErrnoError(8);if(D.isDir(b.node.mode))throw new D.ErrnoError(31);if(!b.stream_ops.write)throw new D.ErrnoError(28);b.seekable&&1024&b.flags&&D.llseek(b,0,2);var kt=void 0!==ct;if(kt){if(!b.seekable)throw new D.ErrnoError(70)}else ct=b.position;var Pt=b.stream_ops.write(b,M,B,j,ct,xt);return kt||(b.position+=Pt),Pt},allocate:function(b,M,B){if(D.isClosed(b))throw new D.ErrnoError(8);if(M<0||B<=0)throw new D.ErrnoError(28);if(0==(2097155&b.flags))throw new D.ErrnoError(8);if(!D.isFile(b.node.mode)&&!D.isDir(b.node.mode))throw new D.ErrnoError(43);if(!b.stream_ops.allocate)throw new D.ErrnoError(138);b.stream_ops.allocate(b,M,B)},mmap:function(b,M,B,j,ct,xt){if(0!=(2&ct)&&0==(2&xt)&&2!=(2097155&b.flags))throw new D.ErrnoError(2);if(1==(2097155&b.flags))throw new D.ErrnoError(2);if(!b.stream_ops.mmap)throw new D.ErrnoError(43);return b.stream_ops.mmap(b,M,B,j,ct,xt)},msync:function(b,M,B,j,ct){return b&&b.stream_ops.msync?b.stream_ops.msync(b,M,B,j,ct):0},munmap:function(b){return 0},ioctl:function(b,M,B){if(!b.stream_ops.ioctl)throw new D.ErrnoError(59);return b.stream_ops.ioctl(b,M,B)},readFile:function(b,M){if((M=M||{}).flags=M.flags||0,M.encoding=M.encoding||"binary","utf8"!==M.encoding&&"binary"!==M.encoding)throw new Error('Invalid encoding type "'+M.encoding+'"');var B,j=D.open(b,M.flags),xt=D.stat(b).size,kt=new Uint8Array(xt);return D.read(j,kt,0,xt,0),"utf8"===M.encoding?B=Ce(kt,0):"binary"===M.encoding&&(B=kt),D.close(j),B},writeFile:function(b,M,B){(B=B||{}).flags=B.flags||577;var j=D.open(b,B.flags,B.mode);if("string"==typeof M){var ct=new Uint8Array(ni(M)+1),xt=Yn(M,ct,0,ct.length);D.write(j,ct,0,xt,void 0,B.canOwn)}else{if(!ArrayBuffer.isView(M))throw new Error("Unsupported data type");D.write(j,M,0,M.byteLength,void 0,B.canOwn)}D.close(j)},cwd:function(){return D.currentPath},chdir:function(b){var M=D.lookupPath(b,{follow:!0});if(null===M.node)throw new D.ErrnoError(44);if(!D.isDir(M.node.mode))throw new D.ErrnoError(54);var B=D.nodePermissions(M.node,"x");if(B)throw new D.ErrnoError(B);D.currentPath=M.path},createDefaultDirectories:function(){D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:function(){D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:function(){return 0},write:function(M,B,j,ct,xt){return ct}}),D.mkdev("/dev/null",D.makedev(1,3)),fn.register(D.makedev(5,0),fn.default_tty_ops),fn.register(D.makedev(6,0),fn.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var b=function Ii(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var b=new Uint8Array(1);return function(){return crypto.getRandomValues(b),b[0]}}return function(){Ln("randomDevice")}}();D.createDevice("/dev","random",b),D.createDevice("/dev","urandom",b),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){D.mkdir("/proc");var b=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:function(){var M=D.createNode(b,"fd",16895,73);return M.node_ops={lookup:function(B,j){var xt=D.getStream(+j);if(!xt)throw new D.ErrnoError(8);var kt={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return xt.path}}};return kt.parent=kt,kt}},M}},{},"/proc/self/fd")},createStandardStreams:function(){E.stdin?D.createDevice("/dev","stdin",E.stdin):D.symlink("/dev/tty","/dev/stdin"),E.stdout?D.createDevice("/dev","stdout",null,E.stdout):D.symlink("/dev/tty","/dev/stdout"),E.stderr?D.createDevice("/dev","stderr",null,E.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:function(){D.ErrnoError||(D.ErrnoError=function(M,B){this.node=B,this.setErrno=function(j){this.errno=j},this.setErrno(M),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(function(b){D.genericErrors[b]=new D.ErrnoError(b),D.genericErrors[b].stack="<generic error, no stack>"}))},staticInit:function(){D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(X,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:X}},init:function(b,M,B){D.init.initialized=!0,D.ensureErrnoError(),E.stdin=b||E.stdin,E.stdout=M||E.stdout,E.stderr=B||E.stderr,D.createStandardStreams()},quit:function(){D.init.initialized=!1;var b=E._fflush;b&&b(0);for(var M=0;M<D.streams.length;M++){var B=D.streams[M];!B||D.close(B)}},getMode:function(b,M){var B=0;return b&&(B|=365),M&&(B|=146),B},findObject:function(b,M){var B=D.analyzePath(b,M);return B.exists?B.object:null},analyzePath:function(b,M){try{b=(B=D.lookupPath(b,{follow:!M})).path}catch(ct){}var j={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var B=D.lookupPath(b,{parent:!0});j.parentExists=!0,j.parentPath=B.path,j.parentObject=B.node,j.name=Le.basename(b),B=D.lookupPath(b,{follow:!M}),j.exists=!0,j.path=B.path,j.object=B.node,j.name=B.node.name,j.isRoot="/"===B.path}catch(ct){j.error=ct.errno}return j},createPath:function(b,M,B,j){b="string"==typeof b?b:D.getPath(b);for(var ct=M.split("/").reverse();ct.length;){var xt=ct.pop();if(xt){var kt=Le.join2(b,xt);try{D.mkdir(kt)}catch(Pt){}b=kt}}return kt},createFile:function(b,M,B,j,ct){var xt=Le.join2("string"==typeof b?b:D.getPath(b),M),kt=D.getMode(j,ct);return D.create(xt,kt)},createDataFile:function(b,M,B,j,ct,xt){var kt=M?Le.join2("string"==typeof b?b:D.getPath(b),M):b,Pt=D.getMode(j,ct),ae=D.create(kt,Pt);if(B){if("string"==typeof B){for(var De=new Array(B.length),Ge=0,Ke=B.length;Ge<Ke;++Ge)De[Ge]=B.charCodeAt(Ge);B=De}D.chmod(ae,146|Pt);var Ze=D.open(ae,577);D.write(Ze,B,0,B.length,0,xt),D.close(Ze),D.chmod(ae,Pt)}return ae},createDevice:function(b,M,B,j){var ct=Le.join2("string"==typeof b?b:D.getPath(b),M),xt=D.getMode(!!B,!!j);D.createDevice.major||(D.createDevice.major=64);var kt=D.makedev(D.createDevice.major++,0);return D.registerDevice(kt,{open:function(Pt){Pt.seekable=!1},close:function(Pt){j&&j.buffer&&j.buffer.length&&j(10)},read:function(Pt,ae,De,Ge,Ke){for(var Ze=0,We=0;We<Ge;We++){var An;try{An=B()}catch(di){throw new D.ErrnoError(29)}if(void 0===An&&0===Ze)throw new D.ErrnoError(6);if(null==An)break;Ze++,ae[De+We]=An}return Ze&&(Pt.node.timestamp=Date.now()),Ze},write:function(Pt,ae,De,Ge,Ke){for(var Ze=0;Ze<Ge;Ze++)try{j(ae[De+Ze])}catch(We){throw new D.ErrnoError(29)}return Ge&&(Pt.node.timestamp=Date.now()),Ze}}),D.mkdev(ct,xt,kt)},forceLoadFile:function(b){if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Nt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{b.contents=ve(Nt(b.url),!0),b.usedBytes=b.contents.length}catch(M){throw new D.ErrnoError(29)}},createLazyFile:function(b,M,B,j,ct){function xt(){this.lengthKnown=!1,this.chunks=[]}if(xt.prototype.get=function(Ze){if(!(Ze>this.length-1||Ze<0)){var We=Ze%this.chunkSize;return this.getter(Ze/this.chunkSize|0)[We]}},xt.prototype.setDataGetter=function(Ze){this.getter=Ze},xt.prototype.cacheLength=function(){var Ze=new XMLHttpRequest;if(Ze.open("HEAD",B,!1),Ze.send(null),!(Ze.status>=200&&Ze.status<300||304===Ze.status))throw new Error("Couldn't load "+B+". Status: "+Ze.status);var An,We=Number(Ze.getResponseHeader("Content-length")),di=(An=Ze.getResponseHeader("Accept-Ranges"))&&"bytes"===An,rr=(An=Ze.getResponseHeader("Content-Encoding"))&&"gzip"===An,Li=1048576;di||(Li=We);var ii=this;ii.setDataGetter(function(Mi){var ar=Mi*Li,si=(Mi+1)*Li-1;if(si=Math.min(si,We-1),void 0===ii.chunks[Mi]&&(ii.chunks[Mi]=function(Mi,ar){if(Mi>ar)throw new Error("invalid range ("+Mi+", "+ar+") or no bytes requested!");if(ar>We-1)throw new Error("only "+We+" bytes available! programmer error!");var si=new XMLHttpRequest;if(si.open("GET",B,!1),We!==Li&&si.setRequestHeader("Range","bytes="+Mi+"-"+ar),"undefined"!=typeof Uint8Array&&(si.responseType="arraybuffer"),si.overrideMimeType&&si.overrideMimeType("text/plain; charset=x-user-defined"),si.send(null),!(si.status>=200&&si.status<300||304===si.status))throw new Error("Couldn't load "+B+". Status: "+si.status);return void 0!==si.response?new Uint8Array(si.response||[]):ve(si.responseText||"",!0)}(ar,si)),void 0===ii.chunks[Mi])throw new Error("doXHR failed!");return ii.chunks[Mi]}),(rr||!We)&&(Li=We=1,We=this.getter(0).length,Li=We,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=We,this._chunkSize=Li,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Pt,ae=D.createFile(b,M,Pt={isDevice:!1,url:B},j,ct);Pt.contents?ae.contents=Pt.contents:Pt.url&&(ae.contents=null,ae.url=Pt.url),Object.defineProperties(ae,{usedBytes:{get:function(){return this.contents.length}}});var De={};return Object.keys(ae.stream_ops).forEach(function(Ke){var Ze=ae.stream_ops[Ke];De[Ke]=function(){return D.forceLoadFile(ae),Ze.apply(null,arguments)}}),De.read=function(Ze,We,An,di,rr){D.forceLoadFile(ae);var Li=Ze.node.contents;if(rr>=Li.length)return 0;var fi=Math.min(Li.length-rr,di);if(Li.slice)for(var ii=0;ii<fi;ii++)We[An+ii]=Li[rr+ii];else for(ii=0;ii<fi;ii++)We[An+ii]=Li.get(rr+ii);return fi},ae.stream_ops=De,ae},createPreloadedFile:function(b,M,B,j,ct,xt,kt,Pt,ae,De){Browser.init();var Ge=M?Bn.resolve(Le.join2(b,M)):b;function Ke(Ze){function We(di){De&&De(),Pt||D.createDataFile(b,M,di,j,ct,ae),xt&&xt(),Zn()}var An=!1;E.preloadPlugins.forEach(function(di){An||di.canHandle(Ge)&&(di.handle(Ze,Ge,We,function(){kt&&kt(),Zn()}),An=!0)}),An||We(Ze)}nn(),"string"==typeof B?function ht(b,M,B,j){var ct=j?"":"al "+b;Qt(b,function(xt){mn(xt,'Loading data file "'+b+'" failed (no arrayBuffer).'),M(new Uint8Array(xt)),ct&&Zn()},function(xt){if(!B)throw'Loading data file "'+b+'" failed.';B()}),ct&&nn()}(B,function(Ze){Ke(Ze)},kt):Ke(B)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(b,M,B){M=M||function(){},B=B||function(){};var j=D.indexedDB();try{var ct=j.open(D.DB_NAME(),D.DB_VERSION)}catch(xt){return B(xt)}ct.onupgradeneeded=function(){ge("creating db"),ct.result.createObjectStore(D.DB_STORE_NAME)},ct.onsuccess=function(){var Pt=ct.result.transaction([D.DB_STORE_NAME],"readwrite"),ae=Pt.objectStore(D.DB_STORE_NAME),De=0,Ge=0,Ke=b.length;function Ze(){0==Ge?M():B()}b.forEach(function(We){var An=ae.put(D.analyzePath(We).object.contents,We);An.onsuccess=function(){++De+Ge==Ke&&Ze()},An.onerror=function(){Ge++,De+Ge==Ke&&Ze()}}),Pt.onerror=B},ct.onerror=B},loadFilesFromDB:function(b,M,B){M=M||function(){},B=B||function(){};var j=D.indexedDB();try{var ct=j.open(D.DB_NAME(),D.DB_VERSION)}catch(xt){return B(xt)}ct.onupgradeneeded=B,ct.onsuccess=function(){var kt=ct.result;try{var Pt=kt.transaction([D.DB_STORE_NAME],"readonly")}catch(We){return void B(We)}var ae=Pt.objectStore(D.DB_STORE_NAME),De=0,Ge=0,Ke=b.length;function Ze(){0==Ge?M():B()}b.forEach(function(We){var An=ae.get(We);An.onsuccess=function(){D.analyzePath(We).exists&&D.unlink(We),D.createDataFile(Le.dirname(We),Le.basename(We),An.result,!0,!0,!0),++De+Ge==Ke&&Ze()},An.onerror=function(){Ge++,De+Ge==Ke&&Ze()}}),Pt.onerror=B},ct.onerror=B}},At={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(b,M,B){if("/"===M[0])return M;var j;if(-100===b)j=D.cwd();else{var ct=D.getStream(b);if(!ct)throw new D.ErrnoError(8);j=ct.path}if(0==M.length){if(!B)throw new D.ErrnoError(44);return j}return Le.join2(j,M)},doStat:function(b,M,B){try{var j=b(M)}catch(ct){if(ct&&ct.node&&Le.normalize(M)!==Le.normalize(D.getPath(ct.node)))return-54;throw ct}return ze[B>>2]=j.dev,ze[B+4>>2]=0,ze[B+8>>2]=j.ino,ze[B+12>>2]=j.mode,ze[B+16>>2]=j.nlink,ze[B+20>>2]=j.uid,ze[B+24>>2]=j.gid,ze[B+28>>2]=j.rdev,ze[B+32>>2]=0,yn=[j.size>>>0,(un=j.size,+Math.abs(un)>=1?un>0?(0|Math.min(+Math.floor(un/4294967296),4294967295))>>>0:~~+Math.ceil((un-+(~~un>>>0))/4294967296)>>>0:0)],ze[B+40>>2]=yn[0],ze[B+44>>2]=yn[1],ze[B+48>>2]=4096,ze[B+52>>2]=j.blocks,ze[B+56>>2]=j.atime.getTime()/1e3|0,ze[B+60>>2]=0,ze[B+64>>2]=j.mtime.getTime()/1e3|0,ze[B+68>>2]=0,ze[B+72>>2]=j.ctime.getTime()/1e3|0,ze[B+76>>2]=0,yn=[j.ino>>>0,(un=j.ino,+Math.abs(un)>=1?un>0?(0|Math.min(+Math.floor(un/4294967296),4294967295))>>>0:~~+Math.ceil((un-+(~~un>>>0))/4294967296)>>>0:0)],ze[B+80>>2]=yn[0],ze[B+84>>2]=yn[1],0},doMsync:function(b,M,B,j,ct){var xt=In.slice(b,b+B);D.msync(M,xt,ct,B,j)},doMkdir:function(b,M){return"/"===(b=Le.normalize(b))[b.length-1]&&(b=b.substr(0,b.length-1)),D.mkdir(b,M,0),0},doMknod:function(b,M,B){switch(61440&M){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return D.mknod(b,M,B),0},doReadlink:function(b,M,B){if(B<=0)return-28;var j=D.readlink(b),ct=Math.min(B,ni(j)),xt=wn[M+ct];return function Wn(b,M,B){return Yn(b,In,M,B)}(j,M,B+1),wn[M+ct]=xt,ct},doAccess:function(b,M){if(-8&M)return-28;var j=D.lookupPath(b,{follow:!0}).node;if(!j)return-44;var ct="";return 4&M&&(ct+="r"),2&M&&(ct+="w"),1&M&&(ct+="x"),ct&&D.nodePermissions(j,ct)?-2:0},doDup:function(b,M,B){var j=D.getStream(B);return j&&D.close(j),D.open(b,M,0,B,B).fd},doReadv:function(b,M,B,j){for(var ct=0,xt=0;xt<B;xt++){var Pt=ze[M+(8*xt+4)>>2],ae=D.read(b,wn,ze[M+8*xt>>2],Pt,j);if(ae<0)return-1;if(ct+=ae,ae<Pt)break}return ct},doWritev:function(b,M,B,j){for(var ct=0,xt=0;xt<B;xt++){var ae=D.write(b,wn,ze[M+8*xt>>2],ze[M+(8*xt+4)>>2],j);if(ae<0)return-1;ct+=ae}return ct},varargs:void 0,get:function(){return At.varargs+=4,ze[At.varargs-4>>2]},getStr:function(b){return Ae(b)},getStreamFromFD:function(b){var M=D.getStream(b);if(!M)throw new D.ErrnoError(8);return M},get64:function(b,M){return b}};var Yt=[];function pt(b){try{return vn.grow(b-je.byteLength+65535>>>16),Mn(vn.buffer),1}catch(M){}}var wt={};function te(){if(!te.strings){var M={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ne||"./this.program"};for(var B in wt)void 0===wt[B]?delete M[B]:M[B]=wt[B];var j=[];for(var B in M)j.push(B+"="+M[B]);te.strings=j}return te.strings}var He=function(b,M,B,j){b||(b=this),this.parent=b,this.mount=b.mount,this.mounted=null,this.id=D.nextInode++,this.name=M,this.mode=B,this.node_ops={},this.stream_ops={},this.rdev=j};function ve(b,M,B){var j=B>0?B:ni(b)+1,ct=new Array(j),xt=Yn(b,ct,0,ct.length);return M&&(ct.length=xt),ct}Object.defineProperties(He.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(b){b?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(b){b?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=He,D.staticInit();var Qe={h:function Ot(b,M,B){At.varargs=B;try{var j=At.getStr(b),ct=B?At.get():0;return D.open(j,M,ct).fd}catch(kt){if(void 0===D||!(kt instanceof D.ErrnoError))throw kt;return-kt.errno}},b:function Bt(){Ln("")},a:function qt(b,M,B){var j=function re(b,M){var B;for(Yt.length=0,M>>=2;B=In[b++];){var j=B<105;j&&1&M&&M++,Yt.push(j?ci[M++>>1]:ze[M]),++M}return Yt}(M,B);return ei[b].apply(null,j)},k:function q(b,M,B){In.copyWithin(b,M,M+B)},e:function bt(b){var M=In.length,B=2147483648;if((b>>>=0)>B)return!1;for(var j=1;j<=4;j*=2){var ct=M*(1+.2/j);if(ct=Math.min(ct,b+100663296),pt(Math.min(B,sn(Math.max(b,ct),65536))))return!0}return!1},f:function Dt(b,M){var B=0;return te().forEach(function(j,ct){var xt=M+B;ze[b+4*ct>>2]=xt,function xn(b,M,B){for(var j=0;j<b.length;++j)wn[M++>>0]=b.charCodeAt(j);B||(wn[M>>0]=0)}(j,xt),B+=j.length+1}),0},g:function he(b,M){var B=te();ze[b>>2]=B.length;var j=0;return B.forEach(function(ct){j+=ct.length+1}),ze[M>>2]=j,0},d:function N(b){try{var M=At.getStreamFromFD(b);return D.close(M),0}catch(B){if(void 0===D||!(B instanceof D.ErrnoError))throw B;return B.errno}},i:function le(b,M,B,j){try{var ct=At.getStreamFromFD(b),xt=At.doReadv(ct,M,B);return ze[j>>2]=xt,0}catch(kt){if(void 0===D||!(kt instanceof D.ErrnoError))throw kt;return kt.errno}},j:function ke(b,M,B,j,ct){try{var xt=At.getStreamFromFD(b),Pt=4294967296*B+(M>>>0),ae=9007199254740992;return Pt<=-ae||Pt>=ae?-61:(D.llseek(xt,Pt,j),yn=[xt.position>>>0,(un=xt.position,+Math.abs(un)>=1?un>0?(0|Math.min(+Math.floor(un/4294967296),4294967295))>>>0:~~+Math.ceil((un-+(~~un>>>0))/4294967296)>>>0:0)],ze[ct>>2]=yn[0],ze[ct+4>>2]=yn[1],xt.getdents&&0===Pt&&0===j&&(xt.getdents=null),0)}catch(De){if(void 0===D||!(De instanceof D.ErrnoError))throw De;return De.errno}},c:function Oe(b,M,B,j){try{var ct=At.getStreamFromFD(b),xt=At.doWritev(ct,M,B);return ze[j>>2]=xt,0}catch(kt){if(void 0===D||!(kt instanceof D.ErrnoError))throw kt;return kt.errno}},l:function rn(b){var M=Date.now();return ze[b>>2]=M/1e3|0,ze[b+4>>2]=M%1e3*1e3|0,0}};(function On(){var b={a:Qe};function M(kt,Pt){E.asm=kt.exports,Mn((vn=E.asm.m).buffer),Tn=E.asm.G,function se(b){Kn.unshift(b)}(E.asm.n),Zn()}function B(kt){M(kt.instance)}function j(kt){return function wi(){return Be||"function"!=typeof fetch?Promise.resolve().then(function(){return ti(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+gn+"'";return b.arrayBuffer()}).catch(function(){return ti(gn)})}().then(function(Pt){return WebAssembly.instantiate(Pt,b)}).then(function(Pt){return Pt}).then(kt,function(Pt){ye("failed to asynchronously prepare wasm: "+Pt),Ln(Pt)})}if(nn(),E.instantiateWasm)try{return E.instantiateWasm(b,M)}catch(kt){return ye("Module.instantiateWasm callback failed with error: "+kt),!1}return function ct(){return Be||"function"!=typeof WebAssembly.instantiateStreaming||Di(gn)||"function"!=typeof fetch?j(B):fetch(gn,{credentials:"same-origin"}).then(function(kt){return WebAssembly.instantiateStreaming(kt,b).then(B,function(ae){return ye("wasm streaming compile failed: "+ae),ye("falling back to ArrayBuffer instantiation"),j(B)})})}().catch(It),{}})(),E.___wasm_call_ctors=function(){return(E.___wasm_call_ctors=E.asm.n).apply(null,arguments)};var Fn,et=E._emscripten_bind_CExpat_CExpat_0=function(){return(et=E._emscripten_bind_CExpat_CExpat_0=E.asm.o).apply(null,arguments)},gt=E._emscripten_bind_CExpat_version_0=function(){return(gt=E._emscripten_bind_CExpat_version_0=E.asm.p).apply(null,arguments)},mt=E._emscripten_bind_CExpat_create_0=function(){return(mt=E._emscripten_bind_CExpat_create_0=E.asm.q).apply(null,arguments)},St=E._emscripten_bind_CExpat_destroy_0=function(){return(St=E._emscripten_bind_CExpat_destroy_0=E.asm.r).apply(null,arguments)},zt=E._emscripten_bind_CExpat_parse_1=function(){return(zt=E._emscripten_bind_CExpat_parse_1=E.asm.s).apply(null,arguments)},ee=E._emscripten_bind_CExpat_tag_0=function(){return(ee=E._emscripten_bind_CExpat_tag_0=E.asm.t).apply(null,arguments)},Jt=E._emscripten_bind_CExpat_attrs_0=function(){return(Jt=E._emscripten_bind_CExpat_attrs_0=E.asm.u).apply(null,arguments)},pe=E._emscripten_bind_CExpat_content_0=function(){return(pe=E._emscripten_bind_CExpat_content_0=E.asm.v).apply(null,arguments)},xe=E._emscripten_bind_CExpat_startElement_0=function(){return(xe=E._emscripten_bind_CExpat_startElement_0=E.asm.w).apply(null,arguments)},Wt=E._emscripten_bind_CExpat_endElement_0=function(){return(Wt=E._emscripten_bind_CExpat_endElement_0=E.asm.x).apply(null,arguments)},oe=E._emscripten_bind_CExpat_characterData_0=function(){return(oe=E._emscripten_bind_CExpat_characterData_0=E.asm.y).apply(null,arguments)},Ie=E._emscripten_bind_CExpat___destroy___0=function(){return(Ie=E._emscripten_bind_CExpat___destroy___0=E.asm.z).apply(null,arguments)},Me=E._emscripten_bind_VoidPtr___destroy___0=function(){return(Me=E._emscripten_bind_VoidPtr___destroy___0=E.asm.A).apply(null,arguments)},Ye=E._emscripten_bind_CExpatJS_CExpatJS_0=function(){return(Ye=E._emscripten_bind_CExpatJS_CExpatJS_0=E.asm.B).apply(null,arguments)},$n=E._emscripten_bind_CExpatJS_startElement_0=function(){return($n=E._emscripten_bind_CExpatJS_startElement_0=E.asm.C).apply(null,arguments)},En=E._emscripten_bind_CExpatJS_endElement_0=function(){return(En=E._emscripten_bind_CExpatJS_endElement_0=E.asm.D).apply(null,arguments)},Sn=E._emscripten_bind_CExpatJS_characterData_0=function(){return(Sn=E._emscripten_bind_CExpatJS_characterData_0=E.asm.E).apply(null,arguments)},we=E._emscripten_bind_CExpatJS___destroy___0=function(){return(we=E._emscripten_bind_CExpatJS___destroy___0=E.asm.F).apply(null,arguments)};function Qn(b){function M(){Fn||(Fn=!0,E.calledRun=!0,!Re&&(function jn(){!E.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,ui(Kn)}(),Ct(E),E.onRuntimeInitialized&&E.onRuntimeInitialized(),function yt(){if(E.postRun)for("function"==typeof E.postRun&&(E.postRun=[E.postRun]);E.postRun.length;)b=E.postRun.shift(),Ne.unshift(b);var b;ui(Ne)}()))}_e>0||(function Xn(){if(E.preRun)for("function"==typeof E.preRun&&(E.preRun=[E.preRun]);E.preRun.length;)b=E.preRun.shift(),Hn.unshift(b);var b;ui(Hn)}(),_e>0)||(E.setStatus?(E.setStatus("Running..."),setTimeout(function(){setTimeout(function(){E.setStatus("")},1),M()},1)):M())}if(E._malloc=function(){return(E._malloc=E.asm.H).apply(null,arguments)},Ue=function b(){Fn||Qn(),Fn||(Ue=b)},E.run=Qn,E.preInit)for("function"==typeof E.preInit&&(E.preInit=[E.preInit]);E.preInit.length>0;)E.preInit.pop()();function on(){}function ln(b){return(b||on).__cache__}function Un(b,M){var B=ln(M),j=B[b];return j||((j=Object.create((M||on).prototype)).ptr=b,B[b]=j)}Qn(),(on.prototype=Object.create(on.prototype)).constructor=on,on.prototype.__class__=on,on.__cache__={},E.WrapperObject=on,E.getCache=ln,E.wrapPointer=Un,E.castObject=function Vi(b,M){return Un(b.ptr,M)},E.NULL=Un(0),E.destroy=function hi(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete ln(b.__class__)[b.ptr]},E.compare=function zi(b,M){return b.ptr===M.ptr},E.getPointer=function Jn(b){return b.ptr},E.getClass=function Ai(b){return b.__class__};var cn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(cn.needed){for(var b=0;b<cn.temps.length;b++)E._free(cn.temps[b]);cn.temps.length=0,E._free(cn.buffer),cn.buffer=0,cn.size+=cn.needed,cn.needed=0}cn.buffer||(cn.size+=128,cn.buffer=E._malloc(cn.size),mn(cn.buffer)),cn.pos=0},alloc:function(b,M){mn(cn.buffer);var ct,j=b.length*M.BYTES_PER_ELEMENT;return cn.pos+(j=j+7&-8)>=cn.size?(mn(j>0),cn.needed+=j,ct=E._malloc(j),cn.temps.push(ct)):(ct=cn.buffer+cn.pos,cn.pos+=j),ct},copy:function(b,M,B){switch(B>>>=0,M.BYTES_PER_ELEMENT){case 2:B>>>=1;break;case 4:B>>>=2;break;case 8:B>>>=3}for(var ct=0;ct<b.length;ct++)M[B+ct]=b[ct]}};function Ft(){this.ptr=et(),ln(Ft)[this.ptr]=this}function be(){throw"cannot construct a VoidPtr, no constructor in IDL"}function jt(){this.ptr=Ye(),ln(jt)[this.ptr]=this}return(Ft.prototype=Object.create(on.prototype)).constructor=Ft,Ft.prototype.__class__=Ft,Ft.__cache__={},E.CExpat=Ft,Ft.prototype.version=Ft.prototype.version=function(){return Ae(gt(this.ptr))},Ft.prototype.create=Ft.prototype.create=function(){return!!mt(this.ptr)},Ft.prototype.destroy=Ft.prototype.destroy=function(){St(this.ptr)},Ft.prototype.parse=Ft.prototype.parse=function(b){var M=this.ptr;return cn.prepare(),b=b&&"object"==typeof b?b.ptr:function Hi(b){if("string"==typeof b){var M=ve(b),B=cn.alloc(M,wn);return cn.copy(M,wn,B),B}return b}(b),!!zt(M,b)},Ft.prototype.tag=Ft.prototype.tag=function(){return Ae(ee(this.ptr))},Ft.prototype.attrs=Ft.prototype.attrs=function(){return Ae(Jt(this.ptr))},Ft.prototype.content=Ft.prototype.content=function(){return Ae(pe(this.ptr))},Ft.prototype.startElement=Ft.prototype.startElement=function(){xe(this.ptr)},Ft.prototype.endElement=Ft.prototype.endElement=function(){Wt(this.ptr)},Ft.prototype.characterData=Ft.prototype.characterData=function(){oe(this.ptr)},Ft.prototype.__destroy__=Ft.prototype.__destroy__=function(){Ie(this.ptr)},(be.prototype=Object.create(on.prototype)).constructor=be,be.prototype.__class__=be,be.__cache__={},E.VoidPtr=be,be.prototype.__destroy__=be.prototype.__destroy__=function(){Me(this.ptr)},(jt.prototype=Object.create(Ft.prototype)).constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},E.CExpatJS=jt,jt.prototype.startElement=jt.prototype.startElement=function(){$n(this.ptr)},jt.prototype.endElement=jt.prototype.endElement=function(){En(this.ptr)},jt.prototype.characterData=jt.prototype.characterData=function(){Sn(this.ptr)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){we(this.ptr)},z.ready},x.exports=lt;var _=Object.freeze(c({__proto__:null,default:x.exports},[x.exports]));var p=function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}().__hpcc_wasmFolder||void 0;function l(H){if(!arguments.length)return p;var K=p;return p=H,K}function u(H,K,lt){var it=H.default||H;return it.__hpcc_promise||(it.__hpcc_promise=it({wasmBinary:lt,locateFile:function(z,E){return"".concat(function h(H,K){for(;H.charAt(H.length-1)===K;)H=H.substring(0,H.length-1);return H}(K||l()||E||".","/"),"/").concat(function m(H,K){for(;H.charAt(0)===K;)H=H.substring(1);return H}(z,"/"))}})),it.__hpcc_promise}var g=function(){function H(K,lt){this.tag=K,this.attrs=lt,this._content=""}return Object.defineProperty(H.prototype,"content",{get:function(){return this._content},enumerable:!1,configurable:!0}),H.prototype.appendContent=function(K){this._content+=K},H}(),C=function(){function H(){this._stack=[]}return H.prototype.parse=function(K,lt,it){return F(K,this,lt,it)},H.prototype.top=function(){return this._stack[this._stack.length-1]},H.prototype.startElement=function(K,lt){var it=new g(K,lt);return this._stack.push(it),it},H.prototype.endElement=function(K){return this._stack.pop()},H.prototype.characterData=function(K){this.top().appendContent(K)},H}();function F(H,K,lt,it){return u(_,lt,it).then(function(z){var E=new z.CExpatJS;E.startElement=function(){K.startElement(this.tag(),function A(H){var K={},lt=H,it="".concat(String.fromCharCode(1)),z="".concat(it).concat(it);return lt.split(z).filter(function(E){return!!E}).forEach(function(E){var Ct=E.split(it);K[Ct[0]]=Ct[1]}),K}(this.attrs()))},E.endElement=function(){K.endElement(this.tag())},E.characterData=function(){K.characterData(this.content())},E.create();var Ct=E.parse(H);return E.destroy(),z.destroy(E),Ct})}var O={exports:{}};!function(H,K){var lt=function(){var it="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(z){var Ct,It,E=void 0!==(z=z||{})?z:{};E.ready=new Promise(function(y,L){Ct=y,It=L});var Ht,Rt={};for(Ht in E)E.hasOwnProperty(Ht)&&(Rt[Ht]=E[Ht]);var Qt,me,ne="./this.program",Ut=function(y,L){throw L},ft="";"undefined"!=typeof document&&document.currentScript&&(ft=document.currentScript.src),it&&(ft=it),ft=0!==ft.indexOf("blob:")?ft.substr(0,ft.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Qt=function(y){var L=new XMLHttpRequest;return L.open("GET",y,!1),L.send(null),L.responseText},me=function(y,L,Z){var $=new XMLHttpRequest;$.open("GET",y,!0),$.responseType="arraybuffer",$.onload=function(){200==$.status||0==$.status&&$.response?L($.response):Z()},$.onerror=Z,$.send(null)};var ye=E.print||console.log.bind(console),Be=E.printErr||console.warn.bind(console);for(Ht in Rt)Rt.hasOwnProperty(Ht)&&(E[Ht]=Rt[Ht]);Rt=null,E.thisProgram&&(ne=E.thisProgram),E.quit&&(Ut=E.quit);var Ve,vn=0;E.wasmBinary&&(Ve=E.wasmBinary);var Ce=E.noExitRuntime||!0;"object"!=typeof WebAssembly&&yn("no native wasm support detected");var Ae,Yn=!1;function Wn(y,L){y||yn("Assertion failed: "+L)}var Mn,Tn,Hn,Kn,Ne,Xn,ni="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function xn(y,L,Z){for(var $=L+Z,dt=L;y[dt]&&!(dt>=$);)++dt;if(dt-L>16&&y.subarray&&ni)return ni.decode(y.subarray(L,dt));for(var Et="";L<dt;){var Lt=y[L++];if(128&Lt){var Vt=63&y[L++];if(192!=(224&Lt)){var ce=63&y[L++];if((Lt=224==(240&Lt)?(15&Lt)<<12|Vt<<6|ce:(7&Lt)<<18|Vt<<12|ce<<6|63&y[L++])<65536)Et+=String.fromCharCode(Lt);else{var Xe=Lt-65536;Et+=String.fromCharCode(55296|Xe>>10,56320|1023&Xe)}}else Et+=String.fromCharCode((31&Lt)<<6|Vt)}else Et+=String.fromCharCode(Lt)}return Et}function sn(y,L){return y?xn(Hn,y,L):""}function je(y,L,Z,$){if(!($>0))return 0;for(var dt=Z,Et=Z+$-1,Lt=0;Lt<y.length;++Lt){var Vt=y.charCodeAt(Lt);if(Vt>=55296&&Vt<=57343&&(Vt=65536+((1023&Vt)<<10)|1023&y.charCodeAt(++Lt)),Vt<=127){if(Z>=Et)break;L[Z++]=Vt}else if(Vt<=2047){if(Z+1>=Et)break;L[Z++]=192|Vt>>6,L[Z++]=128|63&Vt}else if(Vt<=65535){if(Z+2>=Et)break;L[Z++]=224|Vt>>12,L[Z++]=128|Vt>>6&63,L[Z++]=128|63&Vt}else{if(Z+3>=Et)break;L[Z++]=240|Vt>>18,L[Z++]=128|Vt>>12&63,L[Z++]=128|Vt>>6&63,L[Z++]=128|63&Vt}}return L[Z]=0,Z-dt}function In(y){for(var L=0,Z=0;Z<y.length;++Z){var $=y.charCodeAt(Z);$>=55296&&$<=57343&&($=65536+((1023&$)<<10)|1023&y.charCodeAt(++Z)),$<=127?++L:L+=$<=2047?2:$<=65535?3:4}return L}function ci(y,L){return y%L>0&&(y+=L-y%L),y}function jn(y){Mn=y,E.HEAP8=Tn=new Int8Array(y),E.HEAP16=Kn=new Int16Array(y),E.HEAP32=Ne=new Int32Array(y),E.HEAPU8=Hn=new Uint8Array(y),E.HEAPU16=new Uint16Array(y),E.HEAPU32=new Uint32Array(y),E.HEAPF32=new Float32Array(y),E.HEAPF64=Xn=new Float64Array(y)}var yt,Gt=[],se=[],de=[];var gn=0,ti=null;function On(y){gn++,E.monitorRunDependencies&&E.monitorRunDependencies(gn)}function un(y){if(gn--,E.monitorRunDependencies&&E.monitorRunDependencies(gn),0==gn&&ti){var L=ti;ti=null,L()}}function yn(y){E.onAbort&&E.onAbort(y),Be(y="Aborted("+y+")"),Yn=!0,y+=". Build with -s ASSERTIONS=1 for more info.";var L=new WebAssembly.RuntimeError(y);throw It(L),L}E.preloadedImages={},E.preloadedAudios={};var Nn;function ui(y){return y.startsWith("data:application/octet-stream;base64,")}function Le(y){try{if(y==Nn&&Ve)return new Uint8Array(Ve);throw"both async and sync fetching of the wasm failed"}catch(L){yn(L)}}ui(Nn="graphvizlib.wasm")||(Nn=function Nt(y){return E.locateFile?E.locateFile(y,ft):ft+y}(Nn));var fn,G,At,X={161580:function(y,L){var Z=sn(y),$=sn(L);N.createPath("/",qt.dirname(Z)),N.writeFile(qt.join("/",Z),$)}};function ht(y){for(;y.length>0;){var L=y.shift();if("function"!=typeof L){var Z=L.func;"number"==typeof Z?void 0===L.arg?D(Z)():D(Z)(L.arg):Z(void 0===L.arg?null:L.arg)}else L(E)}}function D(y){return yt.get(y)}At=function(){return performance.now()};function Bt(y){return Ne[kt()>>2]=y,y}var qt={splitPath:function(y){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(y).slice(1)},normalizeArray:function(y,L){for(var Z=0,$=y.length-1;$>=0;$--){var dt=y[$];"."===dt?y.splice($,1):".."===dt?(y.splice($,1),Z++):Z&&(y.splice($,1),Z--)}if(L)for(;Z;Z--)y.unshift("..");return y},normalize:function(y){var L="/"===y.charAt(0),Z="/"===y.substr(-1);return!(y=qt.normalizeArray(y.split("/").filter(function($){return!!$}),!L).join("/"))&&!L&&(y="."),y&&Z&&(y+="/"),(L?"/":"")+y},dirname:function(y){var L=qt.splitPath(y),Z=L[0],$=L[1];return Z||$?($&&($=$.substr(0,$.length-1)),Z+$):"."},basename:function(y){if("/"===y)return"/";var L=(y=(y=qt.normalize(y)).replace(/\/$/,"")).lastIndexOf("/");return-1===L?y:y.substr(L+1)},extname:function(y){return qt.splitPath(y)[3]},join:function(){var y=Array.prototype.slice.call(arguments,0);return qt.normalize(y.join("/"))},join2:function(y,L){return qt.normalize(y+"/"+L)}};var pt={resolve:function(){for(var y="",L=!1,Z=arguments.length-1;Z>=-1&&!L;Z--){var $=Z>=0?arguments[Z]:N.cwd();if("string"!=typeof $)throw new TypeError("Arguments to path.resolve must be strings");if(!$)return"";y=$+"/"+y,L="/"===$.charAt(0)}return(L?"/":"")+(y=qt.normalizeArray(y.split("/").filter(function(dt){return!!dt}),!L).join("/"))||"."},relative:function(y,L){function Z(Xe){for(var hn=0;hn<Xe.length&&""===Xe[hn];hn++);for(var bn=Xe.length-1;bn>=0&&""===Xe[bn];bn--);return hn>bn?[]:Xe.slice(hn,bn-hn+1)}y=pt.resolve(y).substr(1),L=pt.resolve(L).substr(1);for(var $=Z(y.split("/")),dt=Z(L.split("/")),Et=Math.min($.length,dt.length),Lt=Et,Vt=0;Vt<Et;Vt++)if($[Vt]!==dt[Vt]){Lt=Vt;break}var ce=[];for(Vt=Lt;Vt<$.length;Vt++)ce.push("..");return(ce=ce.concat(dt.slice(Lt))).join("/")}},bt={ttys:[],init:function(){},shutdown:function(){},register:function(y,L){bt.ttys[y]={input:[],output:[],ops:L},N.registerDevice(y,bt.stream_ops)},stream_ops:{open:function(y){var L=bt.ttys[y.node.rdev];if(!L)throw new N.ErrnoError(43);y.tty=L,y.seekable=!1},close:function(y){y.tty.ops.flush(y.tty)},flush:function(y){y.tty.ops.flush(y.tty)},read:function(y,L,Z,$,dt){if(!y.tty||!y.tty.ops.get_char)throw new N.ErrnoError(60);for(var Et=0,Lt=0;Lt<$;Lt++){var Vt;try{Vt=y.tty.ops.get_char(y.tty)}catch(ce){throw new N.ErrnoError(29)}if(void 0===Vt&&0===Et)throw new N.ErrnoError(6);if(null==Vt)break;Et++,L[Z+Lt]=Vt}return Et&&(y.node.timestamp=Date.now()),Et},write:function(y,L,Z,$,dt){if(!y.tty||!y.tty.ops.put_char)throw new N.ErrnoError(60);try{for(var Et=0;Et<$;Et++)y.tty.ops.put_char(y.tty,L[Z+Et])}catch(Lt){throw new N.ErrnoError(29)}return $&&(y.node.timestamp=Date.now()),Et}},default_tty_ops:{get_char:function(y){if(!y.input.length){var L=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(L=window.prompt("Input: "))&&(L+="\n"):"function"==typeof readline&&null!==(L=readline())&&(L+="\n"),!L)return null;y.input=Hi(L,!0)}return y.input.shift()},put_char:function(y,L){null===L||10===L?(ye(xn(y.output,0)),y.output=[]):0!=L&&y.output.push(L)},flush:function(y){y.output&&y.output.length>0&&(ye(xn(y.output,0)),y.output=[])}},default_tty1_ops:{put_char:function(y,L){null===L||10===L?(Be(xn(y.output,0)),y.output=[]):0!=L&&y.output.push(L)},flush:function(y){y.output&&y.output.length>0&&(Be(xn(y.output,0)),y.output=[])}}};function te(y){y=function Xt(y,L){return Math.ceil(y/L)*L}(y,65536);var L=Ge(65536,y);return L?(function wt(y,L){Hn.fill(0,y,y+L)}(L,y),L):0}var Dt={ops_table:null,mount:function(y){return Dt.createNode(null,"/",16895,0)},createNode:function(y,L,Z,$){if(N.isBlkdev(Z)||N.isFIFO(Z))throw new N.ErrnoError(63);Dt.ops_table||(Dt.ops_table={dir:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr,lookup:Dt.node_ops.lookup,mknod:Dt.node_ops.mknod,rename:Dt.node_ops.rename,unlink:Dt.node_ops.unlink,rmdir:Dt.node_ops.rmdir,readdir:Dt.node_ops.readdir,symlink:Dt.node_ops.symlink},stream:{llseek:Dt.stream_ops.llseek}},file:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr},stream:{llseek:Dt.stream_ops.llseek,read:Dt.stream_ops.read,write:Dt.stream_ops.write,allocate:Dt.stream_ops.allocate,mmap:Dt.stream_ops.mmap,msync:Dt.stream_ops.msync}},link:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr,readlink:Dt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr},stream:N.chrdev_stream_ops}});var dt=N.createNode(y,L,Z,$);return N.isDir(dt.mode)?(dt.node_ops=Dt.ops_table.dir.node,dt.stream_ops=Dt.ops_table.dir.stream,dt.contents={}):N.isFile(dt.mode)?(dt.node_ops=Dt.ops_table.file.node,dt.stream_ops=Dt.ops_table.file.stream,dt.usedBytes=0,dt.contents=null):N.isLink(dt.mode)?(dt.node_ops=Dt.ops_table.link.node,dt.stream_ops=Dt.ops_table.link.stream):N.isChrdev(dt.mode)&&(dt.node_ops=Dt.ops_table.chrdev.node,dt.stream_ops=Dt.ops_table.chrdev.stream),dt.timestamp=Date.now(),y&&(y.contents[L]=dt,y.timestamp=dt.timestamp),dt},getFileDataAsTypedArray:function(y){return y.contents?y.contents.subarray?y.contents.subarray(0,y.usedBytes):new Uint8Array(y.contents):new Uint8Array(0)},expandFileStorage:function(y,L){var Z=y.contents?y.contents.length:0;if(!(Z>=L)){L=Math.max(L,Z*(Z<1048576?2:1.125)>>>0),0!=Z&&(L=Math.max(L,256));var dt=y.contents;y.contents=new Uint8Array(L),y.usedBytes>0&&y.contents.set(dt.subarray(0,y.usedBytes),0)}},resizeFileStorage:function(y,L){if(y.usedBytes!=L)if(0==L)y.contents=null,y.usedBytes=0;else{var Z=y.contents;y.contents=new Uint8Array(L),Z&&y.contents.set(Z.subarray(0,Math.min(L,y.usedBytes))),y.usedBytes=L}},node_ops:{getattr:function(y){var L={};return L.dev=N.isChrdev(y.mode)?y.id:1,L.ino=y.id,L.mode=y.mode,L.nlink=1,L.uid=0,L.gid=0,L.rdev=y.rdev,L.size=N.isDir(y.mode)?4096:N.isFile(y.mode)?y.usedBytes:N.isLink(y.mode)?y.link.length:0,L.atime=new Date(y.timestamp),L.mtime=new Date(y.timestamp),L.ctime=new Date(y.timestamp),L.blksize=4096,L.blocks=Math.ceil(L.size/L.blksize),L},setattr:function(y,L){void 0!==L.mode&&(y.mode=L.mode),void 0!==L.timestamp&&(y.timestamp=L.timestamp),void 0!==L.size&&Dt.resizeFileStorage(y,L.size)},lookup:function(y,L){throw N.genericErrors[44]},mknod:function(y,L,Z,$){return Dt.createNode(y,L,Z,$)},rename:function(y,L,Z){if(N.isDir(y.mode)){var $;try{$=N.lookupNode(L,Z)}catch(Et){}if($)for(var dt in $.contents)throw new N.ErrnoError(55)}delete y.parent.contents[y.name],y.parent.timestamp=Date.now(),y.name=Z,L.contents[Z]=y,L.timestamp=y.parent.timestamp,y.parent=L},unlink:function(y,L){delete y.contents[L],y.timestamp=Date.now()},rmdir:function(y,L){var Z=N.lookupNode(y,L);for(var $ in Z.contents)throw new N.ErrnoError(55);delete y.contents[L],y.timestamp=Date.now()},readdir:function(y){var L=[".",".."];for(var Z in y.contents)!y.contents.hasOwnProperty(Z)||L.push(Z);return L},symlink:function(y,L,Z){var $=Dt.createNode(y,L,41471,0);return $.link=Z,$},readlink:function(y){if(!N.isLink(y.mode))throw new N.ErrnoError(28);return y.link}},stream_ops:{read:function(y,L,Z,$,dt){var Et=y.node.contents;if(dt>=y.node.usedBytes)return 0;var Lt=Math.min(y.node.usedBytes-dt,$);if(Lt>8&&Et.subarray)L.set(Et.subarray(dt,dt+Lt),Z);else for(var Vt=0;Vt<Lt;Vt++)L[Z+Vt]=Et[dt+Vt];return Lt},write:function(y,L,Z,$,dt,Et){if(L.buffer===Tn.buffer&&(Et=!1),!$)return 0;var Lt=y.node;if(Lt.timestamp=Date.now(),L.subarray&&(!Lt.contents||Lt.contents.subarray)){if(Et)return Lt.contents=L.subarray(Z,Z+$),Lt.usedBytes=$,$;if(0===Lt.usedBytes&&0===dt)return Lt.contents=L.slice(Z,Z+$),Lt.usedBytes=$,$;if(dt+$<=Lt.usedBytes)return Lt.contents.set(L.subarray(Z,Z+$),dt),$}if(Dt.expandFileStorage(Lt,dt+$),Lt.contents.subarray&&L.subarray)Lt.contents.set(L.subarray(Z,Z+$),dt);else for(var Vt=0;Vt<$;Vt++)Lt.contents[dt+Vt]=L[Z+Vt];return Lt.usedBytes=Math.max(Lt.usedBytes,dt+$),$},llseek:function(y,L,Z){var $=L;if(1===Z?$+=y.position:2===Z&&N.isFile(y.node.mode)&&($+=y.node.usedBytes),$<0)throw new N.ErrnoError(28);return $},allocate:function(y,L,Z){Dt.expandFileStorage(y.node,L+Z),y.node.usedBytes=Math.max(y.node.usedBytes,L+Z)},mmap:function(y,L,Z,$,dt,Et){if(0!==L)throw new N.ErrnoError(28);if(!N.isFile(y.node.mode))throw new N.ErrnoError(43);var Lt,Vt,ce=y.node.contents;if(2&Et||ce.buffer!==Mn){if(($>0||$+Z<ce.length)&&(ce=ce.subarray?ce.subarray($,$+Z):Array.prototype.slice.call(ce,$,$+Z)),Vt=!0,!(Lt=te(Z)))throw new N.ErrnoError(48);Tn.set(ce,Lt)}else Vt=!1,Lt=ce.byteOffset;return{ptr:Lt,allocated:Vt}},msync:function(y,L,Z,$,dt){if(!N.isFile(y.node.mode))throw new N.ErrnoError(43);return 2&dt||Dt.stream_ops.write(y,L,0,$,Z,!1),0}}};var N={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(y,L){if(L=L||{},!(y=pt.resolve(N.cwd(),y)))return{path:"",node:null};var Z={follow_mount:!0,recurse_count:0};for(var $ in Z)void 0===L[$]&&(L[$]=Z[$]);if(L.recurse_count>8)throw new N.ErrnoError(32);for(var dt=qt.normalizeArray(y.split("/").filter(function(Je){return!!Je}),!1),Et=N.root,Lt="/",Vt=0;Vt<dt.length;Vt++){var ce=Vt===dt.length-1;if(ce&&L.parent)break;if(Et=N.lookupNode(Et,dt[Vt]),Lt=qt.join2(Lt,dt[Vt]),N.isMountpoint(Et)&&(!ce||ce&&L.follow_mount)&&(Et=Et.mounted.root),!ce||L.follow)for(var Xe=0;N.isLink(Et.mode);){var hn=N.readlink(Lt);if(Lt=pt.resolve(qt.dirname(Lt),hn),Et=N.lookupPath(Lt,{recurse_count:L.recurse_count}).node,Xe++>40)throw new N.ErrnoError(32)}}return{path:Lt,node:Et}},getPath:function(y){for(var L;;){if(N.isRoot(y)){var Z=y.mount.mountpoint;return L?"/"!==Z[Z.length-1]?Z+"/"+L:Z+L:Z}L=L?y.name+"/"+L:y.name,y=y.parent}},hashName:function(y,L){for(var Z=0,$=0;$<L.length;$++)Z=(Z<<5)-Z+L.charCodeAt($)|0;return(y+Z>>>0)%N.nameTable.length},hashAddNode:function(y){var L=N.hashName(y.parent.id,y.name);y.name_next=N.nameTable[L],N.nameTable[L]=y},hashRemoveNode:function(y){var L=N.hashName(y.parent.id,y.name);if(N.nameTable[L]===y)N.nameTable[L]=y.name_next;else for(var Z=N.nameTable[L];Z;){if(Z.name_next===y){Z.name_next=y.name_next;break}Z=Z.name_next}},lookupNode:function(y,L){var Z=N.mayLookup(y);if(Z)throw new N.ErrnoError(Z,y);for(var $=N.hashName(y.id,L),dt=N.nameTable[$];dt;dt=dt.name_next)if(dt.parent.id===y.id&&dt.name===L)return dt;return N.lookup(y,L)},createNode:function(y,L,Z,$){var dt=new N.FSNode(y,L,Z,$);return N.hashAddNode(dt),dt},destroyNode:function(y){N.hashRemoveNode(y)},isRoot:function(y){return y===y.parent},isMountpoint:function(y){return!!y.mounted},isFile:function(y){return 32768==(61440&y)},isDir:function(y){return 16384==(61440&y)},isLink:function(y){return 40960==(61440&y)},isChrdev:function(y){return 8192==(61440&y)},isBlkdev:function(y){return 24576==(61440&y)},isFIFO:function(y){return 4096==(61440&y)},isSocket:function(y){return 49152==(49152&y)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(y){var L=N.flagModes[y];if(void 0===L)throw new Error("Unknown file open mode: "+y);return L},flagsToPermissionString:function(y){var L=["r","w","rw"][3&y];return 512&y&&(L+="w"),L},nodePermissions:function(y,L){return N.ignorePermissions?0:L.includes("r")&&!(292&y.mode)||L.includes("w")&&!(146&y.mode)||L.includes("x")&&!(73&y.mode)?2:0},mayLookup:function(y){return N.nodePermissions(y,"x")||(y.node_ops.lookup?0:2)},mayCreate:function(y,L){try{return N.lookupNode(y,L),20}catch($){}return N.nodePermissions(y,"wx")},mayDelete:function(y,L,Z){var $;try{$=N.lookupNode(y,L)}catch(Et){return Et.errno}var dt=N.nodePermissions(y,"wx");if(dt)return dt;if(Z){if(!N.isDir($.mode))return 54;if(N.isRoot($)||N.getPath($)===N.cwd())return 10}else if(N.isDir($.mode))return 31;return 0},mayOpen:function(y,L){return y?N.isLink(y.mode)?32:N.isDir(y.mode)&&("r"!==N.flagsToPermissionString(L)||512&L)?31:N.nodePermissions(y,N.flagsToPermissionString(L)):44},MAX_OPEN_FDS:4096,nextfd:function(y,L){L=L||N.MAX_OPEN_FDS;for(var Z=y=y||0;Z<=L;Z++)if(!N.streams[Z])return Z;throw new N.ErrnoError(33)},getStream:function(y){return N.streams[y]},createStream:function(y,L,Z){N.FSStream||(N.FSStream=function(){},N.FSStream.prototype={object:{get:function(){return this.node},set:function(Lt){this.node=Lt}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var $=new N.FSStream;for(var dt in y)$[dt]=y[dt];y=$;var Et=N.nextfd(L,Z);return y.fd=Et,N.streams[Et]=y,y},closeStream:function(y){N.streams[y]=null},chrdev_stream_ops:{open:function(y){var L=N.getDevice(y.node.rdev);y.stream_ops=L.stream_ops,y.stream_ops.open&&y.stream_ops.open(y)},llseek:function(){throw new N.ErrnoError(70)}},major:function(y){return y>>8},minor:function(y){return 255&y},makedev:function(y,L){return y<<8|L},registerDevice:function(y,L){N.devices[y]={stream_ops:L}},getDevice:function(y){return N.devices[y]},getMounts:function(y){for(var L=[],Z=[y];Z.length;){var $=Z.pop();L.push($),Z.push.apply(Z,$.mounts)}return L},syncfs:function(y,L){"function"==typeof y&&(L=y,y=!1),N.syncFSRequests++,N.syncFSRequests>1&&Be("warning: "+N.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var Z=N.getMounts(N.root.mount),$=0;function dt(Lt){return N.syncFSRequests--,L(Lt)}function Et(Lt){if(Lt)return Et.errored?void 0:(Et.errored=!0,dt(Lt));++$>=Z.length&&dt(null)}Z.forEach(function(Lt){if(!Lt.type.syncfs)return Et(null);Lt.type.syncfs(Lt,y,Et)})},mount:function(y,L,Z){var Et,$="/"===Z,dt=!Z;if($&&N.root)throw new N.ErrnoError(10);if(!$&&!dt){var Lt=N.lookupPath(Z,{follow_mount:!1});if(Z=Lt.path,N.isMountpoint(Et=Lt.node))throw new N.ErrnoError(10);if(!N.isDir(Et.mode))throw new N.ErrnoError(54)}var Vt={type:y,opts:L,mountpoint:Z,mounts:[]},ce=y.mount(Vt);return ce.mount=Vt,Vt.root=ce,$?N.root=ce:Et&&(Et.mounted=Vt,Et.mount&&Et.mount.mounts.push(Vt)),ce},unmount:function(y){var L=N.lookupPath(y,{follow_mount:!1});if(!N.isMountpoint(L.node))throw new N.ErrnoError(28);var Z=L.node,$=Z.mounted,dt=N.getMounts($);Object.keys(N.nameTable).forEach(function(Lt){for(var Vt=N.nameTable[Lt];Vt;){var ce=Vt.name_next;dt.includes(Vt.mount)&&N.destroyNode(Vt),Vt=ce}}),Z.mounted=null;var Et=Z.mount.mounts.indexOf($);Z.mount.mounts.splice(Et,1)},lookup:function(y,L){return y.node_ops.lookup(y,L)},mknod:function(y,L,Z){var dt=N.lookupPath(y,{parent:!0}).node,Et=qt.basename(y);if(!Et||"."===Et||".."===Et)throw new N.ErrnoError(28);var Lt=N.mayCreate(dt,Et);if(Lt)throw new N.ErrnoError(Lt);if(!dt.node_ops.mknod)throw new N.ErrnoError(63);return dt.node_ops.mknod(dt,Et,L,Z)},create:function(y,L){return L=void 0!==L?L:438,L&=4095,N.mknod(y,L|=32768,0)},mkdir:function(y,L){return L=void 0!==L?L:511,L&=1023,N.mknod(y,L|=16384,0)},mkdirTree:function(y,L){for(var Z=y.split("/"),$="",dt=0;dt<Z.length;++dt)if(Z[dt]){$+="/"+Z[dt];try{N.mkdir($,L)}catch(Et){if(20!=Et.errno)throw Et}}},mkdev:function(y,L,Z){return void 0===Z&&(Z=L,L=438),N.mknod(y,L|=8192,Z)},symlink:function(y,L){if(!pt.resolve(y))throw new N.ErrnoError(44);var $=N.lookupPath(L,{parent:!0}).node;if(!$)throw new N.ErrnoError(44);var dt=qt.basename(L),Et=N.mayCreate($,dt);if(Et)throw new N.ErrnoError(Et);if(!$.node_ops.symlink)throw new N.ErrnoError(63);return $.node_ops.symlink($,dt,y)},rename:function(y,L){var Vt,ce,Z=qt.dirname(y),$=qt.dirname(L),dt=qt.basename(y),Et=qt.basename(L);if(Vt=N.lookupPath(y,{parent:!0}).node,ce=N.lookupPath(L,{parent:!0}).node,!Vt||!ce)throw new N.ErrnoError(44);if(Vt.mount!==ce.mount)throw new N.ErrnoError(75);var bn,Xe=N.lookupNode(Vt,dt),hn=pt.relative(y,$);if("."!==hn.charAt(0))throw new N.ErrnoError(28);if("."!==(hn=pt.relative(L,Z)).charAt(0))throw new N.ErrnoError(55);try{bn=N.lookupNode(ce,Et)}catch(kn){}if(Xe!==bn){var Je=N.isDir(Xe.mode),tn=N.mayDelete(Vt,dt,Je);if(tn)throw new N.ErrnoError(tn);if(tn=bn?N.mayDelete(ce,Et,Je):N.mayCreate(ce,Et))throw new N.ErrnoError(tn);if(!Vt.node_ops.rename)throw new N.ErrnoError(63);if(N.isMountpoint(Xe)||bn&&N.isMountpoint(bn))throw new N.ErrnoError(10);if(ce!==Vt&&(tn=N.nodePermissions(Vt,"w")))throw new N.ErrnoError(tn);N.hashRemoveNode(Xe);try{Vt.node_ops.rename(Xe,ce,Et)}catch(kn){throw kn}finally{N.hashAddNode(Xe)}}},rmdir:function(y){var Z=N.lookupPath(y,{parent:!0}).node,$=qt.basename(y),dt=N.lookupNode(Z,$),Et=N.mayDelete(Z,$,!0);if(Et)throw new N.ErrnoError(Et);if(!Z.node_ops.rmdir)throw new N.ErrnoError(63);if(N.isMountpoint(dt))throw new N.ErrnoError(10);Z.node_ops.rmdir(Z,$),N.destroyNode(dt)},readdir:function(y){var Z=N.lookupPath(y,{follow:!0}).node;if(!Z.node_ops.readdir)throw new N.ErrnoError(54);return Z.node_ops.readdir(Z)},unlink:function(y){var Z=N.lookupPath(y,{parent:!0}).node,$=qt.basename(y),dt=N.lookupNode(Z,$),Et=N.mayDelete(Z,$,!1);if(Et)throw new N.ErrnoError(Et);if(!Z.node_ops.unlink)throw new N.ErrnoError(63);if(N.isMountpoint(dt))throw new N.ErrnoError(10);Z.node_ops.unlink(Z,$),N.destroyNode(dt)},readlink:function(y){var Z=N.lookupPath(y).node;if(!Z)throw new N.ErrnoError(44);if(!Z.node_ops.readlink)throw new N.ErrnoError(28);return pt.resolve(N.getPath(Z.parent),Z.node_ops.readlink(Z))},stat:function(y,L){var $=N.lookupPath(y,{follow:!L}).node;if(!$)throw new N.ErrnoError(44);if(!$.node_ops.getattr)throw new N.ErrnoError(63);return $.node_ops.getattr($)},lstat:function(y){return N.stat(y,!0)},chmod:function(y,L,Z){var $;if(!($="string"==typeof y?N.lookupPath(y,{follow:!Z}).node:y).node_ops.setattr)throw new N.ErrnoError(63);$.node_ops.setattr($,{mode:4095&L|-4096&$.mode,timestamp:Date.now()})},lchmod:function(y,L){N.chmod(y,L,!0)},fchmod:function(y,L){var Z=N.getStream(y);if(!Z)throw new N.ErrnoError(8);N.chmod(Z.node,L)},chown:function(y,L,Z,$){var dt;if(!(dt="string"==typeof y?N.lookupPath(y,{follow:!$}).node:y).node_ops.setattr)throw new N.ErrnoError(63);dt.node_ops.setattr(dt,{timestamp:Date.now()})},lchown:function(y,L,Z){N.chown(y,L,Z,!0)},fchown:function(y,L,Z){var $=N.getStream(y);if(!$)throw new N.ErrnoError(8);N.chown($.node,L,Z)},truncate:function(y,L){if(L<0)throw new N.ErrnoError(28);var Z;if(!(Z="string"==typeof y?N.lookupPath(y,{follow:!0}).node:y).node_ops.setattr)throw new N.ErrnoError(63);if(N.isDir(Z.mode))throw new N.ErrnoError(31);if(!N.isFile(Z.mode))throw new N.ErrnoError(28);var dt=N.nodePermissions(Z,"w");if(dt)throw new N.ErrnoError(dt);Z.node_ops.setattr(Z,{size:L,timestamp:Date.now()})},ftruncate:function(y,L){var Z=N.getStream(y);if(!Z)throw new N.ErrnoError(8);if(0==(2097155&Z.flags))throw new N.ErrnoError(28);N.truncate(Z.node,L)},utime:function(y,L,Z){var dt=N.lookupPath(y,{follow:!0}).node;dt.node_ops.setattr(dt,{timestamp:Math.max(L,Z)})},open:function(y,L,Z,$,dt){if(""===y)throw new N.ErrnoError(44);var Et;if(Z=void 0===Z?438:Z,Z=64&(L="string"==typeof L?N.modeStringToFlags(L):L)?4095&Z|32768:0,"object"==typeof y)Et=y;else{y=qt.normalize(y);try{Et=N.lookupPath(y,{follow:!(131072&L)}).node}catch(hn){}}var Vt=!1;if(64&L)if(Et){if(128&L)throw new N.ErrnoError(20)}else Et=N.mknod(y,Z,0),Vt=!0;if(!Et)throw new N.ErrnoError(44);if(N.isChrdev(Et.mode)&&(L&=-513),65536&L&&!N.isDir(Et.mode))throw new N.ErrnoError(54);if(!Vt){var ce=N.mayOpen(Et,L);if(ce)throw new N.ErrnoError(ce)}512&L&&N.truncate(Et,0),L&=-131713;var Xe=N.createStream({node:Et,path:N.getPath(Et),id:Et.id,flags:L,mode:Et.mode,seekable:!0,position:0,stream_ops:Et.stream_ops,node_ops:Et.node_ops,ungotten:[],error:!1},$,dt);return Xe.stream_ops.open&&Xe.stream_ops.open(Xe),E.logReadFiles&&!(1&L)&&(N.readFiles||(N.readFiles={}),y in N.readFiles||(N.readFiles[y]=1)),Xe},close:function(y){if(N.isClosed(y))throw new N.ErrnoError(8);y.getdents&&(y.getdents=null);try{y.stream_ops.close&&y.stream_ops.close(y)}catch(L){throw L}finally{N.closeStream(y.fd)}y.fd=null},isClosed:function(y){return null===y.fd},llseek:function(y,L,Z){if(N.isClosed(y))throw new N.ErrnoError(8);if(!y.seekable||!y.stream_ops.llseek)throw new N.ErrnoError(70);if(0!=Z&&1!=Z&&2!=Z)throw new N.ErrnoError(28);return y.position=y.stream_ops.llseek(y,L,Z),y.ungotten=[],y.position},read:function(y,L,Z,$,dt){if($<0||dt<0)throw new N.ErrnoError(28);if(N.isClosed(y))throw new N.ErrnoError(8);if(1==(2097155&y.flags))throw new N.ErrnoError(8);if(N.isDir(y.node.mode))throw new N.ErrnoError(31);if(!y.stream_ops.read)throw new N.ErrnoError(28);var Et=void 0!==dt;if(Et){if(!y.seekable)throw new N.ErrnoError(70)}else dt=y.position;var Lt=y.stream_ops.read(y,L,Z,$,dt);return Et||(y.position+=Lt),Lt},write:function(y,L,Z,$,dt,Et){if($<0||dt<0)throw new N.ErrnoError(28);if(N.isClosed(y))throw new N.ErrnoError(8);if(0==(2097155&y.flags))throw new N.ErrnoError(8);if(N.isDir(y.node.mode))throw new N.ErrnoError(31);if(!y.stream_ops.write)throw new N.ErrnoError(28);y.seekable&&1024&y.flags&&N.llseek(y,0,2);var Lt=void 0!==dt;if(Lt){if(!y.seekable)throw new N.ErrnoError(70)}else dt=y.position;var Vt=y.stream_ops.write(y,L,Z,$,dt,Et);return Lt||(y.position+=Vt),Vt},allocate:function(y,L,Z){if(N.isClosed(y))throw new N.ErrnoError(8);if(L<0||Z<=0)throw new N.ErrnoError(28);if(0==(2097155&y.flags))throw new N.ErrnoError(8);if(!N.isFile(y.node.mode)&&!N.isDir(y.node.mode))throw new N.ErrnoError(43);if(!y.stream_ops.allocate)throw new N.ErrnoError(138);y.stream_ops.allocate(y,L,Z)},mmap:function(y,L,Z,$,dt,Et){if(0!=(2&dt)&&0==(2&Et)&&2!=(2097155&y.flags))throw new N.ErrnoError(2);if(1==(2097155&y.flags))throw new N.ErrnoError(2);if(!y.stream_ops.mmap)throw new N.ErrnoError(43);return y.stream_ops.mmap(y,L,Z,$,dt,Et)},msync:function(y,L,Z,$,dt){return y&&y.stream_ops.msync?y.stream_ops.msync(y,L,Z,$,dt):0},munmap:function(y){return 0},ioctl:function(y,L,Z){if(!y.stream_ops.ioctl)throw new N.ErrnoError(59);return y.stream_ops.ioctl(y,L,Z)},readFile:function(y,L){if((L=L||{}).flags=L.flags||0,L.encoding=L.encoding||"binary","utf8"!==L.encoding&&"binary"!==L.encoding)throw new Error('Invalid encoding type "'+L.encoding+'"');var Z,$=N.open(y,L.flags),Et=N.stat(y).size,Lt=new Uint8Array(Et);return N.read($,Lt,0,Et,0),"utf8"===L.encoding?Z=xn(Lt,0):"binary"===L.encoding&&(Z=Lt),N.close($),Z},writeFile:function(y,L,Z){(Z=Z||{}).flags=Z.flags||577;var $=N.open(y,Z.flags,Z.mode);if("string"==typeof L){var dt=new Uint8Array(In(L)+1),Et=je(L,dt,0,dt.length);N.write($,dt,0,Et,void 0,Z.canOwn)}else{if(!ArrayBuffer.isView(L))throw new Error("Unsupported data type");N.write($,L,0,L.byteLength,void 0,Z.canOwn)}N.close($)},cwd:function(){return N.currentPath},chdir:function(y){var L=N.lookupPath(y,{follow:!0});if(null===L.node)throw new N.ErrnoError(44);if(!N.isDir(L.node.mode))throw new N.ErrnoError(54);var Z=N.nodePermissions(L.node,"x");if(Z)throw new N.ErrnoError(Z);N.currentPath=L.path},createDefaultDirectories:function(){N.mkdir("/tmp"),N.mkdir("/home"),N.mkdir("/home/web_user")},createDefaultDevices:function(){N.mkdir("/dev"),N.registerDevice(N.makedev(1,3),{read:function(){return 0},write:function(L,Z,$,dt,Et){return dt}}),N.mkdev("/dev/null",N.makedev(1,3)),bt.register(N.makedev(5,0),bt.default_tty_ops),bt.register(N.makedev(6,0),bt.default_tty1_ops),N.mkdev("/dev/tty",N.makedev(5,0)),N.mkdev("/dev/tty1",N.makedev(6,0));var y=function q(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var y=new Uint8Array(1);return function(){return crypto.getRandomValues(y),y[0]}}return function(){yn("randomDevice")}}();N.createDevice("/dev","random",y),N.createDevice("/dev","urandom",y),N.mkdir("/dev/shm"),N.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){N.mkdir("/proc");var y=N.mkdir("/proc/self");N.mkdir("/proc/self/fd"),N.mount({mount:function(){var L=N.createNode(y,"fd",16895,73);return L.node_ops={lookup:function(Z,$){var Et=N.getStream(+$);if(!Et)throw new N.ErrnoError(8);var Lt={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return Et.path}}};return Lt.parent=Lt,Lt}},L}},{},"/proc/self/fd")},createStandardStreams:function(){E.stdin?N.createDevice("/dev","stdin",E.stdin):N.symlink("/dev/tty","/dev/stdin"),E.stdout?N.createDevice("/dev","stdout",null,E.stdout):N.symlink("/dev/tty","/dev/stdout"),E.stderr?N.createDevice("/dev","stderr",null,E.stderr):N.symlink("/dev/tty1","/dev/stderr"),N.open("/dev/stdin",0),N.open("/dev/stdout",1),N.open("/dev/stderr",1)},ensureErrnoError:function(){N.ErrnoError||(N.ErrnoError=function(L,Z){this.node=Z,this.setErrno=function($){this.errno=$},this.setErrno(L),this.message="FS error"},N.ErrnoError.prototype=new Error,N.ErrnoError.prototype.constructor=N.ErrnoError,[44].forEach(function(y){N.genericErrors[y]=new N.ErrnoError(y),N.genericErrors[y].stack="<generic error, no stack>"}))},staticInit:function(){N.ensureErrnoError(),N.nameTable=new Array(4096),N.mount(Dt,{},"/"),N.createDefaultDirectories(),N.createDefaultDevices(),N.createSpecialDirectories(),N.filesystems={MEMFS:Dt}},init:function(y,L,Z){N.init.initialized=!0,N.ensureErrnoError(),E.stdin=y||E.stdin,E.stdout=L||E.stdout,E.stderr=Z||E.stderr,N.createStandardStreams()},quit:function(){N.init.initialized=!1;var y=E._fflush;y&&y(0);for(var L=0;L<N.streams.length;L++){var Z=N.streams[L];!Z||N.close(Z)}},getMode:function(y,L){var Z=0;return y&&(Z|=365),L&&(Z|=146),Z},findObject:function(y,L){var Z=N.analyzePath(y,L);return Z.exists?Z.object:null},analyzePath:function(y,L){try{y=(Z=N.lookupPath(y,{follow:!L})).path}catch(dt){}var $={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var Z=N.lookupPath(y,{parent:!0});$.parentExists=!0,$.parentPath=Z.path,$.parentObject=Z.node,$.name=qt.basename(y),Z=N.lookupPath(y,{follow:!L}),$.exists=!0,$.path=Z.path,$.object=Z.node,$.name=Z.node.name,$.isRoot="/"===Z.path}catch(dt){$.error=dt.errno}return $},createPath:function(y,L,Z,$){y="string"==typeof y?y:N.getPath(y);for(var dt=L.split("/").reverse();dt.length;){var Et=dt.pop();if(Et){var Lt=qt.join2(y,Et);try{N.mkdir(Lt)}catch(Vt){}y=Lt}}return Lt},createFile:function(y,L,Z,$,dt){var Et=qt.join2("string"==typeof y?y:N.getPath(y),L),Lt=N.getMode($,dt);return N.create(Et,Lt)},createDataFile:function(y,L,Z,$,dt,Et){var Lt=L?qt.join2("string"==typeof y?y:N.getPath(y),L):y,Vt=N.getMode($,dt),ce=N.create(Lt,Vt);if(Z){if("string"==typeof Z){for(var Xe=new Array(Z.length),hn=0,bn=Z.length;hn<bn;++hn)Xe[hn]=Z.charCodeAt(hn);Z=Xe}N.chmod(ce,146|Vt);var Je=N.open(ce,577);N.write(Je,Z,0,Z.length,0,Et),N.close(Je),N.chmod(ce,Vt)}return ce},createDevice:function(y,L,Z,$){var dt=qt.join2("string"==typeof y?y:N.getPath(y),L),Et=N.getMode(!!Z,!!$);N.createDevice.major||(N.createDevice.major=64);var Lt=N.makedev(N.createDevice.major++,0);return N.registerDevice(Lt,{open:function(Vt){Vt.seekable=!1},close:function(Vt){$&&$.buffer&&$.buffer.length&&$(10)},read:function(Vt,ce,Xe,hn,bn){for(var Je=0,tn=0;tn<hn;tn++){var kn;try{kn=Z()}catch(Pi){throw new N.ErrnoError(29)}if(void 0===kn&&0===Je)throw new N.ErrnoError(6);if(null==kn)break;Je++,ce[Xe+tn]=kn}return Je&&(Vt.node.timestamp=Date.now()),Je},write:function(Vt,ce,Xe,hn,bn){for(var Je=0;Je<hn;Je++)try{$(ce[Xe+Je])}catch(tn){throw new N.ErrnoError(29)}return hn&&(Vt.node.timestamp=Date.now()),Je}}),N.mkdev(dt,Et,Lt)},forceLoadFile:function(y){if(y.isDevice||y.isFolder||y.link||y.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Qt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{y.contents=Hi(Qt(y.url),!0),y.usedBytes=y.contents.length}catch(L){throw new N.ErrnoError(29)}},createLazyFile:function(y,L,Z,$,dt){function Et(){this.lengthKnown=!1,this.chunks=[]}if(Et.prototype.get=function(Je){if(!(Je>this.length-1||Je<0)){var tn=Je%this.chunkSize;return this.getter(Je/this.chunkSize|0)[tn]}},Et.prototype.setDataGetter=function(Je){this.getter=Je},Et.prototype.cacheLength=function(){var Je=new XMLHttpRequest;if(Je.open("HEAD",Z,!1),Je.send(null),!(Je.status>=200&&Je.status<300||304===Je.status))throw new Error("Couldn't load "+Z+". Status: "+Je.status);var kn,tn=Number(Je.getResponseHeader("Content-length")),Pi=(kn=Je.getResponseHeader("Accept-Ranges"))&&"bytes"===kn,Tr=(kn=Je.getResponseHeader("Content-Encoding"))&&"gzip"===kn,Ri=1048576;Pi||(Ri=tn);var ki=this;ki.setDataGetter(function($i){var br=$i*Ri,gi=($i+1)*Ri-1;if(gi=Math.min(gi,tn-1),void 0===ki.chunks[$i]&&(ki.chunks[$i]=function($i,br){if($i>br)throw new Error("invalid range ("+$i+", "+br+") or no bytes requested!");if(br>tn-1)throw new Error("only "+tn+" bytes available! programmer error!");var gi=new XMLHttpRequest;if(gi.open("GET",Z,!1),tn!==Ri&&gi.setRequestHeader("Range","bytes="+$i+"-"+br),"undefined"!=typeof Uint8Array&&(gi.responseType="arraybuffer"),gi.overrideMimeType&&gi.overrideMimeType("text/plain; charset=x-user-defined"),gi.send(null),!(gi.status>=200&&gi.status<300||304===gi.status))throw new Error("Couldn't load "+Z+". Status: "+gi.status);return void 0!==gi.response?new Uint8Array(gi.response||[]):Hi(gi.responseText||"",!0)}(br,gi)),void 0===ki.chunks[$i])throw new Error("doXHR failed!");return ki.chunks[$i]}),(Tr||!tn)&&(Ri=tn=1,tn=this.getter(0).length,Ri=tn,ye("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=tn,this._chunkSize=Ri,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Vt,ce=N.createFile(y,L,Vt={isDevice:!1,url:Z},$,dt);Vt.contents?ce.contents=Vt.contents:Vt.url&&(ce.contents=null,ce.url=Vt.url),Object.defineProperties(ce,{usedBytes:{get:function(){return this.contents.length}}});var Xe={};return Object.keys(ce.stream_ops).forEach(function(bn){var Je=ce.stream_ops[bn];Xe[bn]=function(){return N.forceLoadFile(ce),Je.apply(null,arguments)}}),Xe.read=function(Je,tn,kn,Pi,Tr){N.forceLoadFile(ce);var Ri=Je.node.contents;if(Tr>=Ri.length)return 0;var kr=Math.min(Ri.length-Tr,Pi);if(Ri.slice)for(var ki=0;ki<kr;ki++)tn[kn+ki]=Ri[Tr+ki];else for(ki=0;ki<kr;ki++)tn[kn+ki]=Ri.get(Tr+ki);return kr},ce.stream_ops=Xe,ce},createPreloadedFile:function(y,L,Z,$,dt,Et,Lt,Vt,ce,Xe){Browser.init();var hn=L?pt.resolve(qt.join2(y,L)):y;function bn(Je){function tn(Pi){Xe&&Xe(),Vt||N.createDataFile(y,L,Pi,$,dt,ce),Et&&Et(),un()}var kn=!1;E.preloadPlugins.forEach(function(Pi){kn||Pi.canHandle(hn)&&(Pi.handle(Je,hn,tn,function(){Lt&&Lt(),un()}),kn=!0)}),kn||tn(Je)}On(),"string"==typeof Z?function he(y,L,Z,$){var dt=$?"":"al "+y;me(y,function(Et){Wn(Et,'Loading data file "'+y+'" failed (no arrayBuffer).'),L(new Uint8Array(Et)),dt&&un()},function(Et){if(!Z)throw'Loading data file "'+y+'" failed.';Z()}),dt&&On()}(Z,function(Je){bn(Je)},Lt):bn(Z)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(y,L,Z){L=L||function(){},Z=Z||function(){};var $=N.indexedDB();try{var dt=$.open(N.DB_NAME(),N.DB_VERSION)}catch(Et){return Z(Et)}dt.onupgradeneeded=function(){ye("creating db"),dt.result.createObjectStore(N.DB_STORE_NAME)},dt.onsuccess=function(){var Vt=dt.result.transaction([N.DB_STORE_NAME],"readwrite"),ce=Vt.objectStore(N.DB_STORE_NAME),Xe=0,hn=0,bn=y.length;function Je(){0==hn?L():Z()}y.forEach(function(tn){var kn=ce.put(N.analyzePath(tn).object.contents,tn);kn.onsuccess=function(){++Xe+hn==bn&&Je()},kn.onerror=function(){hn++,Xe+hn==bn&&Je()}}),Vt.onerror=Z},dt.onerror=Z},loadFilesFromDB:function(y,L,Z){L=L||function(){},Z=Z||function(){};var $=N.indexedDB();try{var dt=$.open(N.DB_NAME(),N.DB_VERSION)}catch(Et){return Z(Et)}dt.onupgradeneeded=Z,dt.onsuccess=function(){var Lt=dt.result;try{var Vt=Lt.transaction([N.DB_STORE_NAME],"readonly")}catch(tn){return void Z(tn)}var ce=Vt.objectStore(N.DB_STORE_NAME),Xe=0,hn=0,bn=y.length;function Je(){0==hn?L():Z()}y.forEach(function(tn){var kn=ce.get(tn);kn.onsuccess=function(){N.analyzePath(tn).exists&&N.unlink(tn),N.createDataFile(qt.dirname(tn),qt.basename(tn),kn.result,!0,!0,!0),++Xe+hn==bn&&Je()},kn.onerror=function(){hn++,Xe+hn==bn&&Je()}}),Vt.onerror=Z},dt.onerror=Z}},le={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(y,L,Z){if("/"===L[0])return L;var $;if(-100===y)$=N.cwd();else{var dt=N.getStream(y);if(!dt)throw new N.ErrnoError(8);$=dt.path}if(0==L.length){if(!Z)throw new N.ErrnoError(44);return $}return qt.join2($,L)},doStat:function(y,L,Z){try{var $=y(L)}catch(dt){if(dt&&dt.node&&qt.normalize(L)!==qt.normalize(N.getPath(dt.node)))return-54;throw dt}return Ne[Z>>2]=$.dev,Ne[Z+4>>2]=0,Ne[Z+8>>2]=$.ino,Ne[Z+12>>2]=$.mode,Ne[Z+16>>2]=$.nlink,Ne[Z+20>>2]=$.uid,Ne[Z+24>>2]=$.gid,Ne[Z+28>>2]=$.rdev,Ne[Z+32>>2]=0,G=[$.size>>>0,(fn=$.size,+Math.abs(fn)>=1?fn>0?(0|Math.min(+Math.floor(fn/4294967296),4294967295))>>>0:~~+Math.ceil((fn-+(~~fn>>>0))/4294967296)>>>0:0)],Ne[Z+40>>2]=G[0],Ne[Z+44>>2]=G[1],Ne[Z+48>>2]=4096,Ne[Z+52>>2]=$.blocks,Ne[Z+56>>2]=$.atime.getTime()/1e3|0,Ne[Z+60>>2]=0,Ne[Z+64>>2]=$.mtime.getTime()/1e3|0,Ne[Z+68>>2]=0,Ne[Z+72>>2]=$.ctime.getTime()/1e3|0,Ne[Z+76>>2]=0,G=[$.ino>>>0,(fn=$.ino,+Math.abs(fn)>=1?fn>0?(0|Math.min(+Math.floor(fn/4294967296),4294967295))>>>0:~~+Math.ceil((fn-+(~~fn>>>0))/4294967296)>>>0:0)],Ne[Z+80>>2]=G[0],Ne[Z+84>>2]=G[1],0},doMsync:function(y,L,Z,$,dt){var Et=Hn.slice(y,y+Z);N.msync(L,Et,dt,Z,$)},doMkdir:function(y,L){return"/"===(y=qt.normalize(y))[y.length-1]&&(y=y.substr(0,y.length-1)),N.mkdir(y,L,0),0},doMknod:function(y,L,Z){switch(61440&L){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return N.mknod(y,L,Z),0},doReadlink:function(y,L,Z){if(Z<=0)return-28;var $=N.readlink(y),dt=Math.min(Z,In($)),Et=Tn[L+dt];return function wn(y,L,Z){return je(y,Hn,L,Z)}($,L,Z+1),Tn[L+dt]=Et,dt},doAccess:function(y,L){if(-8&L)return-28;var $=N.lookupPath(y,{follow:!0}).node;if(!$)return-44;var dt="";return 4&L&&(dt+="r"),2&L&&(dt+="w"),1&L&&(dt+="x"),dt&&N.nodePermissions($,dt)?-2:0},doDup:function(y,L,Z){var $=N.getStream(Z);return $&&N.close($),N.open(y,L,0,Z,Z).fd},doReadv:function(y,L,Z,$){for(var dt=0,Et=0;Et<Z;Et++){var Vt=Ne[L+(8*Et+4)>>2],ce=N.read(y,Tn,Ne[L+8*Et>>2],Vt,$);if(ce<0)return-1;if(dt+=ce,ce<Vt)break}return dt},doWritev:function(y,L,Z,$){for(var dt=0,Et=0;Et<Z;Et++){var ce=N.write(y,Tn,Ne[L+8*Et>>2],Ne[L+(8*Et+4)>>2],$);if(ce<0)return-1;dt+=ce}return dt},varargs:void 0,get:function(){return le.varargs+=4,Ne[le.varargs-4>>2]},getStr:function(y){return sn(y)},getStreamFromFD:function(y){var L=N.getStream(y);if(!L)throw new N.ErrnoError(8);return L},get64:function(y,L){return y}};var Jt=[];function oe(y){try{return Ae.grow(y-Mn.byteLength+65535>>>16),jn(Ae.buffer),1}catch(L){}}var Me={};function $n(){if(!$n.strings){var L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ne||"./this.program"};for(var Z in Me)void 0===Me[Z]?delete L[Z]:L[Z]=Me[Z];var $=[];for(var Z in L)$.push(Z+"="+L[Z]);$n.strings=$}return $n.strings}var Jn=function(y,L,Z,$){y||(y=this),this.parent=y,this.mount=y.mount,this.mounted=null,this.id=N.nextInode++,this.name=L,this.mode=Z,this.node_ops={},this.stream_ops={},this.rdev=$};function Hi(y,L,Z){var $=Z>0?Z:In(y)+1,dt=new Array($),Et=je(y,dt,0,dt.length);return L&&(dt.length=Et),dt}Object.defineProperties(Jn.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(y){y?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(y){y?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return N.isDir(this.mode)}},isDevice:{get:function(){return N.isChrdev(this.mode)}}}),N.FSNode=Jn,N.staticInit();var Ft={A:function re(y,L){return function Yt(y,L){var Z;if(0===y)Z=Date.now();else{if(1!==y&&4!==y)return Bt(28),-1;Z=At()}return Ne[L>>2]=Z/1e3|0,Ne[L+4>>2]=Z%1e3*1e3*1e3|0,0}(y,L)},B:function ke(y,L){try{return y=le.getStr(y),le.doAccess(y,L)}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return-Z.errno}},h:function Oe(y,L,Z){le.varargs=Z;try{var $=le.getStreamFromFD(y);switch(L){case 0:return(dt=le.get())<0?-28:N.open($.path,$.flags,0,dt).fd;case 1:case 2:case 6:case 7:return 0;case 3:return $.flags;case 4:var dt=le.get();return $.flags|=dt,0;case 5:return dt=le.get(),Kn[dt+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return Bt(28),-1}}catch(Vt){if(void 0===N||!(Vt instanceof N.ErrnoError))throw Vt;return-Vt.errno}},x:function rn(y,L){try{var Z=le.getStreamFromFD(y);return le.doStat(N.stat,Z.path,L)}catch($){if(void 0===N||!($ instanceof N.ErrnoError))throw $;return-$.errno}},u:function He(y,L,Z,$){try{L=le.getStr(L);var dt=256&$,Et=4096&$;return $&=-4353,L=le.calculateAt(y,L,Et),le.doStat(dt?N.lstat:N.stat,L,Z)}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return-Lt.errno}},y:function $e(y,L,Z){le.varargs=Z;try{var $=le.getStreamFromFD(y);switch(L){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return $.tty?0:-59;case 21519:if(!$.tty)return-59;var dt=le.get();return Ne[dt>>2]=0,0;case 21520:return $.tty?-28:-59;case 21531:return dt=le.get(),N.ioctl($,L,dt);default:yn("bad ioctl syscall "+L)}}catch(Et){if(void 0===N||!(Et instanceof N.ErrnoError))throw Et;return-Et.errno}},k:function ve(y,L,Z,$,dt,Et){try{return function fe(y,L,Z,$,dt,Et){Et<<=12;var Lt,Vt=!1;if(0!=(16&$)&&y%65536!=0)return-28;if(0!=(32&$)){if(!(Lt=te(L)))return-48;Vt=!0}else{var ce=N.getStream(dt);if(!ce)return-8;var Xe=N.mmap(ce,y,L,Et,Z,$);Lt=Xe.ptr,Vt=Xe.allocated}return le.mappings[Lt]={malloc:Lt,len:L,allocated:Vt,fd:dt,prot:Z,flags:$,offset:Et},Lt}(y,L,Z,$,dt,Et)}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return-Lt.errno}},j:function et(y,L){try{return function Qe(y,L){var Z=le.mappings[y];if(0===L||!Z)return-28;if(L===Z.len){var $=N.getStream(Z.fd);$&&2&Z.prot&&le.doMsync(y,$,L,Z.flags,Z.offset),le.mappings[y]=null,Z.allocated&&xt(Z.malloc)}return 0}(y,L)}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return-Z.errno}},e:function gt(y,L,Z){le.varargs=Z;try{var $=le.getStr(y),dt=Z?le.get():0;return N.open($,L,dt).fd}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return-Lt.errno}},v:function mt(y,L){try{return y=le.getStr(y),le.doStat(N.stat,y,L)}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return-Z.errno}},z:function St(y){try{return y=le.getStr(y),N.unlink(y),0}catch(L){if(void 0===N||!(L instanceof N.ErrnoError))throw L;return-L.errno}},r:function zt(){throw"longjmp"},q:function ee(){yn("")},C:function xe(y,L,Z){var $=function pe(y,L){var Z;for(Jt.length=0,L>>=2;Z=Hn[y++];){var $=Z<105;$&&1&L&&L++,Jt.push($?Xn[L++>>1]:Ne[L]),++L}return Jt}(L,Z);return X[y].apply(null,$)},o:function Wt(y,L,Z){Hn.copyWithin(y,L,L+Z)},p:function Ie(y){var L=Hn.length,Z=2147483648;if((y>>>=0)>Z)return!1;for(var $=1;$<=4;$*=2){var dt=L*(1+.2/$);if(dt=Math.min(dt,y+100663296),oe(Math.min(Z,ci(Math.max(y,dt),65536))))return!0}return!1},s:function En(y,L){var Z=0;return $n().forEach(function($,dt){var Et=L+Z;Ne[y+4*dt>>2]=Et,function ze(y,L,Z){for(var $=0;$<y.length;++$)Tn[L++>>0]=y.charCodeAt($);Z||(Tn[L>>0]=0)}($,Et),Z+=$.length+1}),0},t:function Sn(y,L){var Z=$n();Ne[y>>2]=Z.length;var $=0;return Z.forEach(function(dt){$+=dt.length+1}),Ne[L>>2]=$,0},a:function we(y){!function rr(y,L){!function Li(y){(function Ue(){return Ce||!1})()||(E.onExit&&E.onExit(y),Yn=!0),Ut(y,new An(y))}(y)}(y)},d:function Fn(y){try{var L=le.getStreamFromFD(y);return N.close(L),0}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return Z.errno}},i:function Qn(y,L,Z,$){try{var dt=le.getStreamFromFD(y),Et=le.doReadv(dt,L,Z);return Ne[$>>2]=Et,0}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return Lt.errno}},n:function on(y,L,Z,$,dt){try{var Et=le.getStreamFromFD(y),Vt=4294967296*Z+(L>>>0),ce=9007199254740992;return Vt<=-ce||Vt>=ce?-61:(N.llseek(Et,Vt,$),G=[Et.position>>>0,(fn=Et.position,+Math.abs(fn)>=1?fn>0?(0|Math.min(+Math.floor(fn/4294967296),4294967295))>>>0:~~+Math.ceil((fn-+(~~fn>>>0))/4294967296)>>>0:0)],Ne[dt>>2]=G[0],Ne[dt+4>>2]=G[1],Et.getdents&&0===Vt&&0===$&&(Et.getdents=null),0)}catch(Xe){if(void 0===N||!(Xe instanceof N.ErrnoError))throw Xe;return Xe.errno}},g:function ln(y,L,Z,$){try{var dt=le.getStreamFromFD(y),Et=le.doWritev(dt,L,Z);return Ne[$>>2]=Et,0}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return Lt.errno}},c:function Un(){return vn},w:function Vi(y){var L=Date.now();return Ne[y>>2]=L/1e3|0,Ne[y+4>>2]=L%1e3*1e3|0,0},l:function Ze(y,L,Z,$,dt,Et,Lt){var Vt=Pt();try{return D(y)(L,Z,$,dt,Et,Lt)}catch(ce){if(ae(Vt),ce!==ce+0&&"longjmp"!==ce)throw ce;De(1,0)}},m:function Ke(y,L){var Z=Pt();try{D(y)(L)}catch($){if(ae(Z),$!==$+0&&"longjmp"!==$)throw $;De(1,0)}},b:function hi(y){!function(y){vn=y}(y)},f:function zi(y){var L=Date.now()/1e3|0;return y&&(Ne[y>>2]=L),L}};(function Bn(){var y={a:Ft};function L(Lt,Vt){E.asm=Lt.exports,jn((Ae=E.asm.D).buffer),yt=E.asm.M,function qn(y){se.unshift(y)}(E.asm.E),un()}function Z(Lt){L(Lt.instance)}function $(Lt){return function Ii(){return Ve||"function"!=typeof fetch?Promise.resolve().then(function(){return Le(Nn)}):fetch(Nn,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+Nn+"'";return y.arrayBuffer()}).catch(function(){return Le(Nn)})}().then(function(Vt){return WebAssembly.instantiate(Vt,y)}).then(function(Vt){return Vt}).then(Lt,function(Vt){Be("failed to asynchronously prepare wasm: "+Vt),yn(Vt)})}if(On(),E.instantiateWasm)try{return E.instantiateWasm(y,L)}catch(Lt){return Be("Module.instantiateWasm callback failed with error: "+Lt),!1}return function dt(){return Ve||"function"!=typeof WebAssembly.instantiateStreaming||ui(Nn)||"function"!=typeof fetch?$(Z):fetch(Nn,{credentials:"same-origin"}).then(function(Lt){return WebAssembly.instantiateStreaming(Lt,y).then(Z,function(ce){return Be("wasm streaming compile failed: "+ce),Be("falling back to ArrayBuffer instantiation"),$(Z)})})}().catch(It),{}})(),E.___wasm_call_ctors=function(){return(E.___wasm_call_ctors=E.asm.E).apply(null,arguments)};var be=E._emscripten_bind_VoidPtr___destroy___0=function(){return(be=E._emscripten_bind_VoidPtr___destroy___0=E.asm.F).apply(null,arguments)},jt=E._emscripten_bind_Graphviz_Graphviz_2=function(){return(jt=E._emscripten_bind_Graphviz_Graphviz_2=E.asm.G).apply(null,arguments)},b=E._emscripten_bind_Graphviz_version_0=function(){return(b=E._emscripten_bind_Graphviz_version_0=E.asm.H).apply(null,arguments)},M=E._emscripten_bind_Graphviz_lastError_0=function(){return(M=E._emscripten_bind_Graphviz_lastError_0=E.asm.I).apply(null,arguments)},B=E._emscripten_bind_Graphviz_layout_3=function(){return(B=E._emscripten_bind_Graphviz_layout_3=E.asm.J).apply(null,arguments)},j=E._emscripten_bind_Graphviz_createFile_2=function(){return(j=E._emscripten_bind_Graphviz_createFile_2=E.asm.K).apply(null,arguments)},ct=E._emscripten_bind_Graphviz___destroy___0=function(){return(ct=E._emscripten_bind_Graphviz___destroy___0=E.asm.L).apply(null,arguments)};E._malloc=function(){return(E._malloc=E.asm.N).apply(null,arguments)};var We,xt=E._free=function(){return(xt=E._free=E.asm.O).apply(null,arguments)},kt=E.___errno_location=function(){return(kt=E.___errno_location=E.asm.P).apply(null,arguments)},Pt=E.stackSave=function(){return(Pt=E.stackSave=E.asm.Q).apply(null,arguments)},ae=E.stackRestore=function(){return(ae=E.stackRestore=E.asm.R).apply(null,arguments)},De=E._setThrew=function(){return(De=E._setThrew=E.asm.S).apply(null,arguments)},Ge=E._memalign=function(){return(Ge=E._memalign=E.asm.T).apply(null,arguments)};function An(y){this.name="ExitStatus",this.message="Program terminated with exit("+y+")",this.status=y}function di(y){function L(){We||(We=!0,E.calledRun=!0,!Yn&&(function nn(){!E.noFSInit&&!N.init.initialized&&N.init(),N.ignorePermissions=!1,ht(se)}(),Ct(E),E.onRuntimeInitialized&&E.onRuntimeInitialized(),function Zn(){if(E.postRun)for("function"==typeof E.postRun&&(E.postRun=[E.postRun]);E.postRun.length;)y=E.postRun.shift(),de.unshift(y);var y;ht(de)}()))}gn>0||(function Fe(){if(E.preRun)for("function"==typeof E.preRun&&(E.preRun=[E.preRun]);E.preRun.length;)y=E.preRun.shift(),Gt.unshift(y);var y;ht(Gt)}(),gn>0)||(E.setStatus?(E.setStatus("Running..."),setTimeout(function(){setTimeout(function(){E.setStatus("")},1),L()},1)):L())}if(ti=function y(){We||di(),We||(ti=y)},E.run=di,E.preInit)for("function"==typeof E.preInit&&(E.preInit=[E.preInit]);E.preInit.length>0;)E.preInit.pop()();function fi(){}function ii(y){return(y||fi).__cache__}function Mi(y,L){var Z=ii(L),$=Z[y];return $||(($=Object.create((L||fi).prototype)).ptr=y,Z[y]=$)}di(),(fi.prototype=Object.create(fi.prototype)).constructor=fi,fi.prototype.__class__=fi,fi.__cache__={},E.WrapperObject=fi,E.getCache=ii,E.wrapPointer=Mi,E.castObject=function ar(y,L){return Mi(y.ptr,L)},E.NULL=Mi(0),E.destroy=function si(y){if(!y.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";y.__destroy__(),delete ii(y.__class__)[y.ptr]},E.compare=function Da(y,L){return y.ptr===L.ptr},E.getPointer=function ls(y){return y.ptr},E.getClass=function cs(y){return y.__class__};var Pn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Pn.needed){for(var y=0;y<Pn.temps.length;y++)E._free(Pn.temps[y]);Pn.temps.length=0,E._free(Pn.buffer),Pn.buffer=0,Pn.size+=Pn.needed,Pn.needed=0}Pn.buffer||(Pn.size+=128,Pn.buffer=E._malloc(Pn.size),Wn(Pn.buffer)),Pn.pos=0},alloc:function(y,L){Wn(Pn.buffer);var dt,$=y.length*L.BYTES_PER_ELEMENT;return Pn.pos+($=$+7&-8)>=Pn.size?(Wn($>0),Pn.needed+=$,dt=E._malloc($),Pn.temps.push(dt)):(dt=Pn.buffer+Pn.pos,Pn.pos+=$),dt},copy:function(y,L,Z){switch(Z>>>=0,L.BYTES_PER_ELEMENT){case 2:Z>>>=1;break;case 4:Z>>>=2;break;case 8:Z>>>=3}for(var dt=0;dt<y.length;dt++)L[Z+dt]=y[dt]}};function Lr(y){if("string"==typeof y){var L=Hi(y),Z=Pn.alloc(L,Tn);return Pn.copy(L,Tn,Z),Z}return y}function qi(){throw"cannot construct a VoidPtr, no constructor in IDL"}function pi(y,L){y&&"object"==typeof y&&(y=y.ptr),L&&"object"==typeof L&&(L=L.ptr),this.ptr=jt(y,L),ii(pi)[this.ptr]=this}return(qi.prototype=Object.create(fi.prototype)).constructor=qi,qi.prototype.__class__=qi,qi.__cache__={},E.VoidPtr=qi,qi.prototype.__destroy__=qi.prototype.__destroy__=function(){be(this.ptr)},(pi.prototype=Object.create(fi.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},E.Graphviz=pi,pi.prototype.version=pi.prototype.version=function(){return sn(b(this.ptr))},pi.prototype.lastError=pi.prototype.lastError=function(){return sn(M(this.ptr))},pi.prototype.layout=pi.prototype.layout=function(y,L,Z){var $=this.ptr;return Pn.prepare(),y=y&&"object"==typeof y?y.ptr:Lr(y),L=L&&"object"==typeof L?L.ptr:Lr(L),Z=Z&&"object"==typeof Z?Z.ptr:Lr(Z),sn(B($,y,L,Z))},pi.prototype.createFile=pi.prototype.createFile=function(y,L){var Z=this.ptr;Pn.prepare(),y=y&&"object"==typeof y?y.ptr:Lr(y),L=L&&"object"==typeof L?L.ptr:Lr(L),j(Z,y,L)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){ct(this.ptr)},z.ready}}();H.exports=lt}(O);var U=Object.freeze(c({__proto__:null,default:O.exports},[O.exports])),V=function(){return V=Object.assign||function(H){for(var K,lt=1,it=arguments.length;lt<it;lt++)for(var z in K=arguments[lt])Object.prototype.hasOwnProperty.call(K,z)&&(H[z]=K[z]);return H},V.apply(this,arguments)},W=function(H,K,lt){if(lt||2===arguments.length)for(var E,it=0,z=K.length;it<z;it++)(E||!(it in K))&&(E||(E=Array.prototype.slice.call(K,0,it)),E[it]=K[it]);return H.concat(E||Array.prototype.slice.call(K))};function rt(H){return{path:H.path,data:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="'.concat(H.width,'" height="').concat(H.height,'"></svg>')}}function ut(H,K){var lt=V({images:[],files:[]},K);W(W([],lt.files,!0),function nt(H){return H.map(rt)}(lt.images),!0).forEach(function(it){return H.createFile(it.path,it.data)})}var tt={layout:function(H,K,lt,it){return void 0===K&&(K="svg"),void 0===lt&&(lt="dot"),H?u(U,null==it?void 0:it.wasmFolder,null==it?void 0:it.wasmBinary).then(function(z){var E=new z.Graphviz(void 0!==(null==it?void 0:it.yInvert)&&(null==it?void 0:it.yInvert),void 0!==(null==it?void 0:it.nop)?null==it?void 0:it.nop:0);ut(E,it);var Ct=E.layout(H,K,lt);if(z.destroy(E),!Ct)throw new Error(z.Graphviz.prototype.lastError());return Ct}):Promise.resolve("")},circo:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"circo",lt)},dot:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"dot",lt)},fdp:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"fdp",lt)},sfdp:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"sfdp",lt)},neato:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"neato",lt)},osage:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"osage",lt)},patchwork:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"patchwork",lt)},twopi:function(H,K,lt){return void 0===K&&(K="svg"),this.layout(H,K,"twopi",lt)}},Q=function(){function H(K){this._wasm=K}return H.prototype.layout=function(K,lt,it,z){if(void 0===lt&&(lt="svg"),void 0===it&&(it="dot"),!K)return"";var E=new this._wasm.Graphviz((null==z?void 0:z.yInvert)?1:0,(null==z?void 0:z.nop)?null==z?void 0:z.nop:0);ut(E,z);var Ct=E.layout(K,lt,it);if(this._wasm.destroy(E),!Ct)throw new Error(this._wasm.Graphviz.prototype.lastError());return Ct},H.prototype.circo=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"circo",it)},H.prototype.dot=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"dot",it)},H.prototype.fdp=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"fdp",it)},H.prototype.sfdp=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"sfdp",it)},H.prototype.neato=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"neato",it)},H.prototype.osage=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"osage",it)},H.prototype.patchwork=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"patchwork",it)},H.prototype.twopi=function(K,lt,it){return void 0===lt&&(lt="svg"),this.layout(K,lt,"twopi",it)},H}();o.GraphvizSync=Q,o.StackElement=g,o.StackParser=C,o.expatVersion=function k(H,K){return u(_,H,K).then(function(lt){return lt.CExpat.prototype.version()})},o.graphviz=tt,o.graphvizSync=function at(H,K){return u(U,H,K).then(function(lt){return new Q(lt)})},o.graphvizVersion=function J(H,K){return u(U,H,K).then(function(lt){return lt.Graphviz.prototype.version()})},o.parse=F,o.wasmFolder=l,Object.defineProperty(o,"__esModule",{value:!0})}(I)},78417:(w,I,o)=>{"use strict";o.r(I),o.d(I,{AdminModule:()=>Rb});var c={};o.r(c),o.d(c,{forceCenter:()=>Gf,forceCollide:()=>dl,forceLink:()=>_l,forceManyBody:()=>xl,forceRadial:()=>pp,forceSimulation:()=>vl,forceX:()=>mp,forceY:()=>gp});var x={};o.r(x),o.d(x,{dispatch:()=>ca.Z});var v={};o.r(v),o.d(v,{interval:()=>vp,now:()=>tr.zO,timeout:()=>ua.Z,timer:()=>tr.HT,timerFlush:()=>tr.R8});var _=o(69808),f=o(11735),t=o(5e3),p=o(77968),l=o(4235),h=o(25245),m=o(61283),u=o(51062);const g=function(){return{color:"black"}};let C=(()=>{class n{constructor(e){this.sideMenuService=e}ngOnInit(){this.sideMenuService.setAdminItems([])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-page"]],decls:7,vars:5,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","admin-theme"],[1,"page-title","d-flex"],["svgIcon","perun-perun-admin",1,"perun-icon","icon-scale",3,"ngStyle"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.TgZ(2,"h1",1),t._UZ(3,"mat-icon",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngStyle",t.DdM(4,g)),t.xp6(1),t.hij(" ",t.lcZ(5,2,"ADMIN.TITLE")," "))},directives:[l.W,h.Hw,_.PC,m.A],pipes:[u.X$],styles:[""]}),n})();var A=o(71135);let k=(()=>{class n{constructor(){this.navItems=[{cssIcon:"perun-attributes",url:"/admin/attributes",label:"MENU_ITEMS.ADMIN.ATTRIBUTES",style:"admin-btn"},{cssIcon:"perun-user",url:"/admin/users",label:"MENU_ITEMS.ADMIN.USERS",style:"admin-btn"},{cssIcon:"perun-owner-grey",url:"/admin/owners",label:"MENU_ITEMS.ADMIN.OWNERS",style:"admin-btn"},{cssIcon:"perun-service",url:"/admin/services",label:"MENU_ITEMS.ADMIN.SERVICES",style:"admin-btn"},{cssIcon:"perun-preview",url:"/admin/visualizer",label:"MENU_ITEMS.ADMIN.VISUALIZER",style:"admin-btn"},{cssIcon:"perun-external-sources",url:"/admin/ext_sources",label:"MENU_ITEMS.ADMIN.EXT_SOURCES",style:"admin-btn"},{cssIcon:"perun-audit-log",url:"/admin/audit_log",label:"MENU_ITEMS.ADMIN.AUDIT_LOG",style:"admin-btn"},{cssIcon:"perun-consent-hubs",url:"/admin/consent_hubs",label:"MENU_ITEMS.ADMIN.CONSENT_HUBS",style:"admin-btn"},{cssIcon:"perun-searcher",url:"/admin/searcher",label:"MENU_ITEMS.ADMIN.SEARCHER",style:"admin-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-overview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-menu-buttons-field",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("items",i.navItems)("size","small"))},directives:[A.L],styles:[""]}),n})();var F=o(20449),O=o(48966),R=o(32075),U=o(36908),V=o(32105),W=o(20773),rt=o(98380),nt=o(47423);function ut(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function J(n,r){1&n&&t._UZ(0,"th",16)}function tt(n,r){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function Q(n,r){1&n&&t._UZ(0,"tr",18)}function at(n,r){1&n&&t._UZ(0,"tr",19)}function H(n,r){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",9),t.ynx(8,10),t.YNc(9,J,1,0,"th",11),t.YNc(10,tt,2,1,"td",12),t.BQk(),t.YNc(11,Q,1,0,"tr",13),t.YNc(12,at,1,0,"tr",14),t.qZA(),t.TgZ(13,"perun-web-apps-alert",15),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TEXT_LINE1")," "),t.xp6(3),t.hij(" ",t.lcZ(6,8,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TEXT_LINE2")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.hij(" ",t.lcZ(15,10,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.WARNING")," ")}}let K=(()=>{class n{constructor(e,i,a,s,d){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=s,this.attributesManager=d,this.displayedColumns=["name"],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.dataSource=new R.by(this.data.attributes)}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0;const e=[];for(const i of this.data.attributes)e.push(i.id);this.attributesManager.deleteAttributeDefinitions(e).subscribe(()=>{this.translate.get("DIALOGS.DELETE_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(V.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-attribute-definition-dialog"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","font-weight-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",1,"mt-3"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ut,1,0,"mat-spinner",1),t.YNc(5,H,16,12,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.onSubmit()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(t.lcZ(3,9,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,11,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,13,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.CONFIRM")," "))},directives:[O.uh,_.O5,W.$g,O.xY,R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk,rt.w,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();var lt=o(45323),it=o(67322),z=o(98833),E=o(93075),Ct=o(74533),It=o(74107),Rt=o(90508),Ht=o(32368),ne=o(29772),Ut=o(77446);function vt(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function ft(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function Nt(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function Qt(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function me(n,r){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function ge(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_SELECT_SOMETHING")))}function ye(n,r){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Be(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_SELECT_SOMETHING")))}function vn(n,r){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Re(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_SELECT_SOMETHING")))}function mn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"mat-form-field",9),t.TgZ(2,"label"),t.TgZ(3,"input",10),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.friendlyName=a}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.YNc(5,ft,3,3,"mat-error",11),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"mat-form-field",9),t.TgZ(8,"label"),t.TgZ(9,"input",10),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.displayName=a}),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.YNc(11,Nt,3,3,"mat-error",11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-form-field",9),t.TgZ(14,"label"),t.TgZ(15,"textarea",12),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.description=a}),t.ALo(16,"translate"),t._uU(17,"        "),t.qZA(),t.qZA(),t.YNc(18,Qt,3,3,"mat-error",11),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"mat-form-field",9),t.TgZ(21,"mat-placeholder"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-select",13),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().entity=a}),t.YNc(25,me,2,2,"mat-option",14),t.qZA(),t.YNc(26,ge,3,3,"mat-error",11),t.qZA(),t._UZ(27,"br"),t.TgZ(28,"mat-form-field",9),t.TgZ(29,"mat-placeholder"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"mat-select",13),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().definitionType=a}),t.YNc(33,ye,2,2,"mat-option",14),t.qZA(),t.YNc(34,Be,3,3,"mat-error",11),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"mat-form-field",9),t.TgZ(37,"mat-placeholder"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-select",13),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().valueType=a}),t.YNc(41,vn,2,2,"mat-option",14),t.qZA(),t.YNc(42,Re,3,3,"mat-error",11),t.qZA(),t._UZ(43,"br"),t.TgZ(44,"div",15),t.TgZ(45,"p"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"p",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().attDef.unique=!1}),t._uU(49,"OFF"),t.qZA(),t.TgZ(50,"mat-slide-toggle",17),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.unique=a}),t.ALo(51,"translate"),t._uU(52," ON "),t.qZA(),t.qZA(),t.TgZ(53,"div",18),t.TgZ(54,"p",19),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"p",20),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.qZA(),t.TgZ(60,"div",21),t.TgZ(61,"p",22),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"mat-checkbox",23),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readSelf=a}),t.qZA(),t.TgZ(65,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeSelf=a}),t.qZA(),t.qZA(),t.TgZ(66,"div",21),t.TgZ(67,"p",22),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readSelfPublic=a}),t.qZA(),t.TgZ(71,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeSelfPublic=a}),t.qZA(),t.qZA(),t.TgZ(72,"div",21),t.TgZ(73,"p",22),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"mat-checkbox",26),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readSelfVo=a}),t.qZA(),t.TgZ(77,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeSelfVo=a}),t.qZA(),t.qZA(),t.TgZ(78,"div",21),t.TgZ(79,"p",22),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"mat-checkbox",27),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readVo=a}),t.qZA(),t.TgZ(83,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeVo=a}),t.qZA(),t.qZA(),t.TgZ(84,"div",21),t.TgZ(85,"p",22),t._uU(86),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"mat-checkbox",28),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readGroup=a}),t.qZA(),t.TgZ(89,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeGroup=a}),t.qZA(),t.qZA(),t.TgZ(90,"div",21),t.TgZ(91,"p",22),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"mat-checkbox",26),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().readFacility=a}),t.qZA(),t.TgZ(95,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().writeFacility=a}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,46,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FRIENDLY_NAME")),t.Q6J("ngModel",e.attDef.friendlyName),t.xp6(2),t.Q6J("ngIf",""===e.attDef.friendlyName),t.xp6(4),t.s9C("placeholder",t.lcZ(10,48,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DISPLAY_NAME")),t.Q6J("ngModel",e.attDef.displayName),t.xp6(2),t.Q6J("ngIf",""===e.attDef.displayName),t.xp6(4),t.s9C("placeholder",t.lcZ(16,50,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DESCRIPTION")),t.Q6J("ngModel",e.attDef.description),t.xp6(3),t.Q6J("ngIf",""===e.attDef.description),t.xp6(4),t.Oqu(t.lcZ(23,52,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ENTITY")),t.xp6(2),t.Q6J("ngModel",e.entity),t.xp6(1),t.Q6J("ngForOf",e.entities),t.xp6(1),t.Q6J("ngIf",""===e.attDef.entity),t.xp6(4),t.Oqu(t.lcZ(31,54,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DEFINITION")),t.xp6(2),t.Q6J("ngModel",e.definitionType),t.xp6(1),t.Q6J("ngForOf",e.definitionTypes),t.xp6(1),t.Q6J("ngIf",""===e.definitionType),t.xp6(4),t.Oqu(t.lcZ(39,56,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VALUE_TYPE")),t.xp6(2),t.Q6J("ngModel",e.valueType),t.xp6(1),t.Q6J("ngForOf",e.valueTypes),t.xp6(1),t.Q6J("ngIf",""===e.valueType),t.xp6(4),t.Oqu(t.lcZ(47,58,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.UNIQUE")),t.xp6(4),t.s9C("matTooltip",t.lcZ(51,60,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TOOLTIP_UNIQUE")),t.Q6J("ngModel",e.attDef.unique)("disabled",e.disableUniqueToggle())("matTooltipDisabled",!e.disableUniqueToggle()),t.xp6(5),t.Oqu(t.lcZ(56,62,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.READ")),t.xp6(3),t.Oqu(t.lcZ(59,64,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.WRITE")),t.xp6(4),t.Oqu(t.lcZ(63,66,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF")),t.xp6(2),t.Q6J("ngModel",e.readSelf),t.xp6(1),t.Q6J("ngModel",e.writeSelf),t.xp6(3),t.Oqu(t.lcZ(69,68,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_PUBLIC")),t.xp6(2),t.Q6J("ngModel",e.readSelfPublic),t.xp6(1),t.Q6J("ngModel",e.writeSelfPublic),t.xp6(3),t.Oqu(t.lcZ(75,70,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_VO")),t.xp6(2),t.Q6J("ngModel",e.readSelfVo),t.xp6(1),t.Q6J("ngModel",e.writeSelfVo),t.xp6(3),t.Oqu(t.lcZ(81,72,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VO")),t.xp6(2),t.Q6J("ngModel",e.readVo),t.xp6(1),t.Q6J("ngModel",e.writeVo),t.xp6(3),t.Oqu(t.lcZ(87,74,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.GROUP")),t.xp6(2),t.Q6J("ngModel",e.readGroup),t.xp6(1),t.Q6J("ngModel",e.writeGroup),t.xp6(3),t.Oqu(t.lcZ(93,76,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FACILITY")),t.xp6(2),t.Q6J("ngModel",e.readFacility),t.xp6(1),t.Q6J("ngModel",e.writeFacility)}}let Ve=(()=>{class n{constructor(e,i,a,s){this.dialogRef=e,this.notificator=i,this.translate=a,this.attributesManager=s,this.loading=!1,this.entities=["facility","resource","group","group_resource","host","member","member_group","member_resource","user","ues","user_facility","vo","entityless"],this.definitionTypes=["def","opt","virt","core"],this.definitionType="",this.valueTypes=["String","Integer","Boolean","Array","LinkedHashMap"],this.valueType="",this.readSelf=!1,this.readSelfPublic=!1,this.readSelfVo=!1,this.readVo=!1,this.readGroup=!1,this.readFacility=!1,this.writeSelf=!1,this.writeSelfPublic=!1,this.writeSelfVo=!1,this.writeVo=!1,this.writeGroup=!1,this.writeFacility=!1}ngOnInit(){this.attDef={beanName:"",description:"",displayName:"",entity:"",friendlyName:"",id:void 0,namespace:"",type:"",unique:!1,writable:!1}}onSubmit(){this.loading=!0,this.attDef.namespace="urn:perun:"+this.entity+":attribute-def:"+this.definitionType,this.readValueType(),this.attributesManager.createAttributeDefinition({attribute:this.attDef}).subscribe(e=>{this.attDef=e,this.attributesManager.setAttributeRights({rights:this.readRights()}).subscribe(()=>{this.translate.get("DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}disableConfirmButton(){return""===this.attDef.friendlyName||""===this.attDef.displayName||""===this.attDef.description||""===this.entity||""===this.definitionType||""===this.valueType||this.loading}disableUniqueToggle(){return("virt"===this.definitionType||"entityless"===this.entity)&&(this.attDef.unique=!1,!0)}readRights(){const e=[],i={};i.attributeId=this.attDef.id,i.role=lt.u.SELF,i.rights=[],this.readSelf&&i.rights.push("READ"),this.readSelfPublic&&i.rights.push("READ_PUBLIC"),this.readSelfVo&&i.rights.push("READ_VO"),this.writeSelf&&i.rights.push("WRITE"),this.writeSelfPublic&&i.rights.push("WRITE_PUBLIC"),this.writeSelfVo&&i.rights.push("WRITE_VO"),e.push(i);const a={};a.attributeId=this.attDef.id,a.role=lt.u.VOADMIN,a.rights=[],this.readVo&&a.rights.push(V.Us.READ),this.writeVo&&a.rights.push(V.Us.WRITE),e.push(a);const s={};s.attributeId=this.attDef.id,s.role=lt.u.GROUPADMIN,s.rights=[],this.readGroup&&s.rights.push(V.Us.READ),this.writeGroup&&s.rights.push(V.Us.WRITE),e.push(s);const d={};return d.attributeId=this.attDef.id,d.role=lt.u.FACILITYADMIN,d.rights=[],this.readFacility&&d.rights.push(V.Us.READ),this.writeFacility&&d.rights.push(V.Us.WRITE),e.push(d),e}readValueType(){switch(this.valueType){case"String":this.attDef.type="java.lang.String";break;case"Integer":this.attDef.type="java.lang.Integer";break;case"Boolean":this.attDef.type="java.lang.Boolean";break;case"Array":this.attDef.type="java.util.ArrayList";break;case"LinkedHashMap":this.attDef.type="java.util.LinkedHashMap"}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(U.V6),t.Y36(u.sK),t.Y36(V.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-attribute-definition-dialog"]],decls:14,vars:16,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","","matTooltipPosition","above",1,"ml-2",3,"matTooltipDisabled","disabled","matTooltip","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],[1,"form-field-width"],["matInput","","required","",1,"form-field-width",3,"ngModel","placeholder","ngModelChange"],[4,"ngIf"],["matInput","","cdkTextareaAutosize","","required","",1,"form-field-width",3,"ngModel","placeholder","ngModelChange"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","mt-3"],[1,"pointer","ml-4",3,"click"],["color","accent","matTooltipPosition","above",1,"ml-2",3,"matTooltip","ngModel","disabled","matTooltipDisabled","ngModelChange"],[1,"d-flex","flex-row","mt-2"],[1,"ml-5","pl-4"],[1,"ml-4"],[1,"d-flex","flex-row"],[1,""],[1,"ml-5","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5",3,"ngModel","ngModelChange"],[1,"ml-3",3,"ngModel","ngModelChange"],[1,"ml-4","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5","pl-4",3,"ngModel","ngModelChange"],[1,"ml-4","pl-4",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,vt,1,0,"mat-spinner",2),t.YNc(5,mn,96,78,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.onSubmit()}),t.ALo(11,"translate"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,8,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,10,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(11,12,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TOOLTIP_CONFIRM")),t.Q6J("matTooltipDisabled",!i.disableConfirmButton())("disabled",i.disableConfirmButton()),t.xp6(2),t.hij(" ",t.lcZ(13,14,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.CONFIRM")," "))},directives:[O.uh,_.O5,W.$g,O.xY,it.KE,z.Nt,E.Fj,E.Q7,E.JJ,E.On,it.TO,Ct.IC,it.UY,It.gD,_.sg,Rt.ey,Ht.Rr,ne.gM,Ut.oG,O.H8,nt.lW],pipes:[u.X$],styles:[".unique-toggle-label[_ngcontent-%COMP%]{font-size:1.125rem}.form-field-width[_ngcontent-%COMP%]{width:450px}.pointer[_ngcontent-%COMP%]{cursor:pointer}textarea[cdktextareaautosize].mat-input-element[_ngcontent-%COMP%]{overflow:hidden}"]}),n})();var Ce=o(9244),Ae=o(10036);function Yn(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function Wn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"perun-web-apps-alert",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",10),t.TgZ(5,"input",11),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().value=a}),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.IMPORT_ATTRIBUTE.INFO")," "),t.xp6(3),t.Q6J("ngModel",e.value)("placeholder",t.lcZ(6,5,"DIALOGS.IMPORT_ATTRIBUTE.HINT"))}}let ni=(()=>{class n{constructor(e,i,a,s){this.dialogRef=e,this.notificator=i,this.translate=a,this.attributesManager=s,this.value="",this.loading=!1}create(){try{this.loading=!0,this.attributeData=JSON.parse(this.value),this.attributesManager.createAttributeDefinition({attribute:this.attributeData.attributeDefinition}).subscribe(e=>{for(const i of this.attributeData.attributeRights)i.attributeId=e.id;this.attributesManager.setAttributeRights({rights:this.attributeData.attributeRights}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.IMPORT_ATTRIBUTE_DEFINITION.SUCCESS")),this.dialogRef.close(!0)})},()=>this.loading=!1)}catch(e){this.notificator.showError(e),this.loading=!1}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(U.V6),t.Y36(u.sK),t.Y36(V.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attribute-import-dialog"]],decls:13,vars:12,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],["alert_type","info"],[1,"w-100"],["matInput","","required","",3,"ngModel","placeholder","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Yn,1,0,"mat-spinner",2),t.YNc(5,Wn,7,7,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.dialogRef.close()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.create()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,6,"DIALOGS.IMPORT_ATTRIBUTE.TITLE")," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.IMPORT_ATTRIBUTE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",0===i.value.trim().length||i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.IMPORT_ATTRIBUTE.CREATE")," "))},directives:[O.uh,_.O5,W.$g,O.xY,rt.w,it.KE,z.Nt,E.Fj,E.Q7,E.JJ,E.On,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();var xn=o(96214),sn=o(7434),je=o(84847),wn=o(36769),In=o(69287),ze=o(60205),ci=o(387),Mn=o(18750),Tn=o(43532);function Hn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",22),t.TgZ(1,"mat-checkbox",23),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw(2);return a?s.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Kn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"mat-checkbox",25),t.NdJ("change",function(a){const d=t.CHM(e).$implicit,T=t.oxw(2);return a?T.selection.toggle(d):null})("click",function(a){return a.stopPropagation()}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))}}function Ne(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.KEY")," "))}function Xn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",27),t.TgZ(1,"label"),t.TgZ(2,"input",28),t.NdJ("ngModelChange",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onValueChange(s)})("ngModelChange",function(a){return t.CHM(e).$implicit[0]=a}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngModel",e[0])}}function jn(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.VALUE")," "))}function yt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",27),t.TgZ(1,"perun-web-apps-attribute-value",29),t.NdJ("sendEventToParent2",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onValueChange(s)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("attribute",e[1])}}function Gt(n,r){1&n&&t._UZ(0,"tr",30)}function se(n,r){1&n&&t._UZ(0,"tr",31)}function de(n,r){if(1&n&&(t.TgZ(0,"div",10),t.TgZ(1,"perun-web-apps-table-wrapper",11),t.TgZ(2,"table",12),t.ynx(3,13),t.YNc(4,Hn,2,3,"th",14),t.YNc(5,Kn,2,2,"td",15),t.BQk(),t.ynx(6,16),t.YNc(7,Ne,3,3,"th",17),t.YNc(8,Xn,3,1,"td",18),t.BQk(),t.ynx(9,19),t.YNc(10,jn,3,3,"th",17),t.YNc(11,yt,2,1,"td",18),t.BQk(),t.YNc(12,Gt,1,0,"tr",20),t.YNc(13,se,1,0,"tr",21),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("pageSizeOptions",e.pageSizeOptions)("dataLength",e.dataSource.filteredData.length)("hideExport",!0)("tableId",e.tableId),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function _e(n,r){1&n&&t._UZ(0,"mat-spinner",32)}function Ue(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.NO_KEYS_WARNING")," "))}let Fe=(()=>{class n{constructor(e,i,a,s,d){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=s,this.attributesManager=d,this.switchView=new t.vpe,this.records=[],this.displayedColumns=["select","key","value"],this.dataSource=new R.by,this.selection=new F.Ov(!0,[]),this.isAddButtonDisabled=!1,this.pageSizeOptions=Ce.f7}set matSort(e){this.sort=e}ngOnChanges(){this.ngOnInit()}ngOnInit(){this.loading=!0,this.attDef=this.data.attDef,this.attributesManager.getEntitylessKeys(this.attDef.id).subscribe(e=>{this.attributesManager.getEntitylessAttributesByName(`${this.attDef.namespace}:${this.attDef.friendlyName}`).subscribe(i=>{let a=0;this.records=[];for(const s of e)this.records.push([s,i[a]]),a++;this.dataSource=new R.by(this.records),this.setDataSource(),this.loading=!1})})}setDataSource(){!this.child||!this.child.paginator||this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator)}onSave(){this.updateMapAttributes();for(const e of this.selection.selected)this.attributesManager.setEntitylessAttribute({key:e[0],attribute:e[1]}).subscribe(()=>{this.translate.get("SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.SAVE_SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.ngOnInit()})});this.selection.clear(),this.isAddButtonDisabled=!1}onRemove(){for(const e of this.selection.selected)this.attributesManager.removeEntitylessAttribute(e[0],e[1].id).subscribe(()=>{this.translate.get("SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.REMOVE_SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.ngOnInit()})});this.ngOnInit(),this.selection.clear(),this.isAddButtonDisabled=!1}onAdd(){const e=["",this.attDef];e[1].value=void 0,this.records.unshift(e),this.dataSource.data=this.records,this.setDataSource(),this.selection.clear(),this.selection.select(e),this.isAddButtonDisabled=!0}onCancel(){this.dialogRef.close(!1)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e[1].id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onValueChange(e){this.selection.select(e)}updateMapAttributes(){for(const e of this.items.toArray())"java.util.LinkedHashMap"===e.attribute.type&&e.updateMapAttribute()}ngAfterViewInit(){this.children.changes.subscribe(e=>{this.child=e.first,this.dataSource.paginator=this.child.paginator})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(V.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-entityless-attribute-keys-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(je.YE,7),t.Gf(ci.Mw,5),t.Gf(Ce.l9,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.matSort=a.first),t.iGM(a=t.CRH())&&(i.items=a),t.iGM(a=t.CRH())&&(i.children=a)}},inputs:{attDef:"attDef",tableId:"tableId"},outputs:{switchView:"switchView"},features:[t.TTD],decls:19,vars:19,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"mt-3"],["mat-stroked-button","",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"click"],["color","accent","matTooltip","save or remove new attribute first","mat-flat-button","","matTooltipPosition","above",1,"ml-2",3,"disabled","matTooltipDisabled","click"],["color","warn","mat-flat-button","",1,"ml-2",3,"click"],["mat-dialog-content","",1,"mt-3",3,"hidden"],["class","card mt-3",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],["alert_type","warn","class","mt-3",4,"ngIf"],[1,"card","mt-3"],[3,"pageSizeOptions","dataLength","hideExport","tableId"],["mat-table","","matSort","","matSortActive","key","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["class","align-checkbox","mat-header-cell","",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","New key",1,"mt-2",3,"ngModel","ngModelChange"],[3,"attribute","sendEventToParent2"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],[1,"ml-auto","mr-auto"],["alert_type","warn",1,"mt-3"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.switchView.emit()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.onSave()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.onAdd()}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return i.onRemove()}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.YNc(16,de,14,7,"div",7),t.YNc(17,_e,1,0,"mat-spinner",8),t.YNc(18,Ue,3,3,"perun-web-apps-alert",9),t.qZA()),2&e&&(t.xp6(1),t.Oqu(i.attDef.namespace+":"+i.attDef.friendlyName),t.xp6(3),t.hij(" ",t.lcZ(5,11,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.CANCEL")," "),t.xp6(3),t.hij(" ",t.lcZ(8,13,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.SAVE")," "),t.xp6(2),t.Q6J("disabled",i.isAddButtonDisabled)("matTooltipDisabled",!i.isAddButtonDisabled),t.xp6(1),t.hij(" ",t.lcZ(11,15,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.ADD")," "),t.xp6(3),t.hij(" ",t.lcZ(14,17,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.REMOVE")," "),t.xp6(2),t.Q6J("hidden",i.loading),t.xp6(1),t.Q6J("ngIf",i.records&&i.records.length),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",0===i.records.length))},directives:[O.uh,O.H8,nt.lW,ne.gM,O.xY,_.O5,Mn.l,R.BZ,je.YE,R.w1,R.fO,R.ge,Ut.oG,R.Dz,R.ev,je.nU,z.Nt,E.Fj,E.JJ,E.On,Tn.M,R.as,R.XQ,R.nj,R.Gk,W.$g,rt.w],pipes:[u.X$],styles:[".mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}"]}),n})();const nn=["copiedTooltip"];function Zn(n,r){1&n&&t._UZ(0,"mat-spinner",12)}function Ln(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}function qn(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")))}const Di=function(){return["id","name","enabled","script"]};function gn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"mat-form-field",3),t.TgZ(2,"label"),t.TgZ(3,"input",14),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).attDef.displayName=a}),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.YNc(5,Ln,3,3,"mat-error",2),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"mat-form-field",3),t.TgZ(8,"label"),t.TgZ(9,"textarea",15),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).attDef.description=a}),t.ALo(10,"translate"),t._uU(11,"              "),t.qZA(),t.qZA(),t.YNc(12,qn,3,3,"mat-error",2),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"div",16),t.TgZ(15,"p"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"p",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).attDef.unique=!1}),t._uU(19,"OFF"),t.qZA(),t.TgZ(20,"mat-slide-toggle",18),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).attDef.unique=a}),t.ALo(21,"translate"),t._uU(22," ON "),t.qZA(),t.qZA(),t.TgZ(23,"div",19),t.TgZ(24,"p",20),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"p",21),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.TgZ(30,"div",22),t.TgZ(31,"p",23),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"mat-checkbox",24),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readSelf=a}),t.qZA(),t.TgZ(35,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeSelf=a}),t.qZA(),t.qZA(),t.TgZ(36,"div",22),t.TgZ(37,"p",23),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"mat-checkbox",26),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readSelfPublic=a}),t.qZA(),t.TgZ(41,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeSelfPublic=a}),t.qZA(),t.qZA(),t.TgZ(42,"div",22),t.TgZ(43,"p",23),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"mat-checkbox",27),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readSelfVo=a}),t.qZA(),t.TgZ(47,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeSelfVo=a}),t.qZA(),t.qZA(),t.TgZ(48,"div",22),t.TgZ(49,"p",23),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"mat-checkbox",28),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readVo=a}),t.qZA(),t.TgZ(53,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeVo=a}),t.qZA(),t.qZA(),t.TgZ(54,"div",22),t.TgZ(55,"p",23),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"mat-checkbox",29),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readGroup=a}),t.qZA(),t.TgZ(59,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeGroup=a}),t.qZA(),t.qZA(),t.TgZ(60,"div",22),t.TgZ(61,"p",23),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"mat-checkbox",27),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).readFacility=a}),t.qZA(),t.TgZ(65,"mat-checkbox",25),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw(2).writeFacility=a}),t.qZA(),t.qZA(),t.TgZ(66,"div",30),t.TgZ(67,"p"),t._uU(68),t.ALo(69,"translate"),t.qZA(),t._UZ(70,"app-services-list",31),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(3),t.s9C("placeholder",t.lcZ(4,35,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DISPLAY_NAME")),t.Q6J("ngModel",e.attDef.displayName),t.xp6(2),t.Q6J("ngIf",""===e.attDef.displayName),t.xp6(4),t.s9C("placeholder",t.lcZ(10,37,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DESCRIPTION")),t.Q6J("ngModel",e.attDef.description),t.xp6(3),t.Q6J("ngIf",""===e.attDef.description),t.xp6(4),t.Oqu(t.lcZ(17,39,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.UNIQUE")),t.xp6(4),t.s9C("matTooltip",t.lcZ(21,41,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_UNIQUE")),t.Q6J("ngModel",e.attDef.unique)("disabled",e.disableUniqueToggle())("matTooltipDisabled",!e.disableUniqueToggle()),t.xp6(5),t.Oqu(t.lcZ(26,43,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.READ")),t.xp6(3),t.Oqu(t.lcZ(29,45,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.WRITE")),t.xp6(4),t.Oqu(t.lcZ(33,47,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF")),t.xp6(2),t.Q6J("ngModel",e.readSelf),t.xp6(1),t.Q6J("ngModel",e.writeSelf),t.xp6(3),t.Oqu(t.lcZ(39,49,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_PUBLIC")),t.xp6(2),t.Q6J("ngModel",e.readSelfPublic),t.xp6(1),t.Q6J("ngModel",e.writeSelfPublic),t.xp6(3),t.Oqu(t.lcZ(45,51,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_VO")),t.xp6(2),t.Q6J("ngModel",e.readSelfVo),t.xp6(1),t.Q6J("ngModel",e.writeSelfVo),t.xp6(3),t.Oqu(t.lcZ(51,53,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VO")),t.xp6(2),t.Q6J("ngModel",e.readVo),t.xp6(1),t.Q6J("ngModel",e.writeVo),t.xp6(3),t.Oqu(t.lcZ(57,55,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.GROUP")),t.xp6(2),t.Q6J("ngModel",e.readGroup),t.xp6(1),t.Q6J("ngModel",e.writeGroup),t.xp6(3),t.Oqu(t.lcZ(63,57,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FACILITY")),t.xp6(2),t.Q6J("ngModel",e.readFacility),t.xp6(1),t.Q6J("ngModel",e.writeFacility),t.xp6(3),t.Oqu(t.lcZ(69,59,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SERVICES")),t.xp6(2),t.Q6J("disableRouting",!0)("displayedColumns",t.DdM(61,Di))("services",e.services)}}function ti(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).switchShowKeys()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SHOW_KEYS")," "))}function wi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",3),t.TgZ(2,"h1",4),t._uU(3),t.qZA(),t.YNc(4,Zn,1,0,"mat-spinner",5),t.YNc(5,gn,71,62,"div",6),t.TgZ(6,"div",7),t.YNc(7,ti,3,3,"button",8),t.TgZ(8,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCopy()}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t.ALo(15,"translate"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.attDef.namespace+":"+e.attDef.friendlyName),t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(2),t.Q6J("ngIf","entityless"===e.attDef.entity),t.xp6(2),t.hij(" ",t.lcZ(10,10,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FOR_IMPORT")," "),t.xp6(3),t.hij(" ",t.lcZ(13,12,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(15,14,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_CONFIRM")),t.Q6J("matTooltipDisabled",!e.disableConfirmButton())("disabled",e.disableConfirmButton()||e.loading),t.xp6(2),t.hij(" ",t.lcZ(17,16,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CONFIRM")," ")}}function On(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-entityless-attribute-keys-list",33),t.NdJ("switchView",function(){return t.CHM(e),t.oxw().switchShowKeys()}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("attDef",e.attDef)("tableId",e.tableId)}}let un=(()=>{class n{constructor(e,i,a,s,d,T,S,P){this.dialog=e,this.dialogRef=i,this.data=a,this.notificator=s,this.translate=d,this.clipboard=T,this.attributesManager=S,this.serviceService=P,this.showKeys=!1,this.readSelf=!1,this.readSelfPublic=!1,this.readSelfVo=!1,this.readVo=!1,this.readGroup=!1,this.readFacility=!1,this.writeSelf=!1,this.writeSelfPublic=!1,this.writeSelfVo=!1,this.writeVo=!1,this.writeGroup=!1,this.writeFacility=!1,this.tableId=Ae.Wv,this.loading=!1,this.activatedComponent="Edit"}ngOnInit(){this.loading=!0,this.dialogRef.addPanelClass("mat-dialog-height-transition"),this.attDef=this.data.attDef,this.serviceService.getServicesByAttributeDefinition(this.attDef.id).subscribe(e=>{this.services=e,this.attributesManager.getAttributeRights(this.attDef.id).subscribe(i=>{this.fromRightsToCheckboxes(i),this.loading=!1},()=>this.loading=!1)},()=>this.loading=!1)}disableConfirmButton(){return""===this.attDef.displayName||""===this.attDef.description}disableUniqueToggle(){return this.attDef.namespace.includes("virt")||this.attDef.namespace.includes("core")||"entityless"===this.attDef.entity}onSubmit(){this.loading=!0,this.attributesManager.updateAttributeDefinition({attributeDefinition:this.attDef}).subscribe(e=>{this.attDef=e,this.attributesManager.setAttributeRights({rights:this.fromCheckboxesToRights()}).subscribe(()=>{this.translate.get("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}switchShowKeys(){this.showKeys=!this.showKeys,this.showKeys?(this.dialogRef.updateSize("800px"),this.activatedComponent="Entityless"):(this.dialogRef.updateSize("700px"),this.activatedComponent="Edit")}onCopy(){const e={attributeDefinition:this.attDef,attributeRights:this.fromCheckboxesToRights()};this.clipboard.copy(JSON.stringify(e))?this.notificator.showSuccess(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPIED")):this.notificator.showError(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FAILED"))}fromCheckboxesToRights(){const e=[],i={};i.attributeId=this.attDef.id,i.role=lt.u.SELF,i.rights=[],this.readSelf&&i.rights.push("READ"),this.readSelfPublic&&i.rights.push("READ_PUBLIC"),this.readSelfVo&&i.rights.push("READ_VO"),this.writeSelf&&i.rights.push("WRITE"),this.writeSelfPublic&&i.rights.push("WRITE_PUBLIC"),this.writeSelfVo&&i.rights.push("WRITE_VO"),e.push(i);const a={};a.attributeId=this.attDef.id,a.role=lt.u.VOADMIN,a.rights=[],this.readVo&&a.rights.push("READ"),this.writeVo&&a.rights.push("WRITE"),e.push(a);const s={};s.attributeId=this.attDef.id,s.role=lt.u.GROUPADMIN,s.rights=[],this.readGroup&&s.rights.push(V.Us.READ),this.writeGroup&&s.rights.push("WRITE"),e.push(s);const d={};return d.attributeId=this.attDef.id,d.role=lt.u.FACILITYADMIN,d.rights=[],this.readFacility&&d.rights.push("READ"),this.writeFacility&&d.rights.push("WRITE"),e.push(d),e}fromRightsToCheckboxes(e){for(const i of e)switch(i.role){case lt.u.SELF:i.rights.includes("READ")&&(this.readSelf=!0),i.rights.includes("READ_PUBLIC")&&(this.readSelfPublic=!0),i.rights.includes("READ_VO")&&(this.readSelfVo=!0),i.rights.includes("WRITE")&&(this.writeSelf=!0),i.rights.includes("WRITE_PUBLIC")&&(this.writeSelfPublic=!0),i.rights.includes("WRITE_VO")&&(this.writeSelfVo=!0);break;case lt.u.GROUPADMIN:i.rights.includes("READ")&&(this.readGroup=!0),i.rights.includes("WRITE")&&(this.writeGroup=!0);break;case lt.u.FACILITYADMIN:i.rights.includes("READ")&&(this.readFacility=!0),i.rights.includes("WRITE")&&(this.writeFacility=!0);break;case lt.u.VOADMIN:i.rights.includes("READ")&&(this.readVo=!0),i.rights.includes("WRITE")&&(this.writeVo=!0)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(In.TU),t.Y36(V.H8),t.Y36(V.KK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-attribute-definition-dialog"]],viewQuery:function(e,i){if(1&e&&t.Gf(nn,5),2&e){let a;t.iGM(a=t.CRH())&&(i.copiedToolTip=a.first)}},decls:4,vars:2,consts:[[1,"admin-theme"],[1,"parent"],[4,"ngIf"],[1,"width-650"],["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["class","ml-0","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","",1,"ml-2",3,"click"],["color","accent","mat-flat-button","","matTooltipPosition","above",1,"ml-2",3,"matTooltipDisabled","disabled","matTooltip","click"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],["matInput","","required","",1,"width-650",3,"ngModel","placeholder","ngModelChange"],["matInput","","cdkTextareaAutosize","","required","",1,"width-650",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-row","mt-3"],[1,"pointer","ml-4",3,"click"],["color","accent","matTooltipPosition","above",1,"ml-2",3,"matTooltip","ngModel","disabled","matTooltipDisabled","ngModelChange"],[1,"d-flex","flex-row","mt-2"],[1,"ml-5","pl-4"],[1,"ml-4"],[1,"d-flex","flex-row"],[1,""],[1,"ml-5","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5",3,"ngModel","ngModelChange"],[1,"ml-3",3,"ngModel","ngModelChange"],[1,"ml-4","pl-3",3,"ngModel","ngModelChange"],[1,"ml-5","pl-4",3,"ngModel","ngModelChange"],[1,"ml-4","pl-4",3,"ngModel","ngModelChange"],[1,"mt-4"],[3,"disableRouting","displayedColumns","services"],["mat-flat-button","",1,"ml-0",3,"click"],[3,"attDef","tableId","switchView"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,wi,18,18,"div",2),t.YNc(3,On,2,2,"div",2),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",!i.showKeys),t.xp6(1),t.Q6J("ngIf",i.showKeys))},directives:[_.O5,O.uh,W.$g,O.xY,it.KE,z.Nt,E.Fj,E.Q7,E.JJ,E.On,it.TO,Ct.IC,Ht.Rr,ne.gM,Ut.oG,ze.Q,O.H8,nt.lW,Fe],pipes:[u.X$],styles:[".unique-toggle-label[_ngcontent-%COMP%]{font-size:1.125rem}.width-650[_ngcontent-%COMP%]{width:650px!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{overflow:hidden}.parent[_ngcontent-%COMP%]{display:flex}.parent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}textarea[cdktextareaautosize].mat-input-element[_ngcontent-%COMP%]{overflow:hidden}"],data:{animation:[wn.SG,wn.GH,wn.Ls]}}),n})();var yn=o(70844);let ei=(()=>{class n{transform(e){if(null===e)return null;const i=e;return i.substring(i.lastIndexOf(":")+1,i.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"nameSpaceToDef",type:n,pure:!0}),n})(),ui=(()=>{class n{transform(e){if(null===e)return null;const i=e;return i.substring(i.lastIndexOf(".")+1,i.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"attributeTypeClean",type:n,pure:!0}),n})();function Nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",19),t.TgZ(1,"mat-checkbox",20),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw();return a?s.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Le(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",21),t.TgZ(1,"mat-checkbox",22),t.NdJ("change",function(a){const d=t.CHM(e).$implicit,T=t.oxw();return a?T.selection.toggle(d):null})("click",function(a){return a.stopPropagation()}),t.ALo(2,"consentRelatedAttribute"),t.ALo(3,"translate"),t.ALo(4,"consentRelatedAttribute"),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))("disabled",t.Dn7(2,5,e.namespace,i.serviceEnabled,i.consentRequired))("matTooltip",t.lcZ(3,9,"ADMIN.ATTRIBUTES.CONSENT_RELATED_DISABLED"))("matTooltipDisabled",!t.Dn7(4,11,e.namespace,i.serviceEnabled,i.consentRequired))}}function Ii(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_ID")," "))}function Bn(n,r){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.id)}}function fn(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_FRIENDLY_NAME")," "))}function G(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function X(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_ENTITY")," "))}function ht(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.entity)}}function D(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_DEF")," "))}function At(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"nameSpaceToDef"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.namespace))}}function Ot(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_TYPE")," "))}function Bt(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"attributeTypeClean"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.type))}}function Yt(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_UNIQUE")," "))}function re(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.unique)}}function qt(n,r){1&n&&t._UZ(0,"tr",26)}function q(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().onRowClick(s)}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("cursor-pointer",!e.disableRouting)}}function pt(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.NO_ATTRIBUTES"),"\n"))}function bt(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT"),"\n"))}let wt=(()=>{class n{constructor(e,i,a,s){this.dialog=e,this.authResolver=i,this.tableCheckbox=a,this.consentRelatedPipe=s,this.selection=new F.Ov(!0,[]),this.displayedColumns=["select","id","friendlyName","entity","namespace","type","unique"],this.disableRouting=!1,this.consentRequired=!1,this.serviceEnabled=!1,this.refreshEvent=new t.vpe,this.pageSizeOptions=Ce.f7,this.canBeSelected=d=>!this.consentRelatedPipe.transform(d.namespace,this.serviceEnabled,this.consentRequired)}set matSort(e){this.sort=e,this.setDataSource()}static getDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"friendlyName":return e.friendlyName;case"entity":return e.entity;case"namespace":if(e.namespace){const a=e.namespace;return a.substring(a.lastIndexOf(":")+1,a.length)}return"";case"type":if(e.type){const a=e.type;return a.substring(a.lastIndexOf(".")+1,a.length)}return"";case"unique":return e.unique?"true":"false";default:return""}}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(e=>"id"!==e)),this.dataSource=new R.by(this.definitions),this.setDataSource()}ngAfterViewInit(){this.dataSource.paginator=this.child.paginator}exportData(e){(0,Ce.O6)((0,Ce.Xn)(this.dataSource.filteredData,this.displayedColumns,n.getDataForColumn),e)}setDataSource(){this.dataSource&&(this.dataSource.filter=this.filterValue,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(e,i)=>(0,Ce.Sd)(e,i,this.displayedColumns,n.getDataForColumn),this.dataSource.sortData=(e,i)=>(0,Ce.pR)(e,i,n.getDataForColumn),this.dataSource.paginator=this.child.paginator)}isAllSelected(){return this.tableCheckbox.isAllSelectedWithDisabledCheckbox(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.child.paginator.pageIndex,this.dataSource,this.sort,this.canBeSelected)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!0,this.canBeSelected)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onRowClick(e){if(!this.disableRouting){const i=(0,Ce.kZ)();i.width="700px",i.data={attDef:e},this.dialog.open(un,i).afterClosed().subscribe(s=>{s&&(this.selection.clear(),this.refreshEvent.emit())})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.UA),t.Y36(yn.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attr-def-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Ce.l9,7),t.Gf(je.YE,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.matSort=a.first)}},inputs:{definitions:"definitions",selection:"selection",displayedColumns:"displayedColumns",filterValue:"filterValue",tableId:"tableId",disableRouting:"disableRouting",consentRequired:"consentRequired",serviceEnabled:"serviceEnabled"},outputs:{refreshEvent:"refreshEvent"},features:[t.TTD],decls:29,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"pageSizeOptions","dataLength","tableId","exportData"],[1,"overflow-auto"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["class","align-checkbox","mat-header-cell","",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","friendlyName"],["mat-cell","",4,"matCellDef"],["matColumnDef","entity"],["matColumnDef","namespace"],["matColumnDef","type"],["matColumnDef","unique"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",3,"cursor-pointer","click",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["matTooltipPosition","left","color","primary",3,"aria-label","checked","disabled","matTooltip","matTooltipDisabled","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item",3,"click"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(s){return i.exportData(s)}),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.ynx(4,4),t.YNc(5,Nn,2,3,"th",5),t.YNc(6,Le,5,15,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,Ii,3,3,"th",8),t.YNc(9,Bn,2,1,"td",9),t.BQk(),t.ynx(10,10),t.YNc(11,fn,3,3,"th",8),t.YNc(12,G,2,1,"td",11),t.BQk(),t.ynx(13,12),t.YNc(14,X,3,3,"th",8),t.YNc(15,ht,2,1,"td",11),t.BQk(),t.ynx(16,13),t.YNc(17,D,3,3,"th",8),t.YNc(18,At,3,3,"td",11),t.BQk(),t.ynx(19,14),t.YNc(20,Ot,3,3,"th",8),t.YNc(21,Bt,3,3,"td",11),t.BQk(),t.ynx(22,15),t.YNc(23,Yt,3,3,"th",8),t.YNc(24,re,2,1,"td",11),t.BQk(),t.YNc(25,qt,1,0,"tr",16),t.YNc(26,q,1,2,"tr",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,pt,3,3,"perun-web-apps-alert",18),t.YNc(28,bt,3,3,"perun-web-apps-alert",18)),2&e&&(t.Q6J("hidden",0===i.dataSource.filteredData.length||0===i.definitions.length),t.xp6(1),t.Q6J("pageSizeOptions",i.pageSizeOptions)("dataLength",i.dataSource.filteredData.length)("tableId",i.tableId),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.definitions.length),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.filteredData.length&&0!==i.definitions.length))},directives:[Mn.l,R.BZ,je.YE,R.w1,R.fO,R.ge,Ut.oG,R.Dz,R.ev,ne.gM,je.nU,R.as,R.XQ,R.nj,R.Gk,_.O5,rt.w],pipes:[yn.u,u.X$,ei,ui],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function Xt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCreate()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.CREATE")," "))}function te(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onImport()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.IMPORT")," "))}function Dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onDelete()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selected.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.ATTRIBUTES.DELETE")," ")}}function he(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function N(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-attr-def-list",10),t.NdJ("refreshEvent",function(){return t.CHM(e),t.oxw().refreshTable()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("definitions",e.attrDefinitions)("disableRouting",!e.authResolver.isPerunAdmin())("filterValue",e.filterValue)("selection",e.selected)("tableId",e.tableId)}}let le=(()=>{class n{constructor(e,i,a){this.dialog=e,this.attributesManager=i,this.authResolver=a,this.attrDefinitions=[],this.selected=new F.Ov(!0,[]),this.filterValue="",this.tableId=Ae.uM}ngOnInit(){this.refreshTable()}onCreate(){const e=(0,Ce.kZ)();e.width="500px",this.dialog.open(Ve,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onDelete(){const e=(0,Ce.kZ)();e.width="450px",e.data={attributes:this.selected.selected,theme:"admin-theme"},this.dialog.open(K,e).afterClosed().subscribe(a=>{a&&(this.refreshTable(),this.selected.clear())})}refreshTable(){this.loading=!0,this.attributesManager.getAllAttributeDefinitions().subscribe(e=>{this.attrDefinitions=e,this.loading=!1})}applyFilter(e){this.filterValue=e}onImport(){const e=(0,Ce.kZ)();e.width="700px",this.dialog.open(ni,e).afterClosed().subscribe(a=>{!0===a&&this.refreshTable()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(V.H8),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-attributes"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:11,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["class","mr-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["color","warn","class","mr-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"definitions","disableRouting","filterValue","selection","tableId","refreshEvent",4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"definitions","disableRouting","filterValue","selection","tableId","refreshEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,Xt,3,3,"button",2),t.YNc(6,te,3,3,"button",2),t.YNc(7,Dt,3,4,"button",3),t.TgZ(8,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(9,he,1,0,"mat-spinner",5),t.YNc(10,N,1,5,"app-attr-def-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"ADMIN.ATTRIBUTES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.ATTRIBUTES.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,_.O5,nt.lW,sn.L,W.$g,wt],pipes:[u.X$],styles:[""]}),n})(),ke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-visualizer"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"app-animated-router-outlet")},directives:[m.A],styles:[""]}),n})();var Oe=o(9921);let rn=(()=>{class n{constructor(e){this.attributesManager=e}ngOnInit(){this.attributesManager.getAttributeModulesDependenciesGraphText("DOT").subscribe(e=>{const i=e.graph.replace("\\t","").replace("\\n","").replace("\\","");(0,Oe.graphviz)("#dependenciesGraph",{zoom:!1}).renderDot(i)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizer-attr-modules"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:4,vars:3,consts:[[1,"page-subtitle"],["id","dependenciesGraph",1,"card"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"div",1)),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.VISUALIZER.ATTR_DEPENDENCIES.TITLE"),"\n"))},pipes:[u.X$],styles:["#dependenciesGraph[_ngcontent-%COMP%]{overflow-y:scroll}"]}),n})(),He=(()=>{class n{constructor(){this.items=[{cssIcon:"perun-module-dependencies",url:"attrDependencies",label:"MENU_ITEMS.VISUALIZER.ATTR_DEPENDENCIES",style:"admin-btn"},{cssIcon:"perun-user-destination-relationship",url:"userDestinationRelationship",label:"MENU_ITEMS.VISUALIZER.USER_DESTINATION",style:"admin-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizer-overview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-menu-buttons-field",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("items",i.items)("size","small"))},directives:[A.L],styles:[""]}),n})();var $e=o(80013),fe=o(75778),ve=o(22868),Qe=o(87545),et=o(92081),gt=o(91079),mt=o(79814);function St(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_USER"))}function zt(n,r){1&n&&t._UZ(0,"mat-spinner",17),2&n&&t.Q6J("diameter",20)("strokeWidth",2)}function ee(n,r){if(1&n&&(t.TgZ(0,"mat-option",18),t.TgZ(1,"span",19),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.firstName+" "+e.lastName),t.xp6(2),t.hij("#",e.id,""),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function Jt(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_DESTINATION"))}function pe(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_SERVICE"))}function xe(n,r){if(1&n&&(t.TgZ(0,"mat-radio-button",20),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let Wt=(()=>{class n{constructor(e,i,a,s,d,T){this.usersService=e,this.translate=i,this.facilityManager=a,this.serviceService=s,this.router=d,this.notificator=T,this.searchField=new E.NI,this.chosenService="",this.availableServices=[],this.loading=!1,this.destination=""}ngOnInit(){this.searchField.setValue(""),this.users=this.searchField.valueChanges.pipe((0,$e.b)(400),(0,fe.x)(),(0,ve.b)(()=>this.loading=!0),(0,Qe.w)(e=>this.usersService.findUsers(e)),(0,ve.b)(()=>this.loading=!1)),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.SELECT_NO_SERVICE").subscribe(e=>{this.noServiceText=e,this.availableServices.push(this.noServiceText)})}validateName(e){""!==this.searchField.value?this.usersService.findUsers(this.searchField.value).subscribe(i=>{for(const a of i){if((a.firstName+" "+a.lastName).toLowerCase()===this.searchField.value.toLowerCase()){this.selectedUser=a,e.selected.completed=!0,e.next();break}this.selectedUser=null}this.selectedUser||this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_WRONG_NAME").subscribe(a=>{this.notificator.showError(a)})}):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NO_NAME").subscribe(i=>{this.notificator.showError(i)})}validateDestination(e){""!==this.destination?(this.availableServices=[],this.availableServices.push(this.noServiceText),this.chosenService="",this.facilityManager.getFacilitiesByDestination(this.destination).subscribe(i=>{if(0!==i.length){e.selected.completed=!0,e.next();for(const a of i)this.serviceService.getAllRichDestinationsForFacility(a.id).subscribe(s=>{for(const d of s)d.destination===this.destination&&(this.availableServices.includes(d.service.name)||this.availableServices.push(d.service.name))})}else this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_WRONG_DESTINATION").subscribe(a=>{this.notificator.showError(a)})})):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NO_DESTINATION").subscribe(i=>{this.notificator.showError(i)})}getGraph(){""!==this.chosenService?this.router.navigate(["admin/visualizer/userDestinationRelationship/graph"],this.chosenService===this.noServiceText?{queryParams:{user:this.selectedUser.id,destination:this.destination,service:"noService"}}:{queryParams:{user:this.selectedUser.id,destination:this.destination,service:this.chosenService}}):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NOT_CHOSEN_SERVICE").subscribe(e=>{this.notificator.showError(e)})}notCompleted(e){e.selected.completed=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.Fv),t.Y36(u.sK),t.Y36(V.IQ),t.Y36(V.KK),t.Y36(f.F0),t.Y36(U.V6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-destination-relationship"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:46,vars:36,consts:[[1,"p-3","card","settings-card","col-12","col-xl-5"],[1,"page-subtitle"],["linear",""],["stepper",""],["completed","false"],["matStepLabel",""],[1,"w-100"],["matInput","","type","text",3,"placeholder","formControl","matAutocomplete","keydown.enter","ngModelChange"],["matSuffix","",3,"diameter","strokeWidth",4,"ngIf"],["align","start"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mt-2",3,"click"],["matInput","","type","text",3,"placeholder","ngModel","keydown.enter","ngModelChange"],["mat-stroked-button","","matStepperPrevious","",1,"mt-2"],[1,"mb-2",3,"ngModel","ngModelChange"],["class","flex-column d-flex","color","primary",3,"value",4,"ngFor","ngForOf"],["matSuffix","",3,"diameter","strokeWidth"],[3,"value"],[1,"text-muted"],["color","primary",1,"flex-column","d-flex",3,"value"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-vertical-stepper",2,3),t.TgZ(6,"mat-step",4),t.YNc(7,St,2,3,"ng-template",5),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"input",7),t.NdJ("keydown.enter",function(){t.CHM(a);const d=t.MAs(5);return i.validateName(d)})("ngModelChange",function(){t.CHM(a);const d=t.MAs(5);return i.notCompleted(d)}),t.ALo(10,"translate"),t.qZA(),t.YNc(11,zt,1,2,"mat-spinner",8),t.TgZ(12,"mat-hint",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"mat-autocomplete",null,10),t.YNc(17,ee,4,4,"mat-option",11),t.ALo(18,"async"),t.qZA(),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"button",12),t.NdJ("click",function(){t.CHM(a);const d=t.MAs(5);return i.validateName(d)}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"mat-step",4),t.YNc(24,Jt,2,3,"ng-template",5),t.TgZ(25,"mat-form-field",6),t.TgZ(26,"input",13),t.NdJ("keydown.enter",function(){t.CHM(a);const d=t.MAs(5);return i.validateDestination(d)})("ngModelChange",function(){t.CHM(a);const d=t.MAs(5);return i.notCompleted(d)})("ngModelChange",function(d){return i.destination=d}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div"),t.TgZ(29,"button",14),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",12),t.NdJ("click",function(){t.CHM(a);const d=t.MAs(5);return i.validateDestination(d)}),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"mat-step"),t.YNc(36,pe,2,3,"ng-template",5),t.TgZ(37,"mat-radio-group",15),t.NdJ("ngModelChange",function(d){return i.chosenService=d}),t.YNc(38,xe,2,2,"mat-radio-button",16),t.qZA(),t.TgZ(39,"div"),t.TgZ(40,"button",14),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"button",12),t.NdJ("click",function(){return i.getGraph()}),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const a=t.MAs(16);t.xp6(2),t.hij(" ",t.lcZ(3,16,"ADMIN.VISUALIZER.USER_DESTINATION.TITLE")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(10,18,"ADMIN.VISUALIZER.USER_DESTINATION.USER_EXAMPLE")),t.Q6J("formControl",i.searchField)("matAutocomplete",a),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(2),t.Oqu(t.lcZ(14,20,"ADMIN.VISUALIZER.USER_DESTINATION.USER_HINT")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(18,22,i.users)),t.xp6(4),t.hij(" ",t.lcZ(22,24,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_NEXT")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(27,26,"ADMIN.VISUALIZER.USER_DESTINATION.DESTINATION_EXAMPLE")),t.Q6J("ngModel",i.destination),t.xp6(4),t.hij(" ",t.lcZ(31,28,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_BACK")," "),t.xp6(3),t.hij(" ",t.lcZ(34,30,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_NEXT")," "),t.xp6(4),t.Q6J("ngModel",i.chosenService),t.xp6(1),t.Q6J("ngForOf",i.availableServices),t.xp6(3),t.hij(" ",t.lcZ(42,32,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_BACK")," "),t.xp6(3),t.hij(" ",t.lcZ(45,34,"ADMIN.VISUALIZER.USER_DESTINATION.SUBMIT_BUTTON")," ")}},directives:[et.Vq,et.C0,et.VY,it.KE,z.Nt,E.Fj,gt.ZL,E.JJ,E.oH,_.O5,W.$g,it.R9,it.bx,gt.XC,_.sg,Rt.ey,nt.lW,E.On,et.fd,mt.VQ,mt.U0],pipes:[u.X$,_.Ov],styles:[""]}),n})();function oe(n,r,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+r)/6,(n._y0+4*n._y1+e)/6)}function Ie(n){this._context=n}function Ye(n,r){this._basis=new Ie(n),this._beta=r}Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oe(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oe(this,n,r)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r}},Ye.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,r=this._y,e=n.length-1;if(e>0)for(var S,i=n[0],a=r[0],s=n[e]-i,d=r[e]-a,T=-1;++T<=e;)this._basis.point(this._beta*n[T]+(1-this._beta)*(i+(S=T/e)*s),this._beta*r[T]+(1-this._beta)*(a+S*d));this._x=this._y=null,this._basis.lineEnd()},point:function(n,r){this._x.push(+n),this._y.push(+r)}};const $n=function n(r){function e(i){return 1===r?new Ie(i):new Ye(i,r)}return e.beta=function(i){return n(+i)},e}(.85);var En=o(8929),Sn=o(70655),we=o(41777);function Fn(){}function Qn(n){return null==n?Fn:function(){return this.querySelector(n)}}function ln(){return[]}function Jn(n){return new Array(n.length)}function cn(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function be(n,r,e,i,a,s){for(var T,d=0,S=r.length,P=s.length;d<P;++d)(T=r[d])?(T.__data__=s[d],i[d]=T):e[d]=new cn(n,s[d]);for(;d<S;++d)(T=r[d])&&(a[d]=T)}function jt(n,r,e,i,a,s,d){var T,S,_t,P={},Y=r.length,ot=s.length,st=new Array(Y);for(T=0;T<Y;++T)(S=r[T])&&(st[T]=_t="$"+d.call(S,S.__data__,T,r),_t in P?a[T]=S:P[_t]=S);for(T=0;T<ot;++T)(S=P[_t="$"+d.call(n,s[T],T,s)])?(i[T]=S,S.__data__=s[T],P[_t]=null):e[T]=new cn(n,s[T]);for(T=0;T<Y;++T)(S=r[T])&&P[st[T]]===S&&(a[T]=S)}function kt(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}cn.prototype={constructor:cn,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var We="http://www.w3.org/1999/xhtml";const An={svg:"http://www.w3.org/2000/svg",xhtml:We,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function di(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),An.hasOwnProperty(r)?{space:An[r],local:n}:n}function rr(n){return function(){this.removeAttribute(n)}}function Li(n){return function(){this.removeAttributeNS(n.space,n.local)}}function fi(n,r){return function(){this.setAttribute(n,r)}}function ii(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function Mi(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function ar(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Da(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function ls(n){return function(){this.style.removeProperty(n)}}function cs(n,r,e){return function(){this.style.setProperty(n,r,e)}}function Pn(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function qi(n,r){return n.style.getPropertyValue(r)||Da(n).getComputedStyle(n,null).getPropertyValue(r)}function pi(n){return function(){delete this[n]}}function y(n,r){return function(){this[n]=r}}function L(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function $(n){return n.trim().split(/^|\s+/)}function dt(n){return n.classList||new Et(n)}function Et(n){this._node=n,this._names=$(n.getAttribute("class")||"")}function Lt(n,r){for(var e=dt(n),i=-1,a=r.length;++i<a;)e.add(r[i])}function Vt(n,r){for(var e=dt(n),i=-1,a=r.length;++i<a;)e.remove(r[i])}function ce(n){return function(){Lt(this,n)}}function Xe(n){return function(){Vt(this,n)}}function hn(n,r){return function(){(r.apply(this,arguments)?Lt:Vt)(this,n)}}function Je(){this.textContent=""}function tn(n){return function(){this.textContent=n}}function kn(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function Tr(){this.innerHTML=""}function Ri(n){return function(){this.innerHTML=n}}function kr(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function $i(){this.nextSibling&&this.parentNode.appendChild(this)}function gi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Au(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===We&&r.documentElement.namespaceURI===We?r.createElement(n):r.createElementNS(e,n)}}function Eu(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function xo(n){var r=di(n);return(r.local?Eu:Au)(r)}function Du(){return null}function ku(){var n=this.parentNode;n&&n.removeChild(this)}function Mu(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function Ou(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}Et.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var yo={},Ir=null;function Ru(n,r,e){return n=To(n,r,e),function(i){var a=i.relatedTarget;(!a||a!==this&&!(8&a.compareDocumentPosition(this)))&&n.call(this,i)}}function To(n,r,e){return function(i){var a=Ir;Ir=i;try{n.call(this,this.__data__,r,e)}finally{Ir=a}}}function Zu(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function Bu(n){return function(){var r=this.__on;if(r){for(var s,e=0,i=-1,a=r.length;e<a;++e)s=r[e],n.type&&s.type!==n.type||s.name!==n.name?r[++i]=s:this.removeEventListener(s.type,s.listener,s.capture);++i?r.length=i:delete this.__on}}}function Uu(n,r,e){var i=yo.hasOwnProperty(n.type)?Ru:To;return function(a,s,d){var S,T=this.__on,P=i(r,s,d);if(T)for(var Y=0,ot=T.length;Y<ot;++Y)if((S=T[Y]).type===n.type&&S.name===n.name)return this.removeEventListener(S.type,S.listener,S.capture),this.addEventListener(S.type,S.listener=P,S.capture=e),void(S.value=r);this.addEventListener(n.type,P,e),S={type:n.type,name:n.name,value:r,listener:P,capture:e},T?T.push(S):this.__on=[S]}}function bo(n,r,e){var i=Da(n),a=i.CustomEvent;"function"==typeof a?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),n.dispatchEvent(a)}function Vu(n,r){return function(){return bo(this,n,r)}}function zu(n,r){return function(){return bo(this,n,r.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(yo={mouseenter:"mouseover",mouseleave:"mouseout"}));var Co=[null];function Yi(n,r){this._groups=n,this._parents=r}function wo(n){return"string"==typeof n?new Yi([[document.querySelector(n)]],[document.documentElement]):new Yi([[n]],Co)}function Ao(n,r,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+r)/6,(n._y0+4*n._y1+e)/6)}function La(n){this._context=n}function Eo(n,r){this._basis=new La(n),this._beta=r}Yi.prototype=function Yu(){return new Yi([[document.documentElement]],Co)}.prototype={constructor:Yi,select:function on(n){"function"!=typeof n&&(n=Qn(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,P,s=r[a],d=s.length,T=i[a]=new Array(d),Y=0;Y<d;++Y)(S=s[Y])&&(P=n.call(S,S.__data__,Y,s))&&("__data__"in S&&(P.__data__=S.__data__),T[Y]=P);return new Yi(i,this._parents)},selectAll:function Vi(n){"function"!=typeof n&&(n=function Un(n){return null==n?ln:function(){return this.querySelectorAll(n)}}(n));for(var r=this._groups,e=r.length,i=[],a=[],s=0;s<e;++s)for(var S,d=r[s],T=d.length,P=0;P<T;++P)(S=d[P])&&(i.push(n.call(S,S.__data__,P,d)),a.push(S));return new Yi(i,a)},filter:function zi(n){"function"!=typeof n&&(n=function hi(n){return function(){return this.matches(n)}}(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],d=s.length,T=i[a]=[],P=0;P<d;++P)(S=s[P])&&n.call(S,S.__data__,P,s)&&T.push(S);return new Yi(i,this._parents)},data:function b(n,r){if(!n)return _t=new Array(this.size()),P=-1,this.each(function(Te){_t[++P]=Te}),_t;var e=r?jt:be,i=this._parents,a=this._groups;"function"!=typeof n&&(n=function Hi(n){return function(){return n}}(n));for(var s=a.length,d=new Array(s),T=new Array(s),S=new Array(s),P=0;P<s;++P){var Y=i[P],ot=a[P],st=ot.length,_t=n.call(Y,Y&&Y.__data__,P,i),Mt=_t.length,Zt=T[P]=new Array(Mt),Tt=d[P]=new Array(Mt);e(Y,ot,Zt,Tt,S[P]=new Array(st),_t,r);for(var Se,Pe,ie=0,Kt=0;ie<Mt;++ie)if(Se=Zt[ie]){for(ie>=Kt&&(Kt=ie+1);!(Pe=Tt[Kt])&&++Kt<Mt;);Se._next=Pe||null}}return(d=new Yi(d,i))._enter=T,d._exit=S,d},enter:function Ai(){return new Yi(this._enter||this._groups.map(Jn),this._parents)},exit:function M(){return new Yi(this._exit||this._groups.map(Jn),this._parents)},join:function B(n,r,e){var i=this.enter(),a=this,s=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=r&&(a=r(a)),null==e?s.remove():e(s),i&&a?i.merge(a).order():a},merge:function j(n){for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),d=new Array(i),T=0;T<s;++T)for(var st,S=r[T],P=e[T],Y=S.length,ot=d[T]=new Array(Y),_t=0;_t<Y;++_t)(st=S[_t]||P[_t])&&(ot[_t]=st);for(;T<i;++T)d[T]=r[T];return new Yi(d,this._parents)},order:function ct(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var d,i=n[r],a=i.length-1,s=i[a];--a>=0;)(d=i[a])&&(s&&4^d.compareDocumentPosition(s)&&s.parentNode.insertBefore(d,s),s=d);return this},sort:function xt(n){function r(ot,st){return ot&&st?n(ot.__data__,st.__data__):!ot-!st}n||(n=kt);for(var e=this._groups,i=e.length,a=new Array(i),s=0;s<i;++s){for(var P,d=e[s],T=d.length,S=a[s]=new Array(T),Y=0;Y<T;++Y)(P=d[Y])&&(S[Y]=P);S.sort(r)}return new Yi(a,this._parents).order()},call:function Pt(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function ae(){var n=new Array(this.size()),r=-1;return this.each(function(){n[++r]=this}),n},node:function De(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],a=0,s=i.length;a<s;++a){var d=i[a];if(d)return d}return null},size:function Ge(){var n=0;return this.each(function(){++n}),n},empty:function Ke(){return!this.node()},each:function Ze(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var T,a=r[e],s=0,d=a.length;s<d;++s)(T=a[s])&&n.call(T,T.__data__,s,a);return this},attr:function si(n,r){var e=di(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?Li:rr:"function"==typeof r?e.local?ar:Mi:e.local?ii:fi)(e,r))},style:function Lr(n,r,e){return arguments.length>1?this.each((null==r?ls:"function"==typeof r?Pn:cs)(n,r,null==e?"":e)):qi(this.node(),n)},property:function Z(n,r){return arguments.length>1?this.each((null==r?pi:"function"==typeof r?L:y)(n,r)):this.node()[n]},classed:function bn(n,r){var e=$(n+"");if(arguments.length<2){for(var i=dt(this.node()),a=-1,s=e.length;++a<s;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof r?hn:r?ce:Xe)(e,r))},text:function Pi(n){return arguments.length?this.each(null==n?Je:("function"==typeof n?kn:tn)(n)):this.node().textContent},html:function ki(n){return arguments.length?this.each(null==n?Tr:("function"==typeof n?kr:Ri)(n)):this.node().innerHTML},raise:function br(){return this.each($i)},lower:function wu(){return this.each(gi)},append:function Su(n){var r="function"==typeof n?n:xo(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function Lu(n,r){var e="function"==typeof n?n:xo(n),i=null==r?Du:"function"==typeof r?r:Qn(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Iu(){return this.each(ku)},clone:function Nu(n){return this.select(n?Ou:Mu)},datum:function Fu(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Gu(n,r,e){var a,d,i=Zu(n+""),s=i.length;if(!(arguments.length<2)){for(T=r?Uu:Bu,null==e&&(e=!1),a=0;a<s;++a)this.each(T(i[a],r,e));return this}var T=this.node().__on;if(T)for(var Y,S=0,P=T.length;S<P;++S)for(a=0,Y=T[S];a<s;++a)if((d=i[a]).type===Y.type&&d.name===Y.name)return Y.value},dispatch:function Hu(n,r){return this.each(("function"==typeof r?zu:Vu)(n,r))}},La.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ao(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ao(this,n,r)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r}},Eo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,r=this._y,e=n.length-1;if(e>0)for(var S,i=n[0],a=r[0],s=n[e]-i,d=r[e]-a,T=-1;++T<=e;)this._basis.point(this._beta*n[T]+(1-this._beta)*(i+(S=T/e)*s),this._beta*r[T]+(1-this._beta)*(a+S*d));this._x=this._y=null,this._basis.lineEnd()},point:function(n,r){this._x.push(+n),this._y.push(+r)}};const Wu=function n(r){function e(i){return 1===r?new La(i):new Eo(i,r)}return e.beta=function(i){return n(+i)},e}(.85);var us=Math.PI,hs=2*us,Mr=1e-6,Xu=hs-Mr;function ds(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function So(){return new ds}ds.prototype=So.prototype={constructor:ds,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,i){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(n,r,e,i,a,s){this._+="C"+ +n+","+ +r+","+ +e+","+ +i+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(n,r,e,i,a){var s=this._x1,d=this._y1,T=(e=+e)-(n=+n),S=(i=+i)-(r=+r),P=s-n,Y=d-r,ot=P*P+Y*Y;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(ot>Mr)if(Math.abs(Y*T-S*P)>Mr&&a){var st=e-s,_t=i-d,Mt=T*T+S*S,Zt=st*st+_t*_t,Tt=Math.sqrt(Mt),$t=Math.sqrt(ot),ie=a*Math.tan((us-Math.acos((Mt+ot-Zt)/(2*Tt*$t)))/2),Kt=ie/$t,Se=ie/Tt;Math.abs(Kt-1)>Mr&&(this._+="L"+(n+Kt*P)+","+(r+Kt*Y)),this._+="A"+a+","+a+",0,0,"+ +(Y*st>P*_t)+","+(this._x1=n+Se*T)+","+(this._y1=r+Se*S)}else this._+="L"+(this._x1=n)+","+(this._y1=r)},arc:function(n,r,e,i,a,s){n=+n,r=+r,s=!!s;var d=(e=+e)*Math.cos(i),T=e*Math.sin(i),S=n+d,P=r+T,Y=1^s,ot=s?i-a:a-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+S+","+P:(Math.abs(this._x1-S)>Mr||Math.abs(this._y1-P)>Mr)&&(this._+="L"+S+","+P),e&&(ot<0&&(ot=ot%hs+hs),ot>Xu?this._+="A"+e+","+e+",0,1,"+Y+","+(n-d)+","+(r-T)+"A"+e+","+e+",0,1,"+Y+","+(this._x1=S)+","+(this._y1=P):ot>Mr&&(this._+="A"+e+","+e+",0,"+ +(ot>=us)+","+Y+","+(this._x1=n+e*Math.cos(a))+","+(this._y1=r+e*Math.sin(a))))},rect:function(n,r,e,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};const $u=So;function ka(n){return function(){return n}}function Do(n){this._context=n}function Qu(n){return new Do(n)}function Ju(n){return n[0]}function ju(n){return n[1]}Do.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;default:this._context.lineTo(n,r)}}};var Lo=Math.PI;function Io(n){return(1-Math.cos(Lo*n))/2}function Ku(){}function fs(n){return null==n?Ku:function(){return this.querySelector(n)}}function eh(){return[]}function Mo(n){return null==n?eh:function(){return this.querySelectorAll(n)}}function Oo(n){return function(){return this.matches(n)}}function No(n){return new Array(n.length)}function Ia(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function sh(n,r,e,i,a,s){for(var T,d=0,S=r.length,P=s.length;d<P;++d)(T=r[d])?(T.__data__=s[d],i[d]=T):e[d]=new Ia(n,s[d]);for(;d<S;++d)(T=r[d])&&(a[d]=T)}function oh(n,r,e,i,a,s,d){var T,S,_t,P={},Y=r.length,ot=s.length,st=new Array(Y);for(T=0;T<Y;++T)(S=r[T])&&(st[T]=_t="$"+d.call(S,S.__data__,T,r),_t in P?a[T]=S:P[_t]=S);for(T=0;T<ot;++T)(S=P[_t="$"+d.call(n,s[T],T,s)])?(i[T]=S,S.__data__=s[T],P[_t]=null):e[T]=new Ia(n,s[T]);for(T=0;T<Y;++T)(S=r[T])&&P[st[T]]===S&&(a[T]=S)}function ph(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}Ia.prototype={constructor:Ia,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var ps="http://www.w3.org/1999/xhtml";const Po={svg:"http://www.w3.org/2000/svg",xhtml:ps,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ma(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),Po.hasOwnProperty(r)?{space:Po[r],local:n}:n}function Th(n){return function(){this.removeAttribute(n)}}function bh(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ch(n,r){return function(){this.setAttribute(n,r)}}function wh(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function Ah(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function Eh(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Ro(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Dh(n){return function(){this.style.removeProperty(n)}}function Lh(n,r,e){return function(){this.style.setProperty(n,r,e)}}function kh(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function zr(n,r){return n.style.getPropertyValue(r)||Ro(n).getComputedStyle(n,null).getPropertyValue(r)}function Mh(n){return function(){delete this[n]}}function Oh(n,r){return function(){this[n]=r}}function Nh(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function Zo(n){return n.trim().split(/^|\s+/)}function ms(n){return n.classList||new Bo(n)}function Bo(n){this._node=n,this._names=Zo(n.getAttribute("class")||"")}function Uo(n,r){for(var e=ms(n),i=-1,a=r.length;++i<a;)e.add(r[i])}function Go(n,r){for(var e=ms(n),i=-1,a=r.length;++i<a;)e.remove(r[i])}function Ph(n){return function(){Uo(this,n)}}function Rh(n){return function(){Go(this,n)}}function Zh(n,r){return function(){(r.apply(this,arguments)?Uo:Go)(this,n)}}function Uh(){this.textContent=""}function Gh(n){return function(){this.textContent=n}}function Vh(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function Hh(){this.innerHTML=""}function Yh(n){return function(){this.innerHTML=n}}function Wh(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function $h(){this.nextSibling&&this.parentNode.appendChild(this)}function Jh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qh(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===ps&&r.documentElement.namespaceURI===ps?r.createElement(n):r.createElementNS(e,n)}}function Kh(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Vo(n){var r=Ma(n);return(r.local?Kh:qh)(r)}function ed(){return null}function id(){var n=this.parentNode;n&&n.removeChild(this)}function ad(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function sd(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}Bo.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var zo={},Or=null;function ud(n,r,e){return n=Ho(n,r,e),function(i){var a=i.relatedTarget;(!a||a!==this&&!(8&a.compareDocumentPosition(this)))&&n.call(this,i)}}function Ho(n,r,e){return function(i){var a=Or;Or=i;try{n.call(this,this.__data__,r,e)}finally{Or=a}}}function hd(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function dd(n){return function(){var r=this.__on;if(r){for(var s,e=0,i=-1,a=r.length;e<a;++e)s=r[e],n.type&&s.type!==n.type||s.name!==n.name?r[++i]=s:this.removeEventListener(s.type,s.listener,s.capture);++i?r.length=i:delete this.__on}}}function fd(n,r,e){var i=zo.hasOwnProperty(n.type)?ud:Ho;return function(a,s,d){var S,T=this.__on,P=i(r,s,d);if(T)for(var Y=0,ot=T.length;Y<ot;++Y)if((S=T[Y]).type===n.type&&S.name===n.name)return this.removeEventListener(S.type,S.listener,S.capture),this.addEventListener(S.type,S.listener=P,S.capture=e),void(S.value=r);this.addEventListener(n.type,P,e),S={type:n.type,name:n.name,value:r,listener:P,capture:e},T?T.push(S):this.__on=[S]}}function Yo(n,r,e){var i=Ro(n),a=i.CustomEvent;"function"==typeof a?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),n.dispatchEvent(a)}function md(n,r){return function(){return Yo(this,n,r)}}function gd(n,r){return function(){return Yo(this,n,r.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(zo={mouseenter:"mouseover",mouseleave:"mouseout"}));var vd=[null];function Ki(n,r){this._groups=n,this._parents=r}function Wo(){return new Ki([[document.documentElement]],vd)}Ki.prototype=Wo.prototype={constructor:Ki,select:function th(n){"function"!=typeof n&&(n=fs(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,P,s=r[a],d=s.length,T=i[a]=new Array(d),Y=0;Y<d;++Y)(S=s[Y])&&(P=n.call(S,S.__data__,Y,s))&&("__data__"in S&&(P.__data__=S.__data__),T[Y]=P);return new Ki(i,this._parents)},selectAll:function nh(n){"function"!=typeof n&&(n=Mo(n));for(var r=this._groups,e=r.length,i=[],a=[],s=0;s<e;++s)for(var S,d=r[s],T=d.length,P=0;P<T;++P)(S=d[P])&&(i.push(n.call(S,S.__data__,P,d)),a.push(S));return new Ki(i,a)},filter:function ih(n){"function"!=typeof n&&(n=Oo(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],d=s.length,T=i[a]=[],P=0;P<d;++P)(S=s[P])&&n.call(S,S.__data__,P,s)&&T.push(S);return new Ki(i,this._parents)},data:function lh(n,r){if(!n)return _t=new Array(this.size()),P=-1,this.each(function(Te){_t[++P]=Te}),_t;var e=r?oh:sh,i=this._parents,a=this._groups;"function"!=typeof n&&(n=function ah(n){return function(){return n}}(n));for(var s=a.length,d=new Array(s),T=new Array(s),S=new Array(s),P=0;P<s;++P){var Y=i[P],ot=a[P],st=ot.length,_t=n.call(Y,Y&&Y.__data__,P,i),Mt=_t.length,Zt=T[P]=new Array(Mt),Tt=d[P]=new Array(Mt);e(Y,ot,Zt,Tt,S[P]=new Array(st),_t,r);for(var Se,Pe,ie=0,Kt=0;ie<Mt;++ie)if(Se=Zt[ie]){for(ie>=Kt&&(Kt=ie+1);!(Pe=Tt[Kt])&&++Kt<Mt;);Se._next=Pe||null}}return(d=new Ki(d,i))._enter=T,d._exit=S,d},enter:function rh(){return new Ki(this._enter||this._groups.map(No),this._parents)},exit:function ch(){return new Ki(this._exit||this._groups.map(No),this._parents)},join:function uh(n,r,e){var i=this.enter(),a=this,s=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=r&&(a=r(a)),null==e?s.remove():e(s),i&&a?i.merge(a).order():a},merge:function hh(n){for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),d=new Array(i),T=0;T<s;++T)for(var st,S=r[T],P=e[T],Y=S.length,ot=d[T]=new Array(Y),_t=0;_t<Y;++_t)(st=S[_t]||P[_t])&&(ot[_t]=st);for(;T<i;++T)d[T]=r[T];return new Ki(d,this._parents)},order:function dh(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var d,i=n[r],a=i.length-1,s=i[a];--a>=0;)(d=i[a])&&(s&&4^d.compareDocumentPosition(s)&&s.parentNode.insertBefore(d,s),s=d);return this},sort:function fh(n){function r(ot,st){return ot&&st?n(ot.__data__,st.__data__):!ot-!st}n||(n=ph);for(var e=this._groups,i=e.length,a=new Array(i),s=0;s<i;++s){for(var P,d=e[s],T=d.length,S=a[s]=new Array(T),Y=0;Y<T;++Y)(P=d[Y])&&(S[Y]=P);S.sort(r)}return new Ki(a,this._parents).order()},call:function mh(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function gh(){var n=new Array(this.size()),r=-1;return this.each(function(){n[++r]=this}),n},node:function _h(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],a=0,s=i.length;a<s;++a){var d=i[a];if(d)return d}return null},size:function vh(){var n=0;return this.each(function(){++n}),n},empty:function xh(){return!this.node()},each:function yh(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var T,a=r[e],s=0,d=a.length;s<d;++s)(T=a[s])&&n.call(T,T.__data__,s,a);return this},attr:function Sh(n,r){var e=Ma(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?bh:Th:"function"==typeof r?e.local?Eh:Ah:e.local?wh:Ch)(e,r))},style:function Ih(n,r,e){return arguments.length>1?this.each((null==r?Dh:"function"==typeof r?kh:Lh)(n,r,null==e?"":e)):zr(this.node(),n)},property:function Fh(n,r){return arguments.length>1?this.each((null==r?Mh:"function"==typeof r?Nh:Oh)(n,r)):this.node()[n]},classed:function Bh(n,r){var e=Zo(n+"");if(arguments.length<2){for(var i=ms(this.node()),a=-1,s=e.length;++a<s;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof r?Zh:r?Ph:Rh)(e,r))},text:function zh(n){return arguments.length?this.each(null==n?Uh:("function"==typeof n?Vh:Gh)(n)):this.node().textContent},html:function Xh(n){return arguments.length?this.each(null==n?Hh:("function"==typeof n?Wh:Yh)(n)):this.node().innerHTML},raise:function Qh(){return this.each($h)},lower:function jh(){return this.each(Jh)},append:function td(n){var r="function"==typeof n?n:Vo(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function nd(n,r){var e="function"==typeof n?n:Vo(n),i=null==r?ed:"function"==typeof r?r:fs(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function rd(){return this.each(id)},clone:function od(n){return this.select(n?sd:ad)},datum:function ld(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function pd(n,r,e){var a,d,i=hd(n+""),s=i.length;if(!(arguments.length<2)){for(T=r?fd:dd,null==e&&(e=!1),a=0;a<s;++a)this.each(T(i[a],r,e));return this}var T=this.node().__on;if(T)for(var Y,S=0,P=T.length;S<P;++S)for(a=0,Y=T[S];a<s;++a)if((d=i[a]).type===Y.type&&d.name===Y.name)return Y.value},dispatch:function _d(n,r){return this.each(("function"==typeof r?gd:md)(n,r))}};const la=Wo;var ca=o(25922),tr=o(49194),ua=o(73339),xd=(0,ca.Z)("start","end","cancel","interrupt"),yd=[];function Fa(n,r,e,i,a,s){var d=n.__transition;if(d){if(e in d)return}else n.__transition={};!function Td(n,r,e){var a,i=n.__transition;function d(P){var Y,ot,st,_t;if(1!==e.state)return S();for(Y in i)if((_t=i[Y]).name===e.name){if(3===_t.state)return(0,ua.Z)(d);4===_t.state?(_t.state=6,_t.timer.stop(),_t.on.call("interrupt",n,n.__data__,_t.index,_t.group),delete i[Y]):+Y<r&&(_t.state=6,_t.timer.stop(),_t.on.call("cancel",n,n.__data__,_t.index,_t.group),delete i[Y])}if((0,ua.Z)(function(){3===e.state&&(e.state=4,e.timer.restart(T,e.delay,e.time),T(P))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(st=e.tween.length),Y=0,ot=-1;Y<st;++Y)(_t=e.tween[Y].value.call(n,n.__data__,e.index,e.group))&&(a[++ot]=_t);a.length=ot+1}}function T(P){for(var Y=P<e.duration?e.ease.call(null,P/e.duration):(e.timer.restart(S),e.state=5,1),ot=-1,st=a.length;++ot<st;)a[ot].call(n,Y);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),S())}function S(){for(var P in e.state=6,e.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=e,e.timer=(0,tr.HT)(function s(P){e.state=1,e.timer.restart(d,e.delay,e.time),e.delay<=P&&d(P-e.delay)},0,e.time)}(n,e,{name:r,index:i,group:a,on:xd,tween:yd,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function vs(n,r){var e=er(n,r);if(e.state>0)throw new Error("too late; already scheduled");return e}function fr(n,r){var e=er(n,r);if(e.state>3)throw new Error("too late; already running");return e}function er(n,r){var e=n.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}var Jo=o(75349);function wd(n,r){var e,i;return function(){var a=fr(this,n),s=a.tween;if(s!==e)for(var d=0,T=(i=e=s).length;d<T;++d)if(i[d].name===r){(i=i.slice()).splice(d,1);break}a.tween=i}}function Ad(n,r,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var s=fr(this,n),d=s.tween;if(d!==i){a=(i=d).slice();for(var T={name:r,value:e},S=0,P=a.length;S<P;++S)if(a[S].name===r){a[S]=T;break}S===P&&a.push(T)}s.tween=a}}function xs(n,r,e){var i=n._id;return n.each(function(){var a=fr(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return er(a,i).value[r]}}var Pa=o(52786),Ra=o(6738),Za=o(23534),jo=o(23096);function qo(n,r){var e;return("number"==typeof r?Ra.Z:r instanceof Pa.ZP?Za.ZP:(e=(0,Pa.ZP)(r))?(r=e,Za.ZP):jo.Z)(n,r)}function Sd(n){return function(){this.removeAttribute(n)}}function Dd(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ld(n,r,e){var i,s,a=e+"";return function(){var d=this.getAttribute(n);return d===a?null:d===i?s:s=r(i=d,e)}}function kd(n,r,e){var i,s,a=e+"";return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===i?s:s=r(i=d,e)}}function Id(n,r,e){var i,a,s;return function(){var d,S,T=e(this);return null==T?void this.removeAttribute(n):(d=this.getAttribute(n))===(S=T+"")?null:d===i&&S===a?s:(a=S,s=r(i=d,T))}}function Md(n,r,e){var i,a,s;return function(){var d,S,T=e(this);return null==T?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local))===(S=T+"")?null:d===i&&S===a?s:(a=S,s=r(i=d,T))}}function Nd(n,r){return function(e){this.setAttribute(n,r.call(this,e))}}function Fd(n,r){return function(e){this.setAttributeNS(n.space,n.local,r.call(this,e))}}function Pd(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Fd(n,s)),e}return a._value=r,a}function Rd(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Nd(n,s)),e}return a._value=r,a}function Bd(n,r){return function(){vs(this,n).delay=+r.apply(this,arguments)}}function Ud(n,r){return r=+r,function(){vs(this,n).delay=r}}function Vd(n,r){return function(){fr(this,n).duration=+r.apply(this,arguments)}}function zd(n,r){return r=+r,function(){fr(this,n).duration=r}}function Yd(n,r){if("function"!=typeof r)throw new Error;return function(){fr(this,n).ease=r}}function Jd(n,r,e){var i,a,s=function Qd(n){return(n+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||"start"===r})}(r)?vs:fr;return function(){var d=s(this,n),T=d.on;T!==i&&(a=(i=T).copy()).on(r,e),d.on=a}}var nf=la.prototype.constructor;function Ko(n){return function(){this.style.removeProperty(n)}}function uf(n,r,e){return function(i){this.style.setProperty(n,r.call(this,i),e)}}function hf(n,r,e){var i,a;function s(){var d=r.apply(this,arguments);return d!==a&&(i=(a=d)&&uf(n,d,e)),i}return s._value=r,s}function gf(n){return function(r){this.textContent=n.call(this,r)}}function _f(n){var r,e;function i(){var a=n.apply(this,arguments);return a!==e&&(r=(e=a)&&gf(a)),r}return i._value=n,i}var Tf=0;function pr(n,r,e,i){this._groups=n,this._parents=r,this._name=e,this._id=i}function tl(){return++Tf}var Hr=la.prototype;pr.prototype=function bf(n){return la().transition(n)}.prototype={constructor:pr,select:function tf(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=fs(n));for(var i=this._groups,a=i.length,s=new Array(a),d=0;d<a;++d)for(var Y,ot,T=i[d],S=T.length,P=s[d]=new Array(S),st=0;st<S;++st)(Y=T[st])&&(ot=n.call(Y,Y.__data__,st,T))&&("__data__"in Y&&(ot.__data__=Y.__data__),P[st]=ot,Fa(P[st],r,e,st,P,er(Y,e)));return new pr(s,this._parents,r,e)},selectAll:function ef(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=Mo(n));for(var i=this._groups,a=i.length,s=[],d=[],T=0;T<a;++T)for(var Y,S=i[T],P=S.length,ot=0;ot<P;++ot)if(Y=S[ot]){for(var _t,st=n.call(Y,Y.__data__,ot,S),Mt=er(Y,e),Zt=0,Tt=st.length;Zt<Tt;++Zt)(_t=st[Zt])&&Fa(_t,r,e,Zt,st,Mt);s.push(st),d.push(Y)}return new pr(s,d,r,e)},filter:function Xd(n){"function"!=typeof n&&(n=Oo(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],d=s.length,T=i[a]=[],P=0;P<d;++P)(S=s[P])&&n.call(S,S.__data__,P,s)&&T.push(S);return new pr(i,this._parents,this._name,this._id)},merge:function $d(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),d=new Array(i),T=0;T<s;++T)for(var st,S=r[T],P=e[T],Y=S.length,ot=d[T]=new Array(Y),_t=0;_t<Y;++_t)(st=S[_t]||P[_t])&&(ot[_t]=st);for(;T<i;++T)d[T]=r[T];return new pr(d,this._parents,this._name,this._id)},selection:function rf(){return new nf(this._groups,this._parents)},transition:function xf(){for(var n=this._name,r=this._id,e=tl(),i=this._groups,a=i.length,s=0;s<a;++s)for(var S,d=i[s],T=d.length,P=0;P<T;++P)if(S=d[P]){var Y=er(S,r);Fa(S,n,e,P,d,{time:Y.time+Y.delay+Y.duration,delay:0,duration:Y.duration,ease:Y.ease})}return new pr(i,this._parents,n,e)},call:Hr.call,nodes:Hr.nodes,node:Hr.node,size:Hr.size,empty:Hr.empty,each:Hr.each,on:function jd(n,r){var e=this._id;return arguments.length<2?er(this.node(),e).on.on(n):this.each(Jd(e,n,r))},attr:function Od(n,r){var e=Ma(n),i="transform"===e?Jo.w:qo;return this.attrTween(n,"function"==typeof r?(e.local?Md:Id)(e,i,xs(this,"attr."+n,r)):null==r?(e.local?Dd:Sd)(e):(e.local?kd:Ld)(e,i,r))},attrTween:function Zd(n,r){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=Ma(n);return this.tween(e,(i.local?Pd:Rd)(i,r))},style:function cf(n,r,e){var i="transform"==(n+="")?Jo.Y:qo;return null==r?this.styleTween(n,function af(n,r){var e,i,a;return function(){var s=zr(this,n),d=(this.style.removeProperty(n),zr(this,n));return s===d?null:s===e&&d===i?a:a=r(e=s,i=d)}}(n,i)).on("end.style."+n,Ko(n)):"function"==typeof r?this.styleTween(n,function of(n,r,e){var i,a,s;return function(){var d=zr(this,n),T=e(this),S=T+"";return null==T&&(this.style.removeProperty(n),S=T=zr(this,n)),d===S?null:d===i&&S===a?s:(a=S,s=r(i=d,T))}}(n,i,xs(this,"style."+n,r))).each(function lf(n,r){var e,i,a,T,s="style."+r,d="end."+s;return function(){var S=fr(this,n),P=S.on,Y=null==S.value[s]?T||(T=Ko(r)):void 0;(P!==e||a!==Y)&&(i=(e=P).copy()).on(d,a=Y),S.on=i}}(this._id,n)):this.styleTween(n,function sf(n,r,e){var i,s,a=e+"";return function(){var d=zr(this,n);return d===a?null:d===i?s:s=r(i=d,e)}}(n,i,r),e).on("end.style."+n,null)},styleTween:function df(n,r,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,hf(n,r,null==e?"":e))},text:function mf(n){return this.tween("text","function"==typeof n?function pf(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(xs(this,"text",n)):function ff(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function vf(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,_f(n))},remove:function Kd(){return this.on("end.remove",function qd(n){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function Ed(n,r){var e=this._id;if(n+="",arguments.length<2){for(var d,i=er(this.node(),e).tween,a=0,s=i.length;a<s;++a)if((d=i[a]).name===n)return d.value;return null}return this.each((null==r?wd:Ad)(e,n,r))},delay:function Gd(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Bd:Ud)(r,n)):er(this.node(),r).delay},duration:function Hd(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Vd:zd)(r,n)):er(this.node(),r).duration},ease:function Wd(n){var r=this._id;return arguments.length?this.each(Yd(r,n)):er(this.node(),r).ease},end:function yf(){var n,r,e=this,i=e._id,a=e.size();return new Promise(function(s,d){var T={value:d},S={value:function(){0==--a&&s()}};e.each(function(){var P=fr(this,i),Y=P.on;Y!==n&&((r=(n=Y).copy())._.cancel.push(T),r._.interrupt.push(T),r._.end.push(S)),P.on=r})})}};var el=o(27065),ys={time:null,delay:0,duration:250,ease:el.tw};function Cf(n,r){for(var e;!(e=n.__transition)||!(e=e[r]);)if(!(n=n.parentNode))return ys.time=(0,tr.zO)(),ys;return e}la.prototype.interrupt=function Cd(n){return this.each(function(){!function bd(n,r){var i,a,d,e=n.__transition,s=!0;if(e){for(d in r=null==r?null:r+"",e)(i=e[d]).name===r?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[d]):s=!1;s&&delete n.__transition}}(this,n)})},la.prototype.transition=function wf(n){var r,e;n instanceof pr?(r=n._id,n=n._name):(r=tl(),(e=ys).time=(0,tr.zO)(),n=null==n?null:n+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var S,d=i[s],T=d.length,P=0;P<T;++P)(S=d[P])&&Fa(S,n,r,P,d,e||Cf(S,r));return new pr(i,this._parents,n,r)};var nl=o(42654),il=o(56498),rl=o(21086),al=o(23753),Ef=o(87224);function Nf(n){return void 0===n}function Zf(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}function Bf(n){return Array.isArray(n)?n:Array.from(n)}function ha(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var i=function(ot,st){return{a:ot.a*st.a+ot.c*st.b,c:ot.a*st.c+ot.c*st.d,e:ot.a*st.e+ot.c*st.f+ot.e,b:ot.b*st.a+ot.d*st.b,d:ot.b*st.c+ot.d*st.d,f:ot.b*st.e+ot.d*st.f+ot.f}};switch((r=Array.isArray(r[0])?r[0]:r).length){case 0:throw new Error("no matrices provided");case 1:return r[0];case 2:return i(r[0],r[1]);default:var a=r,s=Bf(a),d=s[0],T=s[1],S=s.slice(2),P=i(d,T);return ha.apply(void 0,[P].concat(Zf(S)))}}function ll(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e:n,b:0,d:1,f:r}}function Ba(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;const cl=Symbol("implicit");function Ts(){var n=new Map,r=[],e=[],i=cl;function a(s){var d=s+"",T=n.get(d);if(!T){if(i!==cl)return i;n.set(d,T=r.push(s))}return e[(T-1)%e.length]}return a.domain=function(s){if(!arguments.length)return r.slice();r=[],n=new Map;for(const d of s){const T=d+"";n.has(T)||n.set(T,r.push(d))}return a},a.range=function(s){return arguments.length?(e=Array.from(s),a):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return Ts(r,e).unknown(i)},Ba.apply(a,arguments),a}var Wr=o(59695);function Gf(n,r){var e;function i(){var a,d,s=e.length,T=0,S=0;for(a=0;a<s;++a)T+=(d=e[a]).x,S+=d.y;for(T=T/s-n,S=S/s-r,a=0;a<s;++a)(d=e[a]).x-=T,d.y-=S}return null==n&&(n=0),null==r&&(r=0),i.initialize=function(a){e=a},i.x=function(a){return arguments.length?(n=+a,i):n},i.y=function(a){return arguments.length?(r=+a,i):r},i}function _i(n){return function(){return n}}function Cr(){return 1e-6*(Math.random()-.5)}function ul(n,r,e,i){if(isNaN(r)||isNaN(e))return n;var a,ot,st,_t,Mt,Zt,Tt,$t,ie,s=n._root,d={data:i},T=n._x0,S=n._y0,P=n._x1,Y=n._y1;if(!s)return n._root=d,n;for(;s.length;)if((Zt=r>=(ot=(T+P)/2))?T=ot:P=ot,(Tt=e>=(st=(S+Y)/2))?S=st:Y=st,a=s,!(s=s[$t=Tt<<1|Zt]))return a[$t]=d,n;if(_t=+n._x.call(null,s.data),Mt=+n._y.call(null,s.data),r===_t&&e===Mt)return d.next=s,a?a[$t]=d:n._root=d,n;do{a=a?a[$t]=new Array(4):n._root=new Array(4),(Zt=r>=(ot=(T+P)/2))?T=ot:P=ot,(Tt=e>=(st=(S+Y)/2))?S=st:Y=st}while(($t=Tt<<1|Zt)==(ie=(Mt>=st)<<1|_t>=ot));return a[ie]=s,a[$t]=d,n}function Zi(n,r,e,i,a){this.node=n,this.x0=r,this.y0=e,this.x1=i,this.y1=a}function tp(n){return n[0]}function np(n){return n[1]}function bs(n,r,e){var i=new Cs(null==r?tp:r,null==e?np:e,NaN,NaN,NaN,NaN);return null==n?i:i.addAll(n)}function Cs(n,r,e,i,a,s){this._x=n,this._y=r,this._x0=e,this._y0=i,this._x1=a,this._y1=s,this._root=void 0}function hl(n){for(var r={data:n.data},e=r;n=n.next;)e=e.next={data:n.data};return r}var Bi=bs.prototype=Cs.prototype;function rp(n){return n.x+n.vx}function ap(n){return n.y+n.vy}function dl(n){var r,e,i=1,a=1;function s(){for(var S,Y,ot,st,_t,Mt,Zt,P=r.length,Tt=0;Tt<a;++Tt)for(Y=bs(r,rp,ap).visitAfter(d),S=0;S<P;++S)Zt=(Mt=e[(ot=r[S]).index])*Mt,st=ot.x+ot.vx,_t=ot.y+ot.vy,Y.visit($t);function $t(ie,Kt,Se,Pe,Te){var dn=ie.data,_n=ie.r,Dn=Mt+_n;if(!dn)return Kt>st+Dn||Pe<st-Dn||Se>_t+Dn||Te<_t-Dn;if(dn.index>ot.index){var Vn=st-dn.x-dn.vx,zn=_t-dn.y-dn.vy,mi=Vn*Vn+zn*zn;mi<Dn*Dn&&(0===Vn&&(mi+=(Vn=Cr())*Vn),0===zn&&(mi+=(zn=Cr())*zn),mi=(Dn-(mi=Math.sqrt(mi)))/mi*i,ot.vx+=(Vn*=mi)*(Dn=(_n*=_n)/(Zt+_n)),ot.vy+=(zn*=mi)*Dn,dn.vx-=Vn*(Dn=1-Dn),dn.vy-=zn*Dn)}}}function d(S){if(S.data)return S.r=e[S.data.index];for(var P=S.r=0;P<4;++P)S[P]&&S[P].r>S.r&&(S.r=S[P].r)}function T(){if(r){var S,Y,P=r.length;for(e=new Array(P),S=0;S<P;++S)e[(Y=r[S]).index]=+n(Y,S,r)}}return"function"!=typeof n&&(n=_i(null==n?1:+n)),s.initialize=function(S){r=S,T()},s.iterations=function(S){return arguments.length?(a=+S,s):a},s.strength=function(S){return arguments.length?(i=+S,s):i},s.radius=function(S){return arguments.length?(n="function"==typeof S?S:_i(+S),T(),s):n},s}Bi.copy=function(){var e,i,n=new Cs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=hl(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(i=r.source[a])&&(i.length?e.push({source:i,target:r.target[a]=new Array(4)}):r.target[a]=hl(i));return n},Bi.add=function Vf(n){var r=+this._x.call(null,n),e=+this._y.call(null,n);return ul(this.cover(r,e),r,e,n)},Bi.addAll=function zf(n){var r,e,a,s,i=n.length,d=new Array(i),T=new Array(i),S=1/0,P=1/0,Y=-1/0,ot=-1/0;for(e=0;e<i;++e)isNaN(a=+this._x.call(null,r=n[e]))||isNaN(s=+this._y.call(null,r))||(d[e]=a,T[e]=s,a<S&&(S=a),a>Y&&(Y=a),s<P&&(P=s),s>ot&&(ot=s));if(S>Y||P>ot)return this;for(this.cover(S,P).cover(Y,ot),e=0;e<i;++e)ul(this,d[e],T[e],n[e]);return this},Bi.cover=function Hf(n,r){if(isNaN(n=+n)||isNaN(r=+r))return this;var e=this._x0,i=this._y0,a=this._x1,s=this._y1;if(isNaN(e))a=(e=Math.floor(n))+1,s=(i=Math.floor(r))+1;else{for(var S,P,d=a-e,T=this._root;e>n||n>=a||i>r||r>=s;)switch(P=(r<i)<<1|n<e,S=new Array(4),S[P]=T,T=S,d*=2,P){case 0:a=e+d,s=i+d;break;case 1:e=a-d,s=i+d;break;case 2:a=e+d,i=s-d;break;case 3:e=a-d,i=s-d}this._root&&this._root.length&&(this._root=T)}return this._x0=e,this._y0=i,this._x1=a,this._y1=s,this},Bi.data=function Yf(){var n=[];return this.visit(function(r){if(!r.length)do{n.push(r.data)}while(r=r.next)}),n},Bi.extent=function Wf(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Bi.find=function Xf(n,r,e){var i,d,T,S,P,Mt,Zt,a=this._x0,s=this._y0,Y=this._x1,ot=this._y1,st=[],_t=this._root;for(_t&&st.push(new Zi(_t,a,s,Y,ot)),null==e?e=1/0:(a=n-e,s=r-e,Y=n+e,ot=r+e,e*=e);Mt=st.pop();)if(!(!(_t=Mt.node)||(d=Mt.x0)>Y||(T=Mt.y0)>ot||(S=Mt.x1)<a||(P=Mt.y1)<s))if(_t.length){var Tt=(d+S)/2,$t=(T+P)/2;st.push(new Zi(_t[3],Tt,$t,S,P),new Zi(_t[2],d,$t,Tt,P),new Zi(_t[1],Tt,T,S,$t),new Zi(_t[0],d,T,Tt,$t)),(Zt=(r>=$t)<<1|n>=Tt)&&(Mt=st[st.length-1],st[st.length-1]=st[st.length-1-Zt],st[st.length-1-Zt]=Mt)}else{var ie=n-+this._x.call(null,_t.data),Kt=r-+this._y.call(null,_t.data),Se=ie*ie+Kt*Kt;if(Se<e){var Pe=Math.sqrt(e=Se);a=n-Pe,s=r-Pe,Y=n+Pe,ot=r+Pe,i=_t.data}}return i},Bi.remove=function $f(n){if(isNaN(Y=+this._x.call(null,n))||isNaN(ot=+this._y.call(null,n)))return this;var r,i,a,s,Y,ot,st,_t,Mt,Zt,Tt,$t,e=this._root,d=this._x0,T=this._y0,S=this._x1,P=this._y1;if(!e)return this;if(e.length)for(;;){if((Mt=Y>=(st=(d+S)/2))?d=st:S=st,(Zt=ot>=(_t=(T+P)/2))?T=_t:P=_t,r=e,!(e=e[Tt=Zt<<1|Mt]))return this;if(!e.length)break;(r[Tt+1&3]||r[Tt+2&3]||r[Tt+3&3])&&(i=r,$t=Tt)}for(;e.data!==n;)if(a=e,!(e=e.next))return this;return(s=e.next)&&delete e.next,a?(s?a.next=s:delete a.next,this):r?(s?r[Tt]=s:delete r[Tt],(e=r[0]||r[1]||r[2]||r[3])&&e===(r[3]||r[2]||r[1]||r[0])&&!e.length&&(i?i[$t]=e:this._root=e),this):(this._root=s,this)},Bi.removeAll=function Qf(n){for(var r=0,e=n.length;r<e;++r)this.remove(n[r]);return this},Bi.root=function Jf(){return this._root},Bi.size=function jf(){var n=0;return this.visit(function(r){if(!r.length)do{++n}while(r=r.next)}),n},Bi.visit=function qf(n){var e,a,s,d,T,S,r=[],i=this._root;for(i&&r.push(new Zi(i,this._x0,this._y0,this._x1,this._y1));e=r.pop();)if(!n(i=e.node,s=e.x0,d=e.y0,T=e.x1,S=e.y1)&&i.length){var P=(s+T)/2,Y=(d+S)/2;(a=i[3])&&r.push(new Zi(a,P,Y,T,S)),(a=i[2])&&r.push(new Zi(a,s,Y,P,S)),(a=i[1])&&r.push(new Zi(a,P,d,T,Y)),(a=i[0])&&r.push(new Zi(a,s,d,P,Y))}return this},Bi.visitAfter=function Kf(n){var i,r=[],e=[];for(this._root&&r.push(new Zi(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var a=i.node;if(a.length){var s,d=i.x0,T=i.y0,S=i.x1,P=i.y1,Y=(d+S)/2,ot=(T+P)/2;(s=a[0])&&r.push(new Zi(s,d,T,Y,ot)),(s=a[1])&&r.push(new Zi(s,Y,T,S,ot)),(s=a[2])&&r.push(new Zi(s,d,ot,Y,P)),(s=a[3])&&r.push(new Zi(s,Y,ot,S,P))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this},Bi.x=function ep(n){return arguments.length?(this._x=n,this):this._x},Bi.y=function ip(n){return arguments.length?(this._y=n,this):this._y};var Qi="$";function Ua(){}function fl(n,r){var e=new Ua;if(n instanceof Ua)n.each(function(T,S){e.set(S,T)});else if(Array.isArray(n)){var s,i=-1,a=n.length;if(null==r)for(;++i<a;)e.set(i,n[i]);else for(;++i<a;)e.set(r(s=n[i],i,n),s)}else if(n)for(var d in n)e.set(d,n[d]);return e}Ua.prototype=fl.prototype={constructor:Ua,has:function(n){return Qi+n in this},get:function(n){return this[Qi+n]},set:function(n,r){return this[Qi+n]=r,this},remove:function(n){var r=Qi+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===Qi&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===Qi&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===Qi&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===Qi&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===Qi&&++n;return n},empty:function(){for(var n in this)if(n[0]===Qi)return!1;return!0},each:function(n){for(var r in this)r[0]===Qi&&n(this[r],r.slice(1),this)}};const ws=fl;function Ga(){}var Nr=ws.prototype;function cp(n){return n.index}function gl(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function _l(n){var i,s,d,T,S,r=cp,e=function Y(Zt){return 1/Math.min(T[Zt.source.index],T[Zt.target.index])},a=_i(30),P=1;function ot(Zt){for(var Tt=0,$t=n.length;Tt<P;++Tt)for(var Kt,Se,Pe,Te,dn,_n,Dn,ie=0;ie<$t;++ie)Te=(Pe=(Kt=n[ie]).target).x+Pe.vx-(Se=Kt.source).x-Se.vx||Cr(),dn=Pe.y+Pe.vy-Se.y-Se.vy||Cr(),dn*=_n=((_n=Math.sqrt(Te*Te+dn*dn))-s[ie])/_n*Zt*i[ie],Pe.vx-=(Te*=_n)*(Dn=S[ie]),Pe.vy-=dn*Dn,Se.vx+=Te*(Dn=1-Dn),Se.vy+=dn*Dn}function st(){if(d){var Zt,Kt,Tt=d.length,$t=n.length,ie=ws(d,r);for(Zt=0,T=new Array(Tt);Zt<$t;++Zt)(Kt=n[Zt]).index=Zt,"object"!=typeof Kt.source&&(Kt.source=gl(ie,Kt.source)),"object"!=typeof Kt.target&&(Kt.target=gl(ie,Kt.target)),T[Kt.source.index]=(T[Kt.source.index]||0)+1,T[Kt.target.index]=(T[Kt.target.index]||0)+1;for(Zt=0,S=new Array($t);Zt<$t;++Zt)S[Zt]=T[(Kt=n[Zt]).source.index]/(T[Kt.source.index]+T[Kt.target.index]);i=new Array($t),_t(),s=new Array($t),Mt()}}function _t(){if(d)for(var Zt=0,Tt=n.length;Zt<Tt;++Zt)i[Zt]=+e(n[Zt],Zt,n)}function Mt(){if(d)for(var Zt=0,Tt=n.length;Zt<Tt;++Zt)s[Zt]=+a(n[Zt],Zt,n)}return null==n&&(n=[]),ot.initialize=function(Zt){d=Zt,st()},ot.links=function(Zt){return arguments.length?(n=Zt,st(),ot):n},ot.id=function(Zt){return arguments.length?(r=Zt,ot):r},ot.iterations=function(Zt){return arguments.length?(P=+Zt,ot):P},ot.strength=function(Zt){return arguments.length?(e="function"==typeof Zt?Zt:_i(+Zt),_t(),ot):e},ot.distance=function(Zt){return arguments.length?(a="function"==typeof Zt?Zt:_i(+Zt),Mt(),ot):a},ot}function up(n){return n.x}function hp(n){return n.y}Ga.prototype=function lp(n,r){var e=new Ga;if(n instanceof Ga)n.each(function(s){e.add(s)});else if(n){var i=-1,a=n.length;if(null==r)for(;++i<a;)e.add(n[i]);else for(;++i<a;)e.add(r(n[i],i,n))}return e}.prototype={constructor:Ga,has:Nr.has,add:function(n){return this[Qi+(n+="")]=n,this},remove:Nr.remove,clear:Nr.clear,values:Nr.keys,size:Nr.size,empty:Nr.empty,each:Nr.each};var fp=Math.PI*(3-Math.sqrt(5));function vl(n){var r,e=1,i=.001,a=1-Math.pow(i,1/300),s=0,d=.6,T=ws(),S=(0,tr.HT)(Y),P=(0,ca.Z)("tick","end");function Y(){ot(),P.call("tick",r),e<i&&(S.stop(),P.call("end",r))}function ot(Mt){var Zt,$t,Tt=n.length;void 0===Mt&&(Mt=1);for(var ie=0;ie<Mt;++ie)for(e+=(s-e)*a,T.each(function(Kt){Kt(e)}),Zt=0;Zt<Tt;++Zt)null==($t=n[Zt]).fx?$t.x+=$t.vx*=d:($t.x=$t.fx,$t.vx=0),null==$t.fy?$t.y+=$t.vy*=d:($t.y=$t.fy,$t.vy=0);return r}function st(){for(var Tt,Mt=0,Zt=n.length;Mt<Zt;++Mt){if((Tt=n[Mt]).index=Mt,null!=Tt.fx&&(Tt.x=Tt.fx),null!=Tt.fy&&(Tt.y=Tt.fy),isNaN(Tt.x)||isNaN(Tt.y)){var $t=10*Math.sqrt(Mt),ie=Mt*fp;Tt.x=$t*Math.cos(ie),Tt.y=$t*Math.sin(ie)}(isNaN(Tt.vx)||isNaN(Tt.vy))&&(Tt.vx=Tt.vy=0)}}function _t(Mt){return Mt.initialize&&Mt.initialize(n),Mt}return null==n&&(n=[]),st(),r={tick:ot,restart:function(){return S.restart(Y),r},stop:function(){return S.stop(),r},nodes:function(Mt){return arguments.length?(n=Mt,st(),T.each(_t),r):n},alpha:function(Mt){return arguments.length?(e=+Mt,r):e},alphaMin:function(Mt){return arguments.length?(i=+Mt,r):i},alphaDecay:function(Mt){return arguments.length?(a=+Mt,r):+a},alphaTarget:function(Mt){return arguments.length?(s=+Mt,r):s},velocityDecay:function(Mt){return arguments.length?(d=1-Mt,r):1-d},force:function(Mt,Zt){return arguments.length>1?(null==Zt?T.remove(Mt):T.set(Mt,_t(Zt)),r):T.get(Mt)},find:function(Mt,Zt,Tt){var Kt,Se,Pe,Te,dn,$t=0,ie=n.length;for(null==Tt?Tt=1/0:Tt*=Tt,$t=0;$t<ie;++$t)(Pe=(Kt=Mt-(Te=n[$t]).x)*Kt+(Se=Zt-Te.y)*Se)<Tt&&(dn=Te,Tt=Pe);return dn},on:function(Mt,Zt){return arguments.length>1?(P.on(Mt,Zt),r):P.on(Mt)}}}function xl(){var n,r,e,a,i=_i(-30),s=1,d=1/0,T=.81;function S(st){var _t,Mt=n.length,Zt=bs(n,up,hp).visitAfter(Y);for(e=st,_t=0;_t<Mt;++_t)r=n[_t],Zt.visit(ot)}function P(){if(n){var st,Mt,_t=n.length;for(a=new Array(_t),st=0;st<_t;++st)a[(Mt=n[st]).index]=+i(Mt,st,n)}}function Y(st){var Mt,Zt,$t,ie,Kt,_t=0,Tt=0;if(st.length){for($t=ie=Kt=0;Kt<4;++Kt)(Mt=st[Kt])&&(Zt=Math.abs(Mt.value))&&(_t+=Mt.value,Tt+=Zt,$t+=Zt*Mt.x,ie+=Zt*Mt.y);st.x=$t/Tt,st.y=ie/Tt}else{(Mt=st).x=Mt.data.x,Mt.y=Mt.data.y;do{_t+=a[Mt.data.index]}while(Mt=Mt.next)}st.value=_t}function ot(st,_t,Mt,Zt){if(!st.value)return!0;var Tt=st.x-r.x,$t=st.y-r.y,ie=Zt-_t,Kt=Tt*Tt+$t*$t;if(ie*ie/T<Kt)return Kt<d&&(0===Tt&&(Kt+=(Tt=Cr())*Tt),0===$t&&(Kt+=($t=Cr())*$t),Kt<s&&(Kt=Math.sqrt(s*Kt)),r.vx+=Tt*st.value*e/Kt,r.vy+=$t*st.value*e/Kt),!0;if(!(st.length||Kt>=d)){(st.data!==r||st.next)&&(0===Tt&&(Kt+=(Tt=Cr())*Tt),0===$t&&(Kt+=($t=Cr())*$t),Kt<s&&(Kt=Math.sqrt(s*Kt)));do{st.data!==r&&(r.vx+=Tt*(ie=a[st.data.index]*e/Kt),r.vy+=$t*ie)}while(st=st.next)}}return S.initialize=function(st){n=st,P()},S.strength=function(st){return arguments.length?(i="function"==typeof st?st:_i(+st),P(),S):i},S.distanceMin=function(st){return arguments.length?(s=st*st,S):Math.sqrt(s)},S.distanceMax=function(st){return arguments.length?(d=st*st,S):Math.sqrt(d)},S.theta=function(st){return arguments.length?(T=st*st,S):Math.sqrt(T)},S}function pp(n,r,e){var i,s,d,a=_i(.1);function T(P){for(var Y=0,ot=i.length;Y<ot;++Y){var st=i[Y],_t=st.x-r||1e-6,Mt=st.y-e||1e-6,Zt=Math.sqrt(_t*_t+Mt*Mt),Tt=(d[Y]-Zt)*s[Y]*P/Zt;st.vx+=_t*Tt,st.vy+=Mt*Tt}}function S(){if(i){var P,Y=i.length;for(s=new Array(Y),d=new Array(Y),P=0;P<Y;++P)d[P]=+n(i[P],P,i),s[P]=isNaN(d[P])?0:+a(i[P],P,i)}}return"function"!=typeof n&&(n=_i(+n)),null==r&&(r=0),null==e&&(e=0),T.initialize=function(P){i=P,S()},T.strength=function(P){return arguments.length?(a="function"==typeof P?P:_i(+P),S(),T):a},T.radius=function(P){return arguments.length?(n="function"==typeof P?P:_i(+P),S(),T):n},T.x=function(P){return arguments.length?(r=+P,T):r},T.y=function(P){return arguments.length?(e=+P,T):e},T}function mp(n){var e,i,a,r=_i(.1);function s(T){for(var Y,S=0,P=e.length;S<P;++S)(Y=e[S]).vx+=(a[S]-Y.x)*i[S]*T}function d(){if(e){var T,S=e.length;for(i=new Array(S),a=new Array(S),T=0;T<S;++T)i[T]=isNaN(a[T]=+n(e[T],T,e))?0:+r(e[T],T,e)}}return"function"!=typeof n&&(n=_i(null==n?0:+n)),s.initialize=function(T){e=T,d()},s.strength=function(T){return arguments.length?(r="function"==typeof T?T:_i(+T),d(),s):r},s.x=function(T){return arguments.length?(n="function"==typeof T?T:_i(+T),d(),s):n},s}function gp(n){var e,i,a,r=_i(.1);function s(T){for(var Y,S=0,P=e.length;S<P;++S)(Y=e[S]).vy+=(a[S]-Y.y)*i[S]*T}function d(){if(e){var T,S=e.length;for(i=new Array(S),a=new Array(S),T=0;T<S;++T)i[T]=isNaN(a[T]=+n(e[T],T,e))?0:+r(e[T],T,e)}}return"function"!=typeof n&&(n=_i(null==n?0:+n)),s.initialize=function(T){e=T,d()},s.strength=function(T){return arguments.length?(r="function"==typeof T?T:_i(+T),d(),s):r},s.y=function(T){return arguments.length?(n="function"==typeof T?T:_i(+T),d(),s):n},s}var _p=o(67824);function vp(n,r,e){var i=new tr.B7,a=r;return null==r?(i.restart(n,r,e),i):(r=+r,e=null==e?(0,tr.zO)():+e,i.restart(function s(d){d+=a,i.restart(s,a+=r,e),n(d)},r,e),i)}const xp=["linkTemplate"],yp=["nodeTemplate"],Tp=["clusterTemplate"],bp=["defsTemplate"],Cp=["miniMapNodeTemplate"],wp=["nodeElement"],Ap=["linkElement"];function Ep(n,r){if(1&n&&(t.O4$(),t.GkF(0,14)),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.defsTemplate)}}function Sp(n,r){if(1&n&&(t.O4$(),t._UZ(0,"path",15)),2&n){const e=r.$implicit;t.uIk("d",e.textPath)("id",e.id)}}const da=function(n){return{$implicit:n}};function Dp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Lp(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",21),t._UZ(1,"rect"),t.TgZ(2,"text",22),t._uU(3),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("width",e.dimension.width)("height",e.dimension.height)("fill",null==e.data?null:e.data.color),t.xp6(1),t.uIk("x",10)("y",e.dimension.height/2),t.xp6(1),t.hij(" ",e.label," ")}}function kp(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",16,17),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClick(s)}),t.YNc(2,Dp,1,4,"ng-container",18),t.YNc(3,Lp,4,6,"g",19),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldClusters.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.clusterTemplate),t.xp6(1),t.Q6J("ngIf",!i.clusterTemplate)}}function Ip(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Mp(n,r){if(1&n&&(t.O4$(),t._UZ(0,"path",26)),2&n){const e=t.oxw().$implicit;t.uIk("d",e.line)}}function Op(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",23,24),t.YNc(2,Ip,1,4,"ng-container",18),t.YNc(3,Mp,1,1,"path",25),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2);t.Q6J("id",e.id),t.xp6(2),t.Q6J("ngIf",i.linkTemplate),t.xp6(1),t.Q6J("ngIf",!i.linkTemplate)}}function Np(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Fp(n,r){if(1&n&&(t.O4$(),t._UZ(0,"circle",30)),2&n){const e=t.oxw().$implicit;t.uIk("cx",e.dimension.width/2)("cy",e.dimension.height/2)("fill",null==e.data?null:e.data.color)}}function Pp(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",27,28),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClick(s)})("mousedown",function(a){const d=t.CHM(e).$implicit;return t.oxw(2).onNodeMouseDown(a,d)}),t.YNc(2,Np,1,4,"ng-container",18),t.YNc(3,Fp,1,3,"circle",29),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldNodes.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.nodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.nodeTemplate)}}function Rp(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",4),t.NdJ("touchstart",function(a){return t.CHM(e),t.oxw().onTouchStart(a)})("touchend",function(a){return t.CHM(e),t.oxw().onTouchEnd(a)}),t.TgZ(1,"defs"),t.YNc(2,Ep,1,1,"ng-container",5),t.YNc(3,Sp,1,2,"path",6),t.qZA(),t.TgZ(4,"rect",7),t.NdJ("mousedown",function(){return t.CHM(e),t.oxw().isPanning=!0}),t.qZA(),t.Hsn(5),t.TgZ(6,"g",8),t.YNc(7,kp,4,6,"g",9),t.qZA(),t.TgZ(8,"g",10),t.YNc(9,Op,4,3,"g",11),t.qZA(),t.TgZ(10,"g",12),t.YNc(11,Pp,4,6,"g",13),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",e.defsTemplate),t.xp6(1),t.Q6J("ngForOf",e.graph.edges),t.xp6(1),t.uIk("width",100*e.dims.width)("height",100*e.dims.height)("transform","translate("+50*(-e.dims.width||0)+","+50*(-e.dims.height||0)+")"),t.xp6(3),t.Q6J("ngForOf",e.graph.clusters)("ngForTrackBy",e.trackNodeBy),t.xp6(2),t.Q6J("ngForOf",e.graph.edges)("ngForTrackBy",e.trackLinkBy),t.xp6(2),t.Q6J("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy)}}function Zp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Bp(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",t.VKq(2,da,e))}}function Up(n,r){if(1&n&&(t.O4$(),t._UZ(0,"circle",30)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.uIk("cx",e.dimension.width/2/i.minimapScaleCoefficient)("cy",e.dimension.height/2/i.minimapScaleCoefficient)("fill",null==e.data?null:e.data.color)}}function Gp(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",36,28),t.YNc(2,Zp,1,4,"ng-container",18),t.YNc(3,Bp,1,4,"ng-container",18),t.YNc(4,Up,1,3,"circle",29),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldNodes.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.miniMapNodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function Vp(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",31),t.TgZ(1,"rect",32),t.NdJ("mousedown",function(a){return t.CHM(e),t.oxw().onMinimapPanTo(a)}),t.qZA(),t.TgZ(2,"g"),t.TgZ(3,"g",33),t.YNc(4,Gp,5,7,"g",34),t.qZA(),t.TgZ(5,"rect",35),t.NdJ("mousedown",function(){return t.CHM(e),t.oxw().onMinimapDragMouseDown()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.uIk("transform",e.minimapTransform)("clip-path","url(#"+e.minimapClipPathId+")"),t.xp6(1),t.uIk("width",e.graphDims.width/e.minimapScaleCoefficient)("height",e.graphDims.height/e.minimapScaleCoefficient),t.xp6(1),t.Udp("transform","translate("+-e.minimapOffsetX/e.minimapScaleCoefficient+"px,"+-e.minimapOffsetY/e.minimapScaleCoefficient+"px)"),t.xp6(1),t.Udp("transform","scale("+1/e.minimapScaleCoefficient+")"),t.xp6(1),t.Q6J("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy),t.xp6(1),t.ekj("panning",e.isMinimapPanning),t.uIk("transform","translate("+e.panOffsetX/e.zoomLevel/-e.minimapScaleCoefficient+","+e.panOffsetY/e.zoomLevel/-e.minimapScaleCoefficient+")")("width",e.width/e.minimapScaleCoefficient/e.zoomLevel)("height",e.height/e.minimapScaleCoefficient/e.zoomLevel)}}const zp=["*"],yl={};function mr(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,yl[n]?mr():(yl[n]=!0,n)}var Xr=(()=>{return(n=Xr||(Xr={})).Both="both",n.Horizontal="horizontal",n.Vertical="vertical",Xr;var n})(),$r=(()=>{return(n=$r||($r={})).UpperLeft="UpperLeft",n.UpperRight="UpperRight",$r;var n})();function Hp(n,r,e){e=e||{};let i,a,s,d=null,T=0;function S(){T=!1===e.leading?0:+new Date,d=null,s=n.apply(i,a)}return function(){const P=+new Date;!T&&!1===e.leading&&(T=P);const Y=r-(P-T);return i=this,a=arguments,Y<=0?(clearTimeout(d),d=null,T=P,s=n.apply(i,a)):!d&&!1!==e.trailing&&(d=setTimeout(S,Y)),s}}function Yp(n,r){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:Hp(s.value,n,r)}),this[a]}}}}let Tl=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Wp{constructor(r,e,i){"string"==typeof r&&(r=Tl.find(a=>a.name===r)),this.colorDomain=r.domain,this.domain=e,this.customColors=i,this.scale=this.generateColorScheme(r,this.domain)}generateColorScheme(r,e){return"string"==typeof r&&(r=Tl.find(i=>i.name===r)),Ts().range(r.domain).domain(e)}getColor(r){if(null==r)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(r);const e=r.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(r)}}let $p=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.visible=new t.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275dir=t.lG2({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),n})();var Qr=(()=>{return(n=Qr||(Qr={})).LEFT_TO_RIGHT="LR",n.RIGHT_TO_LEFT="RL",n.TOP_TO_BOTTOM="TB",n.BOTTOM_TO_TOM="BT",Qr;var n})();function Jr(n){return"string"==typeof n?{id:n,x:0,y:0}:n}function Cl(n,r){return"number"==typeof r?n[r]:r}const wl={dagre:class Qp{constructor(){this.defaultSettings={orientation:Qr.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Wr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;for(const e in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[e],a=r.nodes.find(s=>s.id===i.id);a.position={x:i.x,y:i.y},a.dimension={width:i.width,height:i.height}}return r}updateEdge(r,e){const i=r.nodes.find(S=>S.id===e.source),a=r.nodes.find(S=>S.id===e.target),s=i.position.y<=a.position.y?-1:1;return e.points=[{x:i.position.x,y:i.position.y-s*(i.dimension.height/2)},{x:a.position.x,y:a.position.y+s*(a.dimension.height/2)}],r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Wr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreCluster:class Jp{constructor(){this.defaultSettings={orientation:Qr.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Wr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;const e=i=>{const a=this.dagreGraph._nodes[i.id];return Object.assign(Object.assign({},i),{position:{x:a.x,y:a.y},dimension:{width:a.width,height:a.height}})};return r.clusters=(r.clusters||[]).map(e),r.nodes=r.nodes.map(e),r}updateEdge(r,e){const i=r.nodes.find(S=>S.id===e.source),a=r.nodes.find(S=>S.id===e.target),s=i.position.y<=a.position.y?-1:1;return e.points=[{x:i.position.x,y:i.position.y-s*(i.dimension.height/2)},{x:a.position.x,y:a.position.y+s*(a.dimension.height/2)}],r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Wr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreClusters=r.clusters||[],this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(const i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(a=>{this.dagreGraph.setParent(a,i.id)});for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreNodesOnly:class qp{constructor(){this.defaultSettings={orientation:Qr.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Wr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;for(const e in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[e],a=r.nodes.find(s=>s.id===i.id);a.position={x:i.x,y:i.y},a.dimension={width:i.width,height:i.height}}for(const e of r.edges)this.updateEdge(r,e);return r}updateEdge(r,e){const i=r.nodes.find(Mt=>Mt.id===e.source),a=r.nodes.find(Mt=>Mt.id===e.target),s="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",d="y"===s?"x":"y",T="y"===s?"height":"width",S=i.position[s]<=a.position[s]?-1:1,P={[d]:i.position[d],[s]:i.position[s]-S*(i.dimension[T]/2)},Y={[d]:a.position[d],[s]:a.position[s]+S*(a.dimension[T]/2)},ot=this.settings.curveDistance||this.defaultSettings.curveDistance;e.points=[P,{[d]:P[d],[s]:P[s]-S*ot},{[d]:Y[d],[s]:Y[s]+S*ot},Y];const _t=r.edgeLabels[`${e.source}\x01${e.target}\x01\0`];return _t&&(_t.points=e.points),r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Wr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},d3ForceDirected:class Kp{constructor(){this.defaultSettings={force:vl().force("charge",xl().strength(-150)).force("collide",dl(5)),forceLink:_l().id(r=>r.id).distance(()=>100)},this.settings={},this.outputGraph$=new En.xQ}run(r){return this.inputGraph=r,this.d3Graph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign({},e))],edges:[...this.inputGraph.edges.map(e=>Object.assign({},e))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(r,e){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(r){return this.outputGraph.nodes=this.d3Graph.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||mr(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(e=>Object.assign(Object.assign({},e),{source:Jr(e.source).id,target:Jr(e.target).id,points:[{x:Jr(e.source).x,y:Jr(e.source).y},{x:Jr(e.target).x,y:Jr(e.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(r,e){this.settings.force.alphaTarget(.3).restart();const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(this.draggingStart={x:e.x-i.x,y:e.y-i.y},i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDrag(r,e){if(!r)return;const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDragEnd(r,e){if(!r)return;const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}},colaForceDirected:class tm{constructor(){this.defaultSettings={force:(0,_p.d3adaptor)(Object.assign(Object.assign(Object.assign({},x),c),v)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new En.xQ}run(r){return this.inputGraph=r,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign(Object.assign({},e),{width:e.dimension?e.dimension.width:20,height:e.dimension?e.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(e=>({padding:5,groups:e.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(a=>a.id===i)).filter(i=>i>=0),leaves:e.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(a=>a.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(e=>{const i=this.inputGraph.nodes.findIndex(s=>e.source===s.id),a=this.inputGraph.nodes.findIndex(s=>e.target===s.id);if(-1!==i&&-1!==a)return Object.assign(Object.assign({},e),{source:i,target:a})}).filter(e=>!!e)],groupLinks:[...this.inputGraph.edges.map(e=>{const i=this.inputGraph.nodes.findIndex(s=>e.source===s.id),a=this.inputGraph.nodes.findIndex(s=>e.target===s.id);if(!(i>=0&&a>=0))return e}).filter(e=>!!e)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(r,e){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(r){return this.outputGraph.nodes=r.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||mr(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=r.links.map(e=>{const i=Cl(r.nodes,e.source),a=Cl(r.nodes,e.target);return Object.assign(Object.assign({},e),{source:i.id,target:a.id,points:[i.bounds.rayIntersection(a.bounds.cx(),a.bounds.cy()),a.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]})}).concat(r.groupLinks.map(e=>{const i=r.nodes.find(T=>T.id===e.source),a=r.nodes.find(T=>T.id===e.target),s=i||r.groups.find(T=>T.id===e.source),d=a||r.groups.find(T=>T.id===e.target);return Object.assign(Object.assign({},e),{source:s.id,target:d.id,points:[s.bounds.rayIntersection(d.bounds.cx(),d.bounds.cy()),d.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy())]})})),this.outputGraph.clusters=r.groups.map((e,i)=>Object.assign(Object.assign({},this.inputGraph.clusters[i]),{dimension:{width:e.bounds?e.bounds.width():20,height:e.bounds?e.bounds.height():20},position:{x:e.bounds?e.bounds.x+e.bounds.width()/2:0,y:e.bounds?e.bounds.y+e.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(r,e){const i=this.outputGraph.nodes.findIndex(s=>s.id===r.id),a=this.internalGraph.nodes[i];!a||(this.draggingStart={x:a.x-e.x,y:a.y-e.y},a.fixed=1,this.settings.force.start())}onDrag(r,e){if(!r)return;const i=this.outputGraph.nodes.findIndex(s=>s.id===r.id),a=this.internalGraph.nodes[i];!a||(a.x=this.draggingStart.x+e.x,a.y=this.draggingStart.y+e.y)}onDragEnd(r,e){if(!r)return;const i=this.outputGraph.nodes.findIndex(s=>s.id===r.id),a=this.internalGraph.nodes[i];!a||(a.fixed=0)}}};let Al=(()=>{class n{getLayout(e){if(wl[e])return new wl[e];throw new Error(`Unknown layout type '${e}'`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),em=(()=>{class n{constructor(){this.mouseWheelUp=new t.vpe,this.mouseWheelDown=new t.vpe}onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onWheel(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){window.event&&(e=window.event);const i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY||e.deltaX)),s=e.wheelDelta?i<0:i>0;(e.wheelDelta?i>0:i<0)?this.mouseWheelUp.emit(e):s&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","mouseWheel",""]],hostBindings:function(e,i){1&e&&t.NdJ("mousewheel",function(s){return i.onMouseWheelChrome(s)})("DOMMouseScroll",function(s){return i.onMouseWheelFirefox(s)})("wheel",function(s){return i.onWheel(s)})("onmousewheel",function(s){return i.onMouseWheelIE(s)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),n})(),nm=(()=>{class n{constructor(e,i,a,s){this.el=e,this.zone=i,this.cd=a,this.layoutService=s,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=Xr.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=$r.UpperRight,this.scheme="cool",this.animations=!0,this.select=new t.vpe,this.activate=new t.vpe,this.deactivate=new t.vpe,this.zoomChange=new t.vpe,this.clickHandler=new t.vpe,this.isMouseMoveCalled=!1,this.graphSubscription=new nl.w,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=d=>d.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(e){this.zoomTo(Number(e))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(e){this.panTo(Number(e),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(e){this.panTo(null,Number(e))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(e=>{this.panToNodeId(e)})),this.minimapClipPathId=`minimapClip${mr()}`}ngOnChanges(e){this.basicUpdate();const{layoutSettings:a}=e;this.setLayout(this.layout),a&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(e){this.initialized=!1,e||(e="dagre"),"string"==typeof e&&(this.layout=this.layoutService.getLayout(e),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(e){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=e)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const e of this.subscriptions)e.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new $p(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=Wu.beta(1)),this.zone.run(()=>{this.dims=function Xp({width:n,height:r}){let e=n,i=r;return e=Math.max(0,e),i=Math.max(0,i),{width:Math.floor(e),height:Math.floor(i)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new nl.w;const e=i=>(i.meta||(i.meta={}),i.id||(i.id=mr()),i.dimension?i.meta.forceDimensions=void 0===i.meta.forceDimensions||i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position={x:0,y:0},i.data=i.data?i.data:{},i);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(e):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(e):[],edges:this.links.length>0?[...this.links].map(i=>(i.id||(i.id=mr()),i)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const e=this.layout.run(this.graph),i=e instanceof il.y?e:(0,rl.of)(e);this.graphSubscription.add(i.subscribe(a=>{this.graph=a,this.tick()})),0!==this.graph.nodes.length&&i.pipe((0,Ef.P)()).subscribe(()=>this.applyNodeDimensions())}tick(){const e=new Set;this.graph.nodes.map(s=>{s.transform=`translate(${s.position.x-s.dimension.width/2||0}, ${s.position.y-s.dimension.height/2||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),e.add(s.id)});const i=new Set;(this.graph.clusters||[]).map(s=>{s.transform=`translate(${s.position.x-s.dimension.width/2||0}, ${s.position.y-s.dimension.height/2||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),i.add(s.id)}),setTimeout(()=>{this.oldNodes=e,this.oldClusters=i},500);const a=[];for(const s in this.graph.edgeLabels){const d=this.graph.edgeLabels[s],T=s.replace(/[^\w-]*/g,""),S=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let P=this._oldLinks.find(S?Zt=>`${Zt.source}${Zt.target}${Zt.id}`===T:Zt=>`${Zt.source}${Zt.target}`===T);const Y=this.graph.edges.find(S?Zt=>`${Zt.source}${Zt.target}${Zt.id}`===T:Zt=>`${Zt.source}${Zt.target}`===T);P?P.data&&Y&&Y.data&&JSON.stringify(P.data)!==JSON.stringify(Y.data)&&(P.data=Y.data):P=Y||d,P.oldLine=P.line;const ot=d.points,st=this.generateLine(ot),_t=Object.assign({},P);_t.line=st,_t.points=ot,this.updateMidpointOnEdge(_t,ot);const Mt=ot[Math.floor(ot.length/2)];Mt&&(_t.textTransform=`translate(${Mt.x||0},${Mt.y||0})`),_t.textAngle=0,_t.oldLine||(_t.oldLine=_t.line),this.calcDominantBaseline(_t),a.push(_t)}this.graph.edges=a,this.graph.edges&&(this._oldLinks=this.graph.edges.map(s=>{const d=Object.assign({},s);return d.oldLine=s.line,d})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case $r.UpperLeft:return"";case $r.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let e=1/0,i=-1/0,a=1/0,s=-1/0;for(let d=0;d<this.graph.nodes.length;d++){const T=this.graph.nodes[d];e=T.position.x<e?T.position.x:e,a=T.position.y<a?T.position.y:a,i=T.position.x+T.dimension.width>i?T.position.x+T.dimension.width:i,s=T.position.y+T.dimension.height>s?T.position.y+T.dimension.height:s}e-=100,a-=100,i+=100,s+=100,this.graphDims.width=i-e,this.graphDims.height=s-a,this.minimapOffsetX=e,this.minimapOffsetY=a}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(e=>{const i=e.nativeElement,a=this.graph.nodes.find(d=>d.id===i.id);if(!a)return;let s;try{if(s=i.getBBox(),!s.width||!s.height)return}catch(d){return}if(a.dimension.height=this.nodeHeight?a.dimension.height&&a.meta.forceDimensions?a.dimension.height:this.nodeHeight:a.dimension.height&&a.meta.forceDimensions?a.dimension.height:s.height,this.nodeMaxHeight&&(a.dimension.height=Math.max(a.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(a.dimension.height=Math.min(a.dimension.height,this.nodeMinHeight)),this.nodeWidth)a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let d;try{for(const T of i.getElementsByTagName("text")){const S=T.getBBox();d?(S.width>d.width&&(d.width=S.width),S.height>d.height&&(d.height=S.height)):d=S}}catch(T){return}a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:d.width+20}else a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:s.width;this.nodeMaxWidth&&(a.dimension.width=Math.max(a.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(a.dimension.width=Math.min(a.dimension.width,this.nodeMinWidth))})}redrawLines(e=this.animate){this.linkElements.map(i=>{const a=this.graph.edges.find(s=>s.id===i.nativeElement.id);a&&(wo(i.nativeElement).select(".line").attr("d",a.oldLine).transition().ease(Io).duration(e?500:0).attr("d",a.line),wo(this.el.nativeElement).select(`#${a.id}`).attr("d",a.oldTextPath).transition().ease(Io).duration(e?500:0).attr("d",a.textPath),this.updateMidpointOnEdge(a,a.points))})}calcDominantBaseline(e){const i=e.points[0],a=e.points[e.points.length-1];e.oldTextPath=e.textPath,a.x<i.x?(e.dominantBaseline="text-before-edge",e.textPath=this.generateLine([...e.points].reverse())):(e.dominantBaseline="text-after-edge",e.textPath=e.line)}generateLine(e){return function qu(){var n=Ju,r=ju,e=ka(!0),i=null,a=Qu,s=null;function d(T){var S,Y,st,P=T.length,ot=!1;for(null==i&&(s=a(st=$u())),S=0;S<=P;++S)!(S<P&&e(Y=T[S],S,T))===ot&&((ot=!ot)?s.lineStart():s.lineEnd()),ot&&s.point(+n(Y,S,T),+r(Y,S,T));if(st)return s=null,st+""||null}return d.x=function(T){return arguments.length?(n="function"==typeof T?T:ka(+T),d):n},d.y=function(T){return arguments.length?(r="function"==typeof T?T:ka(+T),d):r},d.defined=function(T){return arguments.length?(e="function"==typeof T?T:ka(!!T),d):e},d.curve=function(T){return arguments.length?(a=T,null!=i&&(s=a(i)),d):a},d.context=function(T){return arguments.length?(null==T?i=s=null:s=a(i=T),d):i},d}().x(a=>a.x).y(a=>a.y).curve(this.curve)(e)}onZoom(e,i){if(this.enableTrackpadSupport&&!e.ctrlKey)return void this.pan(-1*e.deltaX,-1*e.deltaY);const a=1+("in"===i?this.zoomSpeed:-this.zoomSpeed),s=this.zoomLevel*a;if(!(s<=this.minZoomLevel||s>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&e){const d=e.clientX,T=e.clientY,S=this.el.nativeElement.querySelector("svg"),P=S.querySelector("g.chart"),Y=S.createSVGPoint();Y.x=d,Y.y=T;const ot=Y.matrixTransform(P.getScreenCTM().inverse());this.pan(ot.x,ot.y,!0),this.zoom(a),this.pan(-ot.x,-ot.y,!0)}else this.zoom(a)}pan(e,i,a=!1){const s=a?1:this.zoomLevel;this.transformationMatrix=ha(this.transformationMatrix,ll(e/s,i/s)),this.updateTransform()}panTo(e,i){null==e||isNaN(e)||null==i||isNaN(i)||(this.transformationMatrix=ha(this.transformationMatrix,ll((-this.panOffsetX-e*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-i*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(e){this.transformationMatrix=ha(this.transformationMatrix,function Ff(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Nf(r)&&(r=n),{a:n,c:0,e:0,b:0,d:r,f:0}}(e,e)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(e){this.transformationMatrix.a=isNaN(e)?this.transformationMatrix.a:Number(e),this.transformationMatrix.d=isNaN(e)?this.transformationMatrix.d:Number(e),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(e){if(!this.draggingEnabled)return;const i=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(i,e),i.position.x+=e.movementX/this.zoomLevel,i.position.y+=e.movementY/this.zoomLevel,i.transform=`translate(${i.position.x-i.dimension.width/2}, ${i.position.y-i.dimension.height/2})`;for(const d of this.graph.edges)if((d.target===i.id||d.source===i.id||d.target.id===i.id||d.source.id===i.id)&&this.layout&&"string"!=typeof this.layout){const T=this.layout.updateEdge(this.graph,d),S=T instanceof il.y?T:(0,rl.of)(T);this.graphSubscription.add(S.subscribe(P=>{this.graph=P,this.redrawEdge(d)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(e){const i=this.generateLine(e.points);this.calcDominantBaseline(e),e.oldLine=e.line,e.line=i}updateTransform(){this.transform=function Rf(n){return function ol(n){return"matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")"}(n)}(function Uf(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(n.a*r)/r,b:Math.round(n.b*r)/r,c:Math.round(n.c*r)/r,d:Math.round(n.d*r)/r,e:Math.round(n.e*r)/r,f:Math.round(n.f*r)/r}}(this.transformationMatrix,100))}onClick(e){this.select.emit(e)}onActivate(e){this.activeEntries.indexOf(e)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const i=this.activeEntries.indexOf(e);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(e=>this.groupResultsBy(e)).reduce((e,i)=>-1!==e.indexOf(i)?e:e.concat([i]),[]).sort()}trackLinkBy(e,i){return i.id}trackNodeBy(e,i){return i.id}setColors(){this.colors=new Wp(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(e){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,e):this.isDragging&&this.draggingEnabled&&this.onDrag(e)}onMouseDown(e){this.isMouseMoveCalled=!1}graphClick(e){this.isMouseMoveCalled||this.clickHandler.emit(e)}onTouchStart(e){this._touchLastX=e.changedTouches[0].clientX,this._touchLastY=e.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(e){if(this.isPanning&&this.panningEnabled){const i=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,s=i-this._touchLastX,d=a-this._touchLastY;this._touchLastX=i,this._touchLastY=a,this.pan(s,d)}}onTouchEnd(e){this.isPanning=!1}onMouseUp(e){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,e)}onNodeMouseDown(e,i){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=i,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(i,e))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(e){this.panTo((e.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(e.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let a=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);a<this.minZoomLevel&&(a=this.minZoomLevel),a>this.maxZoomLevel&&(a=this.maxZoomLevel),a!==this.zoomLevel&&(this.zoomLevel=a,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(e){const i=this.graph.nodes.find(a=>a.id===e);!i||this.panTo(i.position.x,i.position.y)}panWithConstraints(e,i){let a=i.movementX,s=i.movementY;switch(this.isMinimapPanning&&(a=-this.minimapScaleCoefficient*a*this.zoomLevel,s=-this.minimapScaleCoefficient*s*this.zoomLevel),e){case Xr.Horizontal:this.pan(a,0);break;case Xr.Vertical:this.pan(0,s);break;default:this.pan(a,s)}}updateMidpointOnEdge(e,i){if(e&&i)if(i.length%2==1)e.midPoint=i[Math.floor(i.length/2)];else{const a=i[i.length/2],s=i[i.length/2-1];e.midPoint={x:(a.x+s.x)/2,y:(a.y+s.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const a=this.el.nativeElement;if(null!==a.parentNode){const s=a.parentNode.getBoundingClientRect();e=s.width,i=s.height}return e&&i?{width:e,height:i}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const i=(0,al.R)(window,"resize").pipe((0,$e.b)(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Al))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-graph"]],contentQueries:function(e,i,a){if(1&e&&(t.Suo(a,xp,5),t.Suo(a,yp,5),t.Suo(a,Tp,5),t.Suo(a,bp,5),t.Suo(a,Cp,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.linkTemplate=s.first),t.iGM(s=t.CRH())&&(i.nodeTemplate=s.first),t.iGM(s=t.CRH())&&(i.clusterTemplate=s.first),t.iGM(s=t.CRH())&&(i.defsTemplate=s.first),t.iGM(s=t.CRH())&&(i.miniMapNodeTemplate=s.first)}},viewQuery:function(e,i){if(1&e&&(t.Gf(wp,5),t.Gf(Ap,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.nodeElements=a),t.iGM(a=t.CRH())&&(i.linkElements=a)}},hostBindings:function(e,i){1&e&&t.NdJ("mousemove",function(s){return i.onMouseMove(s)},!1,t.evT)("mousedown",function(s){return i.onMouseDown(s)},!1,t.evT)("click",function(s){return i.graphClick(s)},!1,t.evT)("touchmove",function(s){return i.onTouchMove(s)},!1,t.evT)("mouseup",function(s){return i.onMouseUp(s)},!1,t.evT)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[t.TTD],ngContentSelectors:zp,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("mouseWheelUp",function(s){return i.onZoom(s,"in")})("mouseWheelDown",function(s){return i.onZoom(s,"out")}),t.O4$(),t.TgZ(1,"svg",1),t.YNc(2,Rp,12,12,"g",2),t.TgZ(3,"clipPath"),t._UZ(4,"rect"),t.qZA(),t.YNc(5,Vp,6,15,"g",3),t.qZA(),t.qZA()),2&e&&(t.Udp("width",i.width,"px"),t.Q6J("@animationState","active")("@.disabled",!i.animations),t.xp6(1),t.uIk("width",i.width)("height",i.height),t.xp6(1),t.Q6J("ngIf",i.initialized&&i.graph),t.xp6(1),t.uIk("id",i.minimapClipPathId),t.xp6(1),t.uIk("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),t.xp6(1),t.Q6J("ngIf",i.showMiniMap))},directives:[em,_.O5,_.tP,_.sg],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,we.X$)("animationState",[(0,we.eR)(":enter",[(0,we.oB)({opacity:0}),(0,we.jt)("500ms 100ms",(0,we.oB)({opacity:1}))])])]},changeDetection:0}),(0,Sn.gn)([Yp(500)],n.prototype,"updateMinimap",null),n})(),im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Al],imports:[[_.ez]]}),n})(),rm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez],im]}),n})();var El=o(47429);function Es(n,r,e){n.prototype=r.prototype=e,e.constructor=n}function Sl(n,r){var e=Object.create(n.prototype);for(var i in r)e[i]=r[i];return e}function fa(){}o(52016);var Va=1/.7,jr="\\s*([+-]?\\d+)\\s*",ma="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",om=/^#([0-9a-f]{3,8})$/,lm=new RegExp("^rgb\\("+[jr,jr,jr]+"\\)$"),cm=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),um=new RegExp("^rgba\\("+[jr,jr,jr,ma]+"\\)$"),hm=new RegExp("^rgba\\("+[sr,sr,sr,ma]+"\\)$"),dm=new RegExp("^hsl\\("+[ma,sr,sr]+"\\)$"),fm=new RegExp("^hsla\\("+[ma,sr,sr,ma]+"\\)$"),Dl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ll(){return this.rgb().formatHex()}function kl(){return this.rgb().formatRgb()}function Fr(n){var r,e;return n=(n+"").trim().toLowerCase(),(r=om.exec(n))?(e=r[1].length,r=parseInt(r[1],16),6===e?Il(r):3===e?new Wi(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===e?za(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===e?za(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=lm.exec(n))?new Wi(r[1],r[2],r[3],1):(r=cm.exec(n))?new Wi(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=um.exec(n))?za(r[1],r[2],r[3],r[4]):(r=hm.exec(n))?za(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=dm.exec(n))?Nl(r[1],r[2]/100,r[3]/100,1):(r=fm.exec(n))?Nl(r[1],r[2]/100,r[3]/100,r[4]):Dl.hasOwnProperty(n)?Il(Dl[n]):"transparent"===n?new Wi(NaN,NaN,NaN,0):null}function Il(n){return new Wi(n>>16&255,n>>8&255,255&n,1)}function za(n,r,e,i){return i<=0&&(n=r=e=NaN),new Wi(n,r,e,i)}function mm(n){return n instanceof fa||(n=Fr(n)),n?new Wi((n=n.rgb()).r,n.g,n.b,n.opacity):new Wi}function Ha(n,r,e,i){return 1===arguments.length?mm(n):new Wi(n,r,e,null==i?1:i)}function Wi(n,r,e,i){this.r=+n,this.g=+r,this.b=+e,this.opacity=+i}function Ml(){return"#"+Ss(this.r)+Ss(this.g)+Ss(this.b)}function Ol(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function Ss(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function Nl(n,r,e,i){return i<=0?n=r=e=NaN:e<=0||e>=1?n=r=NaN:r<=0&&(n=NaN),new or(n,r,e,i)}function Fl(n){if(n instanceof or)return new or(n.h,n.s,n.l,n.opacity);if(n instanceof fa||(n=Fr(n)),!n)return new or;if(n instanceof or)return n;var r=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,a=Math.min(r,e,i),s=Math.max(r,e,i),d=NaN,T=s-a,S=(s+a)/2;return T?(d=r===s?(e-i)/T+6*(e<i):e===s?(i-r)/T+2:(r-e)/T+4,T/=S<.5?s+a:2-s-a,d*=60):T=S>0&&S<1?0:d,new or(d,T,S,n.opacity)}function or(n,r,e,i){this.h=+n,this.s=+r,this.l=+e,this.opacity=+i}function Ds(n,r,e){return 255*(n<60?r+(e-r)*n/60:n<180?e:n<240?r+(e-r)*(240-n)/60:r)}function Pl(n,r,e,i,a){var s=n*n,d=s*n;return((1-3*n+3*s-d)*r+(4-6*s+3*d)*e+(1+3*n+3*s-3*d)*i+d*a)/6}Es(fa,Fr,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:Ll,formatHex:Ll,formatHsl:function pm(){return Fl(this).formatHsl()},formatRgb:kl,toString:kl}),Es(Wi,Ha,Sl(fa,{brighter:function(n){return n=null==n?Va:Math.pow(Va,n),new Wi(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Wi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ml,formatHex:Ml,formatRgb:Ol,toString:Ol})),Es(or,function gm(n,r,e,i){return 1===arguments.length?Fl(n):new or(n,r,e,null==i?1:i)},Sl(fa,{brighter:function(n){return n=null==n?Va:Math.pow(Va,n),new or(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new or(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),r=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*r,a=2*e-i;return new Wi(Ds(n>=240?n-240:n+120,a,i),Ds(n,a,i),Ds(n<120?n+240:n-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const Ls=n=>()=>n;function Zl(n,r){var e=r-n;return e?function Rl(n,r){return function(e){return n+e*r}}(n,e):Ls(isNaN(n)?r:n)}const Ya=function n(r){var e=function ym(n){return 1==(n=+n)?Zl:function(r,e){return e-r?function xm(n,r,e){return n=Math.pow(n,e),r=Math.pow(r,e)-n,e=1/e,function(i){return Math.pow(n+i*r,e)}}(r,e,n):Ls(isNaN(r)?e:r)}}(r);function i(a,s){var d=e((a=Ha(a)).r,(s=Ha(s)).r),T=e(a.g,s.g),S=e(a.b,s.b),P=Zl(a.opacity,s.opacity);return function(Y){return a.r=d(Y),a.g=T(Y),a.b=S(Y),a.opacity=P(Y),a+""}}return i.gamma=n,i}(1);function Bl(n){return function(r){var d,T,e=r.length,i=new Array(e),a=new Array(e),s=new Array(e);for(d=0;d<e;++d)T=Ha(r[d]),i[d]=T.r||0,a[d]=T.g||0,s[d]=T.b||0;return i=n(i),a=n(a),s=n(s),T.opacity=1,function(S){return T.r=i(S),T.g=a(S),T.b=s(S),T+""}}}function lr(n,r){return n=+n,r=+r,function(e){return n*(1-e)+r*e}}Bl(function _m(n){var r=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),a=n[i],s=n[i+1];return Pl((e-i/r)*r,i>0?n[i-1]:2*a-s,a,s,i<r-1?n[i+2]:2*s-a)}}),Bl(function vm(n){var r=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*r);return Pl((e-i/r)*r,n[(i+r-1)%r],n[i%r],n[(i+1)%r],n[(i+2)%r])}});var ks=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Is=new RegExp(ks.source,"g");function Gl(n,r){var i,a,s,e=ks.lastIndex=Is.lastIndex=0,d=-1,T=[],S=[];for(n+="",r+="";(i=ks.exec(n))&&(a=Is.exec(r));)(s=a.index)>e&&(s=r.slice(e,s),T[d]?T[d]+=s:T[++d]=s),(i=i[0])===(a=a[0])?T[d]?T[d]+=a:T[++d]=a:(T[++d]=null,S.push({i:d,x:lr(i,a)})),e=Is.lastIndex;return e<r.length&&(s=r.slice(e),T[d]?T[d]+=s:T[++d]=s),T.length<2?S[0]?function wm(n){return function(r){return n(r)+""}}(S[0].x):function Cm(n){return function(){return n}}(r):(r=S.length,function(P){for(var ot,Y=0;Y<r;++Y)T[(ot=S[Y]).i]=ot.x(P);return T.join("")})}o(29132);var ga=o(37853),Sm=(0,ca.Z)("start","end","cancel","interrupt"),Dm=[];function $a(n,r,e,i,a,s){var d=n.__transition;if(d){if(e in d)return}else n.__transition={};!function Lm(n,r,e){var a,i=n.__transition;function d(P){var Y,ot,st,_t;if(1!==e.state)return S();for(Y in i)if((_t=i[Y]).name===e.name){if(3===_t.state)return(0,ua.Z)(d);4===_t.state?(_t.state=6,_t.timer.stop(),_t.on.call("interrupt",n,n.__data__,_t.index,_t.group),delete i[Y]):+Y<r&&(_t.state=6,_t.timer.stop(),_t.on.call("cancel",n,n.__data__,_t.index,_t.group),delete i[Y])}if((0,ua.Z)(function(){3===e.state&&(e.state=4,e.timer.restart(T,e.delay,e.time),T(P))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(st=e.tween.length),Y=0,ot=-1;Y<st;++Y)(_t=e.tween[Y].value.call(n,n.__data__,e.index,e.group))&&(a[++ot]=_t);a.length=ot+1}}function T(P){for(var Y=P<e.duration?e.ease.call(null,P/e.duration):(e.timer.restart(S),e.state=5,1),ot=-1,st=a.length;++ot<st;)a[ot].call(n,Y);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),S())}function S(){for(var P in e.state=6,e.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=e,e.timer=(0,tr.HT)(function s(P){e.state=1,e.timer.restart(d,e.delay,e.time),e.delay<=P&&d(P-e.delay)},0,e.time)}(n,e,{name:r,index:i,group:a,on:Sm,tween:Dm,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function Fs(n,r){var e=ir(n,r);if(e.state>0)throw new Error("too late; already scheduled");return e}function cr(n,r){var e=ir(n,r);if(e.state>3)throw new Error("too late; already running");return e}function ir(n,r){var e=n.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}var Qa,Wl=180/Math.PI,Rs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xl(n,r,e,i,a,s){var d,T,S;return(d=Math.sqrt(n*n+r*r))&&(n/=d,r/=d),(S=n*e+r*i)&&(e-=n*S,i-=r*S),(T=Math.sqrt(e*e+i*i))&&(e/=T,i/=T,S/=T),n*i<r*e&&(n=-n,r=-r,S=-S,d=-d),{translateX:a,translateY:s,rotate:Math.atan2(r,n)*Wl,skewX:Math.atan(S)*Wl,scaleX:d,scaleY:T}}function $l(n,r,e,i){function a(P){return P.length?P.pop()+" ":""}return function(P,Y){var ot=[],st=[];return P=n(P),Y=n(Y),function s(P,Y,ot,st,_t,Mt){if(P!==ot||Y!==st){var Zt=_t.push("translate(",null,r,null,e);Mt.push({i:Zt-4,x:lr(P,ot)},{i:Zt-2,x:lr(Y,st)})}else(ot||st)&&_t.push("translate("+ot+r+st+e)}(P.translateX,P.translateY,Y.translateX,Y.translateY,ot,st),function d(P,Y,ot,st){P!==Y?(P-Y>180?Y+=360:Y-P>180&&(P+=360),st.push({i:ot.push(a(ot)+"rotate(",null,i)-2,x:lr(P,Y)})):Y&&ot.push(a(ot)+"rotate("+Y+i)}(P.rotate,Y.rotate,ot,st),function T(P,Y,ot,st){P!==Y?st.push({i:ot.push(a(ot)+"skewX(",null,i)-2,x:lr(P,Y)}):Y&&ot.push(a(ot)+"skewX("+Y+i)}(P.skewX,Y.skewX,ot,st),function S(P,Y,ot,st,_t,Mt){if(P!==ot||Y!==st){var Zt=_t.push(a(_t)+"scale(",null,",",null,")");Mt.push({i:Zt-4,x:lr(P,ot)},{i:Zt-2,x:lr(Y,st)})}else(1!==ot||1!==st)&&_t.push(a(_t)+"scale("+ot+","+st+")")}(P.scaleX,P.scaleY,Y.scaleX,Y.scaleY,ot,st),P=Y=null,function(_t){for(var Tt,Mt=-1,Zt=st.length;++Mt<Zt;)ot[(Tt=st[Mt]).i]=Tt.x(_t);return ot.join("")}}}var Om=$l(function Im(n){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return r.isIdentity?Rs:Xl(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Nm=$l(function Mm(n){return null!=n&&(Qa||(Qa=document.createElementNS("http://www.w3.org/2000/svg","g")),Qa.setAttribute("transform",n),n=Qa.transform.baseVal.consolidate())?Xl((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Rs},", ",")",")"),Ql=o(36175);function Fm(n,r){var e,i;return function(){var a=cr(this,n),s=a.tween;if(s!==e)for(var d=0,T=(i=e=s).length;d<T;++d)if(i[d].name===r){(i=i.slice()).splice(d,1);break}a.tween=i}}function Pm(n,r,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var s=cr(this,n),d=s.tween;if(d!==i){a=(i=d).slice();for(var T={name:r,value:e},S=0,P=a.length;S<P;++S)if(a[S].name===r){a[S]=T;break}S===P&&a.push(T)}s.tween=a}}function Zs(n,r,e){var i=n._id;return n.each(function(){var a=cr(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return ir(a,i).value[r]}}function Jl(n,r){var e;return("number"==typeof r?lr:r instanceof Fr?Ya:(e=Fr(r))?(r=e,Ya):Gl)(n,r)}function Zm(n){return function(){this.removeAttribute(n)}}function Bm(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Um(n,r,e){var i,s,a=e+"";return function(){var d=this.getAttribute(n);return d===a?null:d===i?s:s=r(i=d,e)}}function Gm(n,r,e){var i,s,a=e+"";return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===i?s:s=r(i=d,e)}}function Vm(n,r,e){var i,a,s;return function(){var d,S,T=e(this);return null==T?void this.removeAttribute(n):(d=this.getAttribute(n))===(S=T+"")?null:d===i&&S===a?s:(a=S,s=r(i=d,T))}}function zm(n,r,e){var i,a,s;return function(){var d,S,T=e(this);return null==T?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local))===(S=T+"")?null:d===i&&S===a?s:(a=S,s=r(i=d,T))}}function Ym(n,r){return function(e){this.setAttribute(n,r.call(this,e))}}function Wm(n,r){return function(e){this.setAttributeNS(n.space,n.local,r.call(this,e))}}function Xm(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Wm(n,s)),e}return a._value=r,a}function $m(n,r){var e,i;function a(){var s=r.apply(this,arguments);return s!==i&&(e=(i=s)&&Ym(n,s)),e}return a._value=r,a}function Jm(n,r){return function(){Fs(this,n).delay=+r.apply(this,arguments)}}function jm(n,r){return r=+r,function(){Fs(this,n).delay=r}}function Km(n,r){return function(){cr(this,n).duration=+r.apply(this,arguments)}}function tg(n,r){return r=+r,function(){cr(this,n).duration=r}}function ng(n,r){if("function"!=typeof r)throw new Error;return function(){cr(this,n).ease=r}}var sg=o(97905);function ug(n,r,e){var i,a,s=function cg(n){return(n+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||"start"===r})}(r)?Fs:cr;return function(){var d=s(this,n),T=d.on;T!==i&&(a=(i=T).copy()).on(r,e),d.on=a}}var pg=o(29742),gg=o(32037),vg=ga.ZP.prototype.constructor,_a=o(24476);function jl(n){return function(){this.style.removeProperty(n)}}function Ag(n,r,e){return function(i){this.style.setProperty(n,r.call(this,i),e)}}function Eg(n,r,e){var i,a;function s(){var d=r.apply(this,arguments);return d!==a&&(i=(a=d)&&Ag(n,d,e)),i}return s._value=r,s}function Ig(n){return function(r){this.textContent=n.call(this,r)}}function Mg(n){var r,e;function i(){var a=n.apply(this,arguments);return a!==e&&(r=(e=a)&&Ig(a)),r}return i._value=n,i}var Pg=0;function gr(n,r,e,i){this._groups=n,this._parents=r,this._name=e,this._id=i}function ql(){return++Pg}var Pr=ga.ZP.prototype;gr.prototype=function Rg(n){return(0,ga.ZP)().transition(n)}.prototype={constructor:gr,select:function mg(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=(0,pg.Z)(n));for(var i=this._groups,a=i.length,s=new Array(a),d=0;d<a;++d)for(var Y,ot,T=i[d],S=T.length,P=s[d]=new Array(S),st=0;st<S;++st)(Y=T[st])&&(ot=n.call(Y,Y.__data__,st,T))&&("__data__"in Y&&(ot.__data__=Y.__data__),P[st]=ot,$a(P[st],r,e,st,P,ir(Y,e)));return new gr(s,this._parents,r,e)},selectAll:function _g(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=(0,gg.Z)(n));for(var i=this._groups,a=i.length,s=[],d=[],T=0;T<a;++T)for(var Y,S=i[T],P=S.length,ot=0;ot<P;++ot)if(Y=S[ot]){for(var _t,st=n.call(Y,Y.__data__,ot,S),Mt=ir(Y,e),Zt=0,Tt=st.length;Zt<Tt;++Zt)(_t=st[Zt])&&$a(_t,r,e,Zt,st,Mt);s.push(st),d.push(Y)}return new gr(s,d,r,e)},filter:function og(n){"function"!=typeof n&&(n=(0,sg.Z)(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,s=r[a],d=s.length,T=i[a]=[],P=0;P<d;++P)(S=s[P])&&n.call(S,S.__data__,P,s)&&T.push(S);return new gr(i,this._parents,this._name,this._id)},merge:function lg(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,e=n._groups,i=r.length,s=Math.min(i,e.length),d=new Array(i),T=0;T<s;++T)for(var st,S=r[T],P=e[T],Y=S.length,ot=d[T]=new Array(Y),_t=0;_t<Y;++_t)(st=S[_t]||P[_t])&&(ot[_t]=st);for(;T<i;++T)d[T]=r[T];return new gr(d,this._parents,this._name,this._id)},selection:function xg(){return new vg(this._groups,this._parents)},transition:function Ng(){for(var n=this._name,r=this._id,e=ql(),i=this._groups,a=i.length,s=0;s<a;++s)for(var S,d=i[s],T=d.length,P=0;P<T;++P)if(S=d[P]){var Y=ir(S,r);$a(S,n,e,P,d,{time:Y.time+Y.delay+Y.duration,delay:0,duration:Y.duration,ease:Y.ease})}return new gr(i,this._parents,n,e)},call:Pr.call,nodes:Pr.nodes,node:Pr.node,size:Pr.size,empty:Pr.empty,each:Pr.each,on:function hg(n,r){var e=this._id;return arguments.length<2?ir(this.node(),e).on.on(n):this.each(ug(e,n,r))},attr:function Hm(n,r){var e=(0,Ql.Z)(n),i="transform"===e?Nm:Jl;return this.attrTween(n,"function"==typeof r?(e.local?zm:Vm)(e,i,Zs(this,"attr."+n,r)):null==r?(e.local?Bm:Zm)(e):(e.local?Gm:Um)(e,i,r))},attrTween:function Qm(n,r){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=(0,Ql.Z)(n);return this.tween(e,(i.local?Xm:$m)(i,r))},style:function wg(n,r,e){var i="transform"==(n+="")?Om:Jl;return null==r?this.styleTween(n,function yg(n,r){var e,i,a;return function(){var s=(0,_a.S)(this,n),d=(this.style.removeProperty(n),(0,_a.S)(this,n));return s===d?null:s===e&&d===i?a:a=r(e=s,i=d)}}(n,i)).on("end.style."+n,jl(n)):"function"==typeof r?this.styleTween(n,function bg(n,r,e){var i,a,s;return function(){var d=(0,_a.S)(this,n),T=e(this),S=T+"";return null==T&&(this.style.removeProperty(n),S=T=(0,_a.S)(this,n)),d===S?null:d===i&&S===a?s:(a=S,s=r(i=d,T))}}(n,i,Zs(this,"style."+n,r))).each(function Cg(n,r){var e,i,a,T,s="style."+r,d="end."+s;return function(){var S=cr(this,n),P=S.on,Y=null==S.value[s]?T||(T=jl(r)):void 0;(P!==e||a!==Y)&&(i=(e=P).copy()).on(d,a=Y),S.on=i}}(this._id,n)):this.styleTween(n,function Tg(n,r,e){var i,s,a=e+"";return function(){var d=(0,_a.S)(this,n);return d===a?null:d===i?s:s=r(i=d,e)}}(n,i,r),e).on("end.style."+n,null)},styleTween:function Sg(n,r,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,Eg(n,r,null==e?"":e))},text:function kg(n){return this.tween("text","function"==typeof n?function Lg(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(Zs(this,"text",n)):function Dg(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function Og(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Mg(n))},remove:function fg(){return this.on("end.remove",function dg(n){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function Rm(n,r){var e=this._id;if(n+="",arguments.length<2){for(var d,i=ir(this.node(),e).tween,a=0,s=i.length;a<s;++a)if((d=i[a]).name===n)return d.value;return null}return this.each((null==r?Fm:Pm)(e,n,r))},delay:function qm(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Jm:jm)(r,n)):ir(this.node(),r).delay},duration:function eg(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Km:tg)(r,n)):ir(this.node(),r).duration},ease:function ig(n){var r=this._id;return arguments.length?this.each(ng(r,n)):ir(this.node(),r).ease},easeVarying:function ag(n){if("function"!=typeof n)throw new Error;return this.each(function rg(n,r){return function(){var e=r.apply(this,arguments);if("function"!=typeof e)throw new Error;cr(this,n).ease=e}}(this._id,n))},end:function Fg(){var n,r,e=this,i=e._id,a=e.size();return new Promise(function(s,d){var T={value:d},S={value:function(){0==--a&&s()}};e.each(function(){var P=cr(this,i),Y=P.on;Y!==n&&((r=(n=Y).copy())._.cancel.push(T),r._.interrupt.push(T),r._.end.push(S)),P.on=r}),0===a&&s()})},[Symbol.iterator]:Pr[Symbol.iterator]};var Zg={time:null,delay:0,duration:250,ease:el.tw};function Bg(n,r){for(var e;!(e=n.__transition)||!(e=e[r]);)if(!(n=n.parentNode))throw new Error(`transition ${r} not found`);return e}ga.ZP.prototype.interrupt=function km(n){return this.each(function(){!function Ps(n,r){var i,a,d,e=n.__transition,s=!0;if(e){for(d in r=null==r?null:r+"",e)(i=e[d]).name===r?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[d]):s=!1;s&&delete n.__transition}}(this,n)})},ga.ZP.prototype.transition=function Ug(n){var r,e;n instanceof gr?(r=n._id,n=n._name):(r=ql(),(e=Zg).time=(0,tr.zO)(),n=null==n?null:n+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var S,d=i[s],T=d.length,P=0;P<T;++P)(S=d[P])&&$a(S,n,r,P,d,e||Bg(S,r));return new gr(i,this._parents,n,r)};Math;function va(n){return{type:n}}function rc(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function Ys(n){let r=n,e=n;function i(d,T,S,P){for(null==S&&(S=0),null==P&&(P=d.length);S<P;){const Y=S+P>>>1;e(d[Y],T)<0?S=Y+1:P=Y}return S}return 1===n.length&&(r=(d,T)=>n(d)-T,e=function qg(n){return(r,e)=>rc(n(r),e)}(n)),{left:i,center:function s(d,T,S,P){null==S&&(S=0),null==P&&(P=d.length);const Y=i(d,T,S,P-1);return Y>S&&r(d[Y-1],T)>-r(d[Y],T)?Y-1:Y},right:function a(d,T,S,P){for(null==S&&(S=0),null==P&&(P=d.length);S<P;){const Y=S+P>>>1;e(d[Y],T)>0?P=Y:S=Y+1}return S}}}["w","e"].map(va),["n","s"].map(va),["n","w","e","s","nw","ne","sw","se"].map(va);var Ws=Math.sqrt(50),Xs=Math.sqrt(10),$s=Math.sqrt(2);function Qs(n,r,e){var i=Math.abs(r-n)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/a;return s>=Ws?a*=10:s>=Xs?a*=5:s>=$s&&(a*=2),r<n?-a:a}const vr=1e3,Ji=6e4,xr=60*Ji,Rr=24*xr,Js=7*Rr,sc=30*Rr,js=365*Rr;var qs=new Date,Ks=new Date;function Ei(n,r,e,i){function a(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return a.floor=function(s){return n(s=new Date(+s)),s},a.ceil=function(s){return n(s=new Date(s-1)),r(s,1),n(s),s},a.round=function(s){var d=a(s),T=a.ceil(s);return s-d<T-s?d:T},a.offset=function(s,d){return r(s=new Date(+s),null==d?1:Math.floor(d)),s},a.range=function(s,d,T){var P,S=[];if(s=a.ceil(s),T=null==T?1:Math.floor(T),!(s<d&&T>0))return S;do{S.push(P=new Date(+s)),r(s,T),n(s)}while(P<s&&s<d);return S},a.filter=function(s){return Ei(function(d){if(d>=d)for(;n(d),!s(d);)d.setTime(d-1)},function(d,T){if(d>=d)if(T<0)for(;++T<=0;)for(;r(d,-1),!s(d););else for(;--T>=0;)for(;r(d,1),!s(d););})},e&&(a.count=function(s,d){return qs.setTime(+s),Ks.setTime(+d),n(qs),n(Ks),Math.floor(e(qs,Ks))},a.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?a.filter(i?function(d){return i(d)%s==0}:function(d){return a.count(0,d)%s==0}):a:null}),a}var qa=Ei(function(){},function(n,r){n.setTime(+n+r)},function(n,r){return r-n});qa.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Ei(function(r){r.setTime(Math.floor(r/n)*n)},function(r,e){r.setTime(+r+e*n)},function(r,e){return(e-r)/n}):qa:null};const t_=qa;const xa=Ei(function(n){n.setTime(n-n.getMilliseconds())},function(n,r){n.setTime(+n+r*vr)},function(n,r){return(r-n)/vr},function(n){return n.getUTCSeconds()});const cc=Ei(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*vr)},function(n,r){n.setTime(+n+r*Ji)},function(n,r){return(r-n)/Ji},function(n){return n.getMinutes()});const hc=Ei(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*vr-n.getMinutes()*Ji)},function(n,r){n.setTime(+n+r*xr)},function(n,r){return(r-n)/xr},function(n){return n.getHours()});const fc=Ei(n=>n.setHours(0,0,0,0),(n,r)=>n.setDate(n.getDate()+r),(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*Ji)/Rr,n=>n.getDate()-1);function Zr(n){return Ei(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,e){r.setDate(r.getDate()+7*e)},function(r,e){return(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Ji)/Js})}var to=Zr(0);const mc=(Zr(1),Zr(2),Zr(3),Zr(4),Zr(5),Zr(6),Ei(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,r){n.setMonth(n.getMonth()+r)},function(n,r){return r.getMonth()-n.getMonth()+12*(r.getFullYear()-n.getFullYear())},function(n){return n.getMonth()}));var eo=Ei(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});eo.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ei(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,e){r.setFullYear(r.getFullYear()+e*n)}):null};const gc=eo;const o_=Ei(function(n){n.setUTCSeconds(0,0)},function(n,r){n.setTime(+n+r*Ji)},function(n,r){return(r-n)/Ji},function(n){return n.getUTCMinutes()});const l_=Ei(function(n){n.setUTCMinutes(0,0,0)},function(n,r){n.setTime(+n+r*xr)},function(n,r){return(r-n)/xr},function(n){return n.getUTCHours()});const c_=Ei(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/Rr},function(n){return n.getUTCDate()-1});function Br(n){return Ei(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCDate(r.getUTCDate()+7*e)},function(r,e){return(e-r)/Js})}var yc=Br(0);const g_=(Br(1),Br(2),Br(3),Br(4),Br(5),Br(6),Ei(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCMonth(n.getUTCMonth()+r)},function(n,r){return r.getUTCMonth()-n.getUTCMonth()+12*(r.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()}));var no=Ei(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});no.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ei(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCFullYear(r.getUTCFullYear()+e*n)}):null};const __=no;function bc(n,r,e,i,a,s){const d=[[xa,1,vr],[xa,5,5e3],[xa,15,15e3],[xa,30,3e4],[s,1,Ji],[s,5,5*Ji],[s,15,15*Ji],[s,30,30*Ji],[a,1,xr],[a,3,3*xr],[a,6,6*xr],[a,12,12*xr],[i,1,Rr],[i,2,2*Rr],[e,1,Js],[r,1,sc],[r,3,3*sc],[n,1,js]];function S(P,Y,ot){const st=Math.abs(Y-P)/ot,_t=Ys(([,,Tt])=>Tt).right(d,st);if(_t===d.length)return n.every(Qs(P/js,Y/js,ot));if(0===_t)return t_.every(Math.max(Qs(P,Y,ot),1));const[Mt,Zt]=d[st/d[_t-1][2]<d[_t][2]/st?_t-1:_t];return Mt.every(Zt)}return[function T(P,Y,ot){const st=Y<P;st&&([P,Y]=[Y,P]);const _t=ot&&"function"==typeof ot.range?ot:S(P,Y,ot),Mt=_t?_t.range(P,+Y+1):[];return st?Mt.reverse():Mt},S]}const[PC,RC]=bc(__,g_,yc,c_,l_,o_),[v_,x_]=bc(gc,mc,to,fc,hc,cc);var io=new Date,ro=new Date;function yr(n,r,e,i){function a(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return a.floor=function(s){return n(s=new Date(+s)),s},a.ceil=function(s){return n(s=new Date(s-1)),r(s,1),n(s),s},a.round=function(s){var d=a(s),T=a.ceil(s);return s-d<T-s?d:T},a.offset=function(s,d){return r(s=new Date(+s),null==d?1:Math.floor(d)),s},a.range=function(s,d,T){var P,S=[];if(s=a.ceil(s),T=null==T?1:Math.floor(T),!(s<d&&T>0))return S;do{S.push(P=new Date(+s)),r(s,T),n(s)}while(P<s&&s<d);return S},a.filter=function(s){return yr(function(d){if(d>=d)for(;n(d),!s(d);)d.setTime(d-1)},function(d,T){if(d>=d)if(T<0)for(;++T<=0;)for(;r(d,-1),!s(d););else for(;--T>=0;)for(;r(d,1),!s(d););})},e&&(a.count=function(s,d){return io.setTime(+s),ro.setTime(+d),n(io),n(ro),Math.floor(e(io,ro))},a.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?a.filter(i?function(d){return i(d)%s==0}:function(d){return a.count(0,d)%s==0}):a:null}),a}var Ac=6048e5;function Ur(n){return yr(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCDate(r.getUTCDate()+7*e)},function(r,e){return(e-r)/Ac})}var Ec=Ur(0),Ka=Ur(1),ts=(Ur(2),Ur(3),Ur(4));const Dc=(Ur(5),Ur(6),yr(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/864e5},function(n){return n.getUTCDate()-1}));function Gr(n){return yr(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,e){r.setDate(r.getDate()+7*e)},function(r,e){return(e-r-6e4*(e.getTimezoneOffset()-r.getTimezoneOffset()))/Ac})}var Lc=Gr(0),es=Gr(1),ns=(Gr(2),Gr(3),Gr(4));const Ic=(Gr(5),Gr(6),yr(function(n){n.setHours(0,0,0,0)},function(n,r){n.setDate(n.getDate()+r)},function(n,r){return(r-n-6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()))/864e5},function(n){return n.getDate()-1}));var ao=yr(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});ao.every=function(n){return isFinite(n=Math.floor(n))&&n>0?yr(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,e){r.setFullYear(r.getFullYear()+e*n)}):null};const ya=ao;var so=yr(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});so.every=function(n){return isFinite(n=Math.floor(n))&&n>0?yr(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCFullYear(r.getUTCFullYear()+e*n)}):null};const Ta=so;function oo(n){if(0<=n.y&&n.y<100){var r=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return r.setFullYear(n.y),r}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function lo(n){if(0<=n.y&&n.y<100){var r=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return r.setUTCFullYear(n.y),r}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ba(n,r,e){return{y:n,m:r,d:e,H:0,M:0,S:0,L:0}}var Mc={"-":"",_:" ",0:"0"},Si=/^\s*\d+/,L_=/^%/,k_=/[\\^$*+?|[\]().{}]/g;function Gn(n,r,e){var i=n<0?"-":"",a=(i?-n:n)+"",s=a.length;return i+(s<e?new Array(e-s+1).join(r)+a:a)}function I_(n){return n.replace(k_,"\\$&")}function Ca(n){return new RegExp("^(?:"+n.map(I_).join("|")+")","i")}function wa(n){for(var r={},e=-1,i=n.length;++e<i;)r[n[e].toLowerCase()]=e;return r}function M_(n,r,e){var i=Si.exec(r.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function O_(n,r,e){var i=Si.exec(r.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function N_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function F_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function P_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function R_(n,r,e){var i=Si.exec(r.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function Z_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function B_(n,r,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function U_(n,r,e){var i=Si.exec(r.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function G_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function Oc(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function V_(n,r,e){var i=Si.exec(r.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function Nc(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function z_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function H_(n,r,e){var i=Si.exec(r.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function Y_(n,r,e){var i=Si.exec(r.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function W_(n,r,e){var i=Si.exec(r.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function X_(n,r,e){var i=L_.exec(r.slice(e,e+1));return i?e+i[0].length:-1}function $_(n,r,e){var i=Si.exec(r.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Q_(n,r,e){var i=Si.exec(r.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function Fc(n,r){return Gn(n.getDate(),r,2)}function J_(n,r){return Gn(n.getHours(),r,2)}function j_(n,r){return Gn(n.getHours()%12||12,r,2)}function q_(n,r){return Gn(1+Ic.count(ya(n),n),r,3)}function Pc(n,r){return Gn(n.getMilliseconds(),r,3)}function K_(n,r){return Pc(n,r)+"000"}function tv(n,r){return Gn(n.getMonth()+1,r,2)}function ev(n,r){return Gn(n.getMinutes(),r,2)}function nv(n,r){return Gn(n.getSeconds(),r,2)}function iv(n){var r=n.getDay();return 0===r?7:r}function rv(n,r){return Gn(Lc.count(ya(n)-1,n),r,2)}function av(n,r){var e=n.getDay();return n=e>=4||0===e?ns(n):ns.ceil(n),Gn(ns.count(ya(n),n)+(4===ya(n).getDay()),r,2)}function sv(n){return n.getDay()}function ov(n,r){return Gn(es.count(ya(n)-1,n),r,2)}function lv(n,r){return Gn(n.getFullYear()%100,r,2)}function cv(n,r){return Gn(n.getFullYear()%1e4,r,4)}function uv(n){var r=n.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Gn(r/60|0,"0",2)+Gn(r%60,"0",2)}function Rc(n,r){return Gn(n.getUTCDate(),r,2)}function hv(n,r){return Gn(n.getUTCHours(),r,2)}function dv(n,r){return Gn(n.getUTCHours()%12||12,r,2)}function fv(n,r){return Gn(1+Dc.count(Ta(n),n),r,3)}function Zc(n,r){return Gn(n.getUTCMilliseconds(),r,3)}function pv(n,r){return Zc(n,r)+"000"}function mv(n,r){return Gn(n.getUTCMonth()+1,r,2)}function gv(n,r){return Gn(n.getUTCMinutes(),r,2)}function _v(n,r){return Gn(n.getUTCSeconds(),r,2)}function vv(n){var r=n.getUTCDay();return 0===r?7:r}function xv(n,r){return Gn(Ec.count(Ta(n)-1,n),r,2)}function yv(n,r){var e=n.getUTCDay();return n=e>=4||0===e?ts(n):ts.ceil(n),Gn(ts.count(Ta(n),n)+(4===Ta(n).getUTCDay()),r,2)}function Tv(n){return n.getUTCDay()}function bv(n,r){return Gn(Ka.count(Ta(n)-1,n),r,2)}function Cv(n,r){return Gn(n.getUTCFullYear()%100,r,2)}function wv(n,r){return Gn(n.getUTCFullYear()%1e4,r,4)}function Av(){return"+0000"}function Bc(){return"%"}function Uc(n){return+n}function Gc(n){return Math.floor(+n/1e3)}!function Lv(n){(function D_(n){var r=n.dateTime,e=n.date,i=n.time,a=n.periods,s=n.days,d=n.shortDays,T=n.months,S=n.shortMonths,P=Ca(a),Y=wa(a),ot=Ca(s),st=wa(s),_t=Ca(d),Mt=wa(d),Zt=Ca(T),Tt=wa(T),$t=Ca(S),ie=wa(S),Kt={a:function Ti(Ee){return d[Ee.getDay()]},A:function dr(Ee){return s[Ee.getDay()]},b:function bi(Ee){return S[Ee.getMonth()]},B:function Ci(Ee){return T[Ee.getMonth()]},c:null,d:Fc,e:Fc,f:K_,H:J_,I:j_,j:q_,L:Pc,m:tv,M:ev,p:function oi(Ee){return a[+(Ee.getHours()>=12)]},q:function li(Ee){return 1+~~(Ee.getMonth()/3)},Q:Uc,s:Gc,S:nv,u:iv,U:rv,V:av,w:sv,W:ov,x:null,X:null,y:lv,Y:cv,Z:uv,"%":Bc},Se={a:function Ea(Ee){return d[Ee.getUTCDay()]},A:function aa(Ee){return s[Ee.getUTCDay()]},b:function sa(Ee){return S[Ee.getUTCMonth()]},B:function oa(Ee){return T[Ee.getUTCMonth()]},c:null,d:Rc,e:Rc,f:pv,H:hv,I:dv,j:fv,L:Zc,m:mv,M:gv,p:function Fi(Ee){return a[+(Ee.getUTCHours()>=12)]},q:function os(Ee){return 1+~~(Ee.getUTCMonth()/3)},Q:Uc,s:Gc,S:_v,u:vv,U:xv,V:yv,w:Tv,W:bv,x:null,X:null,y:Cv,Y:wv,Z:Av,"%":Bc},Pe={a:function Vn(Ee,an,Cn){var ue=_t.exec(an.slice(Cn));return ue?(Ee.w=Mt[ue[0].toLowerCase()],Cn+ue[0].length):-1},A:function zn(Ee,an,Cn){var ue=ot.exec(an.slice(Cn));return ue?(Ee.w=st[ue[0].toLowerCase()],Cn+ue[0].length):-1},b:function mi(Ee,an,Cn){var ue=$t.exec(an.slice(Cn));return ue?(Ee.m=ie[ue[0].toLowerCase()],Cn+ue[0].length):-1},B:function vi(Ee,an,Cn){var ue=Zt.exec(an.slice(Cn));return ue?(Ee.m=Tt[ue[0].toLowerCase()],Cn+ue[0].length):-1},c:function xi(Ee,an,Cn){return _n(Ee,r,an,Cn)},d:Oc,e:Oc,f:W_,H:Nc,I:Nc,j:V_,L:Y_,m:G_,M:z_,p:function Dn(Ee,an,Cn){var ue=P.exec(an.slice(Cn));return ue?(Ee.p=Y[ue[0].toLowerCase()],Cn+ue[0].length):-1},q:U_,Q:$_,s:Q_,S:H_,u:O_,U:N_,V:F_,w:M_,W:P_,x:function hr(Ee,an,Cn){return _n(Ee,e,an,Cn)},X:function yi(Ee,an,Cn){return _n(Ee,i,an,Cn)},y:Z_,Y:R_,Z:B_,"%":X_};function Te(Ee,an){return function(Cn){var Gi,en,ai,ue=[],ri=-1,Rn=0,Ui=Ee.length;for(Cn instanceof Date||(Cn=new Date(+Cn));++ri<Ui;)37===Ee.charCodeAt(ri)&&(ue.push(Ee.slice(Rn,ri)),null!=(en=Mc[Gi=Ee.charAt(++ri)])?Gi=Ee.charAt(++ri):en="e"===Gi?" ":"0",(ai=an[Gi])&&(Gi=ai(Cn,en)),ue.push(Gi),Rn=ri+1);return ue.push(Ee.slice(Rn,ri)),ue.join("")}}function dn(Ee,an){return function(Cn){var Rn,Ui,ue=ba(1900,void 0,1);if(_n(ue,Ee,Cn+="",0)!=Cn.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(1e3*ue.s+("L"in ue?ue.L:0));if(an&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+12*ue.p),void 0===ue.m&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ui=(Rn=lo(ba(ue.y,0,1))).getUTCDay(),Rn=Ui>4||0===Ui?Ka.ceil(Rn):Ka(Rn),Rn=Dc.offset(Rn,7*(ue.V-1)),ue.y=Rn.getUTCFullYear(),ue.m=Rn.getUTCMonth(),ue.d=Rn.getUTCDate()+(ue.w+6)%7):(Ui=(Rn=oo(ba(ue.y,0,1))).getDay(),Rn=Ui>4||0===Ui?es.ceil(Rn):es(Rn),Rn=Ic.offset(Rn,7*(ue.V-1)),ue.y=Rn.getFullYear(),ue.m=Rn.getMonth(),ue.d=Rn.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ui="Z"in ue?lo(ba(ue.y,0,1)).getUTCDay():oo(ba(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+7*ue.W-(Ui+5)%7:ue.w+7*ue.U-(Ui+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,lo(ue)):oo(ue)}}function _n(Ee,an,Cn,ue){for(var Gi,en,ri=0,Rn=an.length,Ui=Cn.length;ri<Rn;){if(ue>=Ui)return-1;if(37===(Gi=an.charCodeAt(ri++))){if(Gi=an.charAt(ri++),!(en=Pe[Gi in Mc?an.charAt(ri++):Gi])||(ue=en(Ee,Cn,ue))<0)return-1}else if(Gi!=Cn.charCodeAt(ue++))return-1}return ue}return Kt.x=Te(e,Kt),Kt.X=Te(i,Kt),Kt.c=Te(r,Kt),Se.x=Te(e,Se),Se.X=Te(i,Se),Se.c=Te(r,Se),{format:function(Ee){var an=Te(Ee+="",Kt);return an.toString=function(){return Ee},an},parse:function(Ee){var an=dn(Ee+="",!1);return an.toString=function(){return Ee},an},utcFormat:function(Ee){var an=Te(Ee+="",Se);return an.toString=function(){return Ee},an},utcParse:function(Ee){var an=dn(Ee+="",!0);return an.toString=function(){return Ee},an}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ys(rc),Ys(function kv(n){return null===n?NaN:+n}),o(47927),o(32517),o(38914),o(22910),o(65142),o(78986),o(16087);const r0=["caretElm"];function a0(n,r){}const s0=function(n){return{model:n}};function o0(n,r){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,a0,0,0,"ng-template",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.VKq(2,s0,e.context))}}function l0(n,r){if(1&n&&t._UZ(0,"span",6),2&n){const e=t.oxw();t.Q6J("innerHTML",e.title,t.oJD)}}function fx(n,r,e){e=e||{};let i,a,s,d=null,T=0;function S(){T=!1===e.leading?0:+new Date,d=null,s=n.apply(i,a)}return function(){const P=+new Date;!T&&!1===e.leading&&(T=P);const Y=r-(P-T);return i=this,a=arguments,Y<=0?(clearTimeout(d),d=null,T=P,s=n.apply(i,a)):!d&&!1!==e.trailing&&(d=setTimeout(S,Y)),s}}function px(n,r){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:fx(s.value,n,r)}),this[a]}}}}var pn=(()=>{return(n=pn||(pn={})).Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",pn;var n})();function tu(n,r,e){return e===pn.Top?n.top-7:e===pn.Bottom?n.top+n.height-r.height+7:e===pn.Center?n.top+n.height/2-r.height/2:void 0}function eu(n,r,e){return e===pn.Left?n.left-7:e===pn.Right?n.left+n.width-r.width+7:e===pn.Center?n.left+n.width/2-r.width/2:void 0}class Xi{static calculateVerticalAlignment(r,e,i){let a=tu(r,e,i);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(r,e,i,a){let s;a===pn.Top&&(s=r.height/2-i.height/2+7),a===pn.Bottom&&(s=e.height-r.height/2-i.height/2-7),a===pn.Center&&(s=e.height/2-i.height/2);const d=tu(r,e,a);return d+e.height>window.innerHeight&&(s+=d+e.height-window.innerHeight),s}static calculateHorizontalAlignment(r,e,i){let a=eu(r,e,i);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(r,e,i,a){let s;a===pn.Left&&(s=r.width/2-i.width/2+7),a===pn.Right&&(s=e.width-r.width/2-i.width/2-7),a===pn.Center&&(s=e.width/2-i.width/2);const d=eu(r,e,a);return d+e.width>window.innerWidth&&(s+=d+e.width-window.innerWidth),s}static shouldFlip(r,e,i,a){let s=!1;return i===pn.Right&&r.left+r.width+e.width+a>window.innerWidth&&(s=!0),i===pn.Left&&r.left-e.width-a<0&&(s=!0),i===pn.Top&&r.top-e.height-a<0&&(s=!0),i===pn.Bottom&&r.top+r.height+e.height+a>window.innerHeight&&(s=!0),s}static positionCaret(r,e,i,a,s){let d=0,T=0;return r===pn.Right?(T=-7,d=Xi.calculateVerticalCaret(i,e,a,s)):r===pn.Left?(T=e.width,d=Xi.calculateVerticalCaret(i,e,a,s)):r===pn.Top?(d=e.height,T=Xi.calculateHorizontalCaret(i,e,a,s)):r===pn.Bottom&&(d=-7,T=Xi.calculateHorizontalCaret(i,e,a,s)),{top:d,left:T}}static positionContent(r,e,i,a,s){let d=0,T=0;return r===pn.Right?(T=i.left+i.width+a,d=Xi.calculateVerticalAlignment(i,e,s)):r===pn.Left?(T=i.left-e.width-a,d=Xi.calculateVerticalAlignment(i,e,s)):r===pn.Top?(d=i.top-e.height-a,T=Xi.calculateHorizontalAlignment(i,e,s)):r===pn.Bottom&&(d=i.top+i.height+a,T=Xi.calculateHorizontalAlignment(i,e,s)),{top:d,left:T}}static determinePlacement(r,e,i,a){if(Xi.shouldFlip(i,e,r,a)){if(r===pn.Right)return pn.Left;if(r===pn.Left)return pn.Right;if(r===pn.Top)return pn.Bottom;if(r===pn.Bottom)return pn.Top}return r}}let mx=(()=>{class n{constructor(e,i,a){this.element=e,this.renderer=i,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,_.NF)(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=e.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(e,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,a){const{top:s,left:d}=Xi.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${d}px`)}positionCaret(e,i){const a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:d,left:T}=Xi.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(a,"top",`${d}px`),this.renderer.setStyle(a,"left",`${T}px`)}checkFlip(e,i){this.placement=Xi.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&t.Gf(r0,5),2&e){let a;t.iGM(a=t.CRH())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("resize",function(){return i.onWindowResize()},!1,t.Jf7),2&e&&t.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"span",0,1),t.TgZ(3,"div",2),t.YNc(4,o0,2,4,"span",3),t.YNc(5,l0,1,1,"span",4),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Gre("tooltip-caret position-",i.placement,""),t.Q6J("hidden",!i.showCaret),t.xp6(3),t.Q6J("ngIf",!i.title),t.xp6(1),t.Q6J("ngIf",i.title))},directives:[_.O5,_.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,Sn.gn)([px(100)],n.prototype,"onWindowResize",null),n})(),nu=(()=>{class n{constructor(e,i,a){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function _x(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const s of a)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const s of a)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},a){a||(a=this.getRootViewContainer());const s=this.getComponentRootNode(a),d=new El.u0(s,this.componentFactoryResolver,this.applicationRef,this.injector),T=new El.C5(e),S=d.attach(T);return this.projectComponentBindings(S,i),S}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t._Vd),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ho=(()=>{class n extends class gx{constructor(r){this.injectionService=r,this.defaults={},this.components=new Map}getByType(r=this.type){return this.components.get(r)}create(r){return this.createByType(this.type,r)}createByType(r,e){e=this.assignDefaults(e);const i=this.injectComponent(r,e);return this.register(r,i),i}destroy(r){const e=this.components.get(r.componentType);if(e&&e.length){const i=e.indexOf(r);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(r){const e=this.components.get(r);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(r,e){return this.injectionService.appendComponent(r,e)}assignDefaults(r){const e=Object.assign({},this.defaults.inputs),i=Object.assign({},this.defaults.outputs);return!r.inputs&&!r.outputs&&(r={inputs:r}),e&&(r.inputs=Object.assign(Object.assign({},e),r.inputs)),i&&(r.outputs=Object.assign(Object.assign({},i),r.outputs)),r}register(r,e){this.components.has(r)||this.components.set(r,[]),this.components.get(r).push(e)}}{constructor(e){super(e),this.type=mx}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(nu))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),lu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez]]}),n})();var na=(()=>{return(n=na||(na={})).popover="popover",n.tooltip="tooltip",na;var n})(),Er=(()=>{return(n=Er||(Er={}))[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",Er;var n})();let go,po=(()=>{class n{constructor(e,i,a){this.tooltipService=e,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=pn.Top,this.tooltipAlignment=pn.Center,this.tooltipType=na.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Er.all,this.tooltipImmediateExit=!1,this.show=new t.vpe,this.hide=new t.vpe}get listensForFocus(){return this.tooltipShowEvent===Er.all||this.tooltipShowEvent===Er.focus}get listensForHover(){return this.tooltipShowEvent===Er.all||this.tooltipShowEvent===Er.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ho),t.Y36(t.s_b),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&t.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),n})(),cu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[nu,ho],imports:[[_.ez]]}),n})();"undefined"!=typeof window?go=window:"undefined"!=typeof global&&(go=global);let ji=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,lu,cu],_.ez,lu,cu]}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),_u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Ix=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),vu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})();Math;let vo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji,vo,vu]]}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji]]}),n})(),Bx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ji,vo,_u]]}),n})(),Gx=(()=>{class n{constructor(){!function Ux(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ji,Lx,_u,kx,Ix,Mx,vu,Fx,Rx,vo,Zx,Bx]}),n})();function Vx(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner",3),t.qZA())}function zx(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_3")," "),t.xp6(3),t.Oqu(e.service)}}function Hx(n,r){1&n&&(t.O4$(),t.TgZ(0,"marker",10),t._UZ(1,"path",11),t.qZA())}function Yx(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",12),t._UZ(1,"rect"),t.TgZ(2,"text",13),t._uU(3),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.Q6J("tooltipTitle",e.tooltip)("tooltipPlacement","top")("tooltipType","tooltip"),t.xp6(1),t.uIk("fill",e.color)("height",e.dimension.height)("width",e.dimension.width),t.xp6(1),t.uIk("y",e.dimension.height/2)("x",10),t.xp6(1),t.hij(" ",e.label," ")}}function Wx(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",14),t._UZ(1,"path",15),t.TgZ(2,"text",16),t.TgZ(3,"textPath",17),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(3),t.uIk("href","#"+e.id),t.xp6(1),t.hij(" ",e.label," ")}}const Xx=function(n,r){return[n,r]};function $x(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"strong"),t._uU(8),t.qZA(),t.YNc(9,zx,5,4,"span",4),t.TgZ(10,"div",5),t.TgZ(11,"ngx-graph",6),t.YNc(12,Hx,2,0,"ng-template",null,7,t.W1O),t.YNc(14,Yx,4,9,"ng-template",null,8,t.W1O),t.YNc(16,Wx,5,2,"ng-template",null,9,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,12,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_1")," "),t.xp6(3),t.AsE("",e.user.firstName," ",e.user.lastName,""),t.xp6(1),t.hij(" ",t.lcZ(6,14,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_2")," "),t.xp6(3),t.Oqu(e.destination),t.xp6(1),t.Q6J("ngIf","noService"!==e.service),t.xp6(2),t.Q6J("links",e.hierarchialGraph.links)("nodes",e.hierarchialGraph.nodes)("view",t.WLB(16,Xx,e.innerWidth,e.innerHeight))("curve",e.curve)("draggingEnabled",!1)("zoomToFit$",e.zoomToFit$)}}function Qx(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_3")," "),t.xp6(3),t.Oqu(e.service)}}function Jx(n,r){if(1&n&&(t._uU(0),t.ALo(1,"translate"),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"strong"),t._uU(7),t.qZA(),t.YNc(8,Qx,5,4,"span",4),t._uU(9),t.ALo(10,"translate")),2&n){const e=t.oxw(2);t.hij(" ",t.lcZ(1,7,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_1")," "),t.xp6(3),t.AsE("",e.user.firstName," ",e.user.lastName,""),t.xp6(1),t.hij(" ",t.lcZ(5,9,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_2")," "),t.xp6(3),t.Oqu(e.destination),t.xp6(1),t.Q6J("ngIf","noService"!==e.service),t.xp6(1),t.hij(" ",t.lcZ(10,11,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_4")," ")}}function jx(n,r){if(1&n&&(t.YNc(0,$x,18,19,"div",1),t.YNc(1,Jx,11,13,"ng-template",null,2,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.isConnected)("ngIfElse",e)}}let qx=(()=>{class n{constructor(e,i,a,s,d,T,S,P,Y){this.route=e,this.facilityManager=i,this.userService=a,this.membersService=s,this.serviceService=d,this.resourceManager=T,this.groupService=S,this.voService=P,this.translate=Y,this.isConnected=!1,this.loading=!0,this.hierarchialGraph={nodes:[],links:[]},this.curve=$n,this.zoomToFit$=new En.xQ,this.idCounter=0}static findConnectedGroups(e,i){const a=[];for(const s of e)for(const d of i)s.id===d.id&&a.push(s);return a}static findConnectedResources(e,i){const a=[];for(const s of e)for(const d of i)s.id===d.id&&a.push(s);return a}onResize(){this.innerWidth=window.innerWidth<600?window.innerWidth:window.innerWidth-420,this.innerHeight=window.innerHeight}ngOnInit(){this.innerWidth=window.innerWidth<600?window.innerWidth:window.innerWidth-420,this.innerHeight=window.innerHeight,this.getLocalizedNames(),this.route.queryParams.subscribe(e=>{this.destination=String(e.destination),this.service=String(e.service),this.userService.getUserById(Number(e.user)).subscribe(i=>{this.user=i,this.facilityManager.getFacilitiesByDestination(this.destination).subscribe(a=>{this.facilities=a,this.membersService.getMembersByUser(this.user.id).subscribe(s=>{if(this.membership=s,0===this.membership.length||0===this.facilities.length)return this.loading=!1,void(this.isConnected=!1);this.showGraph()})})})})}showGraph(){var e,i;const a=""+this.id().toString(),s=null!==(i=null!==(e=this.user.firstName)&&void 0!==e?e:" "+this.user.lastName)&&void 0!==i?i:"",d=this.localUser,T="user: "+this.user.id.toString();this.hierarchialGraph.nodes.push({id:a,label:s,tooltip:d,color:"#FFFFCC",tip:T});const P=""+this.id().toString(),Y="destination no id";this.hierarchialGraph.nodes.push("noService"===this.service?{id:P,label:this.destination,tooltip:this.localDestination+": "+this.destination,color:"#E0E0E0",tip:Y}:{id:P,label:this.service+": "+this.destination,tooltip:this.localService+": "+this.service+", "+this.localDestination+": "+this.destination,color:"#E0E0E0",tip:Y});for(const ot of this.facilities)this.serviceService.getAllRichDestinationsForFacility(ot.id).subscribe(st=>{this.connectToService(ot,st),setTimeout(()=>{this.zoomToFit$.next(!0),this.loading=!1},2e3)})}connectToService(e,i){this.isConnectedToService(i)&&this.facilityManager.getAssignedResourcesForFacility(e.id).subscribe(a=>{for(const s of this.membership)this.connectToGroups(e,s,a)})}connectToGroups(e,i,a){this.facilityManager.getAllowedGroups(e.id,i.voId).subscribe(s=>{0!==s.length&&this.groupService.getMemberGroups(i.id).subscribe(d=>{const T=n.findConnectedGroups(s,d);if(0!==T.length)for(const S of T)this.connectToResource(e,S,a)})})}haveService(e){if("noService"===this.service)return!0;for(const i of e)if(this.service===i.name)return!0;return!1}connectToResource(e,i,a){this.resourceManager.getAssignedResourcesWithGroup(i.id).subscribe(s=>{const d=n.findConnectedResources(s,a);for(const T of d)this.resourceManager.getAssignedServicesToResource(T.id).subscribe(S=>{this.haveService(S)&&(this.isConnected=!0,this.addNodesToGraph(i.voId,i,T,e))})})}addNodesToGraph(e,i,a,s){if(-1===this.findEntityInGraph("Facility: "+s.id.toString())){const d=""+this.id().toString(),T=this.localFacility+": "+s.name,S=s.description,P="Facility: "+s.id.toString();this.hierarchialGraph.nodes.push({id:d,label:T,tooltip:S,color:"#FFCCFF",tip:P});const ot={source:d,target:this.hierarchialGraph.nodes[this.findEntityInGraph("destination no id")].id};this.hierarchialGraph.links.push(ot)}this.voService.getVoById(e).subscribe(d=>{if(-1===this.findEntityInGraph("Vo: "+d.id.toString())){const S=this.id().toString(),P=this.localVo+": "+d.shortName,Y=d.name,ot="Vo: "+d.id.toString();this.hierarchialGraph.nodes.push({id:S,label:P,tooltip:Y,color:"#E5FFCC",tip:ot});const _t={source:this.hierarchialGraph.nodes[this.findEntityInGraph("user: "+this.user.id.toString())].id,target:S};this.hierarchialGraph.links.push(_t)}if(-1===this.findEntityInGraph("Group: "+i.id.toString())){const S=this.id().toString(),P=this.localGroup+": "+i.name,Y=i.description,ot="Group: "+i.id.toString();this.hierarchialGraph.nodes.push({id:S,label:P,tooltip:Y,color:"#CCE5FF",tip:ot});const _t={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Vo: "+d.id.toString())].id,target:S};this.hierarchialGraph.links.push(_t)}const T=this.findEntityInGraph("Resource: "+a.id.toString());if(-1!==T){const S={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Group: "+i.id.toString())].id,target:this.hierarchialGraph.nodes[T].id};this.hierarchialGraph.links.push(S)}else{const S=this.id().toString(),P=this.localResource+": "+a.name,Y=a.description,ot="Resource: "+a.id.toString();this.hierarchialGraph.nodes.push({id:S,label:P,tooltip:Y,color:"#FFCCCC",tip:ot});const _t={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Group: "+i.id.toString())].id,target:S};this.hierarchialGraph.links.push(_t);const Mt={source:S,target:this.hierarchialGraph.nodes[this.findEntityInGraph("Facility: "+s.id.toString())].id};this.hierarchialGraph.links.push(Mt)}})}findEntityInGraph(e){for(let i=0;i<this.hierarchialGraph.nodes.length;i++)if(this.hierarchialGraph.nodes[i].tip===e)return i;return-1}isConnectedToService(e){for(const i of e)if(i.destination===this.destination&&(i.service.name===this.service||"noService"===this.service))return!0;return!1}id(){return this.idCounter++,this.idCounter}getLocalizedNames(){this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.USER").subscribe(e=>{this.localUser=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.VO").subscribe(e=>{this.localVo=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.GROUP").subscribe(e=>{this.localGroup=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.RESOURCE").subscribe(e=>{this.localResource=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.FACILITY").subscribe(e=>{this.localFacility=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.SERVICE").subscribe(e=>{this.localService=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.DESTINATION").subscribe(e=>{this.localDestination=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(V.IQ),t.Y36(V.Fv),t.Y36(V.uq),t.Y36(V.KK),t.Y36(V.xk),t.Y36(V.ff),t.Y36(V.YF),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-destination-graph"]],hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("resize",function(s){return i.onResize(s)},!1,t.Jf7),2&e&&t.ekj("router-component",i.true)},decls:6,vars:5,consts:[[1,"page-subtitle"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"ml-auto","mr-auto"],[4,"ngIf"],[1,"card","w-100","h-100"],[1,"chart-container",3,"links","nodes","view","curve","draggingEnabled","zoomToFit$"],["defsTemplate",""],["nodeTemplate",""],["linkTemplate",""],["id","arrow","markerHeight","4","refX","8","refY","0","markerWidth","4","orient","auto","viewBox","0 -5 10 10"],["d","M0,-5L10,0L0,5",1,"arrow-head"],["ngx-tooltip","",1,"node",3,"tooltipTitle","tooltipPlacement","tooltipType"],["alignment-baseline","central"],[1,"edge"],["marker-end","url(#arrow)","stroke-width","2",1,"line"],["text-anchor","end",1,"edge-label"],["startOffset","60%",2,"fill","#000"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,Vx,2,0,"div",1),t.YNc(4,jx,3,2,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(5);t.xp6(1),t.hij(" ",t.lcZ(2,3,"ADMIN.VISUALIZER.USER_DESTINATION.TITLE"),"\n"),t.xp6(2),t.Q6J("ngIf",i.loading)("ngIfElse",a)}},directives:[_.O5,W.$g,nm,po],pipes:[u.X$],styles:[""]}),n})();var Kx=o(25828),xu=o(69024),ty=o(29862),Aa=o(16074),ey=o(31359);function ny(n,r){1&n&&t._UZ(0,"mat-spinner",3)}function iy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editUser()}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).anonymizeUser()}),t.TgZ(5,"mat-icon"),t._uU(6,"no_accounts"),t.qZA(),t.qZA(),t.qZA()}}const ry=function(){return{color:"black"}},ay=function(n){return["/admin/users",n]};function sy(n,r){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"mat-icon",5),t.ALo(2,"translate"),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"a",8),t._uU(6),t.ALo(7,"userFullName"),t.qZA(),t.TgZ(8,"span",9),t._uU(9),t.qZA(),t.YNc(10,iy,7,0,"span",10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"span",11),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",t.lcZ(2,12,"ADMIN_USER.ENTITY")),t.Q6J("ngStyle",t.DdM(22,ry))("svgIcon",e.svgIcon),t.xp6(4),t.Q6J("routerLink",t.VKq(23,ay,e.user.id)),t.xp6(1),t.hij(" ",t.lcZ(7,14,e.user)," "),t.xp6(3),t.hij(" \xa0#",e.user.id," "),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(2),t.AsE("",t.lcZ(13,16,"ADMIN_USER.UUID"),": ",e.user.uuid,""),t.xp6(3),t.lnq(" ",t.lcZ(16,18,"ADMIN_USER.ENTITY"),", ",t.lcZ(17,20,"ADMIN_USER.USER_TYPE"),": ",e.getUserType()," ")}}let oy=(()=>{class n{constructor(e,i,a,s,d,T,S,P){this.route=e,this.usersService=i,this.sideMenuService=a,this.sideMenuItemService=s,this.dialog=d,this.authResolver=T,this.entityStorageService=S,this.router=P,this.loading=!1,this.svgIcon="perun-user-dark"}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{const i=Number(e.userId);this.entityStorageService.setEntity({id:Number(i),beanName:"User"}),this.path=`/admin/users/${i}`,this.regex="/admin/users/\\d+",this.usersService.getUserById(i).subscribe(a=>{this.user=a,this.user.serviceUser&&(this.svgIcon="perun-service-identity");const s=this.sideMenuItemService.parseUser(a,this.path,this.regex);this.sideMenuService.setAdminItems([s]),this.loading=!1},()=>this.loading=!1)})}editUser(){const e=(0,Ce.kZ)();e.width="450px",e.data={theme:"admin-theme",user:this.user},this.dialog.open(ty.x,e).afterClosed().subscribe(a=>{a&&this.usersService.getUserById(this.user.id).subscribe(s=>{this.user=s})})}getUserType(){return this.user.serviceUser?"Service":"Person"}anonymizeUser(){const e=(0,Ce.kZ)();e.width="550px",e.data={theme:"admin-theme",user:this.user},this.dialog.open(Aa.GI,e).afterClosed().subscribe(a=>{a&&this.router.navigate(["/admin","users"],{queryParamsHandling:"merge"})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(V.Fv),t.Y36(p.D),t.Y36(xu.V),t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.fb),t.Y36(f.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-user-detail-page"]],decls:5,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","user-theme"],["class","mr-auto ml-auto",4,"ngIf"],["class","d-flex page-title-headtitle",4,"ngIf"],[1,"mr-auto","ml-auto"],[1,"d-flex","page-title-headtitle"],[1,"perun-icon","perun-icon-detail",3,"ngStyle","svgIcon","matTooltip"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"user-link",3,"routerLink"],[1,"text-muted"],[4,"ngIf"],[1,"mt-1","entity-info"],["mat-icon-button","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.YNc(2,ny,1,0,"mat-spinner",1),t.YNc(3,sy,18,25,"div",2),t._UZ(4,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&void 0!==i.user))},directives:[l.W,_.O5,W.$g,h.Hw,_.PC,ne.gM,f.yS,nt.lW,m.A],pipes:[u.X$,ey.d],styles:[""]}),n})();var ly=o(17755),cy=o(74837),uy=o(85985),hy=o(98973),dy=o(15935);function fy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onLoad()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.EXT_SOURCES.LOAD")," "))}function py(n,r){1&n&&t._UZ(0,"mat-spinner",6)}const my=function(){return["id","name","type"]};function gy(n,r){if(1&n&&t._UZ(0,"app-ext-sources-list",7),2&n){const e=t.oxw();t.Q6J("extSources",e.extSources)("filterValue",e.filterValue)("displayedColumns",t.DdM(4,my))("tableId",e.tableId)}}let _y=(()=>{class n{constructor(e,i,a,s){this.extSourceService=e,this.notificator=i,this.translate=a,this.authResolver=s,this.extSources=[],this.filterValue="",this.loading=!1,this.tableId=Ae.qy,this.translate.get("ADMIN.EXT_SOURCES.LOAD_SUCCESS").subscribe(d=>this.loadSuccess=d)}ngOnInit(){this.refreshTable()}applyFilter(e){this.filterValue=e}onLoad(){this.extSourceService.loadExtSourcesDefinitions().subscribe(()=>{this.notificator.showSuccess(this.loadSuccess),this.refreshTable()})}refreshTable(){this.loading=!0,this.extSourceService.getExtSources().subscribe(e=>{this.extSources=e,this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.KG),t.Y36(U.V6),t.Y36(u.sK),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-ext-sources"]],decls:8,vars:7,consts:[[1,"page-subtitle"],["class","mr-2","mat-stroked-button","",3,"click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"extSources","filterValue","displayedColumns","tableId",4,"ngIf"],["mat-stroked-button","",1,"mr-2",3,"click"],[1,"ml-auto","mr-auto"],[3,"extSources","filterValue","displayedColumns","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,fy,3,3,"button",1),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(6,py,1,0,"mat-spinner",3),t.YNc(7,gy,1,5,"app-ext-sources-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.EXT_SOURCES.TITLE")),t.xp6(2),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.EXT_SOURCES.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[_.O5,nt.lW,sn.L,W.$g,dy.D],pipes:[u.X$],styles:[""]}),n})();var vy=o(6097),xy=o(97453),as=o(1059),ss=o(24850);function yy(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function Ty(n,r){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function by(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"mat-form-field",8),t._UZ(2,"input",9),t.ALo(3,"translate"),t.TgZ(4,"mat-error"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",8),t._UZ(8,"input",10),t.ALo(9,"translate"),t.TgZ(10,"mat-error"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"mat-autocomplete",11,12),t.YNc(15,Ty,2,2,"mat-option",13),t.ALo(16,"async"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.MAs(14),i=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,9,"DIALOGS.ADD_USER_EXT_SOURCE.LOGIN")),t.Q6J("formControl",i.loginControl),t.xp6(3),t.hij(" ",t.lcZ(6,11,"DIALOGS.ADD_USER_EXT_SOURCE.EMPTY_LOGIN")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(9,13,"DIALOGS.ADD_USER_EXT_SOURCE.EXT_SOURCE")),t.Q6J("formControl",i.extSourcesControl)("matAutocomplete",e),t.xp6(3),t.hij(" ",t.lcZ(12,15,"DIALOGS.ADD_USER_EXT_SOURCE.EMPTY_EXT_SOURCE")," "),t.xp6(2),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(16,17,i.filteredExtSources))}}let Cy=(()=>{class n{constructor(e,i,a,s,d,T){this.dialogRef=e,this.data=i,this.extSourcesManagerService=a,this.usersManagerService=s,this.translate=d,this.notificator=T,this.extSources=[],d.get("DIALOGS.ADD_USER_EXT_SOURCE.SUCCESS").subscribe(S=>this.successMessage=S)}ngOnInit(){this.loading=!0,this.loginControl=new E.NI("",[E.kI.required,E.kI.pattern(".*[\\S]+.*")]),this.extSourcesControl=new E.NI("",[E.kI.required]),this.loginControl.markAllAsTouched(),this.extSourcesControl.markAllAsTouched(),this.filteredExtSources=this.extSourcesControl.valueChanges.pipe((0,as.O)(""),(0,ss.U)(e=>this._filter(e))),this.extSourcesManagerService.getExtSources().subscribe(e=>{this.extSources=e,this.filteredExtSources=this.extSourcesControl.valueChanges.pipe((0,as.O)(""),(0,ss.U)(i=>this._filter(i))),this.loading=!1},()=>this.loading=!1)}displayFn(e){return e?e.name:null}onCancel(){this.dialogRef.close(!1)}onAdd(){this.loading=!0,this.usersManagerService.addUserExtSource({user:this.data.userId,userExtSource:{beanName:"",extSource:this.extSourcesControl.value,id:0,login:this.loginControl.value,userId:this.data.userId}}).subscribe(()=>{this.loading=!1,this.notificator.showSuccess(this.successMessage),this.dialogRef.close(!0)},()=>this.loading=!1)}_filter(e){const i="string"==typeof e?e.toLowerCase():e.name.toLowerCase();return this.extSources.filter(a=>a.name.toLowerCase().includes(i))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(V.KG),t.Y36(V.Fv),t.Y36(u.sK),t.Y36(U.V6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-user-ext-source-dialog"]],decls:13,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-container","user-theme"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[1,"center-self","w-100"],["matInput","","required","",3,"formControl","placeholder"],["matInput","","required","","type","text",3,"formControl","matAutocomplete","placeholder"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,yy,1,0,"mat-spinner",2),t.YNc(5,by,17,19,"div",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.onAdd()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"DIALOGS.ADD_USER_EXT_SOURCE.TITLE")),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.ADD_USER_EXT_SOURCE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loginControl.invalid||i.extSourcesControl.invalid||i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.ADD_USER_EXT_SOURCE.ADD")," "))},directives:[O.uh,O.xY,_.O5,W.$g,it.KE,z.Nt,E.Fj,E.Q7,E.JJ,E.oH,it.TO,gt.ZL,gt.XC,_.sg,Rt.ey,O.H8,nt.lW],pipes:[u.X$,_.Ov],styles:[".column-size[_ngcontent-%COMP%]{width:10rem!important;font-weight:700}.center-self[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.auto-width[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto!important}.auto-width[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{max-width:100%;width:auto}.pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),n})();var wy=o(80275);function Ay(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addIdentity()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"USER_DETAIL.IDENTITIES.ADD"),"\n"))}function Ey(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeIdentity()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"USER_DETAIL.IDENTITIES.REMOVE"),"\n")}}function Sy(n,r){1&n&&t._UZ(0,"mat-spinner",10)}function Dy(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-user-ext-sources-list",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("displayedColumns",e.displayedColumns)("filterValue",e.filterValue)("selection",e.selection)("tableId",e.tableId)("userExtSources",e.userExtSources)}}let Ly=(()=>{class n{constructor(e,i,a,s,d,T){this.usersManagerService=e,this.storage=i,this.registrarManagerService=a,this.dialog=s,this.route=d,this.authResolver=T,this.userExtSources=[],this.selection=new F.Ov(!1,[]),this.displayedColumns=["select","id","extSourceName","login","lastAccess"],this.tableId=Ae.gG,this.filterValue=""}ngOnInit(){this.route.parent.params.subscribe(e=>{this.userId=Number(e.userId)}),this.refreshTable()}refreshTable(){this.loading=!0,this.selection.clear(),this.usersManagerService.getRichUserExtSources(this.userId).subscribe(e=>{this.userExtSources=e,this.loading=!1},()=>this.loading=!1)}addIdentity(){const e=(0,Ce.kZ)();e.width="1000px",e.data={userId:this.userId},this.dialog.open(Cy,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}removeIdentity(){const e=(0,Ce.kZ)();e.width="450px",e.data={showSuccess:!0,theme:"user-theme",userId:this.userId,extSources:this.selection.selected},this.dialog.open(Aa.Lc,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.Fv),t.Y36(U.d6),t.Y36(V.tk),t.Y36(O.uw),t.Y36(f.gz),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-identities"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["class","mr-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],[1,"admin-theme"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","filterValue","selection","tableId","userExtSources"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(4,Ay,3,3,"button",2),t.YNc(5,Ey,3,4,"button",3),t.TgZ(6,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,Sy,1,0,"mat-spinner",6),t.qZA(),t.YNc(9,Dy,2,5,"div",7)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"USER_DETAIL.IDENTITIES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","USER_DETAIL.IDENTITIES.FILTER_PLACEHOLDER"),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,_.O5,nt.lW,sn.L,W.$g,wy.j],pipes:[u.X$],styles:[""]}),n})();var ky=o(80774),Iy=o(62109);function My(n,r){1&n&&t._UZ(0,"mat-spinner",5)}const Oy=function(){return["id","name","vo","facility","description"]};function Ny(n,r){if(1&n&&t._UZ(0,"perun-web-apps-resources-list",6),2&n){const e=t.oxw();t.Q6J("displayedColumns",t.DdM(4,Oy))("resources",e.resources)("filterValue",e.filterValue)("tableId",e.tableId)}}let Fy=(()=>{class n{constructor(e,i){this.userManager=e,this.route=i,this.resources=[],this.tableId=Ae.kO,this.filterValue=""}ngOnInit(){this.refreshTable()}refreshTable(){this.loading=!0,this.route.parent.params.subscribe(e=>{const i=Number(e.userId);this.userManager.getAssignedRichResourcesForUser(i).subscribe(a=>{this.resources=a,this.loading=!1})})}resourceFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.Fv),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-user-resources"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"displayedColumns","resources","filterValue","tableId",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","resources","filterValue","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(s){return i.resourceFilter(s)}),t.qZA(),t.YNc(6,My,1,0,"mat-spinner",3),t.YNc(7,Ny,1,5,"perun-web-apps-resources-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"USER_DETAIL.RESOURCES.TITLE")),t.xp6(3),t.Q6J("placeholder","SHARED_LIB.PERUN.COMPONENTS.RESOURCES_LIST.TABLE_SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,sn.L,_.O5,W.$g,Iy.C],pipes:[u.X$],styles:[""]}),n})();var Py=o(61365),Ry=o(71103),Zy=o(53984);const By=["list"];function Uy(n,r){1&n&&t._UZ(0,"mat-spinner",8)}function Gy(n,r){if(1&n&&t._UZ(0,"perun-web-apps-attributes-list",9,10),2&n){const e=t.oxw();t.Q6J("selection",e.selection)("attributes",e.attributes)("tableId",e.tableId)}}let Vy=(()=>{class n{constructor(e,i,a,s){this.dialog=e,this.attributesManager=i,this.userService=a,this.route=s,this.loading=!1,this.selection=new F.Ov(!0,[]),this.tableId=Ae.rF,this.attributes=[]}ngOnInit(){this.route.params.subscribe(e=>{const i=Number(e.identityId);this.userService.getUserExtSourceById(i).subscribe(a=>{this.userExtSource=a,this.refreshTable()})})}refreshTable(){this.loading=!0,this.attributesManager.getUserExtSourceAttributes(this.userExtSource.id).subscribe(e=>{this.attributes=(0,Ce.MX)(e),this.selection.clear(),this.loading=!1})}onAdd(){const e=(0,Ce.kZ)();e.width="1050px",e.data={entityId:this.userExtSource.id,entity:"ues",notEmptyAttributes:this.attributes,style:"user-theme"},this.dialog.open(Ry.n,e).afterClosed().subscribe(a=>{"saved"===a&&this.refreshTable()})}onSave(){this.list.updateMapAttributes();const e=(0,Ce.kZ)();e.width="450px",e.data={entityId:this.userExtSource.id,entity:"ues",attributes:this.selection.selected},this.dialog.open(Aa.wA,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onRemove(){const e=(0,Ce.kZ)();e.width="450px",e.data={entityId:this.userExtSource.id,entity:"ues",attributes:this.selection.selected},this.dialog.open(Py.k,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(V.H8),t.Y36(V.Fv),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-identity-detail"]],viewQuery:function(e,i){if(1&e&&t.Gf(By,5),2&e){let a;t.iGM(a=t.CRH())&&(i.list=a.first)}},decls:26,vars:32,consts:[[1,"page-subtitle"],[1,"mb-2"],[3,"refresh"],["color","accent","mat-flat-button","",1,"mr-2",3,"disabled","click"],["color","accent","mat-flat-button","",1,"mr-2",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],["class","ml-auto mr-auto",4,"ngIf"],[3,"selection","attributes","tableId",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"selection","attributes","tableId"],["list",""]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",1),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"perun-web-apps-refresh-button",2),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(15,"button",3),t.NdJ("click",function(){return i.onSave()}),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",4),t.NdJ("click",function(){return i.onAdd()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",5),t.NdJ("click",function(){return i.onRemove()}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.YNc(24,Uy,1,0,"mat-spinner",6),t.YNc(25,Gy,2,3,"perun-web-apps-attributes-list",7),t.qZA()),2&e&&(t.xp6(2),t.AsE(" ",t.lcZ(3,15,"SHARED.IDENTITY_DETAIL.TITLE")," - ",i.userExtSource?i.userExtSource.extSource.name:""," "),t.xp6(3),t.AsE(" ",t.lcZ(6,17,"SHARED.IDENTITY_DETAIL.TYPE"),": ",i.userExtSource?i.userExtSource.extSource.type:""," "),t.xp6(3),t.AsE(" ",t.lcZ(9,19,"SHARED.IDENTITY_DETAIL.LOGIN"),": ",i.userExtSource?i.userExtSource.login:""," "),t.xp6(3),t.AsE(" ",t.lcZ(12,21,"SHARED.IDENTITY_DETAIL.LAST_ACCESS"),": ",i.userExtSource?t.xi3(13,23,i.userExtSource.lastAccess,"d.M.y H:mm:ss"):""," "),t.xp6(4),t.Q6J("disabled",0===i.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(17,26,"SHARED.IDENTITY_DETAIL.SAVE")," "),t.xp6(3),t.hij(" ",t.lcZ(20,28,"SHARED.IDENTITY_DETAIL.ADD")," "),t.xp6(2),t.Q6J("disabled",0===i.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(23,30,"SHARED.IDENTITY_DETAIL.REMOVE")," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,nt.lW,_.O5,W.$g,Zy.p],pipes:[u.X$,_.uU],styles:[""]}),n})();var zy=o(40009),Hy=o(90719);function Yy(n,r){1&n&&t._UZ(0,"mat-spinner",3)}function Wy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editService()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}function Xy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).removeService()}),t.TgZ(1,"mat-icon"),t._uU(2,"delete_forever"),t.qZA(),t.qZA()}}function $y(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).evaluateConsents()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SERVICE_DETAIL.EVALUATE_CONSENTS")," "))}const Qy=function(){return{color:"black"}},Jy=function(n){return["/admin/services",n]};function jy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t._UZ(1,"mat-icon",5),t.ALo(2,"translate"),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"a",8),t._uU(6),t.qZA(),t.TgZ(7,"span",9),t._uU(8),t.qZA(),t.YNc(9,Wy,3,0,"button",10),t.YNc(10,Xy,3,0,"button",11),t.qZA(),t.TgZ(11,"span",12),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",12),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"translate"),t.ALo(20,"translate"),t.TgZ(21,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeServiceStatus()}),t.TgZ(22,"mat-icon",14),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t._uU(24),t.ALo(25,"translate"),t.TgZ(26,"span"),t._uU(27),t.ALo(28,"translate"),t.ALo(29,"translate"),t.qZA(),t.YNc(30,$y,3,3,"button",15),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",t.lcZ(2,15,"SERVICE_DETAIL.ENTITY")),t.Q6J("ngStyle",t.DdM(31,Qy)),t.xp6(4),t.Q6J("routerLink",t.VKq(32,Jy,e.service.id)),t.xp6(1),t.hij(" ",e.service.name," "),t.xp6(2),t.hij(" \xa0 #",e.service.id," "),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(2),t.AsE(" ",t.lcZ(13,17,"SERVICE_DETAIL.DESCRIPTION"),": ",e.service.description," "),t.xp6(3),t.hij(" ",t.lcZ(16,19,"SERVICE_DETAIL.STATUS"),": "),t.xp6(3),t.hij(" ",e.service.enabled?t.lcZ(19,21,"SERVICE_DETAIL.ENABLED"):t.lcZ(20,23,"SERVICE_DETAIL.DISABLED")," "),t.xp6(5),t.hij(" ",e.service.enabled?"check_circle_outline":"block"," "),t.xp6(1),t.hij(" ",t.lcZ(25,25,"SERVICE_DETAIL.EXPIRED_MEMBERS"),": "),t.xp6(3),t.hij(" ",e.service.useExpiredMembers?t.lcZ(28,27,"SERVICE_DETAIL.PROPAGATED"):t.lcZ(29,29,"SERVICE_DETAIL.NOT_PROPAGATED")," "),t.xp6(3),t.Q6J("ngIf",e.authResolver.isPerunAdmin())}}let qy=(()=>{class n{constructor(e,i,a,s,d,T,S,P,Y,ot,st){this.route=e,this.router=i,this.consentsManager=a,this.serviceManager=s,this.sideMenuService=d,this.sideMenuItemService=T,this.dialog=S,this.authResolver=P,this.translate=Y,this.notificator=ot,this.entityStorageService=st,this.loading=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.serviceId=Number(e.serviceId),this.refresh()})}editService(){const e=(0,Ce.kZ)();e.width="600px",e.data={theme:"service-theme",service:this.service},this.dialog.open(zy.R,e).afterClosed().subscribe(a=>{a&&this.ngOnInit()})}removeService(){const e=(0,Ce.kZ)();e.width="600px",e.data={theme:"service-theme",services:[this.service]},this.dialog.open(Hy.m,e).afterClosed().subscribe(a=>{a&&this.router.navigate(["/admin/services"])})}changeServiceStatus(){this.loading=!0,this.serviceManager.updateService({service:{name:this.service.name,description:this.service.description,delay:this.service.delay,recurrence:this.service.recurrence,enabled:!this.service.enabled,script:this.service.script,useExpiredMembers:this.service.useExpiredMembers,id:this.service.id,beanName:this.service.beanName}}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.STATUS_CHANGE_SUCCESS")),this.refresh()},()=>this.loading=!1)}evaluateConsents(){const e=(0,Ce.kZ)();e.width="500px",e.data={title:this.translate.instant("SERVICE_DETAIL.CONFIRM_DIALOG_TITLE"),theme:"service-theme",description:this.translate.instant("SERVICE_DETAIL.CONFIRM_DIALOG_DESCRIPTION"),items:[this.service.name],type:"confirmation",showAsk:!1},this.dialog.open(Aa.Ts,e).afterClosed().subscribe(a=>{a&&this.consentsManager.evaluateConsentsForService(this.service.id).subscribe(()=>this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.EVALUATION_FINISH")))})}refresh(){this.serviceManager.getServiceById(this.serviceId).subscribe(e=>{this.service=e,this.entityStorageService.setEntity({id:e.id,beanName:e.beanName});const i=this.sideMenuItemService.parseService(this.service);this.sideMenuService.setAdminItems([i]),this.loading=!1},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(V.WY),t.Y36(V.KK),t.Y36(p.D),t.Y36(xu.V),t.Y36(O.uw),t.Y36(U.x4),t.Y36(u.sK),t.Y36(U.V6),t.Y36(U.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-detail-page"]],decls:5,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","service-theme"],["class","ml-auto mr-auto",4,"ngIf"],["class","d-flex page-title-headtitle",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-service",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"service-link",3,"routerLink"],[1,"text-muted"],["aria-label","Edit service","mat-icon-button","",3,"click",4,"ngIf"],["aria-label","Remove service","mat-icon-button","",3,"click",4,"ngIf"],[1,"mt-1","entity-info"],["mat-icon-button","",1,"icon-button","mr-2",3,"click"],[1,"align-bottom"],["color","accent","class","action-button ml-2","mat-flat-button","",3,"click",4,"ngIf"],["aria-label","Edit service","mat-icon-button","",3,"click"],["aria-label","Remove service","mat-icon-button","",3,"click"],["color","accent","mat-flat-button","",1,"action-button","ml-2",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.YNc(2,Yy,1,0,"mat-spinner",1),t.YNc(3,jy,31,34,"div",2),t._UZ(4,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&void 0!==i.service))},directives:[l.W,_.O5,W.$g,h.Hw,ne.gM,_.PC,f.yS,nt.lW,m.A],pipes:[u.X$],styles:[".icon-button[_ngcontent-%COMP%]{line-height:inherit!important;width:inherit!important;height:inherit!important}"],data:{animation:[wn.Ji]}}),n})(),Ky=(()=>{class n{constructor(){this.navItems=[]}ngOnInit(){this.initNavItems()}initNavItems(){this.navItems=[{cssIcon:"perun-attributes",url:"required-attributes",label:"MENU_ITEMS.SERVICE.REQUIRED_ATTRIBUTES",style:"service-btn"},{cssIcon:"perun-service_destination",url:"destinations",label:"MENU_ITEMS.SERVICE.DESTINATIONS",style:"service-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-overview"]],decls:1,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&t._UZ(0,"perun-web-apps-menu-buttons-field",0),2&e&&t.Q6J("items",i.navItems)("size","small")},directives:[A.L],styles:[""]}),n})();var t1=o(5254),e1=o(21406),n1=o(826),i1=o(69054);class a1{constructor(r,e){this.keySelector=r,this.flushes=e}call(r,e){return e.subscribe(new s1(r,this.keySelector,this.flushes))}}class s1 extends n1.L{constructor(r,e,i){super(r),this.keySelector=e,this.values=new Set,i&&this.add((0,i1.D)(this,i))}notifyNext(r,e,i,a,s){this.values.clear()}notifyError(r,e){this._error(r)}_next(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)}_useKeySelector(r){let e;const{destination:i}=this;try{e=this.keySelector(r)}catch(a){return void i.error(a)}this._finalizeNext(e,r)}_finalizeNext(r,e){const{values:i}=this;i.has(r)||(i.add(r),this.destination.next(e))}}var o1=o(61709),yu=o(92014),Tu=o(92821),l1=o(47314),bu=o(4843);function u1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function h1(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.Q6J("alert_type","warn"),t.xp6(1),t.Oqu(t.lcZ(2,2,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.ACTIVE_WARN")))}function d1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.YNc(1,h1,3,4,"perun-web-apps-alert",6),t.ALo(2,"async"),t.TgZ(3,"perun-web-apps-immediate-filter",7),t.NdJ("filter",function(a){return t.CHM(e),t.oxw().applyFilter(a)}),t.qZA(),t._UZ(4,"app-attr-def-list",8),t.ALo(5,"async"),t.ALo(6,"async"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,8,e.serviceEnabled$)),t.xp6(2),t.Q6J("placeholder","DIALOGS.ADD_REQUIRED_ATTRIBUTES.FILTER"),t.xp6(1),t.Q6J("selection",e.selection)("definitions",e.attrDefinitions)("disableRouting",!0)("filterValue",e.filterValue)("serviceEnabled",t.lcZ(5,10,e.serviceEnabled$))("consentRequired",t.lcZ(6,12,e.consentRequired$))}}function f1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.CANCEL")," "),t.xp6(2),t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(6,5,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.ADD")," ")}}let p1=(()=>{class n{constructor(e,i,a,s,d,T,S,P){this.dialogRef=e,this.data=i,this.serviceManager=a,this.attributesManager=s,this.facilitiesService=d,this.consentHubService=T,this.notificator=S,this.translate=P,this.consentRequired$=this.facilitiesService.getAssignedFacilitiesByService(this.data.serviceId).pipe((0,e1.b)(t1.D),(0,ss.U)(Y=>Y.id),function r1(n,r){return e=>e.lift(new a1(n,r))}(),(0,o1.zg)(Y=>this.consentHubService.getConsentHubByFacility(Y)),function c1(n,r){return arguments.length>=2?function(i){return(0,bu.z)((0,yu.R)(n,r),(0,Tu.h)(1),(0,l1.d)(r))(i)}:function(i){return(0,bu.z)((0,yu.R)((a,s,d)=>n(a,s,d+1)),(0,Tu.h)(1))(i)}}((Y,ot)=>Y||ot.enforceConsents,!1),(0,as.O)(!0)),this.serviceEnabled$=this.serviceManager.getServiceById(this.data.serviceId).pipe((0,ss.U)(Y=>Y.enabled),(0,as.O)(!0)),this.attrDefinitions=[],this.selection=new F.Ov(!0,[]),this.filterValue="",this.loading=!1}ngOnInit(){this.loading=!0,this.theme=this.data.theme,this.serviceId=this.data.serviceId,this.attributesManager.getAllAttributeDefinitions().subscribe(e=>{this.attrDefinitions=e,this.loading=!1})}onAdd(){this.loading=!0;const e=this.selection.selected.map(i=>i.id);this.serviceManager.addRequiredAttributes(this.serviceId,e).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.ADD_REQUIRED_ATTRIBUTES.SUCCESS")),this.dialogRef.close(!0),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(V.KK),t.Y36(V.H8),t.Y36(V.IQ),t.Y36(V.WY),t.Y36(U.V6),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-required-attributes"]],decls:7,vars:9,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","","class","dialog-container",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"mr-auto","ml-auto"],["mat-dialog-content","",1,"dialog-container"],[3,"alert_type",4,"ngIf"],[3,"placeholder","filter"],[3,"selection","definitions","disableRouting","filterValue","serviceEnabled","consentRequired"],[3,"alert_type"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,u1,1,0,"mat-spinner",1),t.YNc(5,d1,7,14,"div",2),t.YNc(6,f1,7,7,"div",3),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(t.lcZ(3,7,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[O.uh,_.O5,W.$g,O.xY,rt.w,sn.L,wt,O.H8,nt.lW],pipes:[u.X$,_.Ov],styles:[""]}),n})();function m1(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function g1(n,r){1&n&&t._UZ(0,"th",15)}function _1(n,r){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function v1(n,r){1&n&&t._UZ(0,"tr",17)}function x1(n,r){1&n&&t._UZ(0,"tr",18)}function y1(n,r){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",9),t.ynx(8,10),t.YNc(9,g1,1,0,"th",11),t.YNc(10,_1,2,1,"td",12),t.BQk(),t.YNc(11,v1,1,0,"tr",13),t.YNc(12,x1,1,0,"tr",14),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.DESCRIPTION")),t.xp6(3),t.hij(" ",t.lcZ(6,7,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.ASK")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}let T1=(()=>{class n{constructor(e,i,a,s,d){this.dialogRef=e,this.data=i,this.serviceManager=a,this.notificator=s,this.translate=d,this.displayedColumns=["name"],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.serviceId=this.data.serviceId,this.dataSource=new R.by(this.data.attrDefinitions)}onConfirm(){this.loading=!0;const e=this.dataSource.data.map(i=>i.id);this.serviceManager.removeRequiredAttributes(this.serviceId,e).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.SUCCESS")),this.dialogRef.close(!0),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(V.KK),t.Y36(U.V6),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-remove-required-attributes"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","font-weight-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div"),t.YNc(4,m1,1,0,"mat-spinner",1),t.YNc(5,y1,13,9,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.onConfirm()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,9,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.TITLE")),t.xp6(2),t.Tol(i.theme),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,11,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,13,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.REMOVE")," "))},directives:[O.uh,_.O5,W.$g,O.xY,R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();function b1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.ADD")," "))}function C1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemove()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.REMOVE")," ")}}function w1(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function A1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-attr-def-list",10),t.NdJ("refreshEvent",function(){return t.CHM(e),t.oxw().refreshTable()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("definitions",e.attrDefinitions)("filterValue",e.filterValue)("selection",e.selection)("disableRouting",!e.authResolver.isPerunAdmin())("tableId",e.tableId)}}let E1=(()=>{class n{constructor(e,i,a,s){this.attributeManager=e,this.dialog=i,this.authResolver=a,this.entityStorageService=s,this.loading=!1,this.filterValue="",this.selection=new F.Ov(!0,[]),this.attrDefinitions=[],this.tableId=Ae.JO}ngOnInit(){this.loading=!0,this.service=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.attributeManager.getRequiredAttributesDefinition(this.service.id).subscribe(e=>{this.selection.clear(),this.attrDefinitions=e,this.loading=!1})}onAdd(){const e=(0,Ce.kZ)();e.width="950px",e.data={serviceId:this.service.id,theme:"service-theme"},this.dialog.open(p1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onRemove(){const e=(0,Ce.kZ)();e.width="650px",e.data={serviceId:this.service.id,attrDefinitions:this.selection.selected,theme:"service-theme"},this.dialog.open(T1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.H8),t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-required-attributes"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","mr-2 action-button","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"definitions","filterValue","selection","disableRouting","tableId","refreshEvent",4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"definitions","filterValue","selection","disableRouting","tableId","refreshEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,b1,3,3,"button",2),t.YNc(6,C1,3,4,"button",3),t.TgZ(7,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(8,w1,1,0,"mat-spinner",5),t.YNc(9,A1,1,5,"app-attr-def-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","SERVICE_DETAIL.REQUIRED_ATTRIBUTES.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,_.O5,nt.lW,sn.L,W.$g,wt],pipes:[u.X$],styles:[""]}),n})();var S1=o(46597),D1=o(89466),L1=o(70242);function k1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemove()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.REMOVE")," ")}}function I1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAllow()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.ALLOW")," ")}}function M1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onBlock()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.BLOCK")," ")}}function O1(n,r){1&n&&t._UZ(0,"mat-spinner",10)}const N1=function(){return["select","destinationId","facility","destination","type","status","propagationType"]};function F1(n,r){if(1&n&&t._UZ(0,"app-perun-web-apps-destination-list",11),2&n){const e=t.oxw();t.Q6J("destinations",e.destinations)("filterValue",e.filterValue)("selection",e.selection)("displayedColumns",t.DdM(5,N1))("tableId",e.tableId)}}let P1=(()=>{class n{constructor(e,i,a,s,d,T){this.serviceManager=e,this.notificator=i,this.translate=a,this.dialog=s,this.authResolver=d,this.entityStorageService=T,this.loading=!1,this.filterValue="",this.destinations=[],this.selection=new F.Ov(!0,[]),this.tableId=Ae.Cf}ngOnInit(){this.loading=!0,this.service=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.serviceManager.getAllRichDestinationsForService(this.service.id).subscribe(e=>{this.selection.clear(),this.filterValue="",this.destinations=e,this.loading=!1})}onBlock(){this.loading=!0,this.blockServiceOnDestinations(this.selection.selected)}onAllow(){this.loading=!0,this.allowServiceOnDestinations(this.selection.selected)}onRemove(){const e=(0,Ce.kZ)();e.width="500px",e.data={destinations:this.selection.selected,theme:"admin-theme"},this.dialog.open(D1.u,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}blockServiceOnDestinations(e){if(0===e.length)return this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.DESTINATIONS.BLOCK_SUCCESS")),void this.refreshTable();const i=e.pop();this.serviceManager.blockServiceOnDestination(this.service.id,i.id).subscribe(()=>{this.blockServiceOnDestinations(e)},()=>this.loading=!1)}allowServiceOnDestinations(e){if(0===e.length)return this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.DESTINATIONS.ALLOW_SUCCESS")),void this.refreshTable();const i=e.pop();this.serviceManager.unblockServiceOnDestinationById(this.service.id,i.id).subscribe(()=>{this.allowServiceOnDestinations(e)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.KK),t.Y36(U.V6),t.Y36(u.sK),t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-destinations"]],decls:11,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["color","warn","class","mr-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],["class","mr-2","color","accent","mat-flat-button","",3,"disabled","click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"destinations","filterValue","selection","displayedColumns","tableId",4,"ngIf"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],["color","accent","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"destinations","filterValue","selection","displayedColumns","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,k1,3,4,"button",2),t.YNc(6,I1,3,4,"button",3),t.YNc(7,M1,3,4,"button",4),t.TgZ(8,"perun-web-apps-immediate-filter",5),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(9,O1,1,0,"mat-spinner",6),t.YNc(10,F1,1,6,"app-perun-web-apps-destination-list",7),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"SERVICE_DETAIL.DESTINATIONS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","SERVICE_DETAIL.DESTINATIONS.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,_.O5,nt.lW,sn.L,W.$g,L1.q],pipes:[u.X$],styles:[""]}),n})();function R1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function Z1(n,r){1&n&&t._UZ(0,"th",13)}function B1(n,r){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.name)}}function U1(n,r){1&n&&t._UZ(0,"tr",15)}function G1(n,r){1&n&&t._UZ(0,"tr",16)}function V1(n,r){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",7),t.ynx(8,8),t.YNc(9,Z1,1,0,"th",9),t.YNc(10,B1,2,1,"td",10),t.BQk(),t.YNc(11,U1,1,0,"tr",11),t.YNc(12,G1,1,0,"tr",12),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,5,"DIALOGS.DELETE_OWNER.DESCRIPTION")," "),t.xp6(3),t.hij(" ",t.lcZ(6,7,"DIALOGS.DELETE_OWNER.ASK")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function z1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.DELETE_OWNER.CANCEL")," "),t.xp6(2),t.Q6J("disabled",e.loading),t.xp6(1),t.hij(" ",t.lcZ(6,5,"DIALOGS.DELETE_OWNER.DELETE")," ")}}let H1=(()=>{class n{constructor(e,i,a,s,d){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=s,this.ownersManagerService=d,this.displayedColumns=["name"],this.owners=[]}ngOnInit(){this.dataSource=new R.by(this.data),this.owners=this.data}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0,this.owners.length?this.ownersManagerService.deleteOwner(this.owners.pop().id).subscribe(()=>{this.onSubmit()},()=>this.loading=!1):this.translate.get("DIALOGS.DELETE_OWNER.SUCCESS").subscribe(e=>{this.loading=!1,this.notificator.showSuccess(e),this.dialogRef.close(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(V.aC))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-owner-dialog"]],decls:6,vars:6,consts:[["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","font-weight-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,R1,1,0,"mat-spinner",1),t.YNc(4,V1,13,9,"div",2),t.YNc(5,z1,7,7,"div",3)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,4,"DIALOGS.DELETE_OWNER.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[O.uh,_.O5,W.$g,O.xY,R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();function Y1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function W1(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.ADD_OWNER.FILL_CONTACT")," "))}function X1(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.ADD_OWNER.CONTACT_FORMAT")," "))}function $1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"mat-form-field"),t._UZ(3,"input",6),t.ALo(4,"translate"),t.TgZ(5,"mat-error"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"mat-form-field"),t._UZ(9,"input",6),t.ALo(10,"translate"),t.YNc(11,W1,3,3,"mat-error",3),t.YNc(12,X1,3,3,"mat-error",3),t.qZA(),t.TgZ(13,"mat-form-field"),t.TgZ(14,"mat-select",7),t.NdJ("valueChange",function(a){return t.CHM(e),t.oxw().type=a}),t.TgZ(15,"mat-option",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-option",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",10),t.TgZ(22,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",12),t.ALo(26,"translate"),t.TgZ(27,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,15,"DIALOGS.ADD_OWNER.NAME")),t.Q6J("formControl",e.nameCtrl),t.xp6(3),t.hij(" ",t.lcZ(7,17,"DIALOGS.ADD_OWNER.FILL_NAME")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(10,19,"DIALOGS.ADD_OWNER.CONTACT")),t.Q6J("formControl",e.contactCtrl),t.xp6(2),t.Q6J("ngIf",e.contactCtrl.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.contactCtrl.invalid&&!e.contactCtrl.hasError("required")),t.xp6(2),t.Q6J("value",e.type),t.xp6(2),t.Oqu(t.lcZ(17,21,"DIALOGS.ADD_OWNER.TYPE1")),t.xp6(3),t.Oqu(t.lcZ(20,23,"DIALOGS.ADD_OWNER.TYPE2")),t.xp6(4),t.hij(" ",t.lcZ(24,25,"DIALOGS.ADD_OWNER.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(26,27,"DIALOGS.ADD_OWNER.TOOLTIP")),t.Q6J("matTooltipDisabled",e.nameCtrl.valid&&e.contactCtrl.valid),t.xp6(2),t.Q6J("disabled",e.nameCtrl.invalid||e.contactCtrl.invalid),t.xp6(1),t.hij(" ",t.lcZ(29,29,"DIALOGS.ADD_OWNER.CREATE")," ")}}let Q1=(()=>{class n{constructor(e,i,a,s){this.dialogRef=e,this.notificator=i,this.ownersManagerService=a,this.translate=s,this.type="1",s.get("DIALOGS.ADD_OWNER.SUCCESS").subscribe(d=>this.successMessage=d)}ngOnInit(){this.nameCtrl=new E.NI(null,[E.kI.required,E.kI.pattern("^[\\w.-]+( [\\w.-]+)*$")]),this.contactCtrl=new E.NI(null,[E.kI.required,E.kI.pattern(Ce.B2)])}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0,this.ownersManagerService.createOwner({name:this.nameCtrl.value,contact:this.contactCtrl.value,ownerType:Number(this.type)}).subscribe(()=>{this.notificator.showSuccess(this.successMessage),this.loading=!1,this.dialogRef.close(!0)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(U.V6),t.Y36(V.aC),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-owner-dialog"]],decls:6,vars:5,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],["mat-dialog-content","",1,"dialog-container"],["matInput","","required","",3,"formControl","placeholder"],[3,"value","valueChange"],["value","1"],["value","0"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["matTooltipPosition","above",3,"matTooltip","matTooltipDisabled"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Y1,1,0,"mat-spinner",2),t.YNc(5,$1,30,31,"div",3),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"DIALOGS.ADD_OWNER.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[O.uh,_.O5,W.$g,O.xY,it.KE,z.Nt,E.Fj,E.Q7,E.JJ,E.oH,it.TO,It.gD,Rt.ey,O.H8,nt.lW,ne.gM],pipes:[u.X$],styles:[""]}),n})();var J1=o(23256);function j1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().addOwner()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.OWNERS.ADD")," "))}function q1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeOwner()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",!e.selected.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.OWNERS.DELETE")," ")}}function K1(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function tT(n,r){if(1&n&&t._UZ(0,"perun-web-apps-owners-list",10),2&n){const e=t.oxw();t.Q6J("selection",e.selected)("filterValue",e.filterValue)("owners",e.owners)("tableId",e.tableId)}}let eT=(()=>{class n{constructor(e,i,a){this.ownersManagerService=e,this.dialog=i,this.guiAuthResolver=a,this.owners=[],this.selected=new F.Ov(!0,[]),this.filterValue="",this.tableId=Ae.v1}ngOnInit(){this.setAuth(),this.refreshTable()}setAuth(){this.removeAuth=this.guiAuthResolver.isAuthorized("deleteOwner_Owner_policy",[]),this.addAuth=this.guiAuthResolver.isAuthorized("createOwner_Owner_policy",[])}refreshTable(){this.loading=!0,this.ownersManagerService.getAllOwners().subscribe(e=>{this.owners=e,this.selected.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}addOwner(){const e=(0,Ce.kZ)();e.width="400px",e.data={},this.dialog.open(Q1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}removeOwner(){const e=(0,Ce.kZ)();e.width="400px",e.data=this.selected.selected,this.dialog.open(H1,e).afterClosed().subscribe(a=>{a&&(this.selected.clear(),this.refreshTable())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.aC),t.Y36(O.uw),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-owners"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","mr-2 action-button","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"selection","filterValue","owners","tableId",4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"selection","filterValue","owners","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,j1,3,3,"button",2),t.YNc(6,q1,3,4,"button",3),t.TgZ(7,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(8,K1,1,0,"mat-spinner",5),t.YNc(9,tT,1,4,"perun-web-apps-owners-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"ADMIN.OWNERS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.addAuth),t.xp6(1),t.Q6J("ngIf",i.removeAuth),t.xp6(1),t.Q6J("placeholder","ADMIN.OWNERS.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,_.O5,nt.lW,sn.L,W.$g,J1.Q],pipes:[u.X$],styles:[""]}),n})();var nT=o(74010);function iT(n,r){1&n&&t._UZ(0,"mat-spinner",5)}function rT(n,r){if(1&n&&t._UZ(0,"perun-web-apps-facilities-list",6),2&n){const e=t.oxw();t.Q6J("displayedColumns",e.displayedColumns)("filterValue",e.filterValue)("facilities",e.facilities)("tableId",e.tableId)}}let aT=(()=>{class n{constructor(e,i){this.facilityManager=e,this.route=i,this.facilities=[],this.filterValue="",this.tableId=Ae.zW,this.displayedColumns=["id","name","description"]}ngOnInit(){this.loading=!0,this.route.parent.params.subscribe(e=>{this.userId=Number(e.userId),this.refreshTable()})}refreshTable(){this.loading=!0,this.facilityManager.getAssignedFacilitiesByUser(this.userId).subscribe(e=>{this.facilities=e.map(i=>({facility:i})),this.loading=!1})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.IQ),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-facilities"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"displayedColumns","filterValue","facilities","tableId",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","filterValue","facilities","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(6,iT,1,0,"mat-spinner",3),t.YNc(7,rT,1,4,"perun-web-apps-facilities-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"USER_DETAIL.FACILITIES.TITLE")),t.xp6(3),t.Q6J("placeholder","USER_DETAIL.FACILITIES.FILTER_PLACEHOLDER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,sn.L,_.O5,W.$g,nT.X],pipes:[u.X$],styles:[""]}),n})();var sT=o(64080),oT=o(62707),Sr=o(53251),lT=o(60526),cT=o(24179),uT=o(12651),hT=o(19191);function dT(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function fT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"perun-web-apps-vo-search-select",7),t.NdJ("voSelected",function(a){return t.CHM(e),t.oxw().loadMember(a)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("vos",e.vos)}}function pT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.STATUS")," ")}function mT(n,r){1&n&&t._UZ(0,"mat-spinner",6)}const gT=function(){return["id","recent","name","description","expiration"]};function _T(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"perun-web-apps-groups-list",16),t.NdJ("refreshTable",function(){t.CHM(e);const a=t.oxw(4);return a.loadMember(a.selectedVo)}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("groups",e.groups)("memberId",e.member.id)("memberGroupStatus",e.member.groupStatus)("displayedColumns",t.DdM(4,gT))}}const vT=function(n,r){return["/organizations",n,"members",r]};function xT(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",10),t.TgZ(2,"span",11),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"a",12),t._uU(6),t.qZA(),t.qZA(),t._UZ(7,"app-member-overview-membership",13),t.TgZ(8,"p",14),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,_T,1,5,"perun-web-apps-groups-list",15),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,7,"USER_DETAIL.ACCOUNTS.MEMBER"),":"),t.xp6(2),t.Q6J("routerLink",t.WLB(11,vT,e.selectedVo.id,e.member.id)),t.xp6(1),t.hij("",e.member.id," "),t.xp6(1),t.Q6J("member",e.member)("vo",e.selectedVo),t.xp6(2),t.Oqu(t.lcZ(10,9,"USER_DETAIL.ACCOUNTS.GROUPS")),t.xp6(2),t.Q6J("ngIf",!e.loading)}}function yT(n,r){if(1&n&&(t.YNc(0,mT,1,0,"mat-spinner",1),t.YNc(1,xT,12,14,"div",4)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function TT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_ATT")," ")}function bT(n,r){1&n&&t._UZ(0,"mat-spinner")}function CT(n,r){if(1&n&&t._UZ(0,"app-one-entity-attribute-page",18),2&n){const e=t.oxw(3);t.Q6J("entity","member")("entityId",e.member.id)}}function wT(n,r){if(1&n&&(t.YNc(0,bT,1,0,"mat-spinner",4),t.YNc(1,CT,1,2,"app-one-entity-attribute-page",17)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function AT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_GROUP_ATT")," ")}function ET(n,r){1&n&&t._UZ(0,"mat-spinner")}function ST(n,r){if(1&n&&t._UZ(0,"app-two-entity-attribute-page",20),2&n){const e=t.oxw(3);t.Q6J("firstEntity","member")("firstEntityId",e.member.id)("secondEntity","group")}}function DT(n,r){if(1&n&&(t.YNc(0,ET,1,0,"mat-spinner",4),t.YNc(1,ST,1,3,"app-two-entity-attribute-page",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function LT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_RESOURCE_ATT")," ")}function kT(n,r){1&n&&t._UZ(0,"mat-spinner")}function IT(n,r){if(1&n&&t._UZ(0,"app-two-entity-attribute-page",20),2&n){const e=t.oxw(3);t.Q6J("firstEntity","member")("firstEntityId",e.member.id)("secondEntity","resource")}}function MT(n,r){if(1&n&&(t.YNc(0,kT,1,0,"mat-spinner",4),t.YNc(1,IT,1,3,"app-two-entity-attribute-page",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function OT(n,r){1&n&&(t.TgZ(0,"mat-tab-group"),t.TgZ(1,"mat-tab"),t.YNc(2,pT,2,3,"ng-template",8),t.YNc(3,yT,2,2,"ng-template",9),t.qZA(),t.TgZ(4,"mat-tab"),t.YNc(5,TT,2,3,"ng-template",8),t.YNc(6,wT,2,2,"ng-template",9),t.qZA(),t.TgZ(7,"mat-tab"),t.YNc(8,AT,2,3,"ng-template",8),t.YNc(9,DT,2,2,"ng-template",9),t.qZA(),t.TgZ(10,"mat-tab"),t.YNc(11,LT,2,3,"ng-template",8),t.YNc(12,MT,2,2,"ng-template",9),t.qZA(),t.qZA())}function NT(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"USER_DETAIL.ACCOUNTS.NO_VOS")))}let FT=(()=>{class n{constructor(e,i,a,s){this.route=e,this.usersService=i,this.membersService=a,this.groupService=s,this.initLoading=!1,this.loading=!1,this.vos=[],this.selectedVo=null,this.member=null,this.groups=[]}ngOnInit(){this.initLoading=!0,this.route.parent.params.subscribe(e=>{this.userId=Number(e.userId),this.usersService.getVosWhereUserIsMember(this.userId).subscribe(i=>{this.vos=i,this.initLoading=!1},()=>this.initLoading=!1)})}loadMember(e){this.loading=!0,this.selectedVo=e,this.membersService.getMemberByUser(this.selectedVo.id,this.userId).subscribe(i=>{this.member=i,this.groupService.getMemberRichGroupsWithAttributesByNames(this.member.id,[sT.r.MEMBER_DEF_GROUP_EXPIRATION]).subscribe(a=>{this.groups=a,this.loading=!1},()=>this.loading=!1)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(V.Fv),t.Y36(V.uq),t.Y36(V.ff))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-user-accounts"]],decls:8,vars:7,consts:[[1,"page-title"],["class","ml-auto mr-auto",4,"ngIf"],[1,"d-flex"],["class","w-50",3,"vos","voSelected",4,"ngIf"],[4,"ngIf"],["alert_type","warn",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"w-50",3,"vos","voSelected"],["matTabLabel",""],["matTabContent",""],[1,"mt-4","mb-4"],[1,"subtitle","mr-2"],["queryParamsHandling","merge",1,"member-link",3,"routerLink"],[3,"member","vo"],[1,"mt-4","subtitle"],[3,"groups","memberId","memberGroupStatus","displayedColumns","refreshTable",4,"ngIf"],[3,"groups","memberId","memberGroupStatus","displayedColumns","refreshTable"],[3,"entity","entityId",4,"ngIf"],[3,"entity","entityId"],[3,"firstEntity","firstEntityId","secondEntity",4,"ngIf"],[3,"firstEntity","firstEntityId","secondEntity"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,dT,1,0,"mat-spinner",1),t.TgZ(4,"div",2),t.YNc(5,fT,1,1,"perun-web-apps-vo-search-select",3),t.qZA(),t.YNc(6,OT,13,0,"mat-tab-group",4),t.YNc(7,NT,3,3,"perun-web-apps-alert",5)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,5,"USER_DETAIL.ACCOUNTS.TITLE")),t.xp6(2),t.Q6J("ngIf",i.initLoading),t.xp6(2),t.Q6J("ngIf",!(i.initLoading||0===i.vos.length)),t.xp6(1),t.Q6J("ngIf",!(i.initLoading||0===i.vos.length)),t.xp6(1),t.Q6J("ngIf",!i.initLoading&&0===i.vos.length))},directives:[_.O5,W.$g,oT.M,Sr.SP,Sr.uX,Sr.uD,Sr.Vc,f.yS,lT.b,cT.W,uT.t,hT.Y,rt.w],pipes:[u.X$],styles:[".subtitle[_ngcontent-%COMP%]{font-size:1.2rem}"]}),n})(),Cu=(()=>{class n{transform(e){if(e)return e.split(".").pop()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"parseEventName",type:n,pure:!0}),n})();function PT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"DIALOGS.AUDIT_MESSAGE_DETAIL.OBJECTS")," ")}function RT(n,r){if(1&n&&t._UZ(0,"pre",9),2&n){const e=t.oxw();t.Q6J("innerHTML",e.syntaxHighlight(e.eventData),t.oJD)}}function ZT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"DIALOGS.AUDIT_MESSAGE_DETAIL.MESSAGE")," ")}function BT(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.message)}}let UT=(()=>{class n{constructor(e,i,a){this.dialogRef=e,this.data=i,this.clipboard=a,this.tabIndex=0,this.eventData={}}ngOnInit(){const e=this.data.message.event;this.actor=this.data.message.actor,this.createdAt=this.data.message.createdAt,e.message&&(this.message=e.message,delete e.message),e.name&&(this.title=e.name,delete e.name),this.eventData=e}tabChanged(e){this.tabIndex=e.index}copyObjects(){this.clipboard.copy(JSON.stringify(this.eventData,null,2))}copyMessage(){this.clipboard.copy(this.message)}syntaxHighlight(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(i){let a="number";return i.startsWith('"')?a=i.endsWith(":")?"key":"string":/true|false/.test(i)?a="boolean":i.includes("null")&&(a="null"),'<span class="'+a+'">'+i+"</span>"})}onClose(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(In.TU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-message-detail-dialog"]],decls:26,vars:19,consts:[[1,"admin-theme"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"selectedTabChange"],["matTabLabel",""],["matTabContent",""],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-button","",3,"click"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"parseEventName"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-tab-group",3),t.NdJ("selectedTabChange",function(s){return i.tabChanged(s)}),t.TgZ(11,"mat-tab"),t.YNc(12,PT,2,3,"ng-template",4),t.YNc(13,RT,1,1,"ng-template",5),t.qZA(),t.TgZ(14,"mat-tab"),t.YNc(15,ZT,2,3,"ng-template",4),t.YNc(16,BT,2,1,"ng-template",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"button",7),t.NdJ("click",function(){return i.onClose()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",8),t.NdJ("click",function(){return 0===i.tabIndex?i.copyObjects():i.copyMessage()}),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"mat-icon"),t._uU(25,"content_copy"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let a;t.xp6(2),t.hij(" ",t.lcZ(3,7,null!==(a=t.lcZ(4,9,i.title))&&void 0!==a?a:"DIALOGS.AUDIT_MESSAGE_DETAIL.TITLE")," "),t.xp6(5),t.HOy(" ",t.lcZ(8,11,"DIALOGS.AUDIT_MESSAGE_DETAIL.ACTOR"),": ",i.actor,", ",t.lcZ(9,13,"DIALOGS.AUDIT_MESSAGE_DETAIL.CREATED_AT"),": ",i.createdAt," "),t.xp6(12),t.hij(" ",t.lcZ(20,15,"DIALOGS.AUDIT_MESSAGE_DETAIL.CLOSE")," "),t.xp6(3),t.hij(" ",t.lcZ(23,17,"DIALOGS.AUDIT_MESSAGE_DETAIL.COPY")," ")}},directives:[O.uh,O.xY,Sr.SP,Sr.uX,Sr.uD,Sr.Vc,O.H8,nt.lW,h.Hw],pipes:[u.X$,Cu],styles:[".key{color:brown}.string{color:green}.number{color:#ff8c00}.boolean{color:#00f}.null{color:#f0f}\n"],encapsulation:2}),n})();var GT=o(86087),VT=o(36787),zT=o(62383);function HT(n,r){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner",17),t.qZA())}function YT(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AUDIT_MESSAGES_LIST.ID")," "))}function WT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function XT(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AUDIT_MESSAGES_LIST.TIMESTAMP")," "))}function $T(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"parseDate"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdAt,!0)," ")}}function QT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.EVENT_NAME")))}function JT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"parseEventName"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.event.name)," ")}}function jT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.ACTOR")))}function qT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.actor," ")}}function KT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.MESSAGE")))}function tb(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.event.message," ")}}function eb(n,r){1&n&&t._UZ(0,"th",20)}function nb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"button",21),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().viewDetails(s)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"AUDIT_MESSAGES_LIST.VIEW_DETAIL")," "))}function ib(n,r){1&n&&t._UZ(0,"tr",22)}function rb(n,r){1&n&&t._UZ(0,"tr",23)}function ab(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_AUDIT_MESSAGES"),"\n"))}let sb=(()=>{class n{constructor(e,i,a){this.dialog=e,this.dynamicPaginatingService=i,this.tableConfigService=a,this.displayedColumns=["id","timestamp","name","actor","event.message","detail"],this.pageSizeOptions=Ce.f7}static getExportDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"timestamp":return(0,_.p6)(e.createdAt,"d.M.y H.mm.ss","en");case"name":return e.event.name.split(".").pop();case"actor":return e.actor;case"event.message":return e.event.message;default:return""}}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.child.paginator.pageIndex=0),(0,VT.T)(this.sort.sortChange,this.child.paginator.page).pipe((0,ve.b)(()=>this.loadAuditMessagesPage())).subscribe()}ngOnInit(){this.dataSource=new U.Hy(this.dynamicPaginatingService,null),this.dataSource.loadAuditMessages(this.tableConfigService.getTablePageSize(this.tableId),0,"DESCENDING")}ngOnChanges(){this.dataSource&&(this.child.paginator.pageIndex=0,this.loadAuditMessagesPage())}loadAuditMessagesPage(){this.dataSource.loadAuditMessages(this.child.paginator.pageSize,this.child.paginator.pageIndex,"asc"===this.sort.direction?"ASCENDING":"DESCENDING")}viewDetails(e){const i=(0,Ce.kZ)(),a=JSON.parse(JSON.stringify(e));i.minWidth="700px",i.maxWidth="1000px",i.data={message:a},this.dialog.open(UT,i)}exportData(e){(0,Ce.O6)((0,Ce.Xn)(this.dataSource.getData(),this.displayedColumns.filter(i=>"detail"!==i),n.getExportDataForColumn),e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(U.ly),t.Y36(Ae.dB))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-messages-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Ce.l9,7),t.Gf(je.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},inputs:{tableId:"tableId",refresh:"refresh",displayedColumns:"displayedColumns",searchString:"searchString"},features:[t._Bn([{provide:GT.ye,useClass:U.Be}]),t.TTD],decls:28,vars:15,consts:[[1,"card","mt-2",3,"hidden"],[3,"dataLength","pageSizeOptions","tableId","exportData"],["class","spinner-container",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actor"],["matColumnDef","event.message"],["matColumnDef","detail"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],[1,"spinner-container"],[1,"ml-auto","mr-auto"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-header-cell",""],["color","accent","mat-flat-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(s){return i.exportData(s)}),t.YNc(3,HT,2,0,"div",2),t.ALo(4,"async"),t.TgZ(5,"table",3),t.ynx(6,4),t.YNc(7,YT,3,3,"th",5),t.YNc(8,WT,2,1,"td",6),t.BQk(),t.ynx(9,7),t.YNc(10,XT,3,3,"th",5),t.YNc(11,$T,3,4,"td",6),t.BQk(),t.ynx(12,8),t.YNc(13,QT,3,3,"th",9),t.YNc(14,JT,3,3,"td",6),t.BQk(),t.ynx(15,10),t.YNc(16,jT,3,3,"th",9),t.YNc(17,qT,2,1,"td",6),t.BQk(),t.ynx(18,11),t.YNc(19,KT,3,3,"th",9),t.YNc(20,tb,2,1,"td",6),t.BQk(),t.ynx(21,12),t.YNc(22,eb,1,0,"th",9),t.YNc(23,nb,4,3,"td",6),t.BQk(),t.YNc(24,ib,1,0,"tr",13),t.YNc(25,rb,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,ab,3,3,"perun-web-apps-alert",15),t.ALo(27,"async")),2&e&&(t.Q6J("hidden",0===i.dataSource.allObjectCount&&!1===t.lcZ(1,9,i.dataSource.loading$)),t.xp6(2),t.Q6J("dataLength",i.dataSource.allObjectCount)("pageSizeOptions",i.pageSizeOptions)("tableId",i.tableId),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,11,i.dataSource.loading$)),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.allObjectCount&&!1===t.lcZ(27,13,i.dataSource.loading$)))},directives:[Mn.l,_.O5,W.$g,R.BZ,je.YE,R.w1,R.fO,R.ge,je.nU,R.Dz,R.ev,nt.lW,R.as,R.XQ,R.nj,R.Gk,rt.w],pipes:[_.Ov,u.X$,zT.M,Cu],styles:[""]}),n})(),ob=(()=>{class n{constructor(){this.tableId=Ae.yW,this.refresh=!1}refreshTable(){this.refresh=!this.refresh}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-audit-log"]],decls:5,vars:5,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"refresh","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t._UZ(4,"app-audit-messages-list",2)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,3,"ADMIN.AUDIT_LOG.TITLE")),t.xp6(3),t.Q6J("refresh",i.refresh)("tableId",i.tableId))},directives:[xn.t,sb],pipes:[u.X$],styles:[""]}),n})();var lb=o(4834);let cb=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-edit-enforce-consents-dialog"]],decls:26,vars:27,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"mt-2","mb-2"],["alert_type","warn"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","accent",1,"ml-2",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"mat-divider"),t.TgZ(11,"p",2),t._uU(12),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"perun-web-apps-alert",3),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"button",6),t.NdJ("click",function(){return i.onSubmit()}),t._uU(23),t.ALo(24,"translate"),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Tol(i.data.theme),t.xp6(2),t.hij(" ",i.data.enforceConsents?t.lcZ(3,9,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_TITLE"):t.lcZ(4,11,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_TITLE")," "),t.xp6(5),t.hij(" ",i.data.enforceConsents?t.lcZ(8,13,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_DESCRIPTION"):t.lcZ(9,15,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_DESCRIPTION")," "),t.xp6(5),t.Oqu(i.data.consentHubName),t.xp6(3),t.hij(" ",i.data.enforceConsents?t.lcZ(16,17,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_BOLD_DESCRIPTION"):t.lcZ(17,19,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_BOLD_DESCRIPTION")," "),t.xp6(5),t.hij(" ",t.lcZ(21,21,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.CANCEL_BUTTON")," "),t.xp6(3),t.hij(" ",i.data.enforceConsents?t.lcZ(24,23,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_BUTTON"):t.lcZ(25,25,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_BUTTON")," "))},directives:[O.uh,O.xY,lb.d,rt.w,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();function ub(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",16),t.TgZ(1,"mat-checkbox",17),t.NdJ("change",function(a){t.CHM(e);const s=t.oxw();return a?s.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function hb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",18),t.TgZ(1,"mat-checkbox",19),t.NdJ("change",function(a){const d=t.CHM(e).$implicit,T=t.oxw();return a?T.selection.toggle(d):null})("click",function(a){return a.stopPropagation()}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))}}function db(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.ID")," "))}function fb(n,r){if(1&n&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.id)}}function pb(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.NAME")," "))}function mb(n,r){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.name)}}function gb(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.ENFORCE_CONSENTS")," "))}function _b(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",22),t.TgZ(1,"mat-slide-toggle",23),t.NdJ("change",function(a){const d=t.CHM(e).$implicit;return t.oxw().changeEnforceFlag(d,a)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("checked",e.enforceConsents)}}function vb(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.FACILITIES")," "))}function xb(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.TgZ(2,"span",25),t._uU(3),t.qZA(),t._UZ(4,"br"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" #",e.id,"")}}function yb(n,r){if(1&n&&(t.TgZ(0,"td",22),t.YNc(1,xb,5,2,"span",24),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e.facilities)}}function Tb(n,r){1&n&&t._UZ(0,"tr",26)}function bb(n,r){1&n&&t._UZ(0,"tr",27)}function Cb(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.NO_CONSENT_HUBS"),"\n"))}function wb(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.NO_FILTER_RESULTS"),"\n"))}let Ab=(()=>{class n{constructor(e,i,a,s,d){this.tableCheckbox=e,this.dialog=i,this.notificator=a,this.translate=s,this.consentsManager=d,this.filterValue="",this.displayedColumns=["select","id","name","enforceConsents","facilities"],this.selection=new F.Ov(!0,[]),this.exporting=!1,this.pageSizeOptions=Ce.f7}set matSort(e){this.sort=e,this.setDataSource()}static getDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"name":return e.name;case"enforceConsents":return e.enforceConsents?"true":"false";case"facilities":{let a="";return e.facilities.forEach(s=>a+=s.name+" #"+String(s.id)+";"),a.slice(0,-1)}default:return""}}ngOnChanges(){this.dataSource=new R.by(this.consentHubs),this.setDataSource()}exportData(e){(0,Ce.O6)((0,Ce.Xn)(this.dataSource.filteredData,this.displayedColumns,n.getDataForColumn),e)}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}setDataSource(){this.dataSource&&(this.dataSource.filterPredicate=(e,i)=>(0,Ce.Sd)(e,i,this.displayedColumns,n.getDataForColumn),this.dataSource.sortData=(e,i)=>(0,Ce.pR)(e,i,n.getDataForColumn),this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator,this.dataSource.filter=this.filterValue)}changeEnforceFlag(e,i){i.source.checked=e.enforceConsents;const a=(0,Ce.kZ)();a.width="550px",a.data={theme:"admin-theme",enforceConsents:e.enforceConsents,consentHubName:e.name},this.dialog.open(cb,a).afterClosed().subscribe(d=>{d&&(e.enforceConsents=!e.enforceConsents,this.consentsManager.updateConsentHub({consentHub:e}).subscribe(T=>{i.source.checked=T.enforceConsents,e.enforceConsents=T.enforceConsents,this.translate.get("SHARED.COMPONENTS.CONSENT_HUBS_LIST.CHANGE_ENFORCE_CONSENTS_SUCCESS").subscribe(S=>{this.notificator.showSuccess(S)})},()=>e.enforceConsents=!e.enforceConsents))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.UA),t.Y36(O.uw),t.Y36(U.V6),t.Y36(u.sK),t.Y36(V.WY))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-consent-hubs-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Ce.l9,7),t.Gf(je.YE,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.matSort=a.first)}},inputs:{consentHubs:"consentHubs",filterValue:"filterValue",displayedColumns:"displayedColumns",tableId:"tableId",selection:"selection"},features:[t.TTD],decls:22,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","enforceConsents"],["matColumnDef","facilities"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],[3,"checked","change"],[4,"ngFor","ngForOf"],[1,"text-muted"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(s){return i.exportData(s)}),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,ub,2,3,"th",4),t.YNc(5,hb,2,2,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,db,3,3,"th",7),t.YNc(8,fb,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,pb,3,3,"th",7),t.YNc(11,mb,2,1,"td",10),t.BQk(),t.ynx(12,11),t.YNc(13,gb,3,3,"th",7),t.YNc(14,_b,2,1,"td",10),t.BQk(),t.ynx(15,12),t.YNc(16,vb,3,3,"th",7),t.YNc(17,yb,2,1,"td",10),t.BQk(),t.YNc(18,Tb,1,0,"tr",13),t.YNc(19,bb,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,Cb,3,3,"perun-web-apps-alert",15),t.YNc(21,wb,3,3,"perun-web-apps-alert",15)),2&e&&(t.Q6J("hidden",0===i.consentHubs.length||0===i.dataSource.filteredData.length),t.xp6(1),t.Q6J("tableId",i.tableId)("dataLength",i.dataSource.filteredData.length)("pageSizeOptions",i.pageSizeOptions),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.consentHubs.length),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.filteredData.length&&0!==i.consentHubs.length))},directives:[Mn.l,R.BZ,je.YE,R.w1,R.fO,R.ge,Ut.oG,R.Dz,R.ev,je.nU,Ht.Rr,_.sg,R.as,R.XQ,R.nj,R.Gk,_.O5,rt.w],pipes:[u.X$],styles:[""]}),n})();function Eb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().evaluateConsents()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.CONSENT_HUBS.EVALUATE_CONSENTS")," ")}}function Sb(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function Db(n,r){if(1&n&&t._UZ(0,"app-perun-web-apps-consent-hubs-list",8),2&n){const e=t.oxw();t.Q6J("consentHubs",e.consentHubs)("selection",e.selection)("filterValue",e.filterValue)("tableId",e.tableId)}}let Lb=(()=>{class n{constructor(e,i,a,s,d){this.consentsManager=e,this.authResolver=i,this.notificator=a,this.translate=s,this.dialog=d,this.loading=!1,this.tableId=Ae.HE,this.selection=new F.Ov(!0,[]),this.filterValue="",this.consentHubs=[]}ngOnInit(){this.refreshTable()}applyFilter(e){this.filterValue=e}refreshTable(){this.loading=!0,this.consentsManager.getAllConsentHubs().subscribe(e=>{this.consentHubs=e,this.loading=!1})}evaluateConsents(){const e=(0,Ce.kZ)();e.width="500px",e.data={title:this.translate.instant("ADMIN.CONSENT_HUBS.CONFIRM_DIALOG_TITLE"),theme:"admin-theme",description:this.translate.instant("ADMIN.CONSENT_HUBS.CONFIRM_DIALOG_DESCRIPTION"),items:this.selection.selected.map(a=>a.name),type:"confirmation",showAsk:!1},this.dialog.open(Aa.Ts,e).afterClosed().subscribe(a=>{a&&this.evaluateConsentsForConsentHub(0)})}evaluateConsentsForConsentHub(e){if(e===this.selection.selected.length)return this.notificator.showSuccess(this.translate.instant("ADMIN.CONSENT_HUBS.EVALUATION_FINISH")),void this.selection.clear();this.consentsManager.evaluateConsentsForConsentHub(this.selection.selected[e].id).subscribe(()=>{this.evaluateConsentsForConsentHub(++e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.WY),t.Y36(U.x4),t.Y36(U.V6),t.Y36(u.sK),t.Y36(O.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-admin-consent-hubs"]],decls:9,vars:7,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","action-button mr-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"consentHubs","selection","filterValue","tableId",4,"ngIf"],["color","accent","mat-flat-button","",1,"action-button","mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"consentHubs","selection","filterValue","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,Eb,3,4,"button",2),t.TgZ(6,"perun-web-apps-immediate-filter",3),t.NdJ("filter",function(s){return i.applyFilter(s)}),t.qZA(),t.YNc(7,Sb,1,0,"mat-spinner",4),t.YNc(8,Db,1,4,"app-perun-web-apps-consent-hubs-list",5),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.CONSENT_HUBS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.CONSENT_HUBS.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[xn.t,_.O5,nt.lW,sn.L,W.$g,Ab],pipes:[u.X$],styles:[""]}),n})();var kb=o(57788);const Ib=[{path:"",component:C,children:[{path:"",component:k,data:{animation:"AdminOverviewPage"}},{path:"attributes",component:le,data:{animation:"AdminAttributesPage"}},{path:"users",component:Kx.t,data:{animation:"AdminUsersPage"}},{path:"owners",component:eT,data:{animation:"AdminOwnersPage"}},{path:"services",component:ky.F,data:{animation:"AdminServicesPage"}},{path:"audit_log",component:ob,data:{animation:"AdminAuditLogPage"}},{path:"visualizer",component:ke,children:[{path:"",component:He,data:{animation:"VisualizerOverviewPage"}},{path:"attrDependencies",component:rn,data:{animation:"VisualizerAttrModulesPage"}},{path:"userDestinationRelationship",component:Wt,data:{animation:"UserDestinationRelationshipPage"}},{path:"userDestinationRelationship/graph",component:qx,data:{animation:"UserDestinationGraphPage"}}]},{path:"ext_sources",component:_y,data:{animation:"AdminExtSourcesPage"}},{path:"consent_hubs",component:Lb,data:{animation:"AdminConsentHubsPage"}},{path:"searcher",component:kb.g,data:{animation:"AdminSearcherPage"}}]},{path:"users/:userId",component:oy,children:[{path:"",component:ly.Z,data:{animation:"UserOverviewPage"}},{path:"accounts",component:FT,data:{animation:"UserAccountsPage"}},{path:"attributes",component:hy.u,data:{animation:"UserAttributesPage"}},{path:"organizations",component:cy.j,data:{animation:"UserOrganizationsPage",showPrincipal:!1}},{path:"groups",component:uy.u,data:{animation:"UserGroupsPage",showPrincipal:!1}},{path:"identities",component:Ly,data:{animation:"UserIdentitiesPage"}},{path:"facilities",component:aT,data:{animation:"UserFacilitiesPage"}},{path:"resources",component:Fy,data:{animation:"UserRoles"}},{path:"identities/:identityId",component:Vy,data:{animation:"UserIdentityDetailPage"}},{path:"roles",component:vy.t,data:{animation:"UserRolesPage"}},{path:"service-identities",component:xy.R,data:{animation:"UserServiceIdentities"}},{path:"associated-users",component:S1.d,data:{animation:"AssociatedUsersPage"}}]},{path:"services/:serviceId",component:qy,children:[{path:"",component:Ky,data:{animation:"ServiceOverviewPage"}},{path:"required-attributes",component:E1,data:{animation:"ServiceRequiredAttributesPage"}},{path:"destinations",component:P1,data:{animation:"ServiceDestinationsPage"}}]}];let Mb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.Bz.forChild(Ib)],f.Bz]}),n})();var Ob=o(14264),Nb=o(63189),Fb=o(19516),Pb=o(46142);let Rb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[rm,Gx,_.ez,Mb,Ob.m,Nb.r,ci.ez,Fb.d4,Pb.UsersModule]]}),n})()},70242:(w,I,o)=>{"use strict";o.d(I,{q:()=>ne});var c=o(84847),x=o(20449),v=o(32075),_=o(9244),f=o(36908),t=o(5e3),p=o(18750),l=o(77446),h=o(69808),m=o(25245),u=o(29772),g=o(98380),C=o(51062);function A(Ut,vt){if(1&Ut){const ft=t.EpF();t.TgZ(0,"th",21),t.TgZ(1,"mat-checkbox",22),t.NdJ("change",function(Qt){t.CHM(ft);const me=t.oxw();return Qt?me.masterToggle():null}),t.qZA(),t.qZA()}if(2&Ut){const ft=t.oxw();t.xp6(1),t.Q6J("aria-label",ft.checkboxLabel())("checked",ft.selection.hasValue()&&ft.isAllSelected())("indeterminate",ft.selection.hasValue()&&!ft.isAllSelected())}}function k(Ut,vt){if(1&Ut){const ft=t.EpF();t.TgZ(0,"td",23),t.TgZ(1,"mat-checkbox",24),t.NdJ("change",function(Qt){const ge=t.CHM(ft).$implicit,ye=t.oxw();return Qt?ye.selection.toggle(ge):null})("click",function(Qt){return Qt.stopPropagation()}),t.qZA(),t.qZA()}if(2&Ut){const ft=vt.$implicit,Nt=t.oxw();t.xp6(1),t.Q6J("aria-label",Nt.checkboxLabel(ft))("checked",Nt.selection.isSelected(ft))}}function F(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.DESTINATION_ID")," "))}function O(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.hij(" ",ft.id," ")}}function R(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.SERVICE")," "))}function U(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.service.name)}}function V(Ut,vt){1&Ut&&t._UZ(0,"th",28)}function W(Ut,vt){1&Ut&&(t.TgZ(0,"mat-icon",30),t.ALo(1,"translate"),t._uU(2," warning "),t.qZA()),2&Ut&&t.s9C("matTooltip",t.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.WARN"))}function rt(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t.YNc(1,W,3,3,"mat-icon",29),t.qZA()),2&Ut){const ft=vt.$implicit,Nt=t.oxw();t.xp6(1),t.Q6J("ngIf",!Nt.services.has(ft.service.id))}}function nt(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.FACILITY")," "))}function ut(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.facility.name)}}function J(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.DESTINATION")," "))}function tt(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.destination)}}function Q(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.TYPE")," "))}function at(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.type.toUpperCase())}}function H(Ut,vt){1&Ut&&t._UZ(0,"th",28)}function K(Ut,vt){1&Ut&&(t.TgZ(0,"mat-icon",32),t.ALo(1,"translate"),t._uU(2," check_circle_outline "),t.qZA()),2&Ut&&t.s9C("matTooltip",t.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.ALLOWED"))}function lt(Ut,vt){1&Ut&&(t.TgZ(0,"mat-icon",32),t.ALo(1,"translate"),t._uU(2," block "),t.qZA()),2&Ut&&t.s9C("matTooltip",t.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.BLOCKED"))}function it(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t.YNc(1,K,3,3,"mat-icon",31),t.YNc(2,lt,3,3,"mat-icon",31),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Q6J("ngIf",!ft.blocked),t.xp6(1),t.Q6J("ngIf",ft.blocked)}}function z(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.PROPAGATION_TYPE")," "))}function E(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.propagationType)}}function Ct(Ut,vt){1&Ut&&t._UZ(0,"tr",33)}function It(Ut,vt){1&Ut&&t._UZ(0,"tr",34)}function Rt(Ut,vt){1&Ut&&(t.TgZ(0,"perun-web-apps-alert",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT"),"\n"))}function Ht(Ut,vt){1&Ut&&(t.TgZ(0,"perun-web-apps-alert",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.NO_DESTINATIONS"),"\n"))}let ne=(()=>{class Ut{constructor(ft,Nt){this.authResolver=ft,this.tableCheckbox=Nt,this.destinations=[],this.selection=new x.Ov(!0,[]),this.filterValue="",this.pageSizeOptions=_.f7}set matSort(ft){this.sort=ft,this.setDataSource()}static getDataForColumn(ft,Nt){switch(Nt){case"destinationId":return ft.id.toString();case"service":return ft.service.name;case"facility":return ft.facility.name;case"destination":return ft.destination;case"type":return ft.type;case"status":return ft.blocked?"blocked":"allowed";case"propagationType":return ft.propagationType;default:return""}}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(ft=>"destinationId"!==ft)),this.dataSource=new v.by(this.destinations),this.setDataSource(),this.dataSource.filter=this.filterValue.toLowerCase()}exportData(ft){(0,_.O6)((0,_.Xn)(this.dataSource.filteredData,this.displayedColumns,Ut.getDataForColumn),ft)}setDataSource(){this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(ft,Nt)=>(0,_.Sd)(ft,Nt,this.displayedColumns,Ut.getDataForColumn),this.dataSource.sortData=(ft,Nt)=>(0,_.pR)(ft,Nt,Ut.getDataForColumn),this.dataSource.paginator=this.child.paginator)}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(ft){return ft?`${this.selection.isSelected(ft)?"deselect":"select"} row ${ft.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}ngAfterViewInit(){this.dataSource.paginator=this.child.paginator}}return Ut.\u0275fac=function(ft){return new(ft||Ut)(t.Y36(f.x4),t.Y36(f.UA))},Ut.\u0275cmp=t.Xpm({type:Ut,selectors:[["app-perun-web-apps-destination-list"]],viewQuery:function(ft,Nt){if(1&ft&&(t.Gf(_.l9,7),t.Gf(c.YE,7)),2&ft){let Qt;t.iGM(Qt=t.CRH())&&(Nt.child=Qt.first),t.iGM(Qt=t.CRH())&&(Nt.matSort=Qt.first)}},inputs:{destinations:"destinations",selection:"selection",filterValue:"filterValue",tableId:"tableId",displayedColumns:"displayedColumns",services:"services"},features:[t.TTD],decls:34,vars:9,consts:[[1,"card","mt-3",3,"hidden"],[3,"pageSizeOptions","dataLength","tableId","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["class","align-checkbox","mat-header-cell","",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","destinationId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","service"],["mat-cell","",4,"matCellDef"],["matColumnDef","warn"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","facility"],["matColumnDef","destination"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","propagationType"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-cell",""],["class","warn","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"warn",3,"matTooltip"],["class","align-bottom",3,"matTooltip",4,"ngIf"],[1,"align-bottom",3,"matTooltip"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(ft,Nt){1&ft&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(me){return Nt.exportData(me)}),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,A,2,3,"th",4),t.YNc(5,k,2,2,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,F,3,3,"th",7),t.YNc(8,O,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,R,3,3,"th",7),t.YNc(11,U,2,1,"td",10),t.BQk(),t.ynx(12,11),t.YNc(13,V,1,0,"th",12),t.YNc(14,rt,2,1,"td",10),t.BQk(),t.ynx(15,13),t.YNc(16,nt,3,3,"th",7),t.YNc(17,ut,2,1,"td",10),t.BQk(),t.ynx(18,14),t.YNc(19,J,3,3,"th",7),t.YNc(20,tt,2,1,"td",10),t.BQk(),t.ynx(21,15),t.YNc(22,Q,3,3,"th",7),t.YNc(23,at,2,1,"td",10),t.BQk(),t.ynx(24,16),t.YNc(25,H,1,0,"th",12),t.YNc(26,it,3,2,"td",10),t.BQk(),t.ynx(27,17),t.YNc(28,z,3,3,"th",7),t.YNc(29,E,2,1,"td",10),t.BQk(),t.YNc(30,Ct,1,0,"tr",18),t.YNc(31,It,1,0,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(32,Rt,3,3,"perun-web-apps-alert",20),t.YNc(33,Ht,3,3,"perun-web-apps-alert",20)),2&ft&&(t.Q6J("hidden",0===Nt.dataSource.filteredData.length||0===Nt.destinations.length),t.xp6(1),t.Q6J("pageSizeOptions",Nt.pageSizeOptions)("dataLength",Nt.dataSource.filteredData.length)("tableId",Nt.tableId),t.xp6(1),t.Q6J("dataSource",Nt.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",Nt.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",Nt.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===Nt.dataSource.filteredData.length&&0!==Nt.destinations.length),t.xp6(1),t.Q6J("ngIf",0===Nt.destinations.length))},directives:[p.l,v.BZ,c.YE,v.w1,v.fO,v.ge,l.oG,v.Dz,v.ev,c.nU,h.O5,m.Hw,u.gM,v.as,v.XQ,v.nj,v.Gk,g.w],pipes:[C.X$],styles:[".warn[_ngcontent-%COMP%]{color:#ebe134}"]}),Ut})()},89466:(w,I,o)=>{"use strict";o.d(I,{u:()=>k});var c=o(32105),x=o(48966),v=o(32075),_=o(36908),f=o(5e3),t=o(51062),p=o(69808),l=o(20773),h=o(98380),m=o(70242),u=o(47423);function g(F,O){1&F&&f._UZ(0,"mat-spinner",6)}function C(F,O){if(1&F&&f._UZ(0,"app-perun-web-apps-destination-list",11),2&F){const R=f.oxw(2);f.Q6J("destinations",R.destinations)("displayedColumns",R.displayedColumns)}}function A(F,O){if(1&F&&(f.TgZ(0,"div",7),f.TgZ(1,"perun-web-apps-alert",8),f._uU(2),f.ALo(3,"translate"),f.qZA(),f.TgZ(4,"p"),f._uU(5),f.ALo(6,"translate"),f.qZA(),f.TgZ(7,"div",9),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.YNc(10,C,1,2,"app-perun-web-apps-destination-list",10),f.qZA()),2&F){const R=f.oxw();f.xp6(2),f.Oqu(f.lcZ(3,4,"DIALOGS.REMOVE_DESTINATIONS.WARNING")),f.xp6(3),f.Oqu(f.lcZ(6,6,"DIALOGS.REMOVE_DESTINATIONS.DESCRIPTION")),f.xp6(3),f.hij(" ",f.lcZ(9,8,"DIALOGS.REMOVE_DESTINATIONS.ASK")," "),f.xp6(2),f.Q6J("ngIf",!R.loading)}}let k=(()=>{class F{constructor(R,U,V,W,rt){this.dialogRef=R,this.data=U,this.notificator=V,this.translate=W,this.serviceManager=rt,this.displayedColumns=[],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.destinations=this.data.destinations,this.displayedColumns="admin-theme"===this.theme?["destinationId","facility","destination","type","propagationType"]:["destinationId","service","destination","type","propagationType"],this.dataSource=new v.by(this.data.destinations)}onCancel(){this.dialogRef.close(!1)}deleteDestinations(){if(0===this.destinations.length)return this.notificator.showSuccess(this.translate.instant("DIALOGS.REMOVE_DESTINATIONS.SUCCESS")),void this.dialogRef.close(!0);const R=this.destinations.pop();this.serviceManager.removeDestination(R.service.id,R.facility.id,R.destination,R.type).subscribe(()=>{this.deleteDestinations()},()=>this.loading=!1)}onConfirm(){this.loading=!0,this.deleteDestinations()}}return F.\u0275fac=function(R){return new(R||F)(f.Y36(x.so),f.Y36(x.WI),f.Y36(_.V6),f.Y36(t.sK),f.Y36(c.KK))},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-perun-web-apps-remove-destination-dialog"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],["alert_type","warn"],[1,"font-weight-bold"],[3,"destinations","displayedColumns",4,"ngIf"],[3,"destinations","displayedColumns"]],template:function(R,U){1&R&&(f.TgZ(0,"h1",0),f._uU(1),f.ALo(2,"translate"),f.qZA(),f.TgZ(3,"div"),f.YNc(4,g,1,0,"mat-spinner",1),f.YNc(5,A,11,10,"div",2),f.TgZ(6,"div",3),f.TgZ(7,"button",4),f.NdJ("click",function(){return U.onCancel()}),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.TgZ(10,"button",5),f.NdJ("click",function(){return U.onConfirm()}),f._uU(11),f.ALo(12,"translate"),f.qZA(),f.qZA(),f.qZA()),2&R&&(f.xp6(1),f.Oqu(f.lcZ(2,9,"DIALOGS.REMOVE_DESTINATIONS.TITLE")),f.xp6(2),f.Tol(U.theme),f.xp6(1),f.Q6J("ngIf",U.loading),f.xp6(1),f.Q6J("ngIf",!U.loading),f.xp6(3),f.hij(" ",f.lcZ(9,11,"DIALOGS.REMOVE_DESTINATIONS.CANCEL")," "),f.xp6(2),f.Q6J("disabled",U.loading),f.xp6(1),f.hij(" ",f.lcZ(12,13,"DIALOGS.REMOVE_DESTINATIONS.CONFIRM")," "))},directives:[x.uh,p.O5,l.$g,x.xY,h.w,m.q,x.H8,u.lW],pipes:[t.X$],styles:[""]}),F})()},23256:(w,I,o)=>{"use strict";o.d(I,{Q:()=>tt});var c=o(84847),x=o(20449),v=o(32075),_=o(9244),f=o(36908),t=o(5e3),p=o(18750),l=o(77446),h=o(69808),m=o(98380),u=o(51062);function g(Q,at){if(1&Q){const H=t.EpF();t.TgZ(0,"th",16),t.TgZ(1,"mat-checkbox",17),t.NdJ("change",function(lt){t.CHM(H);const it=t.oxw();return lt?it.masterToggle():null}),t.qZA(),t.qZA()}if(2&Q){const H=t.oxw();t.xp6(1),t.Q6J("aria-label",H.checkboxLabel())("checked",H.selection.hasValue()&&H.isAllSelected())("indeterminate",H.selection.hasValue()&&!H.isAllSelected())}}function C(Q,at){if(1&Q){const H=t.EpF();t.TgZ(0,"td",18),t.TgZ(1,"mat-checkbox",19),t.NdJ("change",function(lt){const z=t.CHM(H).$implicit,E=t.oxw();return lt?E.selection.toggle(z):null})("click",function(lt){return lt.stopPropagation()}),t.qZA(),t.qZA()}if(2&Q){const H=at.$implicit,K=t.oxw();t.xp6(1),t.Q6J("aria-label",K.checkboxLabel(H))("checked",K.selection.isSelected(H))}}function A(Q,at){1&Q&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.ID")," "))}function k(Q,at){if(1&Q&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&Q){const H=at.$implicit;t.xp6(1),t.hij(" ",H.id," ")}}function F(Q,at){1&Q&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NAME")," "))}function O(Q,at){if(1&Q&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&Q){const H=at.$implicit;t.xp6(1),t.Oqu(H.name)}}function R(Q,at){1&Q&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.CONTACT")," "))}function U(Q,at){if(1&Q&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&Q){const H=at.$implicit;t.xp6(1),t.Oqu(H.contact)}}function V(Q,at){1&Q&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.TYPE")," "))}function W(Q,at){if(1&Q&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&Q){const H=at.$implicit;t.xp6(1),t.Oqu(H.type)}}function rt(Q,at){1&Q&&t._UZ(0,"tr",23)}function nt(Q,at){1&Q&&t._UZ(0,"tr",24)}function ut(Q,at){1&Q&&(t.TgZ(0,"perun-web-apps-alert",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NO_OWNERS"),"\n"))}function J(Q,at){1&Q&&(t.TgZ(0,"perun-web-apps-alert",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NO_FILTER_OWNERS"),"\n"))}let tt=(()=>{class Q{constructor(H,K){this.authResolver=H,this.tableCheckbox=K,this.owners=[],this.selection=new x.Ov(!0,[]),this.filterValue="",this.displayedColumns=["select","id","name","contact","type"],this.pageSizeOptions=_.f7}set matSort(H){this.sort=H,this.setDataSource()}static getDataForColumn(H,K){switch(K){case"id":return H.id.toString();case"name":return H.name;case"contact":return H.contact;case"type":return H.type;default:return""}}ngAfterViewInit(){this.setDataSource()}exportData(H){(0,_.O6)((0,_.Xn)(this.dataSource.filteredData,this.displayedColumns,Q.getDataForColumn),H)}setDataSource(){this.dataSource&&(this.dataSource.filterPredicate=(H,K)=>(0,_.Sd)(H,K,this.displayedColumns,Q.getDataForColumn),this.dataSource.sortData=(H,K)=>(0,_.pR)(H,K,Q.getDataForColumn),this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator,this.dataSource.filter=this.filterValue)}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(H=>"id"!==H)),this.dataSource=new v.by(this.owners),this.setDataSource()}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(H){return H?`${this.selection.isSelected(H)?"deselect":"select"} row ${H.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return Q.\u0275fac=function(H){return new(H||Q)(t.Y36(f.x4),t.Y36(f.UA))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["perun-web-apps-owners-list"]],viewQuery:function(H,K){if(1&H&&(t.Gf(_.l9,7),t.Gf(c.YE,7)),2&H){let lt;t.iGM(lt=t.CRH())&&(K.child=lt.first),t.iGM(lt=t.CRH())&&(K.matSort=lt.first)}},inputs:{owners:"owners",selection:"selection",tableId:"tableId",filterValue:"filterValue",displayedColumns:"displayedColumns"},features:[t.TTD],decls:22,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","contact"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(H,K){1&H&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(it){return K.exportData(it)}),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,g,2,3,"th",4),t.YNc(5,C,2,2,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,A,3,3,"th",7),t.YNc(8,k,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,F,3,3,"th",7),t.YNc(11,O,2,1,"td",10),t.BQk(),t.ynx(12,11),t.YNc(13,R,3,3,"th",7),t.YNc(14,U,2,1,"td",10),t.BQk(),t.ynx(15,12),t.YNc(16,V,3,3,"th",7),t.YNc(17,W,2,1,"td",10),t.BQk(),t.YNc(18,rt,1,0,"tr",13),t.YNc(19,nt,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,ut,3,3,"perun-web-apps-alert",15),t.YNc(21,J,3,3,"perun-web-apps-alert",15)),2&H&&(t.Q6J("hidden",0===K.owners.length||0===K.dataSource.filteredData.length),t.xp6(1),t.Q6J("tableId",K.tableId)("dataLength",K.dataSource.filteredData.length)("pageSizeOptions",K.pageSizeOptions),t.xp6(1),t.Q6J("dataSource",K.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",K.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",K.displayedColumns),t.xp6(1),t.Q6J("ngIf",!K.owners.length),t.xp6(1),t.Q6J("ngIf",!K.dataSource.filteredData.length&&K.owners.length))},directives:[p.l,v.BZ,c.YE,v.w1,v.fO,v.ge,l.oG,v.Dz,v.ev,c.nU,v.as,v.XQ,v.nj,v.Gk,h.O5,m.w],pipes:[u.X$],styles:[""]}),Q})()},16087:(w,I,o)=>{"use strict";const c=o(34315),x=o(52872),v=o(40717);w.exports=function _(p,l){switch(x(p)){case"object":return function f(p,l){if("function"==typeof l)return l(p);if(l||v(p)){const h=new p.constructor;for(let m in p)h[m]=_(p[m],l);return h}return p}(p,l);case"array":return function t(p,l){const h=new p.constructor(p.length);for(let m=0;m<p.length;m++)h[m]=_(p[m],l);return h}(p,l);default:return c(p)}}},52786:(w,I,o)=>{"use strict";o.d(I,{Il:()=>x,xV:()=>v,J5:()=>_,ZP:()=>U,SU:()=>rt,B8:()=>nt,Ss:()=>ut,Ym:()=>K});var c=o(68884);function x(){}var v=.7,_=1/v,f="\\s*([+-]?\\d+)\\s*",t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",p="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),m=new RegExp("^rgb\\("+[p,p,p]+"\\)$"),u=new RegExp("^rgba\\("+[f,f,f,t]+"\\)$"),g=new RegExp("^rgba\\("+[p,p,p,t]+"\\)$"),C=new RegExp("^hsl\\("+[t,p,p]+"\\)$"),A=new RegExp("^hsla\\("+[t,p,p,t]+"\\)$"),k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function F(){return this.rgb().formatHex()}function R(){return this.rgb().formatRgb()}function U(z){var E,Ct;return z=(z+"").trim().toLowerCase(),(E=l.exec(z))?(Ct=E[1].length,E=parseInt(E[1],16),6===Ct?V(E):3===Ct?new ut(E>>8&15|E>>4&240,E>>4&15|240&E,(15&E)<<4|15&E,1):8===Ct?W(E>>24&255,E>>16&255,E>>8&255,(255&E)/255):4===Ct?W(E>>12&15|E>>8&240,E>>8&15|E>>4&240,E>>4&15|240&E,((15&E)<<4|15&E)/255):null):(E=h.exec(z))?new ut(E[1],E[2],E[3],1):(E=m.exec(z))?new ut(255*E[1]/100,255*E[2]/100,255*E[3]/100,1):(E=u.exec(z))?W(E[1],E[2],E[3],E[4]):(E=g.exec(z))?W(255*E[1]/100,255*E[2]/100,255*E[3]/100,E[4]):(E=C.exec(z))?at(E[1],E[2]/100,E[3]/100,1):(E=A.exec(z))?at(E[1],E[2]/100,E[3]/100,E[4]):k.hasOwnProperty(z)?V(k[z]):"transparent"===z?new ut(NaN,NaN,NaN,0):null}function V(z){return new ut(z>>16&255,z>>8&255,255&z,1)}function W(z,E,Ct,It){return It<=0&&(z=E=Ct=NaN),new ut(z,E,Ct,It)}function rt(z){return z instanceof x||(z=U(z)),z?new ut((z=z.rgb()).r,z.g,z.b,z.opacity):new ut}function nt(z,E,Ct,It){return 1===arguments.length?rt(z):new ut(z,E,Ct,null==It?1:It)}function ut(z,E,Ct,It){this.r=+z,this.g=+E,this.b=+Ct,this.opacity=+It}function J(){return"#"+Q(this.r)+Q(this.g)+Q(this.b)}function tt(){var z=this.opacity;return(1===(z=isNaN(z)?1:Math.max(0,Math.min(1,z)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===z?")":", "+z+")")}function Q(z){return((z=Math.max(0,Math.min(255,Math.round(z)||0)))<16?"0":"")+z.toString(16)}function at(z,E,Ct,It){return It<=0?z=E=Ct=NaN:Ct<=0||Ct>=1?z=E=NaN:E<=0&&(z=NaN),new lt(z,E,Ct,It)}function H(z){if(z instanceof lt)return new lt(z.h,z.s,z.l,z.opacity);if(z instanceof x||(z=U(z)),!z)return new lt;if(z instanceof lt)return z;var E=(z=z.rgb()).r/255,Ct=z.g/255,It=z.b/255,Rt=Math.min(E,Ct,It),Ht=Math.max(E,Ct,It),ne=NaN,Ut=Ht-Rt,vt=(Ht+Rt)/2;return Ut?(ne=E===Ht?(Ct-It)/Ut+6*(Ct<It):Ct===Ht?(It-E)/Ut+2:(E-Ct)/Ut+4,Ut/=vt<.5?Ht+Rt:2-Ht-Rt,ne*=60):Ut=vt>0&&vt<1?0:ne,new lt(ne,Ut,vt,z.opacity)}function K(z,E,Ct,It){return 1===arguments.length?H(z):new lt(z,E,Ct,null==It?1:It)}function lt(z,E,Ct,It){this.h=+z,this.s=+E,this.l=+Ct,this.opacity=+It}function it(z,E,Ct){return 255*(z<60?E+(Ct-E)*z/60:z<180?Ct:z<240?E+(Ct-E)*(240-z)/60:E)}(0,c.Z)(x,U,{copy:function(z){return Object.assign(new this.constructor,this,z)},displayable:function(){return this.rgb().displayable()},hex:F,formatHex:F,formatHsl:function O(){return H(this).formatHsl()},formatRgb:R,toString:R}),(0,c.Z)(ut,nt,(0,c.l)(x,{brighter:function(z){return z=null==z?_:Math.pow(_,z),new ut(this.r*z,this.g*z,this.b*z,this.opacity)},darker:function(z){return z=null==z?v:Math.pow(v,z),new ut(this.r*z,this.g*z,this.b*z,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J,formatHex:J,formatRgb:tt,toString:tt})),(0,c.Z)(lt,K,(0,c.l)(x,{brighter:function(z){return z=null==z?_:Math.pow(_,z),new lt(this.h,this.s,this.l*z,this.opacity)},darker:function(z){return z=null==z?v:Math.pow(v,z),new lt(this.h,this.s,this.l*z,this.opacity)},rgb:function(){var z=this.h%360+360*(this.h<0),E=isNaN(z)||isNaN(this.s)?0:this.s,Ct=this.l,It=Ct+(Ct<.5?Ct:1-Ct)*E,Rt=2*Ct-It;return new ut(it(z>=240?z-240:z+120,Rt,It),it(z,Rt,It),it(z<120?z+240:z-120,Rt,It),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var z=this.opacity;return(1===(z=isNaN(z)?1:Math.max(0,Math.min(1,z)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===z?")":", "+z+")")}}))},68884:(w,I,o)=>{"use strict";function c(v,_,f){v.prototype=_.prototype=f,f.constructor=v}function x(v,_){var f=Object.create(v.prototype);for(var t in _)f[t]=_[t];return f}o.d(I,{Z:()=>c,l:()=>x})},25922:(w,I,o)=>{"use strict";o.d(I,{Z:()=>p});var c={value:function(){}};function x(){for(var u,l=0,h=arguments.length,m={};l<h;++l){if(!(u=arguments[l]+"")||u in m||/[\s.]/.test(u))throw new Error("illegal type: "+u);m[u]=[]}return new v(m)}function v(l){this._=l}function _(l,h){return l.trim().split(/^|\s+/).map(function(m){var u="",g=m.indexOf(".");if(g>=0&&(u=m.slice(g+1),m=m.slice(0,g)),m&&!h.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:u}})}function f(l,h){for(var g,m=0,u=l.length;m<u;++m)if((g=l[m]).name===h)return g.value}function t(l,h,m){for(var u=0,g=l.length;u<g;++u)if(l[u].name===h){l[u]=c,l=l.slice(0,u).concat(l.slice(u+1));break}return null!=m&&l.push({name:h,value:m}),l}v.prototype=x.prototype={constructor:v,on:function(l,h){var g,m=this._,u=_(l+"",m),C=-1,A=u.length;if(!(arguments.length<2)){if(null!=h&&"function"!=typeof h)throw new Error("invalid callback: "+h);for(;++C<A;)if(g=(l=u[C]).type)m[g]=t(m[g],l.name,h);else if(null==h)for(g in m)m[g]=t(m[g],l.name,null);return this}for(;++C<A;)if((g=(l=u[C]).type)&&(g=f(m[g],l.name)))return g},copy:function(){var l={},h=this._;for(var m in h)l[m]=h[m].slice();return new v(l)},call:function(l,h){if((g=arguments.length-2)>0)for(var g,C,m=new Array(g),u=0;u<g;++u)m[u]=arguments[u+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(u=0,g=(C=this._[l]).length;u<g;++u)C[u].value.apply(h,m)},apply:function(l,h,m){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var u=this._[l],g=0,C=u.length;g<C;++g)u[g].value.apply(h,m)}};const p=x},27065:(w,I,o)=>{"use strict";function v(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}o.d(I,{tw:()=>v})},22910:(w,I,o)=>{"use strict";o.d(I,{WU:()=>v,jH:()=>_,ZP:()=>f});var x,v,_,c=o(4753);function f(t){return x=(0,c.Z)(t),v=x.format,_=x.formatPrefix,x}f({thousands:",",grouping:[3],currency:["$",""]})},68520:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(5326);function x(v){return(v=(0,c.V)(Math.abs(v)))?v[1]:NaN}},5326:(w,I,o)=>{"use strict";function c(v){return Math.abs(v=Math.round(v))>=1e21?v.toLocaleString("en").replace(/,/g,""):v.toString(10)}function x(v,_){if((f=(v=_?v.toExponential(_-1):v.toExponential()).indexOf("e"))<0)return null;var f,t=v.slice(0,f);return[t.length>1?t[0]+t.slice(2):t,+v.slice(f+1)]}o.d(I,{Z:()=>c,V:()=>x})},32517:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x,v:()=>v});var c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x(_){if(!(f=c.exec(_)))throw new Error("invalid format: "+_);var f;return new v({fill:f[1],align:f[2],sign:f[3],symbol:f[4],zero:f[5],width:f[6],comma:f[7],precision:f[8]&&f[8].slice(1),trim:f[9],type:f[10]})}function v(_){this.fill=void 0===_.fill?" ":_.fill+"",this.align=void 0===_.align?">":_.align+"",this.sign=void 0===_.sign?"-":_.sign+"",this.symbol=void 0===_.symbol?"":_.symbol+"",this.zero=!!_.zero,this.width=void 0===_.width?void 0:+_.width,this.comma=!!_.comma,this.precision=void 0===_.precision?void 0:+_.precision,this.trim=!!_.trim,this.type=void 0===_.type?"":_.type+""}x.prototype=v.prototype,v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},41129:(w,I,o)=>{"use strict";o.r(I),o.d(I,{formatDefaultLocale:()=>c.ZP,format:()=>c.WU,formatPrefix:()=>c.jH,formatLocale:()=>x.Z,formatSpecifier:()=>v.Z,FormatSpecifier:()=>v.v,precisionFixed:()=>_.Z,precisionPrefix:()=>f.Z,precisionRound:()=>t.Z});var c=o(22910),x=o(4753),v=o(32517),_=o(78986),f=o(38914),t=o(65142)},4753:(w,I,o)=>{"use strict";o.d(I,{Z:()=>A});var p,c=o(68520),_=o(32517),t=o(5326);function h(k,F){var O=(0,t.V)(k,F);if(!O)return k+"";var R=O[0],U=O[1];return U<0?"0."+new Array(-U).join("0")+R:R.length>U+1?R.slice(0,U+1)+"."+R.slice(U+1):R+new Array(U-R.length+2).join("0")}const m={"%":(k,F)=>(100*k).toFixed(F),b:k=>Math.round(k).toString(2),c:k=>k+"",d:t.Z,e:(k,F)=>k.toExponential(F),f:(k,F)=>k.toFixed(F),g:(k,F)=>k.toPrecision(F),o:k=>Math.round(k).toString(8),p:(k,F)=>h(100*k,F),r:h,s:function l(k,F){var O=(0,t.V)(k,F);if(!O)return k+"";var R=O[0],U=O[1],V=U-(p=3*Math.max(-8,Math.min(8,Math.floor(U/3))))+1,W=R.length;return V===W?R:V>W?R+new Array(V-W+1).join("0"):V>0?R.slice(0,V)+"."+R.slice(V):"0."+new Array(1-V).join("0")+(0,t.V)(k,Math.max(0,F+V-1))[0]},X:k=>Math.round(k).toString(16).toUpperCase(),x:k=>Math.round(k).toString(16)};function u(k){return k}var g=Array.prototype.map,C=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function A(k){var F=void 0===k.grouping||void 0===k.thousands?u:function x(k,F){return function(O,R){for(var U=O.length,V=[],W=0,rt=k[0],nt=0;U>0&&rt>0&&(nt+rt+1>R&&(rt=Math.max(1,R-nt)),V.push(O.substring(U-=rt,U+rt)),!((nt+=rt+1)>R));)rt=k[W=(W+1)%k.length];return V.reverse().join(F)}}(g.call(k.grouping,Number),k.thousands+""),O=void 0===k.currency?"":k.currency[0]+"",R=void 0===k.currency?"":k.currency[1]+"",U=void 0===k.decimal?".":k.decimal+"",V=void 0===k.numerals?u:function v(k){return function(F){return F.replace(/[0-9]/g,function(O){return k[+O]})}}(g.call(k.numerals,String)),W=void 0===k.percent?"%":k.percent+"",rt=void 0===k.minus?"\u2212":k.minus+"",nt=void 0===k.nan?"NaN":k.nan+"";function ut(tt){var Q=(tt=(0,_.Z)(tt)).fill,at=tt.align,H=tt.sign,K=tt.symbol,lt=tt.zero,it=tt.width,z=tt.comma,E=tt.precision,Ct=tt.trim,It=tt.type;"n"===It?(z=!0,It="g"):m[It]||(void 0===E&&(E=12),Ct=!0,It="g"),(lt||"0"===Q&&"="===at)&&(lt=!0,Q="0",at="=");var Rt="$"===K?O:"#"===K&&/[boxX]/.test(It)?"0"+It.toLowerCase():"",Ht="$"===K?R:/[%p]/.test(It)?W:"",ne=m[It],Ut=/[defgprs%]/.test(It);function vt(ft){var me,ge,ye,Nt=Rt,Qt=Ht;if("c"===It)Qt=ne(ft)+Qt,ft="";else{var Be=(ft=+ft)<0||1/ft<0;if(ft=isNaN(ft)?nt:ne(Math.abs(ft),E),Ct&&(ft=function f(k){t:for(var U,F=k.length,O=1,R=-1;O<F;++O)switch(k[O]){case".":R=U=O;break;case"0":0===R&&(R=O),U=O;break;default:if(!+k[O])break t;R>0&&(R=0)}return R>0?k.slice(0,R)+k.slice(U+1):k}(ft)),Be&&0==+ft&&"+"!==H&&(Be=!1),Nt=(Be?"("===H?H:rt:"-"===H||"("===H?"":H)+Nt,Qt=("s"===It?C[8+p/3]:"")+Qt+(Be&&"("===H?")":""),Ut)for(me=-1,ge=ft.length;++me<ge;)if(48>(ye=ft.charCodeAt(me))||ye>57){Qt=(46===ye?U+ft.slice(me+1):ft.slice(me))+Qt,ft=ft.slice(0,me);break}}z&&!lt&&(ft=F(ft,1/0));var vn=Nt.length+ft.length+Qt.length,Re=vn<it?new Array(it-vn+1).join(Q):"";switch(z&&lt&&(ft=F(Re+ft,Re.length?it-Qt.length:1/0),Re=""),at){case"<":ft=Nt+ft+Qt+Re;break;case"=":ft=Nt+Re+ft+Qt;break;case"^":ft=Re.slice(0,vn=Re.length>>1)+Nt+ft+Qt+Re.slice(vn);break;default:ft=Re+Nt+ft+Qt}return V(ft)}return E=void 0===E?6:/[gprs]/.test(It)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E)),vt.toString=function(){return tt+""},vt}return{format:ut,formatPrefix:function J(tt,Q){var at=ut(((tt=(0,_.Z)(tt)).type="f",tt)),H=3*Math.max(-8,Math.min(8,Math.floor((0,c.Z)(Q)/3))),K=Math.pow(10,-H),lt=C[8+H/3];return function(it){return at(K*it)+lt}}}}},78986:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(68520);function x(v){return Math.max(0,-(0,c.Z)(Math.abs(v)))}},38914:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(68520);function x(v,_){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,c.Z)(_)/3)))-(0,c.Z)(Math.abs(v)))}},65142:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(68520);function x(v,_){return v=Math.abs(v),_=Math.abs(_)-v,Math.max(0,(0,c.Z)(_)-(0,c.Z)(v))+1}},9921:function(w,I,o){!function(c,x,v,_,f,t,p,l,h,m){"use strict";function u(q){if(q&&q.__esModule)return q;var pt=Object.create(null);return q&&Object.keys(q).forEach(function(bt){if("default"!==bt){var wt=Object.getOwnPropertyDescriptor(q,bt);Object.defineProperty(pt,bt,wt.get?wt:{enumerable:!0,get:function(){return q[bt]}})}}),pt.default=q,Object.freeze(pt)}var Ot,g=u(x);function C(q,pt,bt){return pt in q?Object.defineProperty(q,pt,{value:bt,enumerable:!0,configurable:!0,writable:!0}):q[pt]=bt,q}function A(q){return function k(q){if(Array.isArray(q))return R(q)}(q)||function F(q){if("undefined"!=typeof Symbol&&null!=q[Symbol.iterator]||null!=q["@@iterator"])return Array.from(q)}(q)||function O(q,pt){if(q){if("string"==typeof q)return R(q,pt);var bt=Object.prototype.toString.call(q).slice(8,-1);if("Object"===bt&&q.constructor&&(bt=q.constructor.name),"Map"===bt||"Set"===bt)return Array.from(q);if("Arguments"===bt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt))return R(q,pt)}}(q)||function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(q,pt){(null==pt||pt>q.length)&&(pt=q.length);for(var bt=0,wt=new Array(pt);bt<pt;bt++)wt[bt]=q[bt];return wt}function V(q){var pt={},bt=q.node().nodeName;pt.tag=bt,"#text"==bt?pt.text=q.text():"#comment"==bt&&(pt.comment=q.text()),pt.attributes={};var wt=q.node().attributes;if(wt)for(var Xt=0;Xt<wt.length;Xt++){var te=wt[Xt];pt.attributes[te.name]=te.value}var ke,N=q.node().transform;if(N&&0!=N.baseVal.numberOfItems){var le=N.baseVal.consolidate().matrix;pt.translation={x:le.e,y:le.f},pt.scale=le.a}if("ellipse"==bt&&(pt.center={x:pt.attributes.cx,y:pt.attributes.cy}),"polygon"==bt){var Oe=(ke=q.attr("points").split(" ")).map(function(gt){return gt.split(",")[0]}),rn=ke.map(function(gt){return gt.split(",")[1]}),He=Math.min.apply(null,Oe),$e=Math.max.apply(null,Oe),fe=Math.min.apply(null,rn),ve=Math.max.apply(null,rn);pt.bbox={x:He,y:fe,width:$e-He,height:ve-fe},pt.center={x:(He+$e)/2,y:(fe+ve)/2}}return"path"==bt&&((ke=q.attr("d").split(/[A-Z ]/)).shift(),Oe=ke.map(function(Wt){return+Wt.split(",")[0]}),rn=ke.map(function(Wt){return+Wt.split(",")[1]}),He=Math.min.apply(null,Oe),$e=Math.max.apply(null,Oe),fe=Math.min.apply(null,rn),ve=Math.max.apply(null,rn),pt.bbox={x:He,y:fe,width:$e-He,height:ve-fe},pt.center={x:(He+$e)/2,y:(fe+ve)/2},pt.totalLength=q.node().getTotalLength()),"text"==bt&&(pt.center={x:q.attr("x"),y:q.attr("y")}),"#text"==bt?pt.text=q.text():"#comment"==bt&&(pt.comment=q.text()),pt}function W(q){var pt=V(q);return pt.children=[],g.selectAll(q.node().childNodes).each(function(){var wt=W(g.select(this));wt.parent=pt,pt.children.push(wt)}),pt}function rt(q){return"#text"==q.tag?document.createTextNode(""):"#comment"==q.tag?document.createComment(q.comment):document.createElementNS("http://www.w3.org/2000/svg",q.tag)}function nt(q){for(var pt=rt(q),bt=g.select(pt),wt=q.attributes,Xt=0,te=Object.keys(wt);Xt<te.length;Xt++){var Dt=te[Xt];bt.attr(Dt,wt[Dt])}return pt}function ut(q,pt){var bt=g.select(q.node().parentNode),wt=nt(pt),Xt=bt.insert(function(){return wt},function(){return q.node()});return q.remove(),Xt}function tt(q,pt){(function J(q,pt){q.datum(pt),q.data([pt],function(bt){return bt.key})})(q,pt),g.selectAll(q.node().childNodes).each(function(wt,Xt){tt(g.select(this),pt.children[Xt])})}function Q(q,pt){var bt=q.selectAll(function(){return q.node().childNodes}),wt=(bt=bt.data(function(Dt){return Dt.children},function(Dt){return Dt.tag+"-"+pt})).enter().append(function(Dt){return rt(Dt)}),Xt=bt.exit();Xt=Xt.remove(),bt=wt.merge(bt);var te={};bt.each(function(Dt){var he=Dt.tag;null==te[he]&&(te[he]=0);var N=te[he]++;at.call(this,Dt,N)})}function at(q){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,bt=g.select(this),wt=q.attributes,Xt=bt.node().attributes;if(Xt)for(var te=0;te<Xt.length;te++){var Dt=Xt[te],he=Dt.name;if("xmlns"!=he.split(":")[0]&&Dt.namespaceURI){var N=Dt.namespaceURI.split("/");he=N[N.length-1]+":"+he}he in wt||(wt[he]=null)}for(var ke=0,Oe=Object.keys(wt);ke<Oe.length;ke++){var rn=Oe[ke];bt.attr(rn,wt[rn])}q.text&&bt.text(q.text),Q(bt,pt)}function H(q){return Object.assign({},q)}function K(q){return Math.round(100*q)/100}function it(){var q=this;var wt=g.select(this._selection.node().querySelector("svg"));if(0==wt.size())return this;this._zoomSelection=wt;var Xt=p.zoom().scaleExtent(this._options.zoomScaleExtent).translateExtent(this._options.zoomTranslateExtent).interpolate(t.interpolate).on("zoom",function pt(Dt){g.select(wt.node().querySelector("g")).attr("transform",Dt.transform),q._dispatch.call("zoom",q)});this._zoomBehavior=Xt;var te=g.select(wt.node().querySelector("g"));return wt.call(Xt),this._active||E.call(this,te),this._originalTransform=p.zoomTransform(wt.node()),this}function z(q){var pt=this._translation,bt=this._scale,wt=q.datum().translation,Xt=q.datum().scale,te=p.zoomTransform(this._zoomSelection.node());return pt&&(te=(te=te.scale(1/bt)).translate(-pt.x,-pt.y)),(te=te.translate(wt.x,wt.y)).scale(Xt)}function E(q){this._zoomBehavior.transform(this._zoomSelection,z.call(this,q)),this._translation=q.datum().translation,this._scale=q.datum().scale,this._originalTransform=p.zoomIdentity.translate(q.datum().translation.x,q.datum().translation.y).scale(q.datum().scale)}function Ut(q,pt){return function(){var bt=q.map(function(wt){return t.interpolate([wt[0][0],wt[0][1]],[wt[1][0],wt[1][1]])});return function(wt){return wt<1?"M"+bt.map(function(Xt){return Xt(wt)}).join("L"):pt}}}function Nt(q){return"edge"==q.attributes.class||"a"==q.tag&&"g"==q.parent.tag&&"edge"==q.parent.parent.attributes.class}function Qt(q){return q.parent&&Nt(q.parent)}function Be(q){var pt=this._transition,bt=this._options.fade&&null!=pt,wt=this._options.tweenPaths,Xt=this._options.tweenShapes,te=this._options.convertEqualSidedPolygons,Dt=this._options.growEnteringEdges&&null!=pt,he=this._attributer,N=this;function ke(fe){var ve=g.select(this);if("svg"==fe.tag){var Qe=N._options;if(null!=Qe.width||null!=Qe.height){var et=Qe.width,gt=Qe.height;null==et?et=4*fe.attributes.width.replace("pt","")/3:(ve.attr("width",et),fe.attributes.width=et),null==gt?gt=4*fe.attributes.height.replace("pt","")/3:(ve.attr("height",gt),fe.attributes.height=gt),Qe.fit||(ve.attr("viewBox","0 0 ".concat(3*et/4/Qe.scale," ").concat(3*gt/4/Qe.scale)),fe.attributes.viewBox="0 0 ".concat(3*et/4/Qe.scale," ").concat(3*gt/4/Qe.scale))}1!=Qe.scale&&(Qe.fit||null==Qe.width&&null==Qe.height)&&(et=fe.attributes.viewBox.split(" ")[2],gt=fe.attributes.viewBox.split(" ")[3],ve.attr("viewBox","0 0 ".concat(et/Qe.scale," ").concat(gt/Qe.scale)),fe.attributes.viewBox="0 0 ".concat(et/Qe.scale," ").concat(gt/Qe.scale))}he&&ve.each(he);var mt=fe.tag,St=fe.attributes,zt=ve.node().attributes;if(zt)for(var ee=0;ee<zt.length;ee++){var Jt=zt[ee],pe=Jt.name;if("xmlns"!=pe.split(":")[0]&&Jt.namespaceURI){var xe=Jt.namespaceURI.split("/");pe=xe[xe.length-1]+":"+pe}pe in St||(St[pe]=null)}var oe=!1,Ie=!1;if(Xt&&pt){if(("polygon"==this.nodeName||"ellipse"==this.nodeName)&&fe.alternativeOld&&(Ie=!0),("polygon"==mt||"ellipse"==mt)&&fe.alternativeNew&&(oe=!0),"polygon"==this.nodeName&&"polygon"==mt&&fe.alternativeOld){var Me=V(ve);if(!te){var $n=Me.attributes.points.split(" ").length;(En=fe.attributes.points).split(" ").length==$n&&(oe=!1,Ie=!1)}}if(Ie){var Fn=ut(ve,fe.alternativeOld);Fn.data([fe],function(){return fe.key}),ve=Fn}oe&&(mt="path",St=fe.alternativeNew.attributes)}var on=ve;if(pt&&(on=on.transition(pt),bt&&on.filter(function(ct){return"#"==ct.tag[0]?null:this}).style("opacity",1),on.filter(function(ct){return"#"==ct.tag[0]?null:this}).on("end",function(ct){g.select(this).attr("style",ct&&ct.attributes&&ct.attributes.style||null)})),Dt&&"path"==mt&&fe.offset){var Un=fe.totalLength;ve.attr("stroke-dasharray",Un+" "+Un).attr("stroke-dashoffset",Un).attr("transform","translate("+fe.offset.x+","+fe.offset.y+")"),St["stroke-dashoffset"]=0,St.transform="translate(0,0)",on.attr("stroke-dashoffset",St["stroke-dashoffset"]).attr("transform",St.transform).on("start",function(){g.select(this).style("opacity",null)}).on("end",function(){g.select(this).attr("stroke-dashoffset",null).attr("stroke-dasharray",null).attr("transform",null)})}if(Dt&&"polygon"==mt&&Qt(fe)&&fe.offset&&"path"==fe.parent.children[3].tag){var hi=g.select(ve.node().parentNode.querySelector("path")),zi=hi.node().getPointAtLength(0),Jn=hi.node().getPointAtLength(fe.totalLength),Ai=hi.node().getPointAtLength(fe.totalLength-1),cn=180*Math.atan2(Jn.y-Ai.y,Jn.x-Ai.x)/Math.PI,Hi=zi.x-Jn.x+fe.offset.x,Ft=zi.y-Jn.y+fe.offset.y;ve.attr("transform","translate("+Hi+","+Ft+")"),on.attrTween("transform",function(){return function(ct){var xt=hi.node().getPointAtLength(fe.totalLength*ct),kt=hi.node().getPointAtLength(fe.totalLength*ct+1),Pt=180*Math.atan2(kt.y-xt.y,kt.x-xt.x)/Math.PI-cn;return"translate("+(Hi=xt.x-Jn.x+fe.offset.x*(1-ct))+","+(Ft=xt.y-Jn.y+fe.offset.y*(1-ct))+") rotate("+Pt+" "+Jn.x+" "+Jn.y+")"}}).on("start",function(){g.select(this).style("opacity",null)}).on("end",function(){g.select(this).attr("transform",null)})}for(var be=wt&&pt&&"path"==mt&&null!=ve.attr("d"),jt=0,b=Object.keys(St);jt<b.length;jt++){var M=b[jt],B=St[M];if(be&&"d"==M){var En;(En=(fe.alternativeOld||fe).points)&&on.attrTween("d",Ut(En,B))}else{if("transform"==M&&fe.translation)if(pt){var j=on.on("end");on.on("start",function(){N._zoomBehavior&&on.tween("attr.transform",function(){var ct=this;return function(xt){ct.setAttribute("transform",t.interpolateTransformSvg(p.zoomTransform(N._zoomSelection.node()).toString(),z.call(N,ve).toString())(xt))}})}).on("end",function(){j.call(this),N._zoomBehavior&&E.call(N,ve)})}else N._zoomBehavior&&(E.call(N,ve),B=z.call(N,ve).toString());on.attr(M,B)}}oe&&on.on("end",function(ct,xt,kt){ut(Fn=g.select(this),ct).data([ct],function(){return ct.key})}),fe.text&&on.text(fe.text),function le(fe){var ve=fe.selectAll(function(){return fe.node().childNodes}),Qe=(ve=ve.data(function(mt){return mt.children},function(mt){return mt.key})).enter().append(function(mt){var St=rt(mt);return"#text"==mt.tag&&bt&&(St.nodeValue=mt.text),St});(bt||Dt&&Nt(fe.datum()))&&Qe.filter(function(mt){return"#"==mt.tag[0]?null:this}).each(function(mt){for(var St=g.select(this),zt=0,ee=Object.keys(mt.attributes);zt<ee.length;zt++){var Jt=ee[zt];St.attr(Jt,mt.attributes[Jt])}}).filter(function(mt){return"svg"==mt.tag||"g"==mt.tag?null:this}).style("opacity",0);var gt=ve.exit();he&&gt.each(he),pt&&(gt=gt.transition(pt),bt&&gt.filter(function(mt){return"#"==mt.tag[0]?null:this}).style("opacity",0)),gt=gt.remove(),(ve=Qe.merge(ve)).each(ke)}(ve)}var Oe=this._selection;if(null!=pt){var rn=this._jobs;if(N._active)return rn.push(null),this;Oe.transition(pt).transition().duration(0).on("end",function(){N._active=!1,0!=rn.length&&(rn.shift(),N.render())}),this._active=!0}null!=pt&&Oe.transition(pt).on("start",function(){N._dispatch.call("transitionStart",N)}).on("end",function(){N._dispatch.call("transitionEnd",N)}).transition().duration(0).on("start",function(){N._dispatch.call("restoreEnd",N),N._dispatch.call("end",N),q&&q.call(N)});var He=this._data,$e=Oe.selectAll("svg").data([He],function(fe){return fe.key});return $e=$e.enter().append("svg").merge($e),ke.call($e.node(),He),this._options.zoom&&!this._zoomBehavior&&it.call(this),N._dispatch.call("renderEnd",N),null==pt&&(this._dispatch.call("end",this),q&&q.call(this)),this}function Re(q,pt){if("polygon"==q.tag){(bt=H(q)).tag="path";var Xt=H(wt=q.attributes),te=wt.points;if("polygon"==pt.tag){(Dt=q.bbox).cx=Dt.x+Dt.width/2,Dt.cy=Dt.y+Dt.height/2;for(var N=wt.points.split(" "),le=N.map(function(Me){var Ye=Me.split(",");return[Ye[0]-Dt.cx,Ye[1]-Dt.cy]}),ke=le[le.length-1][0],Oe=le[le.length-1][1],rn=0;rn<le.length;rn++,ke=He,Oe=$e){var fe=(He=le[rn][0])-ke;if(0!=(ve=($e=le[rn][1])-Oe)&&0<=(Qe=ke-Oe*fe/ve)&&Qe<1/0&&(ke<=Qe&&Qe<=He||He<=Qe&&Qe<=ke))break}var et=[[Dt.cx+Qe,Dt.cy+0].join(",")];te=(et=(et=et.concat(N.slice(rn))).concat(N.slice(0,rn))).join(" ")}Xt.d="M"+te+"z",delete Xt.points,bt.attributes=Xt}else{var bt;(bt=H(q)).tag="path",Xt=H(wt=q.attributes);var wt,He,$e,Qe,gt=wt.cx,mt=wt.cy,St=wt.rx,zt=wt.ry;if("polygon"==pt.tag){var Dt;(Dt=pt.bbox).cx=Dt.x+Dt.width/2,Dt.cy=Dt.y+Dt.height/2;var ee=pt.attributes.points.split(" ")[0].split(","),ve=(fe=ee[0]-Dt.cx,ee[1]-Dt.cy),xe=Math.sqrt(Math.pow(fe,2)+Math.pow(ve,2)),Wt=fe/xe,oe=-ve/xe}else Wt=1,oe=0;Xt.d="M "+gt+" "+mt+" m "+(He=St*Wt)+","+($e=-zt*oe)+" a "+St+","+zt+" 0 1,0 "+(fe=(Qe=St*-Wt)-He)+","+(ve=-zt*-oe-$e)+" a "+St+","+zt+" 0 1,0 "+-fe+","+-ve+"z",delete Xt.cx,delete Xt.cy,delete Xt.rx,delete Xt.ry,bt.attributes=Xt}return bt}function Ce(){var q=this;try{l.graphviz.layout("","svg","dot").then(function(){l.graphvizSync().then(function(wt){q.layoutSync=wt.layout.bind(wt),null==q._worker&&q._dispatch.call("initEnd",q),q._afterInit&&q._afterInit()})})}catch(wt){}if(null!=this._worker){var pt=this._vizURL,bt=this;this._workerPort.onmessage=function(wt){bt._workerCallbacks.shift().call(bt,wt)},pt.match(/^https?:\/\/|^\/\//i)||(pt=new window.URL(pt,document.location.href).href),Ae.call(this,{dot:"",engine:"dot",vizURL:pt},function(wt){"init"===wt.data.type&&bt._dispatch.call("initEnd",this)})}}function Ae(q,pt){this._workerCallbacks.push(pt),this._workerPort.postMessage(q)}function ni(q,pt){var bt=this._options.keyMode,wt=this._options.tweenPaths,Xt=this._options.tweenShapes;if("string"==typeof this._options.tweenPrecision&&this._options.tweenPrecision.includes("%"))var te=+this._options.tweenPrecision.split("%")[0]/100,Dt=this._options.tweenPrecision.includes("%");else te=this._options.tweenPrecision,Dt=!1;var he=this._options.growEnteringEdges,N={},le=this._dictionary||{},ke={},Oe=this._nodeDictionary||{};function rn(Wt,oe){var Ie=Wt.tag;if("index"==bt)Wt.key=oe;else if("#"!=Ie[0])if("id"==bt)Wt.key=Wt.attributes.id;else if("title"==bt){var Me=Wt.children.find(function(Ye){return"title"==Ye.tag});Me&&(Wt.key=Me.children.length>0?Me.children[0].text:"")}null==Wt.key&&(Xt&&("ellipse"==Ie||"polygon"==Ie)&&(Ie="path"),Wt.key=Ie+"-"+oe)}function He(Wt,oe){Wt.id=(oe?oe.id+".":"")+Wt.key}function $e(Wt){N[Wt.id]=Wt}function fe(Wt,oe){Xt&&Wt.id in le&&("polygon"==oe.tag||"ellipse"==oe.tag||"path"==oe.tag)&&(oe.tag!=Wt.tag||"polygon"==Wt.tag)&&("path"!=oe.tag&&(Wt.alternativeOld=Re(oe,Wt)),"path"!=Wt.tag&&(Wt.alternativeNew=Re(Wt,oe)))}function ve(Wt,oe){if(wt&&oe&&("path"==oe.tag||Wt.alternativeOld&&"path"==Wt.alternativeOld.tag)){var Ie=(Wt.alternativeNew||Wt).attributes.d;if(Wt.alternativeOld)var Me=nt(Wt.alternativeOld);else Me=nt(oe);(Wt.alternativeOld||(Wt.alternativeOld={})).points=function vt(q,pt,bt,wt){for(var Xt=q,te=Xt.cloneNode(),Dt=Xt.getTotalLength(),he=(te.setAttribute("d",pt),te).getTotalLength(),N=[0],le=0,ke=wt?bt:bt/Math.max(Dt,he);(le+=ke)<1;)N.push(le);return N.push(1),N.map(function(rn){var He=Xt.getPointAtLength(rn*Dt),$e=te.getPointAtLength(rn*he);return[[He.x,He.y],[$e.x,$e.y]]})}(Me,Ie,te,Dt)}}function Qe(Wt){var Ie=arguments.length>2?arguments[2]:void 0;rn(Wt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),He(Wt,Ie);var Ye=le[Wt.id];$e(Wt),fe(Wt,Ye),ve(Wt,Ye);var $n={};Wt.children.forEach(function(En){var Sn=En.tag;("ellipse"==Sn||"polygon"==Sn)&&(Sn="path"),null==$n[Sn]&&($n[Sn]=0),Qe(En,$n[Sn]++,Wt)})}function mt(Wt){(function et(Wt){if(he&&Wt.parent&&"node"==Wt.parent.attributes.class&&"title"==Wt.tag){if(Wt.children.length>0)var Me=Wt.children[0].text;else Me="";ke[Me]=Wt.parent}})(Wt),function gt(Wt){var Ie=Wt.tag;if(he&&!le[Wt.id]&&Wt.parent&&Qt(Wt)&&("path"==Ie||"polygon"==Ie)){if("polygon"==Ie){var Ye=Wt.parent.children.find(function(Jn){return"path"==Jn.tag});Ye&&(Wt.totalLength=Ye.totalLength)}var En=function ge(q){return function me(q){return"edge"==q.parent.attributes.class?q.parent:q.parent.parent.parent}(q).children.find(function(pt){return"title"==pt.tag})}(Wt).children[0],Sn=En.text.split("->");2!=Sn.length&&(Sn=En.text.split("--"));var we=Sn[0],Fn=ke[we],Qn=Oe[we];if(Qn){if((ln=Fn.children.findIndex(function(Jn,Ai){return"g"==Jn.tag}))>=0){var on=Fn.children[ln].children.findIndex(function(Jn,Ai){return"a"==Jn.tag});Fn=Fn.children[ln].children[on]}(ln=Qn.children.findIndex(function(Jn,Ai){return"g"==Jn.tag}))>=0&&(on=Qn.children[ln].children.findIndex(function(Ai,cn){return"a"==Ai.tag}),Qn=Qn.children[ln].children[on]);for(var Un=Fn.children,ln=0;ln<Un.length;ln++)if("polygon"==Un[ln].tag||"ellipse"==Un[ln].tag||"path"==Un[ln].tag||"text"==Un[ln].tag){var Vi=Un[ln];break}var hi=Qn.children;for(ln=0;ln<hi.length;ln++)if("polygon"==hi[ln].tag||"ellipse"==hi[ln].tag||"path"==hi[ln].tag||"text"==hi[ln].tag){var zi=hi[ln];break}Wt.offset=zi&&Vi?{x:zi.center.x-Vi.center.x,y:zi.center.y-Vi.center.y}:{x:0,y:0}}}}(Wt),Wt.children.forEach(function(oe){mt(oe)})}this._dispatch.call("layoutEnd",this);var St=g.select(document.createDocumentFragment()).append("div"),ee=(new window.DOMParser).parseFromString(q,"image/svg+xml");St.append(function(){return ee.documentElement});var pe=W(St.select("svg"));this._dispatch.call("dataExtractEnd",this),Qe(pe),this._dispatch.call("dataProcessPass1End",this),mt(pe),this._dispatch.call("dataProcessPass2End",this),this._data=pe,this._dictionary=N,this._nodeDictionary=ke,this._extractData=function(Wt,oe,Ie){var Me=W(Wt);return Qe(Me,oe,Ie),mt(Me),Me},this._busy=!1,this._dispatch.call("dataProcessEnd",this),pt&&pt.call(this),this._queue.length>0&&this._queue.shift().call(this)}function Zn(q,pt,bt,wt){var Xt=[q*bt-(pt=-pt)*(wt=-wt),q*wt+pt*bt];return[q=Xt[0],pt=-(pt=Xt[1])]}function Di(q,pt,bt,wt,Xt,te,Dt){var N=W(yn.call(this,te));q.data([N]),at.call(q.node(),N),gn(q,pt,bt,wt,Xt,te,Dt)}function gn(q,pt,bt,wt,Xt,te,Dt){var he=Dt.shortening||0,Oe=[[0,-3.5],[10,0],[0,3.5],[0,-3.5]],rn=wt-pt,He=Xt-bt,$e=Math.sqrt(rn*rn+He*He);if(0==$e)var fe=1,ve=0;else fe=rn/$e,ve=He/$e;if(wt=pt+($e-he-10-.1)*fe,Xt=bt+($e-he-10-.1)*ve,te.URL||te.tooltip)var Qe=q.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a"),et=Qe.selectWithoutDataPropagation("path"),gt=Qe.selectWithoutDataPropagation("polygon");else et=q.selectWithoutDataPropagation("path"),gt=q.selectWithoutDataPropagation("polygon");var mt=m.path();mt.moveTo(pt,bt),mt.lineTo(wt,Xt),et.attr("d",mt),wt=pt+($e-he-10)*fe,Xt=bt+($e-he-10)*ve;for(var St=0;St<Oe.length;St++)Oe[St]=Zn((zt=Oe[St])[0],zt[1],fe,ve);for(St=0;St<Oe.length;St++)Oe[St]=[wt+(zt=Oe[St])[0],Xt+zt[1]];var ee=[];for(St=0;St<Oe.length;St++){var zt;ee.push((zt=Oe[St]).join(","))}var Jt=ee.join(" ");return gt.attr("points",Jt),this}function wi(){return this._drawnEdge?(this._drawnEdge.g.remove(),this._drawnEdge=null,this):this}function un(){return this._drawnEdge?this._drawnEdge.g:g.select(null)}function yn(q){for(var pt="",bt=0,wt=Object.keys(q);bt<wt.length;bt++){var Xt=wt[bt];null!=q[Xt]&&(pt+=' "'+Xt+'"="'+q[Xt]+'"')}var Dt=this.layoutSync("digraph {a -> b ["+pt+"]}","svg","dot"),N=(new window.DOMParser).parseFromString(Dt,"image/svg+xml");return g.select(document.createDocumentFragment()).append(function(){return N.documentElement}).select(".edge")}function Nn(q,pt,bt,wt,Xt,te){var he=W(X.call(this,wt,Xt));return q.data([he]),at.call(q.node(),he),Le(q,pt,bt,Xt),this}function Le(q,pt,bt,wt,Xt){if(wt.URL||wt.tooltip)var te=q.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");else te=q;var Dt=te.selectAll("ellipse,polygon,path,polyline"),he=q.selectWithoutDataPropagation("text");if(0!=Dt.size()){var N=Dt.node().getBBox();N.cx=N.x+N.width/2,N.cy=N.y+N.height/2}else 0!=he.size()&&(N={x:+he.attr("x"),y:+he.attr("y"),width:0,height:0,cx:+he.attr("x"),cy:+he.attr("y")});return Dt.each(function(le,ke){var Oe=g.select(this);if(Oe.attr("cx"))Oe.attr("cx",K(pt)).attr("cy",K(bt));else if(Oe.attr("points")){var rn=Oe.attr("points").trim();Oe.attr("points",function mn(te,pt,bt){var Xt,wt=(Xt=te.split(" ")).map(function(Dt){return Dt.split(",")});return wt=Xt.map(function(Dt){return[K(+pt+ +Dt.split(",")[0]),K(+bt+ +Dt.split(",")[1])]}),(Xt=wt.map(function(Dt){return Dt.join(",")})).join(" ")}(rn,pt-N.cx,bt-N.cy))}else{var He=Oe.attr("d");Oe.attr("d",function Ve(q,pt,bt){(te=q.split(/[A-Z ]/)).shift();var wt=q.split(/[^[A-Z ]+/),te=(te.map(function(Dt){return Dt.split(",")}),te.map(function(Dt){return[K(+pt+ +Dt.split(",")[0]),K(+bt+ +Dt.split(",")[1])]}).map(function(Dt){return Dt.join(",")}));return wt.reduce(function(Dt,he,N){return Dt.concat(he,te[N])},[]).join("")}(He,pt-N.cx,bt-N.cy))}}),0!=he.size()&&he.attr("x",K(+he.attr("x")+pt-N.cx)).attr("y",K(+he.attr("y")+bt-N.cy)),this}function Bn(){if(!this._drawnNode)return this;var q=this._drawnNode.g;return q.empty()||q.remove(),this._drawnNode=null,this}function G(){return this._drawnNode?this._drawnNode.g:g.select(null)}function X(q,pt){for(var bt="",wt=0,Xt=Object.keys(pt);wt<Xt.length;wt++){var te=Xt[wt];null!=pt[te]&&(bt+=' "'+te+'"="'+pt[te]+'"')}var he=this.layoutSync('graph {"'+q+'" ['+bt+"]}","svg","dot"),le=(new window.DOMParser).parseFromString(he,"image/svg+xml");return g.select(document.createDocumentFragment()).append(function(){return le.documentElement}).select(".node")}function ht(q){self.document={},q.addEventListener("message",function(pt){var bt=self["@hpcc-js/wasm"];null==bt&&pt.data.vizURL&&(importScripts(pt.data.vizURL),(bt=self["@hpcc-js/wasm"]).wasmFolder(pt.data.vizURL.match(/.*\//)[0])),bt.graphviz.layout(pt.data.dot,"svg",pt.data.engine,pt.data.options).then(function(wt){q.postMessage(wt?{type:"done",svg:wt}:pt.data.vizURL?{type:"init"}:{type:"skip"})}).catch(function(wt){q.postMessage({type:"error",error:wt.message})})})}function D(){ht(self)}function At(){self.onconnect=function(q){var pt=q.ports[0];ht(pt),pt.start()}}function Bt(q,pt){var bt=this;if(this._options={useWorker:!0,useSharedWorker:!1,engine:"dot",keyMode:"title",fade:!0,tweenPaths:!0,tweenShapes:!0,convertEqualSidedPolygons:!0,tweenPrecision:1,growEnteringEdges:!0,zoom:!0,zoomScaleExtent:[.1,10],zoomTranslateExtent:[[-1/0,-1/0],[1/0,1/0]],width:null,height:null,scale:1,fit:!1},pt instanceof Object)for(var wt=0,Xt=Object.keys(pt);wt<Xt.length;wt++){var te=Xt[wt];this._options[te]=pt[te]}else"boolean"==typeof pt&&(this._options.useWorker=pt);var Dt=this._options.useWorker,he=this._options.useSharedWorker;if("undefined"==typeof Worker&&(Dt=!1),"undefined"==typeof SharedWorker&&(he=!1),Dt||he){var le=g.selectAll("script").filter(function(){return"javascript/worker"==g.select(this).attr("type")||g.select(this).attr("src")&&g.select(this).attr("src").match(/.*\/@hpcc-js\/wasm/)});0==le.size()?(console.warn('No script tag of type "javascript/worker" was found and "useWorker" is true. Not using web worker.'),Dt=!1,he=!1):(this._vizURL=le.attr("src"),this._vizURL||(console.warn('No "src" attribute of was found on the "javascript/worker" script tag and "useWorker" is true. Not using web worker.'),Dt=!1,he=!1))}if(he){var ke="data:application/javascript;base64,"+btoa(ht.toString()+"("+At.toString()+")()");this._worker=this._worker=new SharedWorker(ke),this._workerPort=this._worker.port,this._workerPortClose=this._worker.port.close.bind(this._workerPort),this._worker.port.start(),this._workerCallbacks=[]}else if(Dt){var Oe=new Blob([ht.toString()+"("+D.toString()+")()"]),rn=window.URL.createObjectURL(Oe);this._worker=new Worker(rn),this._workerPort=this._worker,this._workerPortClose=this._worker.terminate.bind(this._worker),this._workerCallbacks=[]}l.graphvizVersion().then(function(He){bt._graphvizVersion=He}.bind(this)),this._selection=q,this._active=!1,this._busy=!1,this._jobs=[],this._queue=[],this._keyModes=new Set(["title","id","tag-index","index"]),this._images=[],this._translation=void 0,this._scale=void 0,this._eventTypes=["initEnd","start","layoutStart","layoutEnd","dataExtractEnd","dataProcessPass1End","dataProcessPass2End","dataProcessEnd","renderStart","renderEnd","transitionStart","transitionEnd","restoreEnd","end","zoom"],this._dispatch=v.dispatch.apply(void 0,A(this._eventTypes)),Ce.call(this),q.node().__graphviz__=this}function Yt(q,pt){return g.select(q).graphviz(pt)}Bt.prototype=Yt.prototype=(C(Ot={constructor:Bt,engine:function Hn(q){return this._options.engine=q,this},addImage:function Kn(q,pt,bt){return this._images.push({path:q,width:pt,height:bt}),this},keyMode:function Ne(q){if(!this._keyModes.has(q))throw Error("Illegal keyMode: "+q);if(q!=this._options.keyMode&&null!=this._data)throw Error("Too late to change keyMode");return this._options.keyMode=q,this},fade:function Xn(q){return this._options.fade=q,this},tweenPaths:function jn(q){return this._options.tweenPaths=q,this},tweenShapes:function yt(q){return this._options.tweenShapes=q,q&&(this._options.tweenPaths=!0),this},convertEqualSidedPolygons:function Gt(q){return this._options.convertEqualSidedPolygons=q,this},tweenPrecision:function se(q){return this._options.tweenPrecision=q,this},growEnteringEdges:function de(q){return this._options.growEnteringEdges=q,this},zoom:function lt(q){return this._options.zoom=q,this._options.zoom&&!this._zoomBehavior?it.call(this):!this._options.zoom&&this._zoomBehavior&&(this._zoomSelection.on(".zoom",null),this._zoomBehavior=null),this},resetZoom:function Ct(q){var pt=this._zoomSelection;return q&&(pt=pt.transition(q)),pt.call(this._zoomBehavior.transform,this._originalTransform),this},zoomBehavior:function Ht(){return this._zoomBehavior||null},zoomSelection:function ne(){return this._zoomSelection||null},zoomScaleExtent:function It(q){return this._options.zoomScaleExtent=q,this},zoomTranslateExtent:function Rt(q){return this._options.zoomTranslateExtent=q,this},render:function ye(q){return this._busy?(this._queue.push(this.render.bind(this,q)),this):(this._dispatch.call("renderStart",this),this._transitionFactory?f.timeout(function(){this._transition=_.transition(this._transitionFactory()),Be.call(this,q)}.bind(this),0):Be.call(this,q),this)},layout:function Yn(q,pt,bt,wt){if(this._worker)Ae.call(this,{dot:q,engine:pt,options:bt},function(te){wt.call(this,te.data)});else try{var Xt=this.layoutSync(q,"svg",pt,bt);wt.call(this,{type:"done",svg:Xt})}catch(te){wt.call(this,{type:"error",error:te.message})}},dot:function Wn(q,pt){var bt=this,wt=this._options.engine,Xt=this._images;return this._dispatch.call("start",this),this._busy=!0,this._dispatch.call("layoutStart",this),this._worker||null!=this.layoutSync?(this.layout(q,wt,{images:Xt},function(Dt){switch(Dt.type){case"error":if(!bt._onerror)throw Dt.error.message;bt._onerror(Dt.error);break;case"done":ni.call(this,Dt.svg,pt)}}),this):(this._afterInit=this.dot.bind(this,q,pt),this)},data:function ft(){return this._data||null},renderDot:function xn(q,pt){var bt=this;return this.dot(q,function wt(){bt.render(pt)}),this},transition:function sn(q){return q instanceof Function?this._transitionFactory=q:this._transition=_.transition(q),this},active:function je(q){var bt=this._selection.selectWithoutDataPropagation("svg");return 0!=bt.size()?_.active(bt.node(),q):null},options:function wn(q){if(void 0===q)return Object.assign({},this._options);for(var pt=0,bt=Object.keys(q);pt<bt.length;pt++){var wt=bt[pt];this._options[wt]=q[wt]}return this},width:function In(q){return this._options.width=q,this},height:function ze(q){return this._options.height=q,this},scale:function ci(q){return this._options.scale=q,this},fit:function Mn(q){return this._options.fit=q,this},attributer:function Tn(q){return this._attributer=q,this},on:function _e(q,pt){return this._dispatch.on(q,pt),this},onerror:function Ue(q){return this._onerror=q,this},logEvents:function Fe(q){for(var pt=this,bt=Date.now(),wt={},Xt=this._eventTypes,te=Math.max.apply(Math,A(Xt.map(function(Oe){return Oe.length}))),Dt=function(rn){var He=Xt[rn];wt[He]=[],N=pt,pt.on(He+".log",q?function(){var $e=Date.now(),fe=wt[He].length;wt[He].push($e);var ve="";if(ve+="Event ",ve+=h.format(" >2")(rn)+" ",ve+=He+" ".repeat(te-He.length),ve+=h.format(" >5")($e-bt)+" ","initEnd"!=He&&(ve+=h.format(" >5")($e-wt.start[fe])),"dataProcessEnd"==He&&(ve+=" prepare                 "+h.format(" >5")($e-wt.layoutEnd[fe])),"renderEnd"==He&&N._transition&&(ve+=" transition start margin "+h.format(" >5")(N._transition.delay()-($e-wt.renderStart[fe])),le=N._transition.delay(),ke=N._transition.duration()),"transitionStart"==He){var Qe=$e-wt.renderStart[fe];ve+=" transition delay        "+h.format(" >5")($e-wt.renderStart[fe]),ve+=" expected "+h.format(" >5")(le),ve+=" diff "+h.format(" >5")(Qe-le)}if("transitionEnd"==He){var et=$e-wt.transitionStart[fe];ve+=" transition duration     "+h.format(" >5")(et),ve+=" expected "+h.format(" >5")(ke),ve+=" diff "+h.format(" >5")(et-ke)}console.log(ve),bt=$e}:null)},he=0;he<Xt.length;he++){var N,le,ke;Dt(he)}return this},destroy:function nn(){return delete this._selection.node().__graphviz__,this._worker&&this._workerPortClose(),this},drawEdge:function Ln(q,pt,bt,wt,Xt){var te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if((Xt=Object.assign({},Xt)).style&&Xt.style.includes("invis"))var Dt=g.select(null);else{var le=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Oe=W(yn.call(this,Xt));Dt=le.append("g").data([Oe]),at.call(Dt.node(),Oe),Di.call(this,Dt,q,pt,bt,wt,Xt,te)}return this._drawnEdge={g:Dt,x1:q,y1:pt,x2:bt,y2:wt,attributes:Xt},this},updateDrawnEdge:function qn(q,pt,bt,wt){var Xt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!this._drawnEdge)throw Error("No edge has been drawn");var Dt=this._drawnEdge.g;return Xt=Object.assign(this._drawnEdge.attributes,Xt),this._drawnEdge.x1=q,this._drawnEdge.y1=pt,this._drawnEdge.x2=bt,this._drawnEdge.y2=wt,!Dt.empty()||Xt.style&&Xt.style.includes("invis")||(Dt=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g").append("g"),this._drawnEdge.g=Dt),Dt.empty()||Di.call(this,Dt,q,pt,bt,wt,Xt,te),this},moveDrawnEdgeEndPoint:function ti(q,pt){var bt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._drawnEdge)throw Error("No edge has been drawn");var wt=this._drawnEdge.g,Xt=this._drawnEdge.x1,te=this._drawnEdge.y1,Dt=this._drawnEdge.attributes;return this._drawnEdge.x2=q,this._drawnEdge.y2=pt,gn(wt,Xt,te,q,pt,Dt,bt),this},insertDrawnEdge:function On(q){if(!this._drawnEdge)throw Error("No edge has been drawn");var pt=this._drawnEdge.g;if(pt.empty())return this;pt.selectWithoutDataPropagation("title").text(q);var te=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Dt=te.datum(),he=this._extractData(pt,Dt.children.length,te.datum());return Dt.children.push(he),tt(pt,he),this._drawnEdge=null,this},removeDrawnEdge:wi},"removeDrawnEdge",wi),C(Ot,"drawnEdgeSelection",un),C(Ot,"drawnEdgeSelection",un),C(Ot,"drawNode",function ei(q,pt,bt){var wt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Xt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if((wt=Object.assign({},wt)).style&&wt.style.includes("invis"))var te=g.select(null);else{var N=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),ke=W(X.call(this,bt,wt));te=N.append("g").data([ke]),at.call(te.node(),ke),Nn.call(this,te,q,pt,bt,wt,Xt)}return this._drawnNode={g:te,nodeId:bt,x:q,y:pt,attributes:wt},this}),C(Ot,"updateDrawnNode",function ui(q,pt,bt){var wt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Xt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this._drawnNode)throw Error("No node has been drawn");var te=this._drawnNode.g;return null==bt&&(bt=this._drawnNode.nodeId),wt=Object.assign(this._drawnNode.attributes,wt),this._drawnNode.nodeId=bt,this._drawnNode.x=q,this._drawnNode.y=pt,!te.empty()||wt.style&&wt.style.includes("invis")||(te=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g").append("g"),this._drawnNode.g=te),te.empty()||Nn.call(this,te,q,pt,bt,wt,Xt),this}),C(Ot,"moveDrawnNode",function Ii(q,pt){if(!this._drawnNode)throw Error("No node has been drawn");var bt=this._drawnNode.g,wt=this._drawnNode.attributes;return this._drawnNode.x=q,this._drawnNode.y=pt,bt.empty()||Le(bt,q,pt,wt),this}),C(Ot,"insertDrawnNode",function fn(q){if(!this._drawnNode)throw Error("No node has been drawn");null==q&&(q=this._drawnNode.nodeId);var pt=this._drawnNode.g;if(pt.empty())return this;var bt=this._drawnNode.attributes;if(pt.selectWithoutDataPropagation("title").text(q),bt.URL||bt.tooltip){var te=pt.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");te.selectWithoutDataPropagation("ellipse,polygon,path,polyline");var Dt=te.selectWithoutDataPropagation("text")}else pt.selectWithoutDataPropagation("ellipse,polygon,path,polyline"),Dt=pt.selectWithoutDataPropagation("text");Dt.text(bt.label||q);var le=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),ke=le.datum(),Oe=this._extractData(pt,ke.children.length,le.datum());return ke.children.push(Oe),tt(pt,Oe),this._drawnNode=null,this}),C(Ot,"removeDrawnNode",Bn),C(Ot,"removeDrawnNode",Bn),C(Ot,"drawnNodeSelection",G),C(Ot,"drawnNodeSelection",G),C(Ot,"graphvizVersion",function vn(){return this._graphvizVersion}),Ot),x.selection.prototype.graphviz=function re(q){var pt=this.node().__graphviz__;return pt?(pt.options(q),f.timeout(function(){pt._dispatch.call("initEnd",this)}.bind(this),0)):pt=new Bt(this,q),pt},x.selection.prototype.selectWithoutDataPropagation=function qt(q){return g.select(this.size()>0?this.node().querySelector(q):null)},c.graphviz=Yt,Object.defineProperty(c,"__esModule",{value:!0})}(I,o(68557),o(18140),o(35011),o(31566),o(82683),o(60128),o(89397),o(41129),o(12218))},92940:(w,I,o)=>{"use strict";o.d(I,{Z:()=>p});var c={value:()=>{}};function x(){for(var u,l=0,h=arguments.length,m={};l<h;++l){if(!(u=arguments[l]+"")||u in m||/[\s.]/.test(u))throw new Error("illegal type: "+u);m[u]=[]}return new v(m)}function v(l){this._=l}function _(l,h){return l.trim().split(/^|\s+/).map(function(m){var u="",g=m.indexOf(".");if(g>=0&&(u=m.slice(g+1),m=m.slice(0,g)),m&&!h.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:u}})}function f(l,h){for(var g,m=0,u=l.length;m<u;++m)if((g=l[m]).name===h)return g.value}function t(l,h,m){for(var u=0,g=l.length;u<g;++u)if(l[u].name===h){l[u]=c,l=l.slice(0,u).concat(l.slice(u+1));break}return null!=m&&l.push({name:h,value:m}),l}v.prototype=x.prototype={constructor:v,on:function(l,h){var g,m=this._,u=_(l+"",m),C=-1,A=u.length;if(!(arguments.length<2)){if(null!=h&&"function"!=typeof h)throw new Error("invalid callback: "+h);for(;++C<A;)if(g=(l=u[C]).type)m[g]=t(m[g],l.name,h);else if(null==h)for(g in m)m[g]=t(m[g],l.name,null);return this}for(;++C<A;)if((g=(l=u[C]).type)&&(g=f(m[g],l.name)))return g},copy:function(){var l={},h=this._;for(var m in h)l[m]=h[m].slice();return new v(l)},call:function(l,h){if((g=arguments.length-2)>0)for(var g,C,m=new Array(g),u=0;u<g;++u)m[u]=arguments[u+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(u=0,g=(C=this._[l]).length;u<g;++u)C[u].value.apply(h,m)},apply:function(l,h,m){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var u=this._[l],g=0,C=u.length;g<C;++g)u[g].value.apply(h,m)}};const p=x},18140:(w,I,o)=>{"use strict";o.r(I),o.d(I,{dispatch:()=>c.Z});var c=o(92940)},97907:(w,I,o)=>{"use strict";function c(v,_,f,t,p){var l=v*v,h=l*v;return((1-3*v+3*l-h)*_+(4-6*l+3*h)*f+(1+3*v+3*l-3*h)*t+h*p)/6}function x(v){var _=v.length-1;return function(f){var t=f<=0?f=0:f>=1?(f=1,_-1):Math.floor(f*_),p=v[t],l=v[t+1];return c((f-t/_)*_,t>0?v[t-1]:2*p-l,p,l,t<_-1?v[t+2]:2*l-p)}}o.d(I,{t:()=>c,Z:()=>x})},77296:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(97907);function x(v){var _=v.length;return function(f){var t=Math.floor(((f%=1)<0?++f:f)*_);return(0,c.t)((f-t/_)*_,v[(t+_-1)%_],v[t%_],v[(t+1)%_],v[(t+2)%_])}}},87237:(w,I,o)=>{"use strict";o.d(I,{wx:()=>_,yi:()=>f,ZP:()=>t});var c=o(89783);function x(p,l){return function(h){return p+h*l}}function _(p,l){var h=l-p;return h?x(p,h>180||h<-180?h-360*Math.round(h/360):h):(0,c.Z)(isNaN(p)?l:p)}function f(p){return 1==(p=+p)?t:function(l,h){return h-l?function v(p,l,h){return p=Math.pow(p,h),l=Math.pow(l,h)-p,h=1/h,function(m){return Math.pow(p+m*l,h)}}(l,h,p):(0,c.Z)(isNaN(l)?h:l)}}function t(p,l){var h=l-p;return h?x(p,h):(0,c.Z)(isNaN(p)?l:p)}},89783:(w,I,o)=>{"use strict";o.d(I,{Z:()=>c});const c=x=>()=>x},82683:(w,I,o)=>{"use strict";o.r(I),o.d(I,{interpolate:()=>g,interpolateArray:()=>f,interpolateBasis:()=>C.Z,interpolateBasisClosed:()=>A.Z,interpolateCubehelix:()=>Kn,interpolateCubehelixLong:()=>Ne,interpolateDate:()=>p,interpolateDiscrete:()=>k,interpolateHcl:()=>Ae,interpolateHclLong:()=>Yn,interpolateHsl:()=>tt,interpolateHslLong:()=>Q,interpolateHue:()=>O,interpolateLab:()=>Ve,interpolateNumber:()=>l.Z,interpolateNumberArray:()=>v,interpolateObject:()=>h,interpolateRgb:()=>x.ZP,interpolateRgbBasis:()=>x.hD,interpolateRgbBasisClosed:()=>x.YD,interpolateRound:()=>R,interpolateString:()=>m.Z,interpolateTransformCss:()=>U.Y,interpolateTransformSvg:()=>U.w,interpolateZoom:()=>ut,piecewise:()=>Xn,quantize:()=>jn});var c=o(52786),x=o(8200);function v(yt,Gt){Gt||(Gt=[]);var _e,se=yt?Math.min(Gt.length,yt.length):0,de=Gt.slice();return function(Ue){for(_e=0;_e<se;++_e)de[_e]=yt[_e]*(1-Ue)+Gt[_e]*Ue;return de}}function _(yt){return ArrayBuffer.isView(yt)&&!(yt instanceof DataView)}function f(yt,Gt){return(_(Gt)?v:t)(yt,Gt)}function t(yt,Gt){var Fe,se=Gt?Gt.length:0,de=yt?Math.min(se,yt.length):0,_e=new Array(de),Ue=new Array(se);for(Fe=0;Fe<de;++Fe)_e[Fe]=g(yt[Fe],Gt[Fe]);for(;Fe<se;++Fe)Ue[Fe]=Gt[Fe];return function(nn){for(Fe=0;Fe<de;++Fe)Ue[Fe]=_e[Fe](nn);return Ue}}function p(yt,Gt){var se=new Date;return yt=+yt,Gt=+Gt,function(de){return se.setTime(yt*(1-de)+Gt*de),se}}var l=o(37815);function h(yt,Gt){var _e,se={},de={};for(_e in(null===yt||"object"!=typeof yt)&&(yt={}),(null===Gt||"object"!=typeof Gt)&&(Gt={}),Gt)_e in yt?se[_e]=g(yt[_e],Gt[_e]):de[_e]=Gt[_e];return function(Ue){for(_e in se)de[_e]=se[_e](Ue);return de}}var m=o(42142),u=o(89783);function g(yt,Gt){var de,se=typeof Gt;return null==Gt||"boolean"===se?(0,u.Z)(Gt):("number"===se?l.Z:"string"===se?(de=(0,c.ZP)(Gt))?(Gt=de,x.ZP):m.Z:Gt instanceof c.ZP?x.ZP:Gt instanceof Date?p:_(Gt)?v:Array.isArray(Gt)?t:"function"!=typeof Gt.valueOf&&"function"!=typeof Gt.toString||isNaN(Gt)?h:l.Z)(yt,Gt)}var C=o(97907),A=o(77296);function k(yt){var Gt=yt.length;return function(se){return yt[Math.max(0,Math.min(Gt-1,Math.floor(se*Gt)))]}}var F=o(87237);function O(yt,Gt){var se=(0,F.wx)(+yt,+Gt);return function(de){var _e=se(de);return _e-360*Math.floor(_e/360)}}function R(yt,Gt){return yt=+yt,Gt=+Gt,function(se){return Math.round(yt*(1-se)+Gt*se)}}var U=o(43349);function W(yt){return((yt=Math.exp(yt))+1/yt)/2}const ut=function yt(Gt,se,de){function _e(Ue,Fe){var un,yn,nn=Ue[0],Zn=Ue[1],Ln=Ue[2],gn=Fe[2],ti=Fe[0]-nn,wi=Fe[1]-Zn,On=ti*ti+wi*wi;if(On<1e-12)yn=Math.log(gn/Ln)/Gt,un=function(Bn){return[nn+Bn*ti,Zn+Bn*wi,Ln*Math.exp(Gt*Bn*yn)]};else{var ei=Math.sqrt(On),ui=(gn*gn-Ln*Ln+de*On)/(2*Ln*se*ei),Nn=(gn*gn-Ln*Ln-de*On)/(2*gn*se*ei),Le=Math.log(Math.sqrt(ui*ui+1)-ui),Ii=Math.log(Math.sqrt(Nn*Nn+1)-Nn);yn=(Ii-Le)/Gt,un=function(Bn){var fn=Bn*yn,G=W(Le),X=Ln/(se*ei)*(G*function nt(yt){return((yt=Math.exp(2*yt))-1)/(yt+1)}(Gt*fn+Le)-function rt(yt){return((yt=Math.exp(yt))-1/yt)/2}(Le));return[nn+X*ti,Zn+X*wi,Ln*G/W(Gt*fn+Le)]}}return un.duration=1e3*yn*Gt/Math.SQRT2,un}return _e.rho=function(Ue){var Fe=Math.max(.001,+Ue),nn=Fe*Fe;return yt(Fe,nn,nn*nn)},_e}(Math.SQRT2,2,4);function J(yt){return function(Gt,se){var de=yt((Gt=(0,c.Ym)(Gt)).h,(se=(0,c.Ym)(se)).h),_e=(0,F.ZP)(Gt.s,se.s),Ue=(0,F.ZP)(Gt.l,se.l),Fe=(0,F.ZP)(Gt.opacity,se.opacity);return function(nn){return Gt.h=de(nn),Gt.s=_e(nn),Gt.l=Ue(nn),Gt.opacity=Fe(nn),Gt+""}}}const tt=J(F.wx);var Q=J(F.ZP),at=o(68884),H=Math.PI/180,K=180/Math.PI,E=.82521,Ct=4/29,It=6/29,Rt=3*It*It;function ne(yt){if(yt instanceof ft)return new ft(yt.l,yt.a,yt.b,yt.opacity);if(yt instanceof Re)return mn(yt);yt instanceof c.Ss||(yt=(0,c.SU)(yt));var Ue,Fe,Gt=ge(yt.r),se=ge(yt.g),de=ge(yt.b),_e=Nt((.2225045*Gt+.7168786*se+.0606169*de)/1);return Gt===se&&se===de?Ue=Fe=_e:(Ue=Nt((.4360747*Gt+.3850649*se+.1430804*de)/.96422),Fe=Nt((.0139322*Gt+.0971045*se+.7141733*de)/E)),new ft(116*_e-16,500*(Ue-_e),200*(_e-Fe),yt.opacity)}function vt(yt,Gt,se,de){return 1===arguments.length?ne(yt):new ft(yt,Gt,se,null==de?1:de)}function ft(yt,Gt,se,de){this.l=+yt,this.a=+Gt,this.b=+se,this.opacity=+de}function Nt(yt){return yt>.008856451679035631?Math.pow(yt,1/3):yt/Rt+Ct}function Qt(yt){return yt>It?yt*yt*yt:Rt*(yt-Ct)}function me(yt){return 255*(yt<=.0031308?12.92*yt:1.055*Math.pow(yt,1/2.4)-.055)}function ge(yt){return(yt/=255)<=.04045?yt/12.92:Math.pow((yt+.055)/1.055,2.4)}function ye(yt){if(yt instanceof Re)return new Re(yt.h,yt.c,yt.l,yt.opacity);if(yt instanceof ft||(yt=ne(yt)),0===yt.a&&0===yt.b)return new Re(NaN,0<yt.l&&yt.l<100?0:NaN,yt.l,yt.opacity);var Gt=Math.atan2(yt.b,yt.a)*K;return new Re(Gt<0?Gt+360:Gt,Math.sqrt(yt.a*yt.a+yt.b*yt.b),yt.l,yt.opacity)}function vn(yt,Gt,se,de){return 1===arguments.length?ye(yt):new Re(yt,Gt,se,null==de?1:de)}function Re(yt,Gt,se,de){this.h=+yt,this.c=+Gt,this.l=+se,this.opacity=+de}function mn(yt){if(isNaN(yt.h))return new ft(yt.l,0,0,yt.opacity);var Gt=yt.h*H;return new ft(yt.l,Math.cos(Gt)*yt.c,Math.sin(Gt)*yt.c,yt.opacity)}function Ve(yt,Gt){var se=(0,F.ZP)((yt=vt(yt)).l,(Gt=vt(Gt)).l),de=(0,F.ZP)(yt.a,Gt.a),_e=(0,F.ZP)(yt.b,Gt.b),Ue=(0,F.ZP)(yt.opacity,Gt.opacity);return function(Fe){return yt.l=se(Fe),yt.a=de(Fe),yt.b=_e(Fe),yt.opacity=Ue(Fe),yt+""}}function Ce(yt){return function(Gt,se){var de=yt((Gt=vn(Gt)).h,(se=vn(se)).h),_e=(0,F.ZP)(Gt.c,se.c),Ue=(0,F.ZP)(Gt.l,se.l),Fe=(0,F.ZP)(Gt.opacity,se.opacity);return function(nn){return Gt.h=de(nn),Gt.c=_e(nn),Gt.l=Ue(nn),Gt.opacity=Fe(nn),Gt+""}}}(0,at.Z)(ft,vt,(0,at.l)(c.Il,{brighter:function(yt){return new ft(this.l+18*(null==yt?1:yt),this.a,this.b,this.opacity)},darker:function(yt){return new ft(this.l-18*(null==yt?1:yt),this.a,this.b,this.opacity)},rgb:function(){var yt=(this.l+16)/116,Gt=isNaN(this.a)?yt:yt+this.a/500,se=isNaN(this.b)?yt:yt-this.b/200;return Gt=.96422*Qt(Gt),yt=1*Qt(yt),se=E*Qt(se),new c.Ss(me(3.1338561*Gt-1.6168667*yt-.4906146*se),me(-.9787684*Gt+1.9161415*yt+.033454*se),me(.0719453*Gt-.2289914*yt+1.4052427*se),this.opacity)}})),(0,at.Z)(Re,vn,(0,at.l)(c.Il,{brighter:function(yt){return new Re(this.h,this.c,this.l+18*(null==yt?1:yt),this.opacity)},darker:function(yt){return new Re(this.h,this.c,this.l-18*(null==yt?1:yt),this.opacity)},rgb:function(){return mn(this).rgb()}}));const Ae=Ce(F.wx);var Yn=Ce(F.ZP),ni=1.78277,xn=-.29227,sn=-.90649,je=1.97294,wn=je*sn,In=je*ni,ze=ni*xn- -.14861*sn;function ci(yt){if(yt instanceof Tn)return new Tn(yt.h,yt.s,yt.l,yt.opacity);yt instanceof c.Ss||(yt=(0,c.SU)(yt));var se=yt.g/255,de=yt.b/255,_e=(ze*de+wn*(yt.r/255)-In*se)/(ze+wn-In),Ue=de-_e,Fe=(je*(se-_e)-xn*Ue)/sn,nn=Math.sqrt(Fe*Fe+Ue*Ue)/(je*_e*(1-_e)),Zn=nn?Math.atan2(Fe,Ue)*K-120:NaN;return new Tn(Zn<0?Zn+360:Zn,nn,_e,yt.opacity)}function Mn(yt,Gt,se,de){return 1===arguments.length?ci(yt):new Tn(yt,Gt,se,null==de?1:de)}function Tn(yt,Gt,se,de){this.h=+yt,this.s=+Gt,this.l=+se,this.opacity=+de}function Hn(yt){return function Gt(se){function de(_e,Ue){var Fe=yt((_e=Mn(_e)).h,(Ue=Mn(Ue)).h),nn=(0,F.ZP)(_e.s,Ue.s),Zn=(0,F.ZP)(_e.l,Ue.l),Ln=(0,F.ZP)(_e.opacity,Ue.opacity);return function(qn){return _e.h=Fe(qn),_e.s=nn(qn),_e.l=Zn(Math.pow(qn,se)),_e.opacity=Ln(qn),_e+""}}return se=+se,de.gamma=Gt,de}(1)}(0,at.Z)(Tn,Mn,(0,at.l)(c.Il,{brighter:function(yt){return yt=null==yt?c.J5:Math.pow(c.J5,yt),new Tn(this.h,this.s,this.l*yt,this.opacity)},darker:function(yt){return yt=null==yt?c.xV:Math.pow(c.xV,yt),new Tn(this.h,this.s,this.l*yt,this.opacity)},rgb:function(){var yt=isNaN(this.h)?0:(this.h+120)*H,Gt=+this.l,se=isNaN(this.s)?0:this.s*Gt*(1-Gt),de=Math.cos(yt),_e=Math.sin(yt);return new c.Ss(255*(Gt+se*(-.14861*de+ni*_e)),255*(Gt+se*(xn*de+sn*_e)),255*(Gt+se*(je*de)),this.opacity)}}));const Kn=Hn(F.wx);var Ne=Hn(F.ZP);function Xn(yt,Gt){void 0===Gt&&(Gt=yt,yt=g);for(var se=0,de=Gt.length-1,_e=Gt[0],Ue=new Array(de<0?0:de);se<de;)Ue[se]=yt(_e,_e=Gt[++se]);return function(Fe){var nn=Math.max(0,Math.min(de-1,Math.floor(Fe*=de)));return Ue[nn](Fe-nn)}}function jn(yt,Gt){for(var se=new Array(Gt),de=0;de<Gt;++de)se[de]=yt(de/(Gt-1));return se}},37815:(w,I,o)=>{"use strict";function c(x,v){return x=+x,v=+v,function(_){return x*(1-_)+v*_}}o.d(I,{Z:()=>c})},8200:(w,I,o)=>{"use strict";o.d(I,{ZP:()=>f,hD:()=>p,YD:()=>l});var c=o(52786),x=o(97907),v=o(77296),_=o(87237);const f=function h(m){var u=(0,_.yi)(m);function g(C,A){var k=u((C=(0,c.B8)(C)).r,(A=(0,c.B8)(A)).r),F=u(C.g,A.g),O=u(C.b,A.b),R=(0,_.ZP)(C.opacity,A.opacity);return function(U){return C.r=k(U),C.g=F(U),C.b=O(U),C.opacity=R(U),C+""}}return g.gamma=h,g}(1);function t(h){return function(m){var k,F,u=m.length,g=new Array(u),C=new Array(u),A=new Array(u);for(k=0;k<u;++k)F=(0,c.B8)(m[k]),g[k]=F.r||0,C[k]=F.g||0,A[k]=F.b||0;return g=h(g),C=h(C),A=h(A),F.opacity=1,function(O){return F.r=g(O),F.g=C(O),F.b=A(O),F+""}}}var p=t(x.Z),l=t(v.Z)},42142:(w,I,o)=>{"use strict";o.d(I,{Z:()=>t});var c=o(37815),x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(x.source,"g");function t(p,l){var m,u,g,h=x.lastIndex=v.lastIndex=0,C=-1,A=[],k=[];for(p+="",l+="";(m=x.exec(p))&&(u=v.exec(l));)(g=u.index)>h&&(g=l.slice(h,g),A[C]?A[C]+=g:A[++C]=g),(m=m[0])===(u=u[0])?A[C]?A[C]+=u:A[++C]=u:(A[++C]=null,k.push({i:C,x:(0,c.Z)(m,u)})),h=v.lastIndex;return h<l.length&&(g=l.slice(h),A[C]?A[C]+=g:A[++C]=g),A.length<2?k[0]?function f(p){return function(l){return p(l)+""}}(k[0].x):function _(p){return function(){return p}}(l):(l=k.length,function(F){for(var R,O=0;O<l;++O)A[(R=k[O]).i]=R.x(F);return A.join("")})}},43349:(w,I,o)=>{"use strict";o.d(I,{Y:()=>h,w:()=>m});var f,c=o(37815),x=180/Math.PI,v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _(u,g,C,A,k,F){var O,R,U;return(O=Math.sqrt(u*u+g*g))&&(u/=O,g/=O),(U=u*C+g*A)&&(C-=u*U,A-=g*U),(R=Math.sqrt(C*C+A*A))&&(C/=R,A/=R,U/=R),u*A<g*C&&(u=-u,g=-g,U=-U,O=-O),{translateX:k,translateY:F,rotate:Math.atan2(g,u)*x,skewX:Math.atan(U)*x,scaleX:O,scaleY:R}}function l(u,g,C,A){function k(V){return V.length?V.pop()+" ":""}return function(V,W){var rt=[],nt=[];return V=u(V),W=u(W),function F(V,W,rt,nt,ut,J){if(V!==rt||W!==nt){var tt=ut.push("translate(",null,g,null,C);J.push({i:tt-4,x:(0,c.Z)(V,rt)},{i:tt-2,x:(0,c.Z)(W,nt)})}else(rt||nt)&&ut.push("translate("+rt+g+nt+C)}(V.translateX,V.translateY,W.translateX,W.translateY,rt,nt),function O(V,W,rt,nt){V!==W?(V-W>180?W+=360:W-V>180&&(V+=360),nt.push({i:rt.push(k(rt)+"rotate(",null,A)-2,x:(0,c.Z)(V,W)})):W&&rt.push(k(rt)+"rotate("+W+A)}(V.rotate,W.rotate,rt,nt),function R(V,W,rt,nt){V!==W?nt.push({i:rt.push(k(rt)+"skewX(",null,A)-2,x:(0,c.Z)(V,W)}):W&&rt.push(k(rt)+"skewX("+W+A)}(V.skewX,W.skewX,rt,nt),function U(V,W,rt,nt,ut,J){if(V!==rt||W!==nt){var tt=ut.push(k(ut)+"scale(",null,",",null,")");J.push({i:tt-4,x:(0,c.Z)(V,rt)},{i:tt-2,x:(0,c.Z)(W,nt)})}else(1!==rt||1!==nt)&&ut.push(k(ut)+"scale("+rt+","+nt+")")}(V.scaleX,V.scaleY,W.scaleX,W.scaleY,rt,nt),V=W=null,function(ut){for(var Q,J=-1,tt=nt.length;++J<tt;)rt[(Q=nt[J]).i]=Q.x(ut);return rt.join("")}}}var h=l(function t(u){const g=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(u+"");return g.isIdentity?v:_(g.a,g.b,g.c,g.d,g.e,g.f)},"px, ","px)","deg)"),m=l(function p(u){return null!=u&&(f||(f=document.createElementNS("http://www.w3.org/2000/svg","g")),f.setAttribute("transform",u),u=f.transform.baseVal.consolidate())?_((u=u.matrix).a,u.b,u.c,u.d,u.e,u.f):v},", ",")",")")},12218:(w,I,o)=>{"use strict";o.r(I),o.d(I,{path:()=>p});const c=Math.PI,x=2*c,v=1e-6,_=x-v;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function t(){return new f}f.prototype=t.prototype={constructor:f,moveTo:function(l,h){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+h)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(l,h){this._+="L"+(this._x1=+l)+","+(this._y1=+h)},quadraticCurveTo:function(l,h,m,u){this._+="Q"+ +l+","+ +h+","+(this._x1=+m)+","+(this._y1=+u)},bezierCurveTo:function(l,h,m,u,g,C){this._+="C"+ +l+","+ +h+","+ +m+","+ +u+","+(this._x1=+g)+","+(this._y1=+C)},arcTo:function(l,h,m,u,g){var C=this._x1,A=this._y1,k=(m=+m)-(l=+l),F=(u=+u)-(h=+h),O=C-l,R=A-h,U=O*O+R*R;if((g=+g)<0)throw new Error("negative radius: "+g);if(null===this._x1)this._+="M"+(this._x1=l)+","+(this._y1=h);else if(U>v)if(Math.abs(R*k-F*O)>v&&g){var V=m-C,W=u-A,rt=k*k+F*F,nt=V*V+W*W,ut=Math.sqrt(rt),J=Math.sqrt(U),tt=g*Math.tan((c-Math.acos((rt+U-nt)/(2*ut*J)))/2),Q=tt/J,at=tt/ut;Math.abs(Q-1)>v&&(this._+="L"+(l+Q*O)+","+(h+Q*R)),this._+="A"+g+","+g+",0,0,"+ +(R*V>O*W)+","+(this._x1=l+at*k)+","+(this._y1=h+at*F)}else this._+="L"+(this._x1=l)+","+(this._y1=h)},arc:function(l,h,m,u,g,C){l=+l,h=+h,C=!!C;var A=(m=+m)*Math.cos(u),k=m*Math.sin(u),F=l+A,O=h+k,R=1^C,U=C?u-g:g-u;if(m<0)throw new Error("negative radius: "+m);null===this._x1?this._+="M"+F+","+O:(Math.abs(this._x1-F)>v||Math.abs(this._y1-O)>v)&&(this._+="L"+F+","+O),m&&(U<0&&(U=U%x+x),U>_?this._+="A"+m+","+m+",0,1,"+R+","+(l-A)+","+(h-k)+"A"+m+","+m+",0,1,"+R+","+(this._x1=F)+","+(this._y1=O):U>v&&(this._+="A"+m+","+m+",0,"+ +(U>=c)+","+R+","+(this._x1=l+m*Math.cos(g))+","+(this._y1=h+m*Math.sin(g))))},rect:function(l,h,m,u){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+h)+"h"+ +m+"v"+ +u+"h"+-m+"Z"},toString:function(){return this._}};const p=t},31566:(w,I,o)=>{"use strict";o.r(I),o.d(I,{interval:()=>v,now:()=>c.zO,timeout:()=>x.Z,timer:()=>c.HT,timerFlush:()=>c.R8});var c=o(78562),x=o(30406);function v(_,f,t){var p=new c.B7,l=f;return null==f?(p.restart(_,f,t),p):(p._restart=p.restart,p.restart=function(h,m,u){m=+m,u=null==u?(0,c.zO)():+u,p._restart(function g(C){C+=l,p._restart(g,l+=m,u),h(C)},m,u)},p.restart(_,f,t),p)}},30406:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(78562);function x(v,_,f){var t=new c.B7;return t.restart(p=>{t.stop(),v(p+_)},_=null==_?0:+_,f),t}},78562:(w,I,o)=>{"use strict";o.d(I,{zO:()=>g,B7:()=>A,HT:()=>k,R8:()=>F});var f,t,c=0,x=0,v=0,p=0,l=0,h=0,m="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(W){setTimeout(W,17)};function g(){return l||(u(C),l=m.now()+h)}function C(){l=0}function A(){this._call=this._time=this._next=null}function k(W,rt,nt){var ut=new A;return ut.restart(W,rt,nt),ut}function F(){g(),++c;for(var rt,W=f;W;)(rt=l-W._time)>=0&&W._call.call(null,rt),W=W._next;--c}function O(){l=(p=m.now())+h,c=x=0;try{F()}finally{c=0,function U(){for(var W,nt,rt=f,ut=1/0;rt;)rt._call?(ut>rt._time&&(ut=rt._time),W=rt,rt=rt._next):(nt=rt._next,rt._next=null,rt=W?W._next=nt:f=nt);t=W,V(ut)}(),l=0}}function R(){var W=m.now(),rt=W-p;rt>1e3&&(h-=rt,p=W)}function V(W){c||(x&&(x=clearTimeout(x)),W-l>24?(W<1/0&&(x=setTimeout(O,W-m.now()-h)),v&&(v=clearInterval(v))):(v||(p=m.now(),v=setInterval(R,1e3)),c=1,u(O)))}A.prototype=k.prototype={constructor:A,restart:function(W,rt,nt){if("function"!=typeof W)throw new TypeError("callback is not a function");nt=(null==nt?g():+nt)+(null==rt?0:+rt),!this._next&&t!==this&&(t?t._next=this:f=this,t=this),this._call=W,this._time=nt,V()},stop:function(){this._call&&(this._call=null,this._time=1/0,V())}}},35011:(w,I,o)=>{"use strict";o.r(I),o.d(I,{active:()=>fn,interrupt:()=>U,transition:()=>un});var c=o(37853),x=o(92940),v=o(78562),_=o(30406),f=(0,x.Z)("start","end","cancel","interrupt"),t=[];function A(G,X,ht,D,At,Ot){var Bt=G.__transition;if(Bt){if(ht in Bt)return}else G.__transition={};!function R(G,X,ht){var At,D=G.__transition;function Bt(qt){var q,pt,bt,wt;if(1!==ht.state)return re();for(q in D)if((wt=D[q]).name===ht.name){if(3===wt.state)return(0,_.Z)(Bt);4===wt.state?(wt.state=6,wt.timer.stop(),wt.on.call("interrupt",G,G.__data__,wt.index,wt.group),delete D[q]):+q<X&&(wt.state=6,wt.timer.stop(),wt.on.call("cancel",G,G.__data__,wt.index,wt.group),delete D[q])}if((0,_.Z)(function(){3===ht.state&&(ht.state=4,ht.timer.restart(Yt,ht.delay,ht.time),Yt(qt))}),ht.state=2,ht.on.call("start",G,G.__data__,ht.index,ht.group),2===ht.state){for(ht.state=3,At=new Array(bt=ht.tween.length),q=0,pt=-1;q<bt;++q)(wt=ht.tween[q].value.call(G,G.__data__,ht.index,ht.group))&&(At[++pt]=wt);At.length=pt+1}}function Yt(qt){for(var q=qt<ht.duration?ht.ease.call(null,qt/ht.duration):(ht.timer.restart(re),ht.state=5,1),pt=-1,bt=At.length;++pt<bt;)At[pt].call(G,q);5===ht.state&&(ht.on.call("end",G,G.__data__,ht.index,ht.group),re())}function re(){for(var qt in ht.state=6,ht.timer.stop(),delete D[X],D)return;delete G.__transition}D[X]=ht,ht.timer=(0,v.HT)(function Ot(qt){ht.state=1,ht.timer.restart(Bt,ht.delay,ht.time),ht.delay<=qt&&Bt(qt-ht.delay)},0,ht.time)}(G,ht,{name:X,index:D,group:At,on:f,tween:t,time:Ot.time,delay:Ot.delay,duration:Ot.duration,ease:Ot.ease,timer:null,state:0})}function k(G,X){var ht=O(G,X);if(ht.state>0)throw new Error("too late; already scheduled");return ht}function F(G,X){var ht=O(G,X);if(ht.state>3)throw new Error("too late; already running");return ht}function O(G,X){var ht=G.__transition;if(!ht||!(ht=ht[X]))throw new Error("transition not found");return ht}function U(G,X){var D,At,Bt,ht=G.__transition,Ot=!0;if(ht){for(Bt in X=null==X?null:X+"",ht)(D=ht[Bt]).name===X?(At=D.state>2&&D.state<5,D.state=6,D.timer.stop(),D.on.call(At?"interrupt":"cancel",G,G.__data__,D.index,D.group),delete ht[Bt]):Ot=!1;Ot&&delete G.__transition}}var W=o(43349),rt=o(36175);function nt(G,X){var ht,D;return function(){var At=F(this,G),Ot=At.tween;if(Ot!==ht)for(var Bt=0,Yt=(D=ht=Ot).length;Bt<Yt;++Bt)if(D[Bt].name===X){(D=D.slice()).splice(Bt,1);break}At.tween=D}}function ut(G,X,ht){var D,At;if("function"!=typeof ht)throw new Error;return function(){var Ot=F(this,G),Bt=Ot.tween;if(Bt!==D){At=(D=Bt).slice();for(var Yt={name:X,value:ht},re=0,qt=At.length;re<qt;++re)if(At[re].name===X){At[re]=Yt;break}re===qt&&At.push(Yt)}Ot.tween=At}}function tt(G,X,ht){var D=G._id;return G.each(function(){var At=F(this,D);(At.value||(At.value={}))[X]=ht.apply(this,arguments)}),function(At){return O(At,D).value[X]}}var Q=o(52786),at=o(37815),H=o(8200),K=o(42142);function lt(G,X){var ht;return("number"==typeof X?at.Z:X instanceof Q.ZP?H.ZP:(ht=(0,Q.ZP)(X))?(X=ht,H.ZP):K.Z)(G,X)}function it(G){return function(){this.removeAttribute(G)}}function z(G){return function(){this.removeAttributeNS(G.space,G.local)}}function E(G,X,ht){var D,Ot,At=ht+"";return function(){var Bt=this.getAttribute(G);return Bt===At?null:Bt===D?Ot:Ot=X(D=Bt,ht)}}function Ct(G,X,ht){var D,Ot,At=ht+"";return function(){var Bt=this.getAttributeNS(G.space,G.local);return Bt===At?null:Bt===D?Ot:Ot=X(D=Bt,ht)}}function It(G,X,ht){var D,At,Ot;return function(){var Bt,re,Yt=ht(this);return null==Yt?void this.removeAttribute(G):(Bt=this.getAttribute(G))===(re=Yt+"")?null:Bt===D&&re===At?Ot:(At=re,Ot=X(D=Bt,Yt))}}function Rt(G,X,ht){var D,At,Ot;return function(){var Bt,re,Yt=ht(this);return null==Yt?void this.removeAttributeNS(G.space,G.local):(Bt=this.getAttributeNS(G.space,G.local))===(re=Yt+"")?null:Bt===D&&re===At?Ot:(At=re,Ot=X(D=Bt,Yt))}}function ne(G,X){return function(ht){this.setAttribute(G,X.call(this,ht))}}function Ut(G,X){return function(ht){this.setAttributeNS(G.space,G.local,X.call(this,ht))}}function vt(G,X){var ht,D;function At(){var Ot=X.apply(this,arguments);return Ot!==D&&(ht=(D=Ot)&&Ut(G,Ot)),ht}return At._value=X,At}function ft(G,X){var ht,D;function At(){var Ot=X.apply(this,arguments);return Ot!==D&&(ht=(D=Ot)&&ne(G,Ot)),ht}return At._value=X,At}function Qt(G,X){return function(){k(this,G).delay=+X.apply(this,arguments)}}function me(G,X){return X=+X,function(){k(this,G).delay=X}}function ye(G,X){return function(){F(this,G).duration=+X.apply(this,arguments)}}function Be(G,X){return X=+X,function(){F(this,G).duration=X}}function Re(G,X){if("function"!=typeof X)throw new Error;return function(){F(this,G).ease=X}}var Ae=o(97905);function xn(G,X,ht){var D,At,Ot=function ni(G){return(G+"").trim().split(/^|\s+/).every(function(X){var ht=X.indexOf(".");return ht>=0&&(X=X.slice(0,ht)),!X||"start"===X})}(X)?k:F;return function(){var Bt=Ot(this,G),Yt=Bt.on;Yt!==D&&(At=(D=Yt).copy()).on(X,ht),Bt.on=At}}var In=o(29742),ci=o(32037),Tn=c.ZP.prototype.constructor,Kn=o(24476);function Xn(G){return function(){this.style.removeProperty(G)}}function de(G,X,ht){return function(D){this.style.setProperty(G,X.call(this,D),ht)}}function _e(G,X,ht){var D,At;function Ot(){var Bt=X.apply(this,arguments);return Bt!==At&&(D=(At=Bt)&&de(G,Bt,ht)),D}return Ot._value=X,Ot}function Ln(G){return function(X){this.textContent=G.call(this,X)}}function qn(G){var X,ht;function D(){var At=G.apply(this,arguments);return At!==ht&&(X=(ht=At)&&Ln(At)),X}return D._value=G,D}var wi=0;function On(G,X,ht,D){this._groups=G,this._parents=X,this._name=ht,this._id=D}function un(G){return(0,c.ZP)().transition(G)}function yn(){return++wi}var ei=c.ZP.prototype;On.prototype=un.prototype={constructor:On,select:function ze(G){var X=this._name,ht=this._id;"function"!=typeof G&&(G=(0,In.Z)(G));for(var D=this._groups,At=D.length,Ot=new Array(At),Bt=0;Bt<At;++Bt)for(var q,pt,Yt=D[Bt],re=Yt.length,qt=Ot[Bt]=new Array(re),bt=0;bt<re;++bt)(q=Yt[bt])&&(pt=G.call(q,q.__data__,bt,Yt))&&("__data__"in q&&(pt.__data__=q.__data__),qt[bt]=pt,A(qt[bt],X,ht,bt,qt,O(q,ht)));return new On(Ot,this._parents,X,ht)},selectAll:function Mn(G){var X=this._name,ht=this._id;"function"!=typeof G&&(G=(0,ci.Z)(G));for(var D=this._groups,At=D.length,Ot=[],Bt=[],Yt=0;Yt<At;++Yt)for(var q,re=D[Yt],qt=re.length,pt=0;pt<qt;++pt)if(q=re[pt]){for(var wt,bt=G.call(q,q.__data__,pt,re),Xt=O(q,ht),te=0,Dt=bt.length;te<Dt;++te)(wt=bt[te])&&A(wt,X,ht,te,bt,Xt);Ot.push(bt),Bt.push(q)}return new On(Ot,Bt,X,ht)},filter:function Yn(G){"function"!=typeof G&&(G=(0,Ae.Z)(G));for(var X=this._groups,ht=X.length,D=new Array(ht),At=0;At<ht;++At)for(var re,Ot=X[At],Bt=Ot.length,Yt=D[At]=[],qt=0;qt<Bt;++qt)(re=Ot[qt])&&G.call(re,re.__data__,qt,Ot)&&Yt.push(re);return new On(D,this._parents,this._name,this._id)},merge:function Wn(G){if(G._id!==this._id)throw new Error;for(var X=this._groups,ht=G._groups,D=X.length,Ot=Math.min(D,ht.length),Bt=new Array(D),Yt=0;Yt<Ot;++Yt)for(var bt,re=X[Yt],qt=ht[Yt],q=re.length,pt=Bt[Yt]=new Array(q),wt=0;wt<q;++wt)(bt=re[wt]||qt[wt])&&(pt[wt]=bt);for(;Yt<D;++Yt)Bt[Yt]=X[Yt];return new On(Bt,this._parents,this._name,this._id)},selection:function Hn(){return new Tn(this._groups,this._parents)},transition:function gn(){for(var G=this._name,X=this._id,ht=yn(),D=this._groups,At=D.length,Ot=0;Ot<At;++Ot)for(var re,Bt=D[Ot],Yt=Bt.length,qt=0;qt<Yt;++qt)if(re=Bt[qt]){var q=O(re,X);A(re,G,ht,qt,Bt,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new On(D,this._parents,G,ht)},call:ei.call,nodes:ei.nodes,node:ei.node,size:ei.size,empty:ei.empty,each:ei.each,on:function sn(G,X){var ht=this._id;return arguments.length<2?O(this.node(),ht).on.on(G):this.each(xn(ht,G,X))},attr:function Ht(G,X){var ht=(0,rt.Z)(G),D="transform"===ht?W.w:lt;return this.attrTween(G,"function"==typeof X?(ht.local?Rt:It)(ht,D,tt(this,"attr."+G,X)):null==X?(ht.local?z:it)(ht):(ht.local?Ct:E)(ht,D,X))},attrTween:function Nt(G,X){var ht="attr."+G;if(arguments.length<2)return(ht=this.tween(ht))&&ht._value;if(null==X)return this.tween(ht,null);if("function"!=typeof X)throw new Error;var D=(0,rt.Z)(G);return this.tween(ht,(D.local?vt:ft)(D,X))},style:function se(G,X,ht){var D="transform"==(G+="")?W.Y:lt;return null==X?this.styleTween(G,function Ne(G,X){var ht,D,At;return function(){var Ot=(0,Kn.S)(this,G),Bt=(this.style.removeProperty(G),(0,Kn.S)(this,G));return Ot===Bt?null:Ot===ht&&Bt===D?At:At=X(ht=Ot,D=Bt)}}(G,D)).on("end.style."+G,Xn(G)):"function"==typeof X?this.styleTween(G,function yt(G,X,ht){var D,At,Ot;return function(){var Bt=(0,Kn.S)(this,G),Yt=ht(this),re=Yt+"";return null==Yt&&(this.style.removeProperty(G),re=Yt=(0,Kn.S)(this,G)),Bt===re?null:Bt===D&&re===At?Ot:(At=re,Ot=X(D=Bt,Yt))}}(G,D,tt(this,"style."+G,X))).each(function Gt(G,X){var ht,D,At,Yt,Ot="style."+X,Bt="end."+Ot;return function(){var re=F(this,G),qt=re.on,q=null==re.value[Ot]?Yt||(Yt=Xn(X)):void 0;(qt!==ht||At!==q)&&(D=(ht=qt).copy()).on(Bt,At=q),re.on=D}}(this._id,G)):this.styleTween(G,function jn(G,X,ht){var D,Ot,At=ht+"";return function(){var Bt=(0,Kn.S)(this,G);return Bt===At?null:Bt===D?Ot:Ot=X(D=Bt,ht)}}(G,D,X),ht).on("end.style."+G,null)},styleTween:function Ue(G,X,ht){var D="style."+(G+="");if(arguments.length<2)return(D=this.tween(D))&&D._value;if(null==X)return this.tween(D,null);if("function"!=typeof X)throw new Error;return this.tween(D,_e(G,X,null==ht?"":ht))},text:function Zn(G){return this.tween("text","function"==typeof G?function nn(G){return function(){var X=G(this);this.textContent=null==X?"":X}}(tt(this,"text",G)):function Fe(G){return function(){this.textContent=G}}(null==G?"":G+""))},textTween:function Di(G){var X="text";if(arguments.length<1)return(X=this.tween(X))&&X._value;if(null==G)return this.tween(X,null);if("function"!=typeof G)throw new Error;return this.tween(X,qn(G))},remove:function wn(){return this.on("end.remove",function je(G){return function(){var X=this.parentNode;for(var ht in this.__transition)if(+ht!==G)return;X&&X.removeChild(this)}}(this._id))},tween:function J(G,X){var ht=this._id;if(G+="",arguments.length<2){for(var Bt,D=O(this.node(),ht).tween,At=0,Ot=D.length;At<Ot;++At)if((Bt=D[At]).name===G)return Bt.value;return null}return this.each((null==X?nt:ut)(ht,G,X))},delay:function ge(G){var X=this._id;return arguments.length?this.each(("function"==typeof G?Qt:me)(X,G)):O(this.node(),X).delay},duration:function vn(G){var X=this._id;return arguments.length?this.each(("function"==typeof G?ye:Be)(X,G)):O(this.node(),X).duration},ease:function mn(G){var X=this._id;return arguments.length?this.each(Re(X,G)):O(this.node(),X).ease},easeVarying:function Ce(G){if("function"!=typeof G)throw new Error;return this.each(function Ve(G,X){return function(){var ht=X.apply(this,arguments);if("function"!=typeof ht)throw new Error;F(this,G).ease=ht}}(this._id,G))},end:function ti(){var G,X,ht=this,D=ht._id,At=ht.size();return new Promise(function(Ot,Bt){var Yt={value:Bt},re={value:function(){0==--At&&Ot()}};ht.each(function(){var qt=F(this,D),q=qt.on;q!==G&&((X=(G=q).copy())._.cancel.push(Yt),X._.interrupt.push(Yt),X._.end.push(re)),qt.on=X}),0===At&&Ot()})},[Symbol.iterator]:ei[Symbol.iterator]};var Nn={time:null,delay:0,duration:250,ease:o(27065).tw};function Le(G,X){for(var ht;!(ht=G.__transition)||!(ht=ht[X]);)if(!(G=G.parentNode))throw new Error(`transition ${X} not found`);return ht}c.ZP.prototype.interrupt=function V(G){return this.each(function(){U(this,G)})},c.ZP.prototype.transition=function Ii(G){var X,ht;G instanceof On?(X=G._id,G=G._name):(X=yn(),(ht=Nn).time=(0,v.zO)(),G=null==G?null:G+"");for(var D=this._groups,At=D.length,Ot=0;Ot<At;++Ot)for(var re,Bt=D[Ot],Yt=Bt.length,qt=0;qt<Yt;++qt)(re=Bt[qt])&&A(re,G,X,qt,Bt,ht||Le(re,X));return new On(D,this._parents,G,X)};var Bn=[null];function fn(G,X){var D,At,ht=G.__transition;if(ht)for(At in X=null==X?null:X+"",ht)if((D=ht[At]).state>1&&D.name===X)return new On([[G]],Bn,X,+At);return null}},47927:(w,I,o)=>{"use strict";function c(x){return function(){return x}}o.d(I,{Z:()=>c})},6738:(w,I,o)=>{"use strict";function c(x,v){return x=+x,v=+v,function(_){return x*(1-_)+v*_}}o.d(I,{Z:()=>c})},23534:(w,I,o)=>{"use strict";o.d(I,{ZP:()=>u});var c=o(52786);function x(k,F,O,R,U){var V=k*k,W=V*k;return((1-3*k+3*V-W)*F+(4-6*V+3*W)*O+(1+3*k+3*V-3*W)*R+W*U)/6}var f=o(47927);function m(k,F){var O=F-k;return O?function t(k,F){return function(O){return k+O*F}}(k,O):(0,f.Z)(isNaN(k)?F:k)}const u=function k(F){var O=function h(k){return 1==(k=+k)?m:function(F,O){return O-F?function p(k,F,O){return k=Math.pow(k,O),F=Math.pow(F,O)-k,O=1/O,function(R){return Math.pow(k+R*F,O)}}(F,O,k):(0,f.Z)(isNaN(F)?O:F)}}(F);function R(U,V){var W=O((U=(0,c.B8)(U)).r,(V=(0,c.B8)(V)).r),rt=O(U.g,V.g),nt=O(U.b,V.b),ut=m(U.opacity,V.opacity);return function(J){return U.r=W(J),U.g=rt(J),U.b=nt(J),U.opacity=ut(J),U+""}}return R.gamma=k,R}(1);function g(k){return function(F){var W,rt,O=F.length,R=new Array(O),U=new Array(O),V=new Array(O);for(W=0;W<O;++W)rt=(0,c.B8)(F[W]),R[W]=rt.r||0,U[W]=rt.g||0,V[W]=rt.b||0;return R=k(R),U=k(U),V=k(V),rt.opacity=1,function(nt){return rt.r=R(nt),rt.g=U(nt),rt.b=V(nt),rt+""}}}g(function v(k){var F=k.length-1;return function(O){var R=O<=0?O=0:O>=1?(O=1,F-1):Math.floor(O*F),U=k[R],V=k[R+1];return x((O-R/F)*F,R>0?k[R-1]:2*U-V,U,V,R<F-1?k[R+2]:2*V-U)}}),g(function _(k){var F=k.length;return function(O){var R=Math.floor(((O%=1)<0?++O:O)*F);return x((O-R/F)*F,k[(R+F-1)%F],k[R%F],k[(R+1)%F],k[(R+2)%F])}})},23096:(w,I,o)=>{"use strict";o.d(I,{Z:()=>t});var c=o(6738),x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(x.source,"g");function t(p,l){var m,u,g,h=x.lastIndex=v.lastIndex=0,C=-1,A=[],k=[];for(p+="",l+="";(m=x.exec(p))&&(u=v.exec(l));)(g=u.index)>h&&(g=l.slice(h,g),A[C]?A[C]+=g:A[++C]=g),(m=m[0])===(u=u[0])?A[C]?A[C]+=u:A[++C]=u:(A[++C]=null,k.push({i:C,x:(0,c.Z)(m,u)})),h=v.lastIndex;return h<l.length&&(g=l.slice(h),A[C]?A[C]+=g:A[++C]=g),A.length<2?k[0]?function f(p){return function(l){return p(l)+""}}(k[0].x):function _(p){return function(){return p}}(l):(l=k.length,function(F){for(var R,O=0;O<l;++O)A[(R=k[O]).i]=R.x(F);return A.join("")})}},75349:(w,I,o)=>{"use strict";o.d(I,{Y:()=>g,w:()=>C});var f,t,p,l,c=o(6738),x=180/Math.PI,v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _(A,k,F,O,R,U){var V,W,rt;return(V=Math.sqrt(A*A+k*k))&&(A/=V,k/=V),(rt=A*F+k*O)&&(F-=A*rt,O-=k*rt),(W=Math.sqrt(F*F+O*O))&&(F/=W,O/=W,rt/=W),A*O<k*F&&(A=-A,k=-k,rt=-rt,V=-V),{translateX:R,translateY:U,rotate:Math.atan2(k,A)*x,skewX:Math.atan(rt)*x,scaleX:V,scaleY:W}}function u(A,k,F,O){function R(nt){return nt.length?nt.pop()+" ":""}return function(nt,ut){var J=[],tt=[];return nt=A(nt),ut=A(ut),function U(nt,ut,J,tt,Q,at){if(nt!==J||ut!==tt){var H=Q.push("translate(",null,k,null,F);at.push({i:H-4,x:(0,c.Z)(nt,J)},{i:H-2,x:(0,c.Z)(ut,tt)})}else(J||tt)&&Q.push("translate("+J+k+tt+F)}(nt.translateX,nt.translateY,ut.translateX,ut.translateY,J,tt),function V(nt,ut,J,tt){nt!==ut?(nt-ut>180?ut+=360:ut-nt>180&&(nt+=360),tt.push({i:J.push(R(J)+"rotate(",null,O)-2,x:(0,c.Z)(nt,ut)})):ut&&J.push(R(J)+"rotate("+ut+O)}(nt.rotate,ut.rotate,J,tt),function W(nt,ut,J,tt){nt!==ut?tt.push({i:J.push(R(J)+"skewX(",null,O)-2,x:(0,c.Z)(nt,ut)}):ut&&J.push(R(J)+"skewX("+ut+O)}(nt.skewX,ut.skewX,J,tt),function rt(nt,ut,J,tt,Q,at){if(nt!==J||ut!==tt){var H=Q.push(R(Q)+"scale(",null,",",null,")");at.push({i:H-4,x:(0,c.Z)(nt,J)},{i:H-2,x:(0,c.Z)(ut,tt)})}else(1!==J||1!==tt)&&Q.push(R(Q)+"scale("+J+","+tt+")")}(nt.scaleX,nt.scaleY,ut.scaleX,ut.scaleY,J,tt),nt=ut=null,function(Q){for(var K,at=-1,H=tt.length;++at<H;)J[(K=tt[at]).i]=K.x(Q);return J.join("")}}}var g=u(function h(A){return"none"===A?v:(f||(f=document.createElement("DIV"),t=document.documentElement,p=document.defaultView),f.style.transform=A,A=p.getComputedStyle(t.appendChild(f),null).getPropertyValue("transform"),t.removeChild(f),_(+(A=A.slice(7,-1).split(","))[0],+A[1],+A[2],+A[3],+A[4],+A[5]))},"px, ","px)","deg)"),C=u(function m(A){return null!=A&&(l||(l=document.createElementNS("http://www.w3.org/2000/svg","g")),l.setAttribute("transform",A),A=l.transform.baseVal.consolidate())?_((A=A.matrix).a,A.b,A.c,A.d,A.e,A.f):v},", ",")",")")},34638:(w,I,o)=>{"use strict";function c(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}o.d(I,{Z:()=>c})},7500:(w,I,o)=>{"use strict";o.d(I,{Z:()=>f});var c=o(36175),x=o(53517);function v(t){return function(){var p=this.ownerDocument,l=this.namespaceURI;return l===x.P&&p.documentElement.namespaceURI===x.P?p.createElement(t):p.createElementNS(l,t)}}function _(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function f(t){var p=(0,c.Z)(t);return(p.local?_:v)(p)}},68557:(w,I,o)=>{"use strict";o.r(I),o.d(I,{create:()=>v,creator:()=>c.Z,local:()=>f,matcher:()=>p.Z,namespace:()=>l.Z,namespaces:()=>h.Z,pointer:()=>m.Z,pointers:()=>g,select:()=>x.Z,selectAll:()=>k,selection:()=>A.ZP,selector:()=>F.Z,selectorAll:()=>O.Z,style:()=>R.S,window:()=>U.Z});var c=o(7500),x=o(52016);function v(V){return(0,x.Z)((0,c.Z)(V).call(document.documentElement))}var _=0;function f(){return new t}function t(){this._="@"+(++_).toString(36)}t.prototype=f.prototype={constructor:t,get:function(V){for(var W=this._;!(W in V);)if(!(V=V.parentNode))return;return V[W]},set:function(V,W){return V[this._]=W},remove:function(V){return this._ in V&&delete V[this._]},toString:function(){return this._}};var p=o(97905),l=o(36175),h=o(53517),m=o(29132),u=o(75819);function g(V,W){return V.target&&(V=(0,u.Z)(V),void 0===W&&(W=V.currentTarget),V=V.touches||[V]),Array.from(V,rt=>(0,m.Z)(rt,W))}var C=o(34638),A=o(37853);function k(V){return"string"==typeof V?new A.Y1([document.querySelectorAll(V)],[document.documentElement]):new A.Y1([null==V?[]:(0,C.Z)(V)],A.Jz)}var F=o(29742),O=o(32037),R=o(24476),U=o(2442)},97905:(w,I,o)=>{"use strict";function c(v){return function(){return this.matches(v)}}function x(v){return function(_){return _.matches(v)}}o.d(I,{Z:()=>c,P:()=>x})},36175:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(53517);function x(v){var _=v+="",f=_.indexOf(":");return f>=0&&"xmlns"!==(_=v.slice(0,f))&&(v=v.slice(f+1)),c.Z.hasOwnProperty(_)?{space:c.Z[_],local:v}:v}},53517:(w,I,o)=>{"use strict";o.d(I,{P:()=>c,Z:()=>x});var c="http://www.w3.org/1999/xhtml";const x={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},29132:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(75819);function x(v,_){if(v=(0,c.Z)(v),void 0===_&&(_=v.currentTarget),_){var f=_.ownerSVGElement||_;if(f.createSVGPoint){var t=f.createSVGPoint();return t.x=v.clientX,t.y=v.clientY,[(t=t.matrixTransform(_.getScreenCTM().inverse())).x,t.y]}if(_.getBoundingClientRect){var p=_.getBoundingClientRect();return[v.clientX-p.left-_.clientLeft,v.clientY-p.top-_.clientTop]}}return[v.pageX,v.pageY]}},52016:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(37853);function x(v){return"string"==typeof v?new c.Y1([[document.querySelector(v)]],[document.documentElement]):new c.Y1([[v]],c.Jz)}},37853:(w,I,o)=>{"use strict";o.d(I,{Y1:()=>Le,ZP:()=>fn,Jz:()=>Nn});var c=o(29742),v=o(34638),_=o(32037),p=o(97905),l=Array.prototype.find;function m(){return this.firstElementChild}var g=Array.prototype.filter;function C(){return this.children}function O(G){return new Array(G.length)}function U(G,X){this.ownerDocument=G.ownerDocument,this.namespaceURI=G.namespaceURI,this._next=null,this._parent=G,this.__data__=X}function V(G){return function(){return G}}function W(G,X,ht,D,At,Ot){for(var Yt,Bt=0,re=X.length,qt=Ot.length;Bt<qt;++Bt)(Yt=X[Bt])?(Yt.__data__=Ot[Bt],D[Bt]=Yt):ht[Bt]=new U(G,Ot[Bt]);for(;Bt<re;++Bt)(Yt=X[Bt])&&(At[Bt]=Yt)}function rt(G,X,ht,D,At,Ot,Bt){var Yt,re,wt,qt=new Map,q=X.length,pt=Ot.length,bt=new Array(q);for(Yt=0;Yt<q;++Yt)(re=X[Yt])&&(bt[Yt]=wt=Bt.call(re,re.__data__,Yt,X)+"",qt.has(wt)?At[Yt]=re:qt.set(wt,re));for(Yt=0;Yt<pt;++Yt)wt=Bt.call(G,Ot[Yt],Yt,Ot)+"",(re=qt.get(wt))?(D[Yt]=re,re.__data__=Ot[Yt],qt.delete(wt)):ht[Yt]=new U(G,Ot[Yt]);for(Yt=0;Yt<q;++Yt)(re=X[Yt])&&qt.get(bt[Yt])===re&&(At[Yt]=re)}function nt(G){return G.__data__}function K(G,X){return G<X?-1:G>X?1:G>=X?0:NaN}U.prototype={constructor:U,appendChild:function(G){return this._parent.insertBefore(G,this._next)},insertBefore:function(G,X){return this._parent.insertBefore(G,X)},querySelector:function(G){return this._parent.querySelector(G)},querySelectorAll:function(G){return this._parent.querySelectorAll(G)}};var Rt=o(36175);function Ht(G){return function(){this.removeAttribute(G)}}function ne(G){return function(){this.removeAttributeNS(G.space,G.local)}}function Ut(G,X){return function(){this.setAttribute(G,X)}}function vt(G,X){return function(){this.setAttributeNS(G.space,G.local,X)}}function ft(G,X){return function(){var ht=X.apply(this,arguments);null==ht?this.removeAttribute(G):this.setAttribute(G,ht)}}function Nt(G,X){return function(){var ht=X.apply(this,arguments);null==ht?this.removeAttributeNS(G.space,G.local):this.setAttributeNS(G.space,G.local,ht)}}var me=o(24476);function ge(G){return function(){delete this[G]}}function ye(G,X){return function(){this[G]=X}}function Be(G,X){return function(){var ht=X.apply(this,arguments);null==ht?delete this[G]:this[G]=ht}}function Re(G){return G.trim().split(/^|\s+/)}function mn(G){return G.classList||new Ve(G)}function Ve(G){this._node=G,this._names=Re(G.getAttribute("class")||"")}function Ce(G,X){for(var ht=mn(G),D=-1,At=X.length;++D<At;)ht.add(X[D])}function Ae(G,X){for(var ht=mn(G),D=-1,At=X.length;++D<At;)ht.remove(X[D])}function Yn(G){return function(){Ce(this,G)}}function Wn(G){return function(){Ae(this,G)}}function ni(G,X){return function(){(X.apply(this,arguments)?Ce:Ae)(this,G)}}function sn(){this.textContent=""}function je(G){return function(){this.textContent=G}}function wn(G){return function(){var X=G.apply(this,arguments);this.textContent=null==X?"":X}}function ze(){this.innerHTML=""}function ci(G){return function(){this.innerHTML=G}}function Mn(G){return function(){var X=G.apply(this,arguments);this.innerHTML=null==X?"":X}}function Hn(){this.nextSibling&&this.parentNode.appendChild(this)}function Ne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Ve.prototype={add:function(G){this._names.indexOf(G)<0&&(this._names.push(G),this._node.setAttribute("class",this._names.join(" ")))},remove:function(G){var X=this._names.indexOf(G);X>=0&&(this._names.splice(X,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(G){return this._names.indexOf(G)>=0}};var jn=o(7500);function Gt(){return null}function de(){var G=this.parentNode;G&&G.removeChild(this)}function Ue(){var G=this.cloneNode(!1),X=this.parentNode;return X?X.insertBefore(G,this.nextSibling):G}function Fe(){var G=this.cloneNode(!0),X=this.parentNode;return X?X.insertBefore(G,this.nextSibling):G}function qn(G){return G.trim().split(/^|\s+/).map(function(X){var ht="",D=X.indexOf(".");return D>=0&&(ht=X.slice(D+1),X=X.slice(0,D)),{type:X,name:ht}})}function Di(G){return function(){var X=this.__on;if(X){for(var Ot,ht=0,D=-1,At=X.length;ht<At;++ht)Ot=X[ht],G.type&&Ot.type!==G.type||Ot.name!==G.name?X[++D]=Ot:this.removeEventListener(Ot.type,Ot.listener,Ot.options);++D?X.length=D:delete this.__on}}}function gn(G,X,ht){return function(){var At,D=this.__on,Ot=function Ln(G){return function(X){G.call(this,X,this.__data__)}}(X);if(D)for(var Bt=0,Yt=D.length;Bt<Yt;++Bt)if((At=D[Bt]).type===G.type&&At.name===G.name)return this.removeEventListener(At.type,At.listener,At.options),this.addEventListener(At.type,At.listener=Ot,At.options=ht),void(At.value=X);this.addEventListener(G.type,Ot,ht),At={type:G.type,name:G.name,value:X,listener:Ot,options:ht},D?D.push(At):this.__on=[At]}}var wi=o(2442);function On(G,X,ht){var D=(0,wi.Z)(G),At=D.CustomEvent;"function"==typeof At?At=new At(X,ht):(At=D.document.createEvent("Event"),ht?(At.initEvent(X,ht.bubbles,ht.cancelable),At.detail=ht.detail):At.initEvent(X,!1,!1)),G.dispatchEvent(At)}function un(G,X){return function(){return On(this,G,X)}}function yn(G,X){return function(){return On(this,G,X.apply(this,arguments))}}var Nn=[null];function Le(G,X){this._groups=G,this._parents=X}function Ii(){return new Le([[document.documentElement]],Nn)}Le.prototype=Ii.prototype={constructor:Le,select:function x(G){"function"!=typeof G&&(G=(0,c.Z)(G));for(var X=this._groups,ht=X.length,D=new Array(ht),At=0;At<ht;++At)for(var re,qt,Ot=X[At],Bt=Ot.length,Yt=D[At]=new Array(Bt),q=0;q<Bt;++q)(re=Ot[q])&&(qt=G.call(re,re.__data__,q,Ot))&&("__data__"in re&&(qt.__data__=re.__data__),Yt[q]=qt);return new Le(D,this._parents)},selectAll:function t(G){G="function"==typeof G?function f(G){return function(){var X=G.apply(this,arguments);return null==X?[]:(0,v.Z)(X)}}(G):(0,_.Z)(G);for(var X=this._groups,ht=X.length,D=[],At=[],Ot=0;Ot<ht;++Ot)for(var re,Bt=X[Ot],Yt=Bt.length,qt=0;qt<Yt;++qt)(re=Bt[qt])&&(D.push(G.call(re,re.__data__,qt,Bt)),At.push(re));return new Le(D,At)},selectChild:function u(G){return this.select(null==G?m:function h(G){return function(){return l.call(this.children,G)}}("function"==typeof G?G:(0,p.P)(G)))},selectChildren:function k(G){return this.selectAll(null==G?C:function A(G){return function(){return g.call(this.children,G)}}("function"==typeof G?G:(0,p.P)(G)))},filter:function F(G){"function"!=typeof G&&(G=(0,p.Z)(G));for(var X=this._groups,ht=X.length,D=new Array(ht),At=0;At<ht;++At)for(var re,Ot=X[At],Bt=Ot.length,Yt=D[At]=[],qt=0;qt<Bt;++qt)(re=Ot[qt])&&G.call(re,re.__data__,qt,Ot)&&Yt.push(re);return new Le(D,this._parents)},data:function ut(G,X){if(!arguments.length)return Array.from(this,nt);var ht=X?rt:W,D=this._parents,At=this._groups;"function"!=typeof G&&(G=V(G));for(var Ot=At.length,Bt=new Array(Ot),Yt=new Array(Ot),re=new Array(Ot),qt=0;qt<Ot;++qt){var q=D[qt],pt=At[qt],bt=pt.length,wt=(0,v.Z)(G.call(q,q&&q.__data__,qt,D)),Xt=wt.length,te=Yt[qt]=new Array(Xt),Dt=Bt[qt]=new Array(Xt),he=re[qt]=new Array(bt);ht(q,pt,te,Dt,he,wt,X);for(var ke,Oe,N=0,le=0;N<Xt;++N)if(ke=te[N]){for(N>=le&&(le=N+1);!(Oe=Dt[le])&&++le<Xt;);ke._next=Oe||null}}return(Bt=new Le(Bt,D))._enter=Yt,Bt._exit=re,Bt},enter:function R(){return new Le(this._enter||this._groups.map(O),this._parents)},exit:function J(){return new Le(this._exit||this._groups.map(O),this._parents)},join:function tt(G,X,ht){var D=this.enter(),At=this,Ot=this.exit();return D="function"==typeof G?G(D):D.append(G+""),null!=X&&(At=X(At)),null==ht?Ot.remove():ht(Ot),D&&At?D.merge(At).order():At},merge:function Q(G){if(!(G instanceof Le))throw new Error("invalid merge");for(var X=this._groups,ht=G._groups,D=X.length,Ot=Math.min(D,ht.length),Bt=new Array(D),Yt=0;Yt<Ot;++Yt)for(var bt,re=X[Yt],qt=ht[Yt],q=re.length,pt=Bt[Yt]=new Array(q),wt=0;wt<q;++wt)(bt=re[wt]||qt[wt])&&(pt[wt]=bt);for(;Yt<D;++Yt)Bt[Yt]=X[Yt];return new Le(Bt,this._parents)},selection:function Bn(){return this},order:function at(){for(var G=this._groups,X=-1,ht=G.length;++X<ht;)for(var Bt,D=G[X],At=D.length-1,Ot=D[At];--At>=0;)(Bt=D[At])&&(Ot&&4^Bt.compareDocumentPosition(Ot)&&Ot.parentNode.insertBefore(Bt,Ot),Ot=Bt);return this},sort:function H(G){function X(pt,bt){return pt&&bt?G(pt.__data__,bt.__data__):!pt-!bt}G||(G=K);for(var ht=this._groups,D=ht.length,At=new Array(D),Ot=0;Ot<D;++Ot){for(var qt,Bt=ht[Ot],Yt=Bt.length,re=At[Ot]=new Array(Yt),q=0;q<Yt;++q)(qt=Bt[q])&&(re[q]=qt);re.sort(X)}return new Le(At,this._parents).order()},call:function lt(){var G=arguments[0];return arguments[0]=this,G.apply(null,arguments),this},nodes:function it(){return Array.from(this)},node:function z(){for(var G=this._groups,X=0,ht=G.length;X<ht;++X)for(var D=G[X],At=0,Ot=D.length;At<Ot;++At){var Bt=D[At];if(Bt)return Bt}return null},size:function E(){let G=0;for(const X of this)++G;return G},empty:function Ct(){return!this.node()},each:function It(G){for(var X=this._groups,ht=0,D=X.length;ht<D;++ht)for(var Yt,At=X[ht],Ot=0,Bt=At.length;Ot<Bt;++Ot)(Yt=At[Ot])&&G.call(Yt,Yt.__data__,Ot,At);return this},attr:function Qt(G,X){var ht=(0,Rt.Z)(G);if(arguments.length<2){var D=this.node();return ht.local?D.getAttributeNS(ht.space,ht.local):D.getAttribute(ht)}return this.each((null==X?ht.local?ne:Ht:"function"==typeof X?ht.local?Nt:ft:ht.local?vt:Ut)(ht,X))},style:me.Z,property:function vn(G,X){return arguments.length>1?this.each((null==X?ge:"function"==typeof X?Be:ye)(G,X)):this.node()[G]},classed:function xn(G,X){var ht=Re(G+"");if(arguments.length<2){for(var D=mn(this.node()),At=-1,Ot=ht.length;++At<Ot;)if(!D.contains(ht[At]))return!1;return!0}return this.each(("function"==typeof X?ni:X?Yn:Wn)(ht,X))},text:function In(G){return arguments.length?this.each(null==G?sn:("function"==typeof G?wn:je)(G)):this.node().textContent},html:function Tn(G){return arguments.length?this.each(null==G?ze:("function"==typeof G?Mn:ci)(G)):this.node().innerHTML},raise:function Kn(){return this.each(Hn)},lower:function Xn(){return this.each(Ne)},append:function yt(G){var X="function"==typeof G?G:(0,jn.Z)(G);return this.select(function(){return this.appendChild(X.apply(this,arguments))})},insert:function se(G,X){var ht="function"==typeof G?G:(0,jn.Z)(G),D=null==X?Gt:"function"==typeof X?X:(0,c.Z)(X);return this.select(function(){return this.insertBefore(ht.apply(this,arguments),D.apply(this,arguments)||null)})},remove:function _e(){return this.each(de)},clone:function nn(G){return this.select(G?Fe:Ue)},datum:function Zn(G){return arguments.length?this.property("__data__",G):this.node().__data__},on:function ti(G,X,ht){var At,Bt,D=qn(G+""),Ot=D.length;if(!(arguments.length<2)){for(Yt=X?gn:Di,At=0;At<Ot;++At)this.each(Yt(D[At],X,ht));return this}var Yt=this.node().__on;if(Yt)for(var q,re=0,qt=Yt.length;re<qt;++re)for(At=0,q=Yt[re];At<Ot;++At)if((Bt=D[At]).type===q.type&&Bt.name===q.name)return q.value},dispatch:function ei(G,X){return this.each(("function"==typeof X?yn:un)(G,X))},[Symbol.iterator]:function*ui(){for(var G=this._groups,X=0,ht=G.length;X<ht;++X)for(var Bt,D=G[X],At=0,Ot=D.length;At<Ot;++At)(Bt=D[At])&&(yield Bt)}};const fn=Ii},24476:(w,I,o)=>{"use strict";o.d(I,{Z:()=>f,S:()=>t});var c=o(2442);function x(p){return function(){this.style.removeProperty(p)}}function v(p,l,h){return function(){this.style.setProperty(p,l,h)}}function _(p,l,h){return function(){var m=l.apply(this,arguments);null==m?this.style.removeProperty(p):this.style.setProperty(p,m,h)}}function f(p,l,h){return arguments.length>1?this.each((null==l?x:"function"==typeof l?_:v)(p,l,null==h?"":h)):t(this.node(),p)}function t(p,l){return p.style.getPropertyValue(l)||(0,c.Z)(p).getComputedStyle(p,null).getPropertyValue(l)}},29742:(w,I,o)=>{"use strict";function c(){}function x(v){return null==v?c:function(){return this.querySelector(v)}}o.d(I,{Z:()=>x})},32037:(w,I,o)=>{"use strict";function c(){return[]}function x(v){return null==v?c:function(){return this.querySelectorAll(v)}}o.d(I,{Z:()=>x})},75819:(w,I,o)=>{"use strict";function c(x){let v;for(;v=x.sourceEvent;)x=v;return x}o.d(I,{Z:()=>c})},2442:(w,I,o)=>{"use strict";function c(x){return x.ownerDocument&&x.ownerDocument.defaultView||x.document&&x||x.defaultView}o.d(I,{Z:()=>c})},73339:(w,I,o)=>{"use strict";o.d(I,{Z:()=>x});var c=o(49194);function x(v,_,f){var t=new c.B7;return t.restart(function(p){t.stop(),v(p+_)},_=null==_?0:+_,f),t}},49194:(w,I,o)=>{"use strict";o.d(I,{zO:()=>g,B7:()=>A,HT:()=>k,R8:()=>F});var f,t,c=0,x=0,v=0,p=0,l=0,h=0,m="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(W){setTimeout(W,17)};function g(){return l||(u(C),l=m.now()+h)}function C(){l=0}function A(){this._call=this._time=this._next=null}function k(W,rt,nt){var ut=new A;return ut.restart(W,rt,nt),ut}function F(){g(),++c;for(var rt,W=f;W;)(rt=l-W._time)>=0&&W._call.call(null,rt),W=W._next;--c}function O(){l=(p=m.now())+h,c=x=0;try{F()}finally{c=0,function U(){for(var W,nt,rt=f,ut=1/0;rt;)rt._call?(ut>rt._time&&(ut=rt._time),W=rt,rt=rt._next):(nt=rt._next,rt._next=null,rt=W?W._next=nt:f=nt);t=W,V(ut)}(),l=0}}function R(){var W=m.now(),rt=W-p;rt>1e3&&(h-=rt,p=W)}function V(W){c||(x&&(x=clearTimeout(x)),W-l>24?(W<1/0&&(x=setTimeout(O,W-m.now()-h)),v&&(v=clearInterval(v))):(v||(p=m.now(),v=setInterval(R,1e3)),c=1,u(O)))}A.prototype=k.prototype={constructor:A,restart:function(W,rt,nt){if("function"!=typeof W)throw new TypeError("callback is not a function");nt=(null==nt?g():+nt)+(null==rt?0:+rt),!this._next&&t!==this&&(t?t._next=this:f=this,t=this),this._call=W,this._time=nt,V()},stop:function(){this._call&&(this._call=null,this._time=1/0,V())}}},60128:(w,I,o)=>{"use strict";o.r(I),o.d(I,{zoom:()=>Qe,zoomIdentity:()=>he,zoomTransform:()=>N});var c=o(25922),x=o(52016);function _(et){et.preventDefault(),et.stopImmediatePropagation()}function f(et){var gt=et.document.documentElement,mt=(0,x.Z)(et).on("dragstart.drag",_,!0);"onselectstart"in gt?mt.on("selectstart.drag",_,!0):(gt.__noselect=gt.style.MozUserSelect,gt.style.MozUserSelect="none")}function t(et,gt){var mt=et.document.documentElement,St=(0,x.Z)(et).on("dragstart.drag",null);gt&&(St.on("click.drag",_,!0),setTimeout(function(){St.on("click.drag",null)},0)),"onselectstart"in mt?St.on("selectstart.drag",null):(mt.style.MozUserSelect=mt.__noselect,delete mt.__noselect)}var p=Math.SQRT2;function u(et){return((et=Math.exp(et))+1/et)/2}function A(et,gt){var Ie,Me,mt=et[0],St=et[1],zt=et[2],pe=gt[2],xe=gt[0]-mt,Wt=gt[1]-St,oe=xe*xe+Wt*Wt;if(oe<1e-12)Me=Math.log(pe/zt)/p,Ie=function(Fn){return[mt+Fn*xe,St+Fn*Wt,zt*Math.exp(p*Fn*Me)]};else{var Ye=Math.sqrt(oe),$n=(pe*pe-zt*zt+4*oe)/(2*zt*2*Ye),En=(pe*pe-zt*zt-4*oe)/(2*pe*2*Ye),Sn=Math.log(Math.sqrt($n*$n+1)-$n),we=Math.log(Math.sqrt(En*En+1)-En);Me=(we-Sn)/p,Ie=function(Fn){var Qn=Fn*Me,on=u(Sn),ln=zt/(2*Ye)*(on*function C(et){return((et=Math.exp(2*et))-1)/(et+1)}(p*Qn+Sn)-function g(et){return((et=Math.exp(et))-1/et)/2}(Sn));return[mt+ln*xe,St+ln*Wt,zt*on/u(p*Qn+Sn)]}}return Ie.duration=1e3*Me,Ie}var k=o(29132),F=o(37853),O=o(49194),R=o(73339),U=(0,c.Z)("start","end","cancel","interrupt"),V=[];function at(et,gt,mt,St,zt,ee){var Jt=et.__transition;if(Jt){if(mt in Jt)return}else et.__transition={};!function it(et,gt,mt){var zt,St=et.__transition;function Jt(Wt){var oe,Ie,Me,Ye;if(1!==mt.state)return xe();for(oe in St)if((Ye=St[oe]).name===mt.name){if(3===Ye.state)return(0,R.Z)(Jt);4===Ye.state?(Ye.state=6,Ye.timer.stop(),Ye.on.call("interrupt",et,et.__data__,Ye.index,Ye.group),delete St[oe]):+oe<gt&&(Ye.state=6,Ye.timer.stop(),Ye.on.call("cancel",et,et.__data__,Ye.index,Ye.group),delete St[oe])}if((0,R.Z)(function(){3===mt.state&&(mt.state=4,mt.timer.restart(pe,mt.delay,mt.time),pe(Wt))}),mt.state=2,mt.on.call("start",et,et.__data__,mt.index,mt.group),2===mt.state){for(mt.state=3,zt=new Array(Me=mt.tween.length),oe=0,Ie=-1;oe<Me;++oe)(Ye=mt.tween[oe].value.call(et,et.__data__,mt.index,mt.group))&&(zt[++Ie]=Ye);zt.length=Ie+1}}function pe(Wt){for(var oe=Wt<mt.duration?mt.ease.call(null,Wt/mt.duration):(mt.timer.restart(xe),mt.state=5,1),Ie=-1,Me=zt.length;++Ie<Me;)zt[Ie].call(et,oe);5===mt.state&&(mt.on.call("end",et,et.__data__,mt.index,mt.group),xe())}function xe(){for(var Wt in mt.state=6,mt.timer.stop(),delete St[gt],St)return;delete et.__transition}St[gt]=mt,mt.timer=(0,O.HT)(function ee(Wt){mt.state=1,mt.timer.restart(Jt,mt.delay,mt.time),mt.delay<=Wt&&Jt(Wt-mt.delay)},0,mt.time)}(et,mt,{name:gt,index:St,group:zt,on:U,tween:V,time:ee.time,delay:ee.delay,duration:ee.duration,ease:ee.ease,timer:null,state:0})}function H(et,gt){var mt=lt(et,gt);if(mt.state>0)throw new Error("too late; already scheduled");return mt}function K(et,gt){var mt=lt(et,gt);if(mt.state>3)throw new Error("too late; already running");return mt}function lt(et,gt){var mt=et.__transition;if(!mt||!(mt=mt[gt]))throw new Error("transition not found");return mt}function z(et,gt){var St,zt,Jt,mt=et.__transition,ee=!0;if(mt){for(Jt in gt=null==gt?null:gt+"",mt)(St=mt[Jt]).name===gt?(zt=St.state>2&&St.state<5,St.state=6,St.timer.stop(),St.on.call(zt?"interrupt":"cancel",et,et.__data__,St.index,St.group),delete mt[Jt]):ee=!1;ee&&delete et.__transition}}var Ct=o(75349),It=o(36175);function Rt(et,gt){var mt,St;return function(){var zt=K(this,et),ee=zt.tween;if(ee!==mt)for(var Jt=0,pe=(St=mt=ee).length;Jt<pe;++Jt)if(St[Jt].name===gt){(St=St.slice()).splice(Jt,1);break}zt.tween=St}}function Ht(et,gt,mt){var St,zt;if("function"!=typeof mt)throw new Error;return function(){var ee=K(this,et),Jt=ee.tween;if(Jt!==St){zt=(St=Jt).slice();for(var pe={name:gt,value:mt},xe=0,Wt=zt.length;xe<Wt;++xe)if(zt[xe].name===gt){zt[xe]=pe;break}xe===Wt&&zt.push(pe)}ee.tween=zt}}function Ut(et,gt,mt){var St=et._id;return et.each(function(){var zt=K(this,St);(zt.value||(zt.value={}))[gt]=mt.apply(this,arguments)}),function(zt){return lt(zt,St).value[gt]}}var vt=o(52786),ft=o(6738),Nt=o(23534),Qt=o(23096);function me(et,gt){var mt;return("number"==typeof gt?ft.Z:gt instanceof vt.ZP?Nt.ZP:(mt=(0,vt.ZP)(gt))?(gt=mt,Nt.ZP):Qt.Z)(et,gt)}function ge(et){return function(){this.removeAttribute(et)}}function ye(et){return function(){this.removeAttributeNS(et.space,et.local)}}function Be(et,gt,mt){var St,ee,zt=mt+"";return function(){var Jt=this.getAttribute(et);return Jt===zt?null:Jt===St?ee:ee=gt(St=Jt,mt)}}function vn(et,gt,mt){var St,ee,zt=mt+"";return function(){var Jt=this.getAttributeNS(et.space,et.local);return Jt===zt?null:Jt===St?ee:ee=gt(St=Jt,mt)}}function Re(et,gt,mt){var St,zt,ee;return function(){var Jt,xe,pe=mt(this);return null==pe?void this.removeAttribute(et):(Jt=this.getAttribute(et))===(xe=pe+"")?null:Jt===St&&xe===zt?ee:(zt=xe,ee=gt(St=Jt,pe))}}function mn(et,gt,mt){var St,zt,ee;return function(){var Jt,xe,pe=mt(this);return null==pe?void this.removeAttributeNS(et.space,et.local):(Jt=this.getAttributeNS(et.space,et.local))===(xe=pe+"")?null:Jt===St&&xe===zt?ee:(zt=xe,ee=gt(St=Jt,pe))}}function Ce(et,gt){return function(mt){this.setAttribute(et,gt.call(this,mt))}}function Ae(et,gt){return function(mt){this.setAttributeNS(et.space,et.local,gt.call(this,mt))}}function Yn(et,gt){var mt,St;function zt(){var ee=gt.apply(this,arguments);return ee!==St&&(mt=(St=ee)&&Ae(et,ee)),mt}return zt._value=gt,zt}function Wn(et,gt){var mt,St;function zt(){var ee=gt.apply(this,arguments);return ee!==St&&(mt=(St=ee)&&Ce(et,ee)),mt}return zt._value=gt,zt}function xn(et,gt){return function(){H(this,et).delay=+gt.apply(this,arguments)}}function sn(et,gt){return gt=+gt,function(){H(this,et).delay=gt}}function wn(et,gt){return function(){K(this,et).duration=+gt.apply(this,arguments)}}function In(et,gt){return gt=+gt,function(){K(this,et).duration=gt}}function ci(et,gt){if("function"!=typeof gt)throw new Error;return function(){K(this,et).ease=gt}}var Kn=o(97905);function yt(et,gt,mt){var St,zt,ee=function jn(et){return(et+"").trim().split(/^|\s+/).every(function(gt){var mt=gt.indexOf(".");return mt>=0&&(gt=gt.slice(0,mt)),!gt||"start"===gt})}(gt)?H:K;return function(){var Jt=ee(this,et),pe=Jt.on;pe!==St&&(zt=(St=pe).copy()).on(gt,mt),Jt.on=zt}}var _e=o(29742),Fe=o(32037),Zn=F.ZP.prototype.constructor,qn=o(24476);function gn(et){return function(){this.style.removeProperty(et)}}function yn(et,gt,mt){return function(St){this.style.setProperty(et,gt.call(this,St),mt)}}function ei(et,gt,mt){var St,zt;function ee(){var Jt=gt.apply(this,arguments);return Jt!==zt&&(St=(zt=Jt)&&yn(et,Jt,mt)),St}return ee._value=gt,ee}function Bn(et){return function(gt){this.textContent=et.call(this,gt)}}function fn(et){var gt,mt;function St(){var zt=et.apply(this,arguments);return zt!==mt&&(gt=(mt=zt)&&Bn(zt)),gt}return St._value=et,St}var D=0;function At(et,gt,mt,St){this._groups=et,this._parents=gt,this._name=mt,this._id=St}function Bt(){return++D}var Yt=F.ZP.prototype;At.prototype=function Ot(et){return(0,F.ZP)().transition(et)}.prototype={constructor:At,select:function Ue(et){var gt=this._name,mt=this._id;"function"!=typeof et&&(et=(0,_e.Z)(et));for(var St=this._groups,zt=St.length,ee=new Array(zt),Jt=0;Jt<zt;++Jt)for(var oe,Ie,pe=St[Jt],xe=pe.length,Wt=ee[Jt]=new Array(xe),Me=0;Me<xe;++Me)(oe=pe[Me])&&(Ie=et.call(oe,oe.__data__,Me,pe))&&("__data__"in oe&&(Ie.__data__=oe.__data__),Wt[Me]=Ie,at(Wt[Me],gt,mt,Me,Wt,lt(oe,mt)));return new At(ee,this._parents,gt,mt)},selectAll:function nn(et){var gt=this._name,mt=this._id;"function"!=typeof et&&(et=(0,Fe.Z)(et));for(var St=this._groups,zt=St.length,ee=[],Jt=[],pe=0;pe<zt;++pe)for(var oe,xe=St[pe],Wt=xe.length,Ie=0;Ie<Wt;++Ie)if(oe=xe[Ie]){for(var Ye,Me=et.call(oe,oe.__data__,Ie,xe),$n=lt(oe,mt),En=0,Sn=Me.length;En<Sn;++En)(Ye=Me[En])&&at(Ye,gt,mt,En,Me,$n);ee.push(Me),Jt.push(oe)}return new At(ee,Jt,gt,mt)},filter:function Ne(et){"function"!=typeof et&&(et=(0,Kn.Z)(et));for(var gt=this._groups,mt=gt.length,St=new Array(mt),zt=0;zt<mt;++zt)for(var xe,ee=gt[zt],Jt=ee.length,pe=St[zt]=[],Wt=0;Wt<Jt;++Wt)(xe=ee[Wt])&&et.call(xe,xe.__data__,Wt,ee)&&pe.push(xe);return new At(St,this._parents,this._name,this._id)},merge:function Xn(et){if(et._id!==this._id)throw new Error;for(var gt=this._groups,mt=et._groups,St=gt.length,ee=Math.min(St,mt.length),Jt=new Array(St),pe=0;pe<ee;++pe)for(var Me,xe=gt[pe],Wt=mt[pe],oe=xe.length,Ie=Jt[pe]=new Array(oe),Ye=0;Ye<oe;++Ye)(Me=xe[Ye]||Wt[Ye])&&(Ie[Ye]=Me);for(;pe<St;++pe)Jt[pe]=gt[pe];return new At(Jt,this._parents,this._name,this._id)},selection:function Ln(){return new Zn(this._groups,this._parents)},transition:function X(){for(var et=this._name,gt=this._id,mt=Bt(),St=this._groups,zt=St.length,ee=0;ee<zt;++ee)for(var xe,Jt=St[ee],pe=Jt.length,Wt=0;Wt<pe;++Wt)if(xe=Jt[Wt]){var oe=lt(xe,gt);at(xe,et,mt,Wt,Jt,{time:oe.time+oe.delay+oe.duration,delay:0,duration:oe.duration,ease:oe.ease})}return new At(St,this._parents,et,mt)},call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:function Gt(et,gt){var mt=this._id;return arguments.length<2?lt(this.node(),mt).on.on(et):this.each(yt(mt,et,gt))},attr:function Ve(et,gt){var mt=(0,It.Z)(et),St="transform"===mt?Ct.w:me;return this.attrTween(et,"function"==typeof gt?(mt.local?mn:Re)(mt,St,Ut(this,"attr."+et,gt)):null==gt?(mt.local?ye:ge)(mt):(mt.local?vn:Be)(mt,St,gt))},attrTween:function ni(et,gt){var mt="attr."+et;if(arguments.length<2)return(mt=this.tween(mt))&&mt._value;if(null==gt)return this.tween(mt,null);if("function"!=typeof gt)throw new Error;var St=(0,It.Z)(et);return this.tween(mt,(St.local?Yn:Wn)(St,gt))},style:function un(et,gt,mt){var St="transform"==(et+="")?Ct.Y:me;return null==gt?this.styleTween(et,function Di(et,gt){var mt,St,zt;return function(){var ee=(0,qn.S)(this,et),Jt=(this.style.removeProperty(et),(0,qn.S)(this,et));return ee===Jt?null:ee===mt&&Jt===St?zt:zt=gt(mt=ee,St=Jt)}}(et,St)).on("end.style."+et,gn(et)):"function"==typeof gt?this.styleTween(et,function wi(et,gt,mt){var St,zt,ee;return function(){var Jt=(0,qn.S)(this,et),pe=mt(this),xe=pe+"";return null==pe&&(this.style.removeProperty(et),xe=pe=(0,qn.S)(this,et)),Jt===xe?null:Jt===St&&xe===zt?ee:(zt=xe,ee=gt(St=Jt,pe))}}(et,St,Ut(this,"style."+et,gt))).each(function On(et,gt){var mt,St,zt,pe,ee="style."+gt,Jt="end."+ee;return function(){var xe=K(this,et),Wt=xe.on,oe=null==xe.value[ee]?pe||(pe=gn(gt)):void 0;(Wt!==mt||zt!==oe)&&(St=(mt=Wt).copy()).on(Jt,zt=oe),xe.on=St}}(this._id,et)):this.styleTween(et,function ti(et,gt,mt){var St,ee,zt=mt+"";return function(){var Jt=(0,qn.S)(this,et);return Jt===zt?null:Jt===St?ee:ee=gt(St=Jt,mt)}}(et,St,gt),mt).on("end.style."+et,null)},styleTween:function ui(et,gt,mt){var St="style."+(et+="");if(arguments.length<2)return(St=this.tween(St))&&St._value;if(null==gt)return this.tween(St,null);if("function"!=typeof gt)throw new Error;return this.tween(St,ei(et,gt,null==mt?"":mt))},text:function Ii(et){return this.tween("text","function"==typeof et?function Le(et){return function(){var gt=et(this);this.textContent=null==gt?"":gt}}(Ut(this,"text",et)):function Nn(et){return function(){this.textContent=et}}(null==et?"":et+""))},textTween:function G(et){var gt="text";if(arguments.length<1)return(gt=this.tween(gt))&&gt._value;if(null==et)return this.tween(gt,null);if("function"!=typeof et)throw new Error;return this.tween(gt,fn(et))},remove:function de(){return this.on("end.remove",function se(et){return function(){var gt=this.parentNode;for(var mt in this.__transition)if(+mt!==et)return;gt&&gt.removeChild(this)}}(this._id))},tween:function ne(et,gt){var mt=this._id;if(et+="",arguments.length<2){for(var Jt,St=lt(this.node(),mt).tween,zt=0,ee=St.length;zt<ee;++zt)if((Jt=St[zt]).name===et)return Jt.value;return null}return this.each((null==gt?Rt:Ht)(mt,et,gt))},delay:function je(et){var gt=this._id;return arguments.length?this.each(("function"==typeof et?xn:sn)(gt,et)):lt(this.node(),gt).delay},duration:function ze(et){var gt=this._id;return arguments.length?this.each(("function"==typeof et?wn:In)(gt,et)):lt(this.node(),gt).duration},ease:function Mn(et){var gt=this._id;return arguments.length?this.each(ci(gt,et)):lt(this.node(),gt).ease},easeVarying:function Hn(et){if("function"!=typeof et)throw new Error;return this.each(function Tn(et,gt){return function(){var mt=gt.apply(this,arguments);if("function"!=typeof mt)throw new Error;K(this,et).ease=mt}}(this._id,et))},end:function ht(){var et,gt,mt=this,St=mt._id,zt=mt.size();return new Promise(function(ee,Jt){var pe={value:Jt},xe={value:function(){0==--zt&&ee()}};mt.each(function(){var Wt=K(this,St),oe=Wt.on;oe!==et&&((gt=(et=oe).copy())._.cancel.push(pe),gt._.interrupt.push(pe),gt._.end.push(xe)),Wt.on=gt}),0===zt&&ee()})},[Symbol.iterator]:Yt[Symbol.iterator]};var qt={time:null,delay:0,duration:250,ease:o(27065).tw};function q(et,gt){for(var mt;!(mt=et.__transition)||!(mt=mt[gt]);)if(!(et=et.parentNode))throw new Error(`transition ${gt} not found`);return mt}F.ZP.prototype.interrupt=function E(et){return this.each(function(){z(this,et)})},F.ZP.prototype.transition=function pt(et){var gt,mt;et instanceof At?(gt=et._id,et=et._name):(gt=Bt(),(mt=qt).time=(0,O.zO)(),et=null==et?null:et+"");for(var St=this._groups,zt=St.length,ee=0;ee<zt;++ee)for(var xe,Jt=St[ee],pe=Jt.length,Wt=0;Wt<pe;++Wt)(xe=Jt[Wt])&&at(xe,et,gt,Wt,Jt,mt||q(xe,gt));return new At(St,this._parents,et,gt)};const Xt=et=>()=>et;function te(et,{sourceEvent:gt,target:mt,transform:St,dispatch:zt}){Object.defineProperties(this,{type:{value:et,enumerable:!0,configurable:!0},sourceEvent:{value:gt,enumerable:!0,configurable:!0},target:{value:mt,enumerable:!0,configurable:!0},transform:{value:St,enumerable:!0,configurable:!0},_:{value:zt}})}function Dt(et,gt,mt){this.k=et,this.x=gt,this.y=mt}Dt.prototype={constructor:Dt,scale:function(et){return 1===et?this:new Dt(this.k*et,this.x,this.y)},translate:function(et,gt){return 0===et&0===gt?this:new Dt(this.k,this.x+this.k*et,this.y+this.k*gt)},apply:function(et){return[et[0]*this.k+this.x,et[1]*this.k+this.y]},applyX:function(et){return et*this.k+this.x},applyY:function(et){return et*this.k+this.y},invert:function(et){return[(et[0]-this.x)/this.k,(et[1]-this.y)/this.k]},invertX:function(et){return(et-this.x)/this.k},invertY:function(et){return(et-this.y)/this.k},rescaleX:function(et){return et.copy().domain(et.range().map(this.invertX,this).map(et.invert,et))},rescaleY:function(et){return et.copy().domain(et.range().map(this.invertY,this).map(et.invert,et))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var he=new Dt(1,0,0);function N(et){for(;!et.__zoom;)if(!(et=et.parentNode))return he;return et.__zoom}function le(et){et.stopImmediatePropagation()}function ke(et){et.preventDefault(),et.stopImmediatePropagation()}function Oe(et){return!(et.ctrlKey&&"wheel"!==et.type||et.button)}function rn(){var et=this;return et instanceof SVGElement?(et=et.ownerSVGElement||et).hasAttribute("viewBox")?[[(et=et.viewBox.baseVal).x,et.y],[et.x+et.width,et.y+et.height]]:[[0,0],[et.width.baseVal.value,et.height.baseVal.value]]:[[0,0],[et.clientWidth,et.clientHeight]]}function He(){return this.__zoom||he}function $e(et){return-et.deltaY*(1===et.deltaMode?.05:et.deltaMode?1:.002)*(et.ctrlKey?10:1)}function fe(){return navigator.maxTouchPoints||"ontouchstart"in this}function ve(et,gt,mt){var St=et.invertX(gt[0][0])-mt[0][0],zt=et.invertX(gt[1][0])-mt[1][0],ee=et.invertY(gt[0][1])-mt[0][1],Jt=et.invertY(gt[1][1])-mt[1][1];return et.translate(zt>St?(St+zt)/2:Math.min(0,St)||Math.max(0,zt),Jt>ee?(ee+Jt)/2:Math.min(0,ee)||Math.max(0,Jt))}function Qe(){var oe,Ie,Me,et=Oe,gt=rn,mt=ve,St=$e,zt=fe,ee=[0,1/0],Jt=[[-1/0,-1/0],[1/0,1/0]],pe=250,xe=A,Wt=(0,c.Z)("start","zoom","end"),En=0,Sn=10;function we(Ft){Ft.property("__zoom",He).on("wheel.zoom",hi).on("mousedown.zoom",zi).on("dblclick.zoom",Jn).filter(zt).on("touchstart.zoom",Ai).on("touchmove.zoom",cn).on("touchend.zoom touchcancel.zoom",Hi).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Fn(Ft,be){return(be=Math.max(ee[0],Math.min(ee[1],be)))===Ft.k?Ft:new Dt(be,Ft.x,Ft.y)}function Qn(Ft,be,jt){var b=be[0]-jt[0]*Ft.k,M=be[1]-jt[1]*Ft.k;return b===Ft.x&&M===Ft.y?Ft:new Dt(Ft.k,b,M)}function on(Ft){return[(+Ft[0][0]+ +Ft[1][0])/2,(+Ft[0][1]+ +Ft[1][1])/2]}function ln(Ft,be,jt,b){Ft.on("start.zoom",function(){Un(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){Un(this,arguments).event(b).end()}).tween("zoom",function(){var M=this,B=arguments,j=Un(M,B).event(b),ct=gt.apply(M,B),xt=null==jt?on(ct):"function"==typeof jt?jt.apply(M,B):jt,kt=Math.max(ct[1][0]-ct[0][0],ct[1][1]-ct[0][1]),Pt=M.__zoom,ae="function"==typeof be?be.apply(M,B):be,De=xe(Pt.invert(xt).concat(kt/Pt.k),ae.invert(xt).concat(kt/ae.k));return function(Ge){if(1===Ge)Ge=ae;else{var Ke=De(Ge),Ze=kt/Ke[2];Ge=new Dt(Ze,xt[0]-Ke[0]*Ze,xt[1]-Ke[1]*Ze)}j.zoom(null,Ge)}})}function Un(Ft,be,jt){return!jt&&Ft.__zooming||new Vi(Ft,be)}function Vi(Ft,be){this.that=Ft,this.args=be,this.active=0,this.sourceEvent=null,this.extent=gt.apply(Ft,be),this.taps=0}function hi(Ft,...be){if(et.apply(this,arguments)){var jt=Un(this,be).event(Ft),b=this.__zoom,M=Math.max(ee[0],Math.min(ee[1],b.k*Math.pow(2,St.apply(this,arguments)))),B=(0,k.Z)(Ft);if(jt.wheel)(jt.mouse[0][0]!==B[0]||jt.mouse[0][1]!==B[1])&&(jt.mouse[1]=b.invert(jt.mouse[0]=B)),clearTimeout(jt.wheel);else{if(b.k===M)return;jt.mouse=[B,b.invert(B)],z(this),jt.start()}ke(Ft),jt.wheel=setTimeout(j,150),jt.zoom("mouse",mt(Qn(Fn(b,M),jt.mouse[0],jt.mouse[1]),jt.extent,Jt))}function j(){jt.wheel=null,jt.end()}}function zi(Ft,...be){if(!Me&&et.apply(this,arguments)){var jt=Un(this,be,!0).event(Ft),b=(0,x.Z)(Ft.view).on("mousemove.zoom",xt,!0).on("mouseup.zoom",kt,!0),M=(0,k.Z)(Ft,B),B=Ft.currentTarget,j=Ft.clientX,ct=Ft.clientY;f(Ft.view),le(Ft),jt.mouse=[M,this.__zoom.invert(M)],z(this),jt.start()}function xt(Pt){if(ke(Pt),!jt.moved){var ae=Pt.clientX-j,De=Pt.clientY-ct;jt.moved=ae*ae+De*De>En}jt.event(Pt).zoom("mouse",mt(Qn(jt.that.__zoom,jt.mouse[0]=(0,k.Z)(Pt,B),jt.mouse[1]),jt.extent,Jt))}function kt(Pt){b.on("mousemove.zoom mouseup.zoom",null),t(Pt.view,jt.moved),ke(Pt),jt.event(Pt).end()}}function Jn(Ft,...be){if(et.apply(this,arguments)){var jt=this.__zoom,b=(0,k.Z)(Ft.changedTouches?Ft.changedTouches[0]:Ft,this),M=jt.invert(b),B=jt.k*(Ft.shiftKey?.5:2),j=mt(Qn(Fn(jt,B),b,M),gt.apply(this,be),Jt);ke(Ft),pe>0?(0,x.Z)(this).transition().duration(pe).call(ln,j,b,Ft):(0,x.Z)(this).call(we.transform,j,b,Ft)}}function Ai(Ft,...be){if(et.apply(this,arguments)){var B,j,ct,xt,jt=Ft.touches,b=jt.length,M=Un(this,be,Ft.changedTouches.length===b).event(Ft);for(le(Ft),j=0;j<b;++j)xt=[xt=(0,k.Z)(ct=jt[j],this),this.__zoom.invert(xt),ct.identifier],M.touch0?!M.touch1&&M.touch0[2]!==xt[2]&&(M.touch1=xt,M.taps=0):(M.touch0=xt,B=!0,M.taps=1+!!oe);oe&&(oe=clearTimeout(oe)),B&&(M.taps<2&&(Ie=xt[0],oe=setTimeout(function(){oe=null},500)),z(this),M.start())}}function cn(Ft,...be){if(this.__zooming){var B,j,ct,xt,jt=Un(this,be).event(Ft),b=Ft.changedTouches,M=b.length;for(ke(Ft),B=0;B<M;++B)ct=(0,k.Z)(j=b[B],this),jt.touch0&&jt.touch0[2]===j.identifier?jt.touch0[0]=ct:jt.touch1&&jt.touch1[2]===j.identifier&&(jt.touch1[0]=ct);if(j=jt.that.__zoom,jt.touch1){var kt=jt.touch0[0],Pt=jt.touch0[1],ae=jt.touch1[0],De=jt.touch1[1],Ge=(Ge=ae[0]-kt[0])*Ge+(Ge=ae[1]-kt[1])*Ge,Ke=(Ke=De[0]-Pt[0])*Ke+(Ke=De[1]-Pt[1])*Ke;j=Fn(j,Math.sqrt(Ge/Ke)),ct=[(kt[0]+ae[0])/2,(kt[1]+ae[1])/2],xt=[(Pt[0]+De[0])/2,(Pt[1]+De[1])/2]}else{if(!jt.touch0)return;ct=jt.touch0[0],xt=jt.touch0[1]}jt.zoom("touch",mt(Qn(j,ct,xt),jt.extent,Jt))}}function Hi(Ft,...be){if(this.__zooming){var B,j,jt=Un(this,be).event(Ft),b=Ft.changedTouches,M=b.length;for(le(Ft),Me&&clearTimeout(Me),Me=setTimeout(function(){Me=null},500),B=0;B<M;++B)j=b[B],jt.touch0&&jt.touch0[2]===j.identifier?delete jt.touch0:jt.touch1&&jt.touch1[2]===j.identifier&&delete jt.touch1;if(jt.touch1&&!jt.touch0&&(jt.touch0=jt.touch1,delete jt.touch1),jt.touch0)jt.touch0[1]=this.__zoom.invert(jt.touch0[0]);else if(jt.end(),2===jt.taps&&(j=(0,k.Z)(j,this),Math.hypot(Ie[0]-j[0],Ie[1]-j[1])<Sn)){var ct=(0,x.Z)(this).on("dblclick.zoom");ct&&ct.apply(this,arguments)}}}return we.transform=function(Ft,be,jt,b){var M=Ft.selection?Ft.selection():Ft;M.property("__zoom",He),Ft!==M?ln(Ft,be,jt,b):M.interrupt().each(function(){Un(this,arguments).event(b).start().zoom(null,"function"==typeof be?be.apply(this,arguments):be).end()})},we.scaleBy=function(Ft,be,jt,b){we.scaleTo(Ft,function(){var M=this.__zoom.k,B="function"==typeof be?be.apply(this,arguments):be;return M*B},jt,b)},we.scaleTo=function(Ft,be,jt,b){we.transform(Ft,function(){var M=gt.apply(this,arguments),B=this.__zoom,j=null==jt?on(M):"function"==typeof jt?jt.apply(this,arguments):jt,ct=B.invert(j),xt="function"==typeof be?be.apply(this,arguments):be;return mt(Qn(Fn(B,xt),j,ct),M,Jt)},jt,b)},we.translateBy=function(Ft,be,jt,b){we.transform(Ft,function(){return mt(this.__zoom.translate("function"==typeof be?be.apply(this,arguments):be,"function"==typeof jt?jt.apply(this,arguments):jt),gt.apply(this,arguments),Jt)},null,b)},we.translateTo=function(Ft,be,jt,b,M){we.transform(Ft,function(){var B=gt.apply(this,arguments),j=this.__zoom,ct=null==b?on(B):"function"==typeof b?b.apply(this,arguments):b;return mt(he.translate(ct[0],ct[1]).scale(j.k).translate("function"==typeof be?-be.apply(this,arguments):-be,"function"==typeof jt?-jt.apply(this,arguments):-jt),B,Jt)},b,M)},Vi.prototype={event:function(Ft){return Ft&&(this.sourceEvent=Ft),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Ft,be){return this.mouse&&"mouse"!==Ft&&(this.mouse[1]=be.invert(this.mouse[0])),this.touch0&&"touch"!==Ft&&(this.touch0[1]=be.invert(this.touch0[0])),this.touch1&&"touch"!==Ft&&(this.touch1[1]=be.invert(this.touch1[0])),this.that.__zoom=be,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Ft){var be=(0,x.Z)(this.that).datum();Wt.call(Ft,this.that,new te(Ft,{sourceEvent:this.sourceEvent,target:we,type:Ft,transform:this.that.__zoom,dispatch:Wt}),be)}},we.wheelDelta=function(Ft){return arguments.length?(St="function"==typeof Ft?Ft:Xt(+Ft),we):St},we.filter=function(Ft){return arguments.length?(et="function"==typeof Ft?Ft:Xt(!!Ft),we):et},we.touchable=function(Ft){return arguments.length?(zt="function"==typeof Ft?Ft:Xt(!!Ft),we):zt},we.extent=function(Ft){return arguments.length?(gt="function"==typeof Ft?Ft:Xt([[+Ft[0][0],+Ft[0][1]],[+Ft[1][0],+Ft[1][1]]]),we):gt},we.scaleExtent=function(Ft){return arguments.length?(ee[0]=+Ft[0],ee[1]=+Ft[1],we):[ee[0],ee[1]]},we.translateExtent=function(Ft){return arguments.length?(Jt[0][0]=+Ft[0][0],Jt[1][0]=+Ft[1][0],Jt[0][1]=+Ft[0][1],Jt[1][1]=+Ft[1][1],we):[[Jt[0][0],Jt[0][1]],[Jt[1][0],Jt[1][1]]]},we.constrain=function(Ft){return arguments.length?(mt=Ft,we):mt},we.duration=function(Ft){return arguments.length?(pe=+Ft,we):pe},we.interpolate=function(Ft){return arguments.length?(xe=Ft,we):xe},we.on=function(){var Ft=Wt.on.apply(Wt,arguments);return Ft===Wt?we:Ft},we.clickDistance=function(Ft){return arguments.length?(En=(Ft=+Ft)*Ft,we):Math.sqrt(En)},we.tapDistance=function(Ft){return arguments.length?(Sn=+Ft,we):Sn},we}N.prototype=Dt.prototype},59695:(w,I,o)=>{w.exports={graphlib:o(36456),layout:o(14850),debug:o(71914),util:{time:o(11510).time,notime:o(11510).notime},version:o(28126)}},12234:(w,I,o)=>{"use strict";var c=o(45760),x=o(67365);w.exports={run:function v(t){var p="greedy"===t.graph().acyclicer?x(t,function l(h){return function(m){return h.edge(m).weight}}(t)):function _(t){var p=[],l={},h={};return c.forEach(t.nodes(),function m(u){c.has(h,u)||(h[u]=!0,l[u]=!0,c.forEach(t.outEdges(u),function(g){c.has(l,g.w)?p.push(g):m(g.w)}),delete l[u])}),p}(t);c.forEach(p,function(h){var m=t.edge(h);t.removeEdge(h),m.forwardName=h.name,m.reversed=!0,t.setEdge(h.w,h.v,m,c.uniqueId("rev"))})},undo:function f(t){c.forEach(t.edges(),function(p){var l=t.edge(p);if(l.reversed){t.removeEdge(p);var h=l.forwardName;delete l.reversed,delete l.forwardName,t.setEdge(p.w,p.v,l,h)}})}}},79999:(w,I,o)=>{var c=o(45760),x=o(11510);function _(f,t,p,l,h,m){var g=h[t][m-1],C=x.addDummyNode(f,"border",{width:0,height:0,rank:m,borderType:t},p);h[t][m]=C,f.setParent(C,l),g&&f.setEdge(g,C,{weight:1})}w.exports=function v(f){c.forEach(f.children(),function t(p){var l=f.children(p),h=f.node(p);if(l.length&&c.forEach(l,t),c.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var m=h.minRank,u=h.maxRank+1;m<u;++m)_(f,"borderLeft","_bl",p,h,m),_(f,"borderRight","_br",p,h,m)}})}},83870:(w,I,o)=>{"use strict";var c=o(45760);function _(m){c.forEach(m.nodes(),function(u){f(m.node(u))}),c.forEach(m.edges(),function(u){f(m.edge(u))})}function f(m){var u=m.width;m.width=m.height,m.height=u}function p(m){m.y=-m.y}function h(m){var u=m.x;m.x=m.y,m.y=u}w.exports={adjust:function x(m){var u=m.graph().rankdir.toLowerCase();("lr"===u||"rl"===u)&&_(m)},undo:function v(m){var u=m.graph().rankdir.toLowerCase();("bt"===u||"rl"===u)&&function t(m){c.forEach(m.nodes(),function(u){p(m.node(u))}),c.forEach(m.edges(),function(u){var g=m.edge(u);c.forEach(g.points,p),c.has(g,"y")&&p(g)})}(m),("lr"===u||"rl"===u)&&(function l(m){c.forEach(m.nodes(),function(u){h(m.node(u))}),c.forEach(m.edges(),function(u){var g=m.edge(u);c.forEach(g.points,h),c.has(g,"x")&&h(g)})}(m),_(m))}}},3226:w=>{function I(){var x={};x._next=x._prev=x,this._sentinel=x}function o(x){x._prev._next=x._next,x._next._prev=x._prev,delete x._next,delete x._prev}function c(x,v){if("_next"!==x&&"_prev"!==x)return v}w.exports=I,I.prototype.dequeue=function(){var x=this._sentinel,v=x._prev;if(v!==x)return o(v),v},I.prototype.enqueue=function(x){var v=this._sentinel;x._prev&&x._next&&o(x),x._next=v._next,v._next._prev=x,v._next=x,x._prev=v},I.prototype.toString=function(){for(var x=[],v=this._sentinel,_=v._prev;_!==v;)x.push(JSON.stringify(_,c)),_=_._prev;return"["+x.join(", ")+"]"}},71914:(w,I,o)=>{var c=o(45760),x=o(11510),v=o(36456).Graph;w.exports={debugOrdering:function _(f){var t=x.buildLayerMatrix(f),p=new v({compound:!0,multigraph:!0}).setGraph({});return c.forEach(f.nodes(),function(l){p.setNode(l,{label:l}),p.setParent(l,"layer"+f.node(l).rank)}),c.forEach(f.edges(),function(l){p.setEdge(l.v,l.w,{},l.name)}),c.forEach(t,function(l,h){p.setNode("layer"+h,{rank:"same"}),c.reduce(l,function(u,g){return p.setEdge(u,g,{style:"invis"}),g})}),p}}},36456:(w,I,o)=>{var c;try{c=o(85510)}catch(x){}c||(c=window.graphlib),w.exports=c},67365:(w,I,o)=>{var c=o(45760),x=o(36456).Graph,v=o(3226);w.exports=function f(m,u){if(m.nodeCount()<=1)return[];var g=function l(m,u){var g=new x,C=0,A=0;c.forEach(m.nodes(),function(O){g.setNode(O,{v:O,in:0,out:0})}),c.forEach(m.edges(),function(O){var R=g.edge(O.v,O.w)||0,U=u(O);g.setEdge(O.v,O.w,R+U),A=Math.max(A,g.node(O.v).out+=U),C=Math.max(C,g.node(O.w).in+=U)});var k=c.range(A+C+3).map(function(){return new v}),F=C+1;return c.forEach(g.nodes(),function(O){h(k,F,g.node(O))}),{graph:g,buckets:k,zeroIdx:F}}(m,u||_),C=function t(m,u,g){for(var F,C=[],A=u[u.length-1],k=u[0];m.nodeCount();){for(;F=k.dequeue();)p(m,u,g,F);for(;F=A.dequeue();)p(m,u,g,F);if(m.nodeCount())for(var O=u.length-2;O>0;--O)if(F=u[O].dequeue()){C=C.concat(p(m,u,g,F,!0));break}}return C}(g.graph,g.buckets,g.zeroIdx);return c.flatten(c.map(C,function(A){return m.outEdges(A.v,A.w)}),!0)};var _=c.constant(1);function p(m,u,g,C,A){var k=A?[]:void 0;return c.forEach(m.inEdges(C.v),function(F){var O=m.edge(F),R=m.node(F.v);A&&k.push({v:F.v,w:F.w}),R.out-=O,h(u,g,R)}),c.forEach(m.outEdges(C.v),function(F){var O=m.edge(F),U=m.node(F.w);U.in-=O,h(u,g,U)}),m.removeNode(C.v),k}function h(m,u,g){g.out?g.in?m[g.out-g.in+u].enqueue(g):m[m.length-1].enqueue(g):m[0].enqueue(g)}},14850:(w,I,o)=>{"use strict";var c=o(45760),x=o(12234),v=o(91496),_=o(94124),f=o(11510).normalizeRanks,t=o(60162),p=o(11510).removeEmptyRanks,l=o(1230),h=o(79999),m=o(83870),u=o(32974),g=o(78226),C=o(11510),A=o(36456).Graph;w.exports=function k(vt,ft){var Nt=ft&&ft.debugTiming?C.time:C.notime;Nt("layout",function(){var Qt=Nt("  buildLayoutGraph",function(){return function tt(vt){var ft=new A({multigraph:!0,compound:!0}),Nt=Ut(vt.graph());return ft.setGraph(c.merge({},U,ne(Nt,R),c.pick(Nt,V))),c.forEach(vt.nodes(),function(Qt){var me=Ut(vt.node(Qt));ft.setNode(Qt,c.defaults(ne(me,W),rt)),ft.setParent(Qt,vt.parent(Qt))}),c.forEach(vt.edges(),function(Qt){var me=Ut(vt.edge(Qt));ft.setEdge(Qt,c.merge({},ut,ne(me,nt),c.pick(me,J)))}),ft}(vt)});Nt("  runLayout",function(){!function F(vt,ft){ft("    makeSpaceForEdgeLabels",function(){!function Q(vt){var ft=vt.graph();ft.ranksep/=2,c.forEach(vt.edges(),function(Nt){var Qt=vt.edge(Nt);Qt.minlen*=2,"c"!==Qt.labelpos.toLowerCase()&&("TB"===ft.rankdir||"BT"===ft.rankdir?Qt.width+=Qt.labeloffset:Qt.height+=Qt.labeloffset)})}(vt)}),ft("    removeSelfEdges",function(){!function It(vt){c.forEach(vt.edges(),function(ft){if(ft.v===ft.w){var Nt=vt.node(ft.v);Nt.selfEdges||(Nt.selfEdges=[]),Nt.selfEdges.push({e:ft,label:vt.edge(ft)}),vt.removeEdge(ft)}})}(vt)}),ft("    acyclic",function(){x.run(vt)}),ft("    nestingGraph.run",function(){l.run(vt)}),ft("    rank",function(){_(C.asNonCompoundGraph(vt))}),ft("    injectEdgeLabelProxies",function(){!function at(vt){c.forEach(vt.edges(),function(ft){var Nt=vt.edge(ft);if(Nt.width&&Nt.height){var Qt=vt.node(ft.v),me=vt.node(ft.w);C.addDummyNode(vt,"edge-proxy",{rank:(me.rank-Qt.rank)/2+Qt.rank,e:ft},"_ep")}})}(vt)}),ft("    removeEmptyRanks",function(){p(vt)}),ft("    nestingGraph.cleanup",function(){l.cleanup(vt)}),ft("    normalizeRanks",function(){f(vt)}),ft("    assignRankMinMax",function(){!function H(vt){var ft=0;c.forEach(vt.nodes(),function(Nt){var Qt=vt.node(Nt);Qt.borderTop&&(Qt.minRank=vt.node(Qt.borderTop).rank,Qt.maxRank=vt.node(Qt.borderBottom).rank,ft=c.max(ft,Qt.maxRank))}),vt.graph().maxRank=ft}(vt)}),ft("    removeEdgeLabelProxies",function(){!function K(vt){c.forEach(vt.nodes(),function(ft){var Nt=vt.node(ft);"edge-proxy"===Nt.dummy&&(vt.edge(Nt.e).labelRank=Nt.rank,vt.removeNode(ft))})}(vt)}),ft("    normalize.run",function(){v.run(vt)}),ft("    parentDummyChains",function(){t(vt)}),ft("    addBorderSegments",function(){h(vt)}),ft("    order",function(){u(vt)}),ft("    insertSelfEdges",function(){!function Rt(vt){var ft=C.buildLayerMatrix(vt);c.forEach(ft,function(Nt){var Qt=0;c.forEach(Nt,function(me,ge){var ye=vt.node(me);ye.order=ge+Qt,c.forEach(ye.selfEdges,function(Be){C.addDummyNode(vt,"selfedge",{width:Be.label.width,height:Be.label.height,rank:ye.rank,order:ge+ ++Qt,e:Be.e,label:Be.label},"_se")}),delete ye.selfEdges})})}(vt)}),ft("    adjustCoordinateSystem",function(){m.adjust(vt)}),ft("    position",function(){g(vt)}),ft("    positionSelfEdges",function(){!function Ht(vt){c.forEach(vt.nodes(),function(ft){var Nt=vt.node(ft);if("selfedge"===Nt.dummy){var Qt=vt.node(Nt.e.v),me=Qt.x+Qt.width/2,ge=Qt.y,ye=Nt.x-me,Be=Qt.height/2;vt.setEdge(Nt.e,Nt.label),vt.removeNode(ft),Nt.label.points=[{x:me+2*ye/3,y:ge-Be},{x:me+5*ye/6,y:ge-Be},{x:me+ye,y:ge},{x:me+5*ye/6,y:ge+Be},{x:me+2*ye/3,y:ge+Be}],Nt.label.x=Nt.x,Nt.label.y=Nt.y}})}(vt)}),ft("    removeBorderNodes",function(){!function Ct(vt){c.forEach(vt.nodes(),function(ft){if(vt.children(ft).length){var Nt=vt.node(ft),Qt=vt.node(Nt.borderTop),me=vt.node(Nt.borderBottom),ge=vt.node(c.last(Nt.borderLeft)),ye=vt.node(c.last(Nt.borderRight));Nt.width=Math.abs(ye.x-ge.x),Nt.height=Math.abs(me.y-Qt.y),Nt.x=ge.x+Nt.width/2,Nt.y=Qt.y+Nt.height/2}}),c.forEach(vt.nodes(),function(ft){"border"===vt.node(ft).dummy&&vt.removeNode(ft)})}(vt)}),ft("    normalize.undo",function(){v.undo(vt)}),ft("    fixupEdgeLabelCoords",function(){!function z(vt){c.forEach(vt.edges(),function(ft){var Nt=vt.edge(ft);if(c.has(Nt,"x"))switch(("l"===Nt.labelpos||"r"===Nt.labelpos)&&(Nt.width-=Nt.labeloffset),Nt.labelpos){case"l":Nt.x-=Nt.width/2+Nt.labeloffset;break;case"r":Nt.x+=Nt.width/2+Nt.labeloffset}})}(vt)}),ft("    undoCoordinateSystem",function(){m.undo(vt)}),ft("    translateGraph",function(){!function lt(vt){var ft=Number.POSITIVE_INFINITY,Nt=0,Qt=Number.POSITIVE_INFINITY,me=0,ge=vt.graph(),ye=ge.marginx||0,Be=ge.marginy||0;function vn(Re){var mn=Re.x,Ve=Re.y,Ce=Re.width,Ae=Re.height;ft=Math.min(ft,mn-Ce/2),Nt=Math.max(Nt,mn+Ce/2),Qt=Math.min(Qt,Ve-Ae/2),me=Math.max(me,Ve+Ae/2)}c.forEach(vt.nodes(),function(Re){vn(vt.node(Re))}),c.forEach(vt.edges(),function(Re){var mn=vt.edge(Re);c.has(mn,"x")&&vn(mn)}),ft-=ye,Qt-=Be,c.forEach(vt.nodes(),function(Re){var mn=vt.node(Re);mn.x-=ft,mn.y-=Qt}),c.forEach(vt.edges(),function(Re){var mn=vt.edge(Re);c.forEach(mn.points,function(Ve){Ve.x-=ft,Ve.y-=Qt}),c.has(mn,"x")&&(mn.x-=ft),c.has(mn,"y")&&(mn.y-=Qt)}),ge.width=Nt-ft+ye,ge.height=me-Qt+Be}(vt)}),ft("    assignNodeIntersects",function(){!function it(vt){c.forEach(vt.edges(),function(ft){var ge,ye,Nt=vt.edge(ft),Qt=vt.node(ft.v),me=vt.node(ft.w);Nt.points?(ge=Nt.points[0],ye=Nt.points[Nt.points.length-1]):(Nt.points=[],ge=me,ye=Qt),Nt.points.unshift(C.intersectRect(Qt,ge)),Nt.points.push(C.intersectRect(me,ye))})}(vt)}),ft("    reversePoints",function(){!function E(vt){c.forEach(vt.edges(),function(ft){var Nt=vt.edge(ft);Nt.reversed&&Nt.points.reverse()})}(vt)}),ft("    acyclic.undo",function(){x.undo(vt)})}(Qt,Nt)}),Nt("  updateInputGraph",function(){!function O(vt,ft){c.forEach(vt.nodes(),function(Nt){var Qt=vt.node(Nt),me=ft.node(Nt);Qt&&(Qt.x=me.x,Qt.y=me.y,ft.children(Nt).length&&(Qt.width=me.width,Qt.height=me.height))}),c.forEach(vt.edges(),function(Nt){var Qt=vt.edge(Nt),me=ft.edge(Nt);Qt.points=me.points,c.has(me,"x")&&(Qt.x=me.x,Qt.y=me.y)}),vt.graph().width=ft.graph().width,vt.graph().height=ft.graph().height}(vt,Qt)})})};var R=["nodesep","edgesep","ranksep","marginx","marginy"],U={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},V=["acyclicer","ranker","rankdir","align"],W=["width","height"],rt={width:0,height:0},nt=["minlen","weight","width","height","labeloffset"],ut={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},J=["labelpos"];function ne(vt,ft){return c.mapValues(c.pick(vt,ft),Number)}function Ut(vt){var ft={};return c.forEach(vt,function(Nt,Qt){ft[Qt.toLowerCase()]=Nt}),ft}},45760:(w,I,o)=>{var c;try{c={cloneDeep:o(90733),constant:o(76684),defaults:o(28800),each:o(35474),filter:o(35281),find:o(62516),flatten:o(22274),forEach:o(89851),forIn:o(41176),has:o(54842),isUndefined:o(34235),last:o(25809),map:o(19984),mapValues:o(10203),max:o(18176),merge:o(80567),min:o(29439),minBy:o(29525),now:o(31710),pick:o(16372),range:o(90361),reduce:o(81337),sortBy:o(12906),uniqueId:o(51541),values:o(90377),zipObject:o(21617)}}catch(x){}c||(c=window._),w.exports=c},1230:(w,I,o)=>{var c=o(45760),x=o(11510);function _(l,h,m,u,g,C,A){var k=l.children(A);if(k.length){var F=x.addBorderNode(l,"_bt"),O=x.addBorderNode(l,"_bb"),R=l.node(A);l.setParent(F,A),R.borderTop=F,l.setParent(O,A),R.borderBottom=O,c.forEach(k,function(U){_(l,h,m,u,g,C,U);var V=l.node(U),W=V.borderTop?V.borderTop:U,rt=V.borderBottom?V.borderBottom:U,nt=V.borderTop?u:2*u,ut=W!==rt?1:g-C[A]+1;l.setEdge(F,W,{weight:nt,minlen:ut,nestingEdge:!0}),l.setEdge(rt,O,{weight:nt,minlen:ut,nestingEdge:!0})}),l.parent(A)||l.setEdge(h,F,{weight:0,minlen:g+C[A]})}else A!==h&&l.setEdge(h,A,{weight:0,minlen:m})}w.exports={run:function v(l){var h=x.addDummyNode(l,"root",{},"_root"),m=function f(l){var h={};function m(u,g){var C=l.children(u);C&&C.length&&c.forEach(C,function(A){m(A,g+1)}),h[u]=g}return c.forEach(l.children(),function(u){m(u,1)}),h}(l),u=c.max(c.values(m))-1,g=2*u+1;l.graph().nestingRoot=h,c.forEach(l.edges(),function(A){l.edge(A).minlen*=g});var C=function t(l){return c.reduce(l.edges(),function(h,m){return h+l.edge(m).weight},0)}(l)+1;c.forEach(l.children(),function(A){_(l,h,g,C,u,m,A)}),l.graph().nodeRankFactor=g},cleanup:function p(l){var h=l.graph();l.removeNode(h.nestingRoot),delete h.nestingRoot,c.forEach(l.edges(),function(m){l.edge(m).nestingEdge&&l.removeEdge(m)})}}},91496:(w,I,o)=>{"use strict";var c=o(45760),x=o(11510);w.exports={run:function v(t){t.graph().dummyChains=[],c.forEach(t.edges(),function(p){!function _(t,p){var l=p.v,h=t.node(l).rank,m=p.w,u=t.node(m).rank,g=p.name,C=t.edge(p),A=C.labelRank;if(u!==h+1){var k,F,O;for(t.removeEdge(p),O=0,++h;h<u;++O,++h)C.points=[],k=x.addDummyNode(t,"edge",F={width:0,height:0,edgeLabel:C,edgeObj:p,rank:h},"_d"),h===A&&(F.width=C.width,F.height=C.height,F.dummy="edge-label",F.labelpos=C.labelpos),t.setEdge(l,k,{weight:C.weight},g),0===O&&t.graph().dummyChains.push(k),l=k;t.setEdge(l,m,{weight:C.weight},g)}}(t,p)})},undo:function f(t){c.forEach(t.graph().dummyChains,function(p){var m,l=t.node(p),h=l.edgeLabel;for(t.setEdge(l.edgeObj,h);l.dummy;)m=t.successors(p)[0],t.removeNode(p),h.points.push({x:l.x,y:l.y}),"edge-label"===l.dummy&&(h.x=l.x,h.y=l.y,h.width=l.width,h.height=l.height),l=t.node(p=m)})}}},33034:(w,I,o)=>{var c=o(45760);w.exports=function x(v,_,f){var p,t={};c.forEach(f,function(l){for(var m,u,h=v.parent(l);h;){if((m=v.parent(h))?(u=t[m],t[m]=h):(u=p,p=h),u&&u!==h)return void _.setEdge(u,h);h=m}})}},81323:(w,I,o)=>{var c=o(45760);w.exports=function x(v,_){return c.map(_,function(f){var t=v.inEdges(f);if(t.length){var p=c.reduce(t,function(l,h){var m=v.edge(h),u=v.node(h.v);return{sum:l.sum+m.weight*u.order,weight:l.weight+m.weight}},{sum:0,weight:0});return{v:f,barycenter:p.sum/p.weight,weight:p.weight}}return{v:f}})}},1686:(w,I,o)=>{var c=o(45760),x=o(36456).Graph;w.exports=function v(f,t,p){var l=function _(f){for(var t;f.hasNode(t=c.uniqueId("_root")););return t}(f),h=new x({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(function(m){return f.node(m)});return c.forEach(f.nodes(),function(m){var u=f.node(m),g=f.parent(m);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(h.setNode(m),h.setParent(m,g||l),c.forEach(f[p](m),function(C){var A=C.v===m?C.w:C.v,k=h.edge(A,m),F=c.isUndefined(k)?0:k.weight;h.setEdge(A,m,{weight:f.edge(C).weight+F})}),c.has(u,"minRank")&&h.setNode(m,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),h}},18796:(w,I,o)=>{"use strict";var c=o(45760);function v(_,f,t){for(var p=c.zipObject(t,c.map(t,function(C,A){return A})),l=c.flatten(c.map(f,function(C){return c.sortBy(c.map(_.outEdges(C),function(A){return{pos:p[A.w],weight:_.edge(A).weight}}),"pos")}),!0),h=1;h<t.length;)h<<=1;var m=2*h-1;h-=1;var u=c.map(new Array(m),function(){return 0}),g=0;return c.forEach(l.forEach(function(C){var A=C.pos+h;u[A]+=C.weight;for(var k=0;A>0;)A%2&&(k+=u[A+1]),u[A=A-1>>1]+=C.weight;g+=C.weight*k})),g}w.exports=function x(_,f){for(var t=0,p=1;p<f.length;++p)t+=v(_,f[p-1],f[p]);return t}},32974:(w,I,o)=>{"use strict";var c=o(45760),x=o(49402),v=o(18796),_=o(61057),f=o(1686),t=o(33034),p=o(36456).Graph,l=o(11510);function m(C,A,k){return c.map(A,function(F){return f(C,F,k)})}function u(C,A){var k=new p;c.forEach(C,function(F){var O=F.graph().root,R=_(F,O,k,A);c.forEach(R.vs,function(U,V){F.node(U).order=V}),t(F,k,R.vs)})}function g(C,A){c.forEach(A,function(k){c.forEach(k,function(F,O){C.node(F).order=O})})}w.exports=function h(C){var A=l.maxRank(C),k=m(C,c.range(1,A+1),"inEdges"),F=m(C,c.range(A-1,-1,-1),"outEdges"),O=x(C);g(C,O);for(var U,R=Number.POSITIVE_INFINITY,V=0,W=0;W<4;++V,++W){u(V%2?k:F,V%4>=2),O=l.buildLayerMatrix(C);var rt=v(C,O);rt<R&&(W=0,U=c.cloneDeep(O),R=rt)}g(C,U)}},49402:(w,I,o)=>{"use strict";var c=o(45760);w.exports=function x(v){var _={},f=c.filter(v.nodes(),function(m){return!v.children(m).length}),t=c.max(c.map(f,function(m){return v.node(m).rank})),p=c.map(c.range(t+1),function(){return[]}),h=c.sortBy(f,function(m){return v.node(m).rank});return c.forEach(h,function l(m){if(!c.has(_,m)){_[m]=!0;var u=v.node(m);p[u.rank].push(m),c.forEach(v.successors(m),l)}}),p}},83826:(w,I,o)=>{"use strict";var c=o(45760);w.exports=function x(f,t){var p={};return c.forEach(f,function(h,m){var u=p[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:m};c.isUndefined(h.barycenter)||(u.barycenter=h.barycenter,u.weight=h.weight)}),c.forEach(t.edges(),function(h){var m=p[h.v],u=p[h.w];!c.isUndefined(m)&&!c.isUndefined(u)&&(u.indegree++,m.out.push(p[h.w]))}),function v(f){var t=[];function p(m){return function(u){u.merged||(c.isUndefined(u.barycenter)||c.isUndefined(m.barycenter)||u.barycenter>=m.barycenter)&&function _(f,t){var p=0,l=0;f.weight&&(p+=f.barycenter*f.weight,l+=f.weight),t.weight&&(p+=t.barycenter*t.weight,l+=t.weight),f.vs=t.vs.concat(f.vs),f.barycenter=p/l,f.weight=l,f.i=Math.min(t.i,f.i),t.merged=!0}(m,u)}}function l(m){return function(u){u.in.push(m),0==--u.indegree&&f.push(u)}}for(;f.length;){var h=f.pop();t.push(h),c.forEach(h.in.reverse(),p(h)),c.forEach(h.out,l(h))}return c.map(c.filter(t,function(m){return!m.merged}),function(m){return c.pick(m,["vs","i","barycenter","weight"])})}(c.filter(p,function(h){return!h.indegree}))}},61057:(w,I,o)=>{var c=o(45760),x=o(81323),v=o(83826),_=o(93803);w.exports=function f(l,h,m,u){var g=l.children(h),C=l.node(h),A=C?C.borderLeft:void 0,k=C?C.borderRight:void 0,F={};A&&(g=c.filter(g,function(rt){return rt!==A&&rt!==k}));var O=x(l,g);c.forEach(O,function(rt){if(l.children(rt.v).length){var nt=f(l,rt.v,m,u);F[rt.v]=nt,c.has(nt,"barycenter")&&function p(l,h){c.isUndefined(l.barycenter)?(l.barycenter=h.barycenter,l.weight=h.weight):(l.barycenter=(l.barycenter*l.weight+h.barycenter*h.weight)/(l.weight+h.weight),l.weight+=h.weight)}(rt,nt)}});var R=v(O,m);!function t(l,h){c.forEach(l,function(m){m.vs=c.flatten(m.vs.map(function(u){return h[u]?h[u].vs:u}),!0)})}(R,F);var U=_(R,u);if(A&&(U.vs=c.flatten([A,U.vs,k],!0),l.predecessors(A).length)){var V=l.node(l.predecessors(A)[0]),W=l.node(l.predecessors(k)[0]);c.has(U,"barycenter")||(U.barycenter=0,U.weight=0),U.barycenter=(U.barycenter*U.weight+V.order+W.order)/(U.weight+2),U.weight+=2}return U}},93803:(w,I,o)=>{var c=o(45760),x=o(11510);function _(t,p,l){for(var h;p.length&&(h=c.last(p)).i<=l;)p.pop(),t.push(h.vs),l++;return l}w.exports=function v(t,p){var l=x.partition(t,function(F){return c.has(F,"barycenter")}),h=l.lhs,m=c.sortBy(l.rhs,function(F){return-F.i}),u=[],g=0,C=0,A=0;h.sort(function f(t){return function(p,l){return p.barycenter<l.barycenter?-1:p.barycenter>l.barycenter?1:t?l.i-p.i:p.i-l.i}}(!!p)),A=_(u,m,A),c.forEach(h,function(F){A+=F.vs.length,u.push(F.vs),g+=F.barycenter*F.weight,C+=F.weight,A=_(u,m,A)});var k={vs:c.flatten(u,!0)};return C&&(k.barycenter=g/C,k.weight=C),k}},60162:(w,I,o)=>{var c=o(45760);w.exports=function x(f){var t=function _(f){var t={},p=0;return c.forEach(f.children(),function l(h){var m=p;c.forEach(f.children(h),l),t[h]={low:m,lim:p++}}),t}(f);c.forEach(f.graph().dummyChains,function(p){for(var l=f.node(p),h=l.edgeObj,m=function v(f,t,p,l){var C,A,h=[],m=[],u=Math.min(t[p].low,t[l].low),g=Math.max(t[p].lim,t[l].lim);C=p;do{C=f.parent(C),h.push(C)}while(C&&(t[C].low>u||g>t[C].lim));for(A=C,C=l;(C=f.parent(C))!==A;)m.push(C);return{path:h.concat(m.reverse()),lca:A}}(f,t,h.v,h.w),u=m.path,g=m.lca,C=0,A=u[C],k=!0;p!==h.w;){if(l=f.node(p),k){for(;(A=u[C])!==g&&f.node(A).maxRank<l.rank;)C++;A===g&&(k=!1)}if(!k){for(;C<u.length-1&&f.node(A=u[C+1]).minRank<=l.rank;)C++;A=u[C]}f.setParent(p,A),p=f.successors(p)[0]}})}},54058:(w,I,o)=>{"use strict";var c=o(45760),x=o(36456).Graph,v=o(11510);function _(R,U){var V={};return c.reduce(U,function W(rt,nt){var ut=0,J=0,tt=rt.length,Q=c.last(nt);return c.forEach(nt,function(at,H){var K=function t(R,U){if(R.node(U).dummy)return c.find(R.predecessors(U),function(V){return R.node(V).dummy})}(R,at),lt=K?R.node(K).order:tt;(K||at===Q)&&(c.forEach(nt.slice(J,H+1),function(it){c.forEach(R.predecessors(it),function(z){var E=R.node(z),Ct=E.order;(Ct<ut||lt<Ct)&&(!E.dummy||!R.node(it).dummy)&&p(V,z,it)})}),J=H+1,ut=lt)}),nt}),V}function f(R,U){var V={};function W(nt,ut,J,tt,Q){var at;c.forEach(c.range(ut,J),function(H){R.node(at=nt[H]).dummy&&c.forEach(R.predecessors(at),function(K){var lt=R.node(K);lt.dummy&&(lt.order<tt||lt.order>Q)&&p(V,K,at)})})}return c.reduce(U,function rt(nt,ut){var tt,J=-1,Q=0;return c.forEach(ut,function(at,H){if("border"===R.node(at).dummy){var K=R.predecessors(at);K.length&&(tt=R.node(K[0]).order,W(ut,Q,H,J,tt),Q=H,J=tt)}W(ut,Q,ut.length,tt,nt.length)}),ut}),V}function p(R,U,V){if(U>V){var W=U;U=V,V=W}var rt=R[U];rt||(R[U]=rt={}),rt[V]=!0}function l(R,U,V){if(U>V){var W=U;U=V,V=W}return c.has(R[U],V)}function h(R,U,V,W){var rt={},nt={},ut={};return c.forEach(U,function(J){c.forEach(J,function(tt,Q){rt[tt]=tt,nt[tt]=tt,ut[tt]=Q})}),c.forEach(U,function(J){var tt=-1;c.forEach(J,function(Q){var at=W(Q);if(at.length)for(var H=((at=c.sortBy(at,function(z){return ut[z]})).length-1)/2,K=Math.floor(H),lt=Math.ceil(H);K<=lt;++K){var it=at[K];nt[Q]===Q&&tt<ut[it]&&!l(V,Q,it)&&(nt[it]=Q,nt[Q]=rt[Q]=rt[it],tt=ut[it])}})}),{root:rt,align:nt}}function m(R,U,V,W,rt){var nt={},ut=function u(R,U,V,W){var rt=new x,nt=R.graph(),ut=function F(R,U,V){return function(W,rt,nt){var Q,ut=W.node(rt),J=W.node(nt),tt=0;if(tt+=ut.width/2,c.has(ut,"labelpos"))switch(ut.labelpos.toLowerCase()){case"l":Q=-ut.width/2;break;case"r":Q=ut.width/2}if(Q&&(tt+=V?Q:-Q),Q=0,tt+=(ut.dummy?U:R)/2,tt+=(J.dummy?U:R)/2,tt+=J.width/2,c.has(J,"labelpos"))switch(J.labelpos.toLowerCase()){case"l":Q=J.width/2;break;case"r":Q=-J.width/2}return Q&&(tt+=V?Q:-Q),Q=0,tt}}(nt.nodesep,nt.edgesep,W);return c.forEach(U,function(J){var tt;c.forEach(J,function(Q){var at=V[Q];if(rt.setNode(at),tt){var H=V[tt],K=rt.edge(H,at);rt.setEdge(H,at,Math.max(ut(R,Q,tt),K||0))}tt=Q})}),rt}(R,U,V,rt),J=rt?"borderLeft":"borderRight";function tt(H,K){for(var lt=ut.nodes(),it=lt.pop(),z={};it;)z[it]?H(it):(z[it]=!0,lt.push(it),lt=lt.concat(K(it))),it=lt.pop()}return tt(function Q(H){nt[H]=ut.inEdges(H).reduce(function(K,lt){return Math.max(K,nt[lt.v]+ut.edge(lt))},0)},ut.predecessors.bind(ut)),tt(function at(H){var K=ut.outEdges(H).reduce(function(it,z){return Math.min(it,nt[z.w]-ut.edge(z))},Number.POSITIVE_INFINITY),lt=R.node(H);K!==Number.POSITIVE_INFINITY&&lt.borderType!==J&&(nt[H]=Math.max(nt[H],K))},ut.successors.bind(ut)),c.forEach(W,function(H){nt[H]=nt[V[H]]}),nt}function g(R,U){return c.minBy(c.values(U),function(V){var W=Number.NEGATIVE_INFINITY,rt=Number.POSITIVE_INFINITY;return c.forIn(V,function(nt,ut){var J=function O(R,U){return R.node(U).width}(R,ut)/2;W=Math.max(nt+J,W),rt=Math.min(nt-J,rt)}),W-rt})}function C(R,U){var V=c.values(U),W=c.min(V),rt=c.max(V);c.forEach(["u","d"],function(nt){c.forEach(["l","r"],function(ut){var Q,J=nt+ut,tt=R[J];if(tt!==U){var at=c.values(tt);(Q="l"===ut?W-c.min(at):rt-c.max(at))&&(R[J]=c.mapValues(tt,function(H){return H+Q}))}})})}function A(R,U){return c.mapValues(R.ul,function(V,W){if(U)return R[U.toLowerCase()][W];var rt=c.sortBy(c.map(R,W));return(rt[1]+rt[2])/2})}w.exports={positionX:function k(R){var rt,U=v.buildLayerMatrix(R),V=c.merge(_(R,U),f(R,U)),W={};c.forEach(["u","d"],function(ut){rt="u"===ut?U:c.values(U).reverse(),c.forEach(["l","r"],function(J){"r"===J&&(rt=c.map(rt,function(H){return c.values(H).reverse()}));var tt=("u"===ut?R.predecessors:R.successors).bind(R),Q=h(0,rt,V,tt),at=m(R,rt,Q.root,Q.align,"r"===J);"r"===J&&(at=c.mapValues(at,function(H){return-H})),W[ut+J]=at})});var nt=g(R,W);return C(W,nt),A(W,R.graph().align)},findType1Conflicts:_,findType2Conflicts:f,addConflict:p,hasConflict:l,verticalAlignment:h,horizontalCompaction:m,alignCoordinates:C,findSmallestWidthAlignment:g,balance:A}},78226:(w,I,o)=>{"use strict";var c=o(45760),x=o(11510),v=o(54058).positionX;w.exports=function _(t){(function f(t){var p=x.buildLayerMatrix(t),l=t.graph().ranksep,h=0;c.forEach(p,function(m){var u=c.max(c.map(m,function(g){return t.node(g).height}));c.forEach(m,function(g){t.node(g).y=h+u/2}),h+=u+l})})(t=x.asNonCompoundGraph(t)),c.forEach(v(t),function(p,l){t.node(l).x=p})}},96632:(w,I,o)=>{"use strict";var c=o(45760),x=o(36456).Graph,v=o(1916).slack;function f(l,h){return c.forEach(l.nodes(),function m(u){c.forEach(h.nodeEdges(u),function(g){var C=g.v,A=u===C?g.w:C;!l.hasNode(A)&&!v(h,g)&&(l.setNode(A,{}),l.setEdge(u,A,{}),m(A))})}),l.nodeCount()}function t(l,h){return c.minBy(h.edges(),function(m){if(l.hasNode(m.v)!==l.hasNode(m.w))return v(h,m)})}function p(l,h,m){c.forEach(l.nodes(),function(u){h.node(u).rank+=m})}w.exports=function _(l){var g,C,h=new x({directed:!1}),m=l.nodes()[0],u=l.nodeCount();for(h.setNode(m,{});f(h,l)<u;)g=t(h,l),C=h.hasNode(g.v)?v(l,g):-v(l,g),p(h,l,C);return h}},94124:(w,I,o)=>{"use strict";var x=o(1916).longestPath,v=o(96632),_=o(63804);w.exports=function f(h){switch(h.graph().ranker){case"network-simplex":default:!function l(h){_(h)}(h);break;case"tight-tree":!function p(h){x(h),v(h)}(h);break;case"longest-path":t(h)}};var t=x},63804:(w,I,o)=>{"use strict";var c=o(45760),x=o(96632),v=o(1916).slack,_=o(1916).longestPath,f=o(36456).alg.preorder,t=o(36456).alg.postorder,p=o(11510).simplify;function l(V){V=p(V),_(V);var rt,W=x(V);for(g(W),h(W,V);rt=A(W);)F(W,V,rt,k(W,V,rt))}function h(V,W){var rt=t(V,V.nodes());rt=rt.slice(0,rt.length-1),c.forEach(rt,function(nt){!function m(V,W,rt){var nt=V.node(rt);V.edge(rt,nt.parent).cutvalue=u(V,W,rt)}(V,W,nt)})}function u(V,W,rt){var ut=V.node(rt).parent,J=!0,tt=W.edge(rt,ut),Q=0;return tt||(J=!1,tt=W.edge(ut,rt)),Q=tt.weight,c.forEach(W.nodeEdges(rt),function(at){var H=at.v===rt,K=H?at.w:at.v;if(K!==ut){var lt=H===J,it=W.edge(at).weight;if(Q+=lt?it:-it,function R(V,W,rt){return V.hasEdge(W,rt)}(V,rt,K)){var z=V.edge(rt,K).cutvalue;Q+=lt?-z:z}}}),Q}function g(V,W){arguments.length<2&&(W=V.nodes()[0]),C(V,{},1,W)}function C(V,W,rt,nt,ut){var J=rt,tt=V.node(nt);return W[nt]=!0,c.forEach(V.neighbors(nt),function(Q){c.has(W,Q)||(rt=C(V,W,rt,Q,nt))}),tt.low=J,tt.lim=rt++,ut?tt.parent=ut:delete tt.parent,rt}function A(V){return c.find(V.edges(),function(W){return V.edge(W).cutvalue<0})}function k(V,W,rt){var nt=rt.v,ut=rt.w;W.hasEdge(nt,ut)||(nt=rt.w,ut=rt.v);var J=V.node(nt),tt=V.node(ut),Q=J,at=!1;J.lim>tt.lim&&(Q=tt,at=!0);var H=c.filter(W.edges(),function(K){return at===U(0,V.node(K.v),Q)&&at!==U(0,V.node(K.w),Q)});return c.minBy(H,function(K){return v(W,K)})}function F(V,W,rt,nt){V.removeEdge(rt.v,rt.w),V.setEdge(nt.v,nt.w,{}),g(V),h(V,W),function O(V,W){var rt=c.find(V.nodes(),function(ut){return!W.node(ut).parent}),nt=f(V,rt);nt=nt.slice(1),c.forEach(nt,function(ut){var J=V.node(ut).parent,tt=W.edge(ut,J),Q=!1;tt||(tt=W.edge(J,ut),Q=!0),W.node(ut).rank=W.node(J).rank+(Q?tt.minlen:-tt.minlen)})}(V,W)}function U(V,W,rt){return rt.low<=W.lim&&W.lim<=rt.lim}w.exports=l,l.initLowLimValues=g,l.initCutValues=h,l.calcCutValue=u,l.leaveEdge=A,l.enterEdge=k,l.exchangeEdges=F},1916:(w,I,o)=>{"use strict";var c=o(45760);w.exports={longestPath:function x(_){var f={};c.forEach(_.sources(),function t(p){var l=_.node(p);if(c.has(f,p))return l.rank;f[p]=!0;var h=c.min(c.map(_.outEdges(p),function(m){return t(m.w)-_.edge(m).minlen}));return(h===Number.POSITIVE_INFINITY||null==h)&&(h=0),l.rank=h})},slack:function v(_,f){return _.node(f.w).rank-_.node(f.v).rank-_.edge(f).minlen}}},11510:(w,I,o)=>{"use strict";var c=o(45760),x=o(36456).Graph;function v(O,R,U,V){var W;do{W=c.uniqueId(V)}while(O.hasNode(W));return U.dummy=R,O.setNode(W,U),W}function C(O){return c.max(c.map(O.nodes(),function(R){var U=O.node(R).rank;if(!c.isUndefined(U))return U}))}w.exports={addDummyNode:v,simplify:function _(O){var R=(new x).setGraph(O.graph());return c.forEach(O.nodes(),function(U){R.setNode(U,O.node(U))}),c.forEach(O.edges(),function(U){var V=R.edge(U.v,U.w)||{weight:0,minlen:1},W=O.edge(U);R.setEdge(U.v,U.w,{weight:V.weight+W.weight,minlen:Math.max(V.minlen,W.minlen)})}),R},asNonCompoundGraph:function f(O){var R=new x({multigraph:O.isMultigraph()}).setGraph(O.graph());return c.forEach(O.nodes(),function(U){O.children(U).length||R.setNode(U,O.node(U))}),c.forEach(O.edges(),function(U){R.setEdge(U,O.edge(U))}),R},successorWeights:function t(O){var R=c.map(O.nodes(),function(U){var V={};return c.forEach(O.outEdges(U),function(W){V[W.w]=(V[W.w]||0)+O.edge(W).weight}),V});return c.zipObject(O.nodes(),R)},predecessorWeights:function p(O){var R=c.map(O.nodes(),function(U){var V={};return c.forEach(O.inEdges(U),function(W){V[W.v]=(V[W.v]||0)+O.edge(W).weight}),V});return c.zipObject(O.nodes(),R)},intersectRect:function l(O,R){var J,tt,U=O.x,V=O.y,W=R.x-U,rt=R.y-V,nt=O.width/2,ut=O.height/2;if(!W&&!rt)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(rt)*nt>Math.abs(W)*ut?(rt<0&&(ut=-ut),J=ut*W/rt,tt=ut):(W<0&&(nt=-nt),J=nt,tt=nt*rt/W),{x:U+J,y:V+tt}},buildLayerMatrix:function h(O){var R=c.map(c.range(C(O)+1),function(){return[]});return c.forEach(O.nodes(),function(U){var V=O.node(U),W=V.rank;c.isUndefined(W)||(R[W][V.order]=U)}),R},normalizeRanks:function m(O){var R=c.min(c.map(O.nodes(),function(U){return O.node(U).rank}));c.forEach(O.nodes(),function(U){var V=O.node(U);c.has(V,"rank")&&(V.rank-=R)})},removeEmptyRanks:function u(O){var R=c.min(c.map(O.nodes(),function(rt){return O.node(rt).rank})),U=[];c.forEach(O.nodes(),function(rt){var nt=O.node(rt).rank-R;U[nt]||(U[nt]=[]),U[nt].push(rt)});var V=0,W=O.graph().nodeRankFactor;c.forEach(U,function(rt,nt){c.isUndefined(rt)&&nt%W!=0?--V:V&&c.forEach(rt,function(ut){O.node(ut).rank+=V})})},addBorderNode:function g(O,R,U,V){var W={width:0,height:0};return arguments.length>=4&&(W.rank=U,W.order=V),v(O,"border",W,R)},maxRank:C,partition:function A(O,R){var U={lhs:[],rhs:[]};return c.forEach(O,function(V){R(V)?U.lhs.push(V):U.rhs.push(V)}),U},time:function k(O,R){var U=c.now();try{return R()}finally{console.log(O+" time: "+(c.now()-U)+"ms")}},notime:function F(O,R){return R()}}},28126:w=>{w.exports="0.8.5"},85510:(w,I,o)=>{var c=o(51838);w.exports={Graph:c.Graph,json:o(21088),alg:o(83430),version:c.version}},86730:(w,I,o)=>{var c=o(79138);w.exports=function x(v){var t,_={},f=[];function p(l){c.has(_,l)||(_[l]=!0,t.push(l),c.each(v.successors(l),p),c.each(v.predecessors(l),p))}return c.each(v.nodes(),function(l){t=[],p(l),t.length&&f.push(t)}),f}},22163:(w,I,o)=>{var c=o(79138);function v(_,f,t,p,l,h){c.has(p,f)||(p[f]=!0,t||h.push(f),c.each(l(f),function(m){v(_,m,t,p,l,h)}),t&&h.push(f))}w.exports=function x(_,f,t){c.isArray(f)||(f=[f]);var p=(_.isDirected()?_.successors:_.neighbors).bind(_),l=[],h={};return c.each(f,function(m){if(!_.hasNode(m))throw new Error("Graph does not have node: "+m);v(_,m,"post"===t,h,p,l)}),l}},25668:(w,I,o)=>{var c=o(61718),x=o(79138);w.exports=function v(_,f,t){return x.transform(_.nodes(),function(p,l){p[l]=c(_,l,f,t)},{})}},61718:(w,I,o)=>{var c=o(79138),x=o(31919);w.exports=function _(t,p,l,h){return function f(t,p,l,h){var g,C,m={},u=new x,A=function(k){var F=k.v!==g?k.v:k.w,O=m[F],R=l(k),U=C.distance+R;if(R<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+k+" Weight: "+R);U<O.distance&&(O.distance=U,O.predecessor=g,u.decrease(F,U))};for(t.nodes().forEach(function(k){var F=k===p?0:Number.POSITIVE_INFINITY;m[k]={distance:F},u.add(k,F)});u.size()>0&&(g=u.removeMin(),(C=m[g]).distance!==Number.POSITIVE_INFINITY);)h(g).forEach(A);return m}(t,String(p),l||v,h||function(m){return t.outEdges(m)})};var v=c.constant(1)},9611:(w,I,o)=>{var c=o(79138),x=o(73585);w.exports=function v(_){return c.filter(x(_),function(f){return f.length>1||1===f.length&&_.hasEdge(f[0],f[0])})}},22881:(w,I,o)=>{var c=o(79138);w.exports=function v(f,t,p){return function _(f,t,p){var l={},h=f.nodes();return h.forEach(function(m){l[m]={},l[m][m]={distance:0},h.forEach(function(u){m!==u&&(l[m][u]={distance:Number.POSITIVE_INFINITY})}),p(m).forEach(function(u){var g=u.v===m?u.w:u.v,C=t(u);l[m][g]={distance:C,predecessor:m}})}),h.forEach(function(m){var u=l[m];h.forEach(function(g){var C=l[g];h.forEach(function(A){var F=u[A],O=C[A],R=C[m].distance+F.distance;R<O.distance&&(O.distance=R,O.predecessor=F.predecessor)})})}),l}(f,t||x,p||function(l){return f.outEdges(l)})};var x=c.constant(1)},83430:(w,I,o)=>{w.exports={components:o(86730),dijkstra:o(61718),dijkstraAll:o(25668),findCycles:o(9611),floydWarshall:o(22881),isAcyclic:o(46693),postorder:o(46694),preorder:o(5330),prim:o(46823),tarjan:o(73585),topsort:o(52180)}},46693:(w,I,o)=>{var c=o(52180);w.exports=function x(v){try{c(v)}catch(_){if(_ instanceof c.CycleException)return!1;throw _}return!0}},46694:(w,I,o)=>{var c=o(22163);w.exports=function x(v,_){return c(v,_,"post")}},5330:(w,I,o)=>{var c=o(22163);w.exports=function x(v,_){return c(v,_,"pre")}},46823:(w,I,o)=>{var c=o(79138),x=o(66568),v=o(31919);w.exports=function _(f,t){var m,p=new x,l={},h=new v;function u(C){var A=C.v===m?C.w:C.v,k=h.priority(A);if(void 0!==k){var F=t(C);F<k&&(l[A]=m,h.decrease(A,F))}}if(0===f.nodeCount())return p;c.each(f.nodes(),function(C){h.add(C,Number.POSITIVE_INFINITY),p.setNode(C)}),h.decrease(f.nodes()[0],0);for(var g=!1;h.size()>0;){if(m=h.removeMin(),c.has(l,m))p.setEdge(m,l[m]);else{if(g)throw new Error("Input graph is not connected: "+f);g=!0}f.nodeEdges(m).forEach(u)}return p}},73585:(w,I,o)=>{var c=o(79138);w.exports=function x(v){var _=0,f=[],t={},p=[];function l(h){var m=t[h]={onStack:!0,lowlink:_,index:_++};if(f.push(h),v.successors(h).forEach(function(C){c.has(t,C)?t[C].onStack&&(m.lowlink=Math.min(m.lowlink,t[C].index)):(l(C),m.lowlink=Math.min(m.lowlink,t[C].lowlink))}),m.lowlink===m.index){var g,u=[];do{g=f.pop(),t[g].onStack=!1,u.push(g)}while(h!==g);p.push(u)}}return v.nodes().forEach(function(h){c.has(t,h)||l(h)}),p}},52180:(w,I,o)=>{var c=o(79138);function x(_){var f={},t={},p=[];if(c.each(_.sinks(),function l(h){if(c.has(t,h))throw new v;c.has(f,h)||(t[h]=!0,f[h]=!0,c.each(_.predecessors(h),l),delete t[h],p.push(h))}),c.size(f)!==_.nodeCount())throw new v;return p}function v(){}w.exports=x,x.CycleException=v,v.prototype=new Error},31919:(w,I,o)=>{var c=o(79138);function x(){this._arr=[],this._keyIndices={}}w.exports=x,x.prototype.size=function(){return this._arr.length},x.prototype.keys=function(){return this._arr.map(function(v){return v.key})},x.prototype.has=function(v){return c.has(this._keyIndices,v)},x.prototype.priority=function(v){var _=this._keyIndices[v];if(void 0!==_)return this._arr[_].priority},x.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},x.prototype.add=function(v,_){var f=this._keyIndices;if(v=String(v),!c.has(f,v)){var t=this._arr,p=t.length;return f[v]=p,t.push({key:v,priority:_}),this._decrease(p),!0}return!1},x.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},x.prototype.decrease=function(v,_){var f=this._keyIndices[v];if(_>this._arr[f].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[f].priority+" New: "+_);this._arr[f].priority=_,this._decrease(f)},x.prototype._heapify=function(v){var _=this._arr,f=2*v,t=f+1,p=v;f<_.length&&(p=_[f].priority<_[p].priority?f:p,t<_.length&&(p=_[t].priority<_[p].priority?t:p),p!==v&&(this._swap(v,p),this._heapify(p)))},x.prototype._decrease=function(v){for(var t,_=this._arr,f=_[v].priority;0!==v&&!(_[t=v>>1].priority<f);)this._swap(v,t),v=t},x.prototype._swap=function(v,_){var f=this._arr,t=this._keyIndices,p=f[v],l=f[_];f[v]=l,f[_]=p,t[l.key]=v,t[p.key]=_}},66568:(w,I,o)=>{"use strict";var c=o(79138);w.exports=f;var v="\0";function f(u){this._isDirected=!c.has(u,"directed")||u.directed,this._isMultigraph=!!c.has(u,"multigraph")&&u.multigraph,this._isCompound=!!c.has(u,"compound")&&u.compound,this._label=void 0,this._defaultNodeLabelFn=c.constant(void 0),this._defaultEdgeLabelFn=c.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[v]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function t(u,g){u[g]?u[g]++:u[g]=1}function p(u,g){--u[g]||delete u[g]}function l(u,g,C,A){var k=""+g,F=""+C;if(!u&&k>F){var O=k;k=F,F=O}return k+"\x01"+F+"\x01"+(c.isUndefined(A)?"\0":A)}function h(u,g,C,A){var k=""+g,F=""+C;if(!u&&k>F){var O=k;k=F,F=O}var R={v:k,w:F};return A&&(R.name=A),R}function m(u,g){return l(u,g.v,g.w,g.name)}f.prototype._nodeCount=0,f.prototype._edgeCount=0,f.prototype.isDirected=function(){return this._isDirected},f.prototype.isMultigraph=function(){return this._isMultigraph},f.prototype.isCompound=function(){return this._isCompound},f.prototype.setGraph=function(u){return this._label=u,this},f.prototype.graph=function(){return this._label},f.prototype.setDefaultNodeLabel=function(u){return c.isFunction(u)||(u=c.constant(u)),this._defaultNodeLabelFn=u,this},f.prototype.nodeCount=function(){return this._nodeCount},f.prototype.nodes=function(){return c.keys(this._nodes)},f.prototype.sources=function(){var u=this;return c.filter(this.nodes(),function(g){return c.isEmpty(u._in[g])})},f.prototype.sinks=function(){var u=this;return c.filter(this.nodes(),function(g){return c.isEmpty(u._out[g])})},f.prototype.setNodes=function(u,g){var C=arguments,A=this;return c.each(u,function(k){C.length>1?A.setNode(k,g):A.setNode(k)}),this},f.prototype.setNode=function(u,g){return c.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=g),this):(this._nodes[u]=arguments.length>1?g:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=v,this._children[u]={},this._children[v][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},f.prototype.node=function(u){return this._nodes[u]},f.prototype.hasNode=function(u){return c.has(this._nodes,u)},f.prototype.removeNode=function(u){var g=this;if(c.has(this._nodes,u)){var C=function(A){g.removeEdge(g._edgeObjs[A])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],c.each(this.children(u),function(A){g.setParent(A)}),delete this._children[u]),c.each(c.keys(this._in[u]),C),delete this._in[u],delete this._preds[u],c.each(c.keys(this._out[u]),C),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},f.prototype.setParent=function(u,g){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(c.isUndefined(g))g=v;else{for(var C=g+="";!c.isUndefined(C);C=this.parent(C))if(C===u)throw new Error("Setting "+g+" as parent of "+u+" would create a cycle");this.setNode(g)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=g,this._children[g][u]=!0,this},f.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},f.prototype.parent=function(u){if(this._isCompound){var g=this._parent[u];if(g!==v)return g}},f.prototype.children=function(u){if(c.isUndefined(u)&&(u=v),this._isCompound){var g=this._children[u];if(g)return c.keys(g)}else{if(u===v)return this.nodes();if(this.hasNode(u))return[]}},f.prototype.predecessors=function(u){var g=this._preds[u];if(g)return c.keys(g)},f.prototype.successors=function(u){var g=this._sucs[u];if(g)return c.keys(g)},f.prototype.neighbors=function(u){var g=this.predecessors(u);if(g)return c.union(g,this.successors(u))},f.prototype.isLeaf=function(u){return 0===(this.isDirected()?this.successors(u):this.neighbors(u)).length},f.prototype.filterNodes=function(u){var g=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});g.setGraph(this.graph());var C=this;c.each(this._nodes,function(F,O){u(O)&&g.setNode(O,F)}),c.each(this._edgeObjs,function(F){g.hasNode(F.v)&&g.hasNode(F.w)&&g.setEdge(F,C.edge(F))});var A={};function k(F){var O=C.parent(F);return void 0===O||g.hasNode(O)?(A[F]=O,O):O in A?A[O]:k(O)}return this._isCompound&&c.each(g.nodes(),function(F){g.setParent(F,k(F))}),g},f.prototype.setDefaultEdgeLabel=function(u){return c.isFunction(u)||(u=c.constant(u)),this._defaultEdgeLabelFn=u,this},f.prototype.edgeCount=function(){return this._edgeCount},f.prototype.edges=function(){return c.values(this._edgeObjs)},f.prototype.setPath=function(u,g){var C=this,A=arguments;return c.reduce(u,function(k,F){return A.length>1?C.setEdge(k,F,g):C.setEdge(k,F),F}),this},f.prototype.setEdge=function(){var u,g,C,A,k=!1,F=arguments[0];"object"==typeof F&&null!==F&&"v"in F?(u=F.v,g=F.w,C=F.name,2===arguments.length&&(A=arguments[1],k=!0)):(u=F,g=arguments[1],C=arguments[3],arguments.length>2&&(A=arguments[2],k=!0)),u=""+u,g=""+g,c.isUndefined(C)||(C=""+C);var O=l(this._isDirected,u,g,C);if(c.has(this._edgeLabels,O))return k&&(this._edgeLabels[O]=A),this;if(!c.isUndefined(C)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(g),this._edgeLabels[O]=k?A:this._defaultEdgeLabelFn(u,g,C);var R=h(this._isDirected,u,g,C);return u=R.v,g=R.w,Object.freeze(R),this._edgeObjs[O]=R,t(this._preds[g],u),t(this._sucs[u],g),this._in[g][O]=R,this._out[u][O]=R,this._edgeCount++,this},f.prototype.edge=function(u,g,C){var A=1===arguments.length?m(this._isDirected,arguments[0]):l(this._isDirected,u,g,C);return this._edgeLabels[A]},f.prototype.hasEdge=function(u,g,C){var A=1===arguments.length?m(this._isDirected,arguments[0]):l(this._isDirected,u,g,C);return c.has(this._edgeLabels,A)},f.prototype.removeEdge=function(u,g,C){var A=1===arguments.length?m(this._isDirected,arguments[0]):l(this._isDirected,u,g,C),k=this._edgeObjs[A];return k&&(u=k.v,g=k.w,delete this._edgeLabels[A],delete this._edgeObjs[A],p(this._preds[g],u),p(this._sucs[u],g),delete this._in[g][A],delete this._out[u][A],this._edgeCount--),this},f.prototype.inEdges=function(u,g){var C=this._in[u];if(C){var A=c.values(C);return g?c.filter(A,function(k){return k.v===g}):A}},f.prototype.outEdges=function(u,g){var C=this._out[u];if(C){var A=c.values(C);return g?c.filter(A,function(k){return k.w===g}):A}},f.prototype.nodeEdges=function(u,g){var C=this.inEdges(u,g);if(C)return C.concat(this.outEdges(u,g))}},51838:(w,I,o)=>{w.exports={Graph:o(66568),version:o(75089)}},21088:(w,I,o)=>{var c=o(79138),x=o(66568);function _(p){return c.map(p.nodes(),function(l){var h=p.node(l),m=p.parent(l),u={v:l};return c.isUndefined(h)||(u.value=h),c.isUndefined(m)||(u.parent=m),u})}function f(p){return c.map(p.edges(),function(l){var h=p.edge(l),m={v:l.v,w:l.w};return c.isUndefined(l.name)||(m.name=l.name),c.isUndefined(h)||(m.value=h),m})}w.exports={write:function v(p){var l={options:{directed:p.isDirected(),multigraph:p.isMultigraph(),compound:p.isCompound()},nodes:_(p),edges:f(p)};return c.isUndefined(p.graph())||(l.value=c.clone(p.graph())),l},read:function t(p){var l=new x(p.options).setGraph(p.value);return c.each(p.nodes,function(h){l.setNode(h.v,h.value),h.parent&&l.setParent(h.v,h.parent)}),c.each(p.edges,function(h){l.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),l}}},79138:(w,I,o)=>{var c;try{c={clone:o(11094),constant:o(76684),each:o(35474),filter:o(35281),has:o(54842),isArray:o(21503),isEmpty:o(71973),isFunction:o(75946),isUndefined:o(34235),keys:o(118),map:o(19984),reduce:o(81337),size:o(55637),transform:o(89416),union:o(68921),values:o(90377)}}catch(x){}c||(c=window._),w.exports=c},75089:w=>{w.exports="2.1.8"},40717:(w,I,o)=>{"use strict";var c=o(50623);function x(v){return!0===c(v)&&"[object Object]"===Object.prototype.toString.call(v)}w.exports=function(_){var f,t;return!(!1===x(_)||(f=_.constructor,"function"!=typeof f)||(t=f.prototype,!1===x(t))||!1===t.hasOwnProperty("isPrototypeOf"))}},50623:w=>{"use strict";w.exports=function(o){return null!=o&&"object"==typeof o&&!1===Array.isArray(o)}},52872:w=>{var I=Object.prototype.toString;function o(h){return"function"==typeof h.constructor?h.constructor.name:null}w.exports=function(m){if(void 0===m)return"undefined";if(null===m)return"null";var u=typeof m;if("boolean"===u)return"boolean";if("string"===u)return"string";if("number"===u)return"number";if("symbol"===u)return"symbol";if("function"===u)return function f(h,m){return"GeneratorFunction"===o(h)}(m)?"generatorfunction":"function";if(function c(h){return Array.isArray?Array.isArray(h):h instanceof Array}(m))return"array";if(function l(h){return!(!h.constructor||"function"!=typeof h.constructor.isBuffer)&&h.constructor.isBuffer(h)}(m))return"buffer";if(function p(h){try{if("number"==typeof h.length&&"function"==typeof h.callee)return!0}catch(m){if(-1!==m.message.indexOf("callee"))return!0}return!1}(m))return"arguments";if(function v(h){return h instanceof Date||"function"==typeof h.toDateString&&"function"==typeof h.getDate&&"function"==typeof h.setDate}(m))return"date";if(function x(h){return h instanceof Error||"string"==typeof h.message&&h.constructor&&"number"==typeof h.constructor.stackTraceLimit}(m))return"error";if(function _(h){return h instanceof RegExp||"string"==typeof h.flags&&"boolean"==typeof h.ignoreCase&&"boolean"==typeof h.multiline&&"boolean"==typeof h.global}(m))return"regexp";switch(o(m)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function t(h){return"function"==typeof h.throw&&"function"==typeof h.return&&"function"==typeof h.next}(m))return"generator";switch(u=I.call(m)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return u.slice(8,-1).toLowerCase().replace(/\s/g,"")}},37244:(w,I,o)=>{var v=o(53436)(o(12119),"DataView");w.exports=v},54994:(w,I,o)=>{var c=o(64312),x=o(46421),v=o(15764),_=o(18685),f=o(26676);function t(p){var l=-1,h=null==p?0:p.length;for(this.clear();++l<h;){var m=p[l];this.set(m[0],m[1])}}t.prototype.clear=c,t.prototype.delete=x,t.prototype.get=v,t.prototype.has=_,t.prototype.set=f,w.exports=t},9215:(w,I,o)=>{var c=o(41840),x=o(34378),v=o(54981),_=o(67343),f=o(98895);function t(p){var l=-1,h=null==p?0:p.length;for(this.clear();++l<h;){var m=p[l];this.set(m[0],m[1])}}t.prototype.clear=c,t.prototype.delete=x,t.prototype.get=v,t.prototype.has=_,t.prototype.set=f,w.exports=t},51501:(w,I,o)=>{var v=o(53436)(o(12119),"Map");w.exports=v},99850:(w,I,o)=>{var c=o(10638),x=o(11184),v=o(70866),_=o(43771),f=o(51772);function t(p){var l=-1,h=null==p?0:p.length;for(this.clear();++l<h;){var m=p[l];this.set(m[0],m[1])}}t.prototype.clear=c,t.prototype.delete=x,t.prototype.get=v,t.prototype.has=_,t.prototype.set=f,w.exports=t},44267:(w,I,o)=>{var v=o(53436)(o(12119),"Promise");w.exports=v},46323:(w,I,o)=>{var v=o(53436)(o(12119),"Set");w.exports=v},58849:(w,I,o)=>{var c=o(99850),x=o(4600),v=o(31387);function _(f){var t=-1,p=null==f?0:f.length;for(this.__data__=new c;++t<p;)this.add(f[t])}_.prototype.add=_.prototype.push=x,_.prototype.has=v,w.exports=_},2858:(w,I,o)=>{var c=o(9215),x=o(13720),v=o(64410),_=o(45576),f=o(22247),t=o(41585);function p(l){var h=this.__data__=new c(l);this.size=h.size}p.prototype.clear=x,p.prototype.delete=v,p.prototype.get=_,p.prototype.has=f,p.prototype.set=t,w.exports=p},60443:(w,I,o)=>{var c=o(12119);w.exports=c.Symbol},73457:(w,I,o)=>{var c=o(12119);w.exports=c.Uint8Array},24243:(w,I,o)=>{var v=o(53436)(o(12119),"WeakMap");w.exports=v},26999:w=>{w.exports=function I(o,c,x){switch(x.length){case 0:return o.call(c);case 1:return o.call(c,x[0]);case 2:return o.call(c,x[0],x[1]);case 3:return o.call(c,x[0],x[1],x[2])}return o.apply(c,x)}},96837:w=>{w.exports=function I(o,c){for(var x=-1,v=null==o?0:o.length;++x<v&&!1!==c(o[x],x,o););return o}},69779:w=>{w.exports=function I(o,c){for(var x=-1,v=null==o?0:o.length,_=0,f=[];++x<v;){var t=o[x];c(t,x,o)&&(f[_++]=t)}return f}},61253:(w,I,o)=>{var c=o(14164);w.exports=function x(v,_){return!(null==v||!v.length)&&c(v,_,0)>-1}},37609:w=>{w.exports=function I(o,c,x){for(var v=-1,_=null==o?0:o.length;++v<_;)if(x(c,o[v]))return!0;return!1}},72271:(w,I,o)=>{var c=o(85334),x=o(77151),v=o(21503),_=o(80891),f=o(58442),t=o(48159),l=Object.prototype.hasOwnProperty;w.exports=function h(m,u){var g=v(m),C=!g&&x(m),A=!g&&!C&&_(m),k=!g&&!C&&!A&&t(m),F=g||C||A||k,O=F?c(m.length,String):[],R=O.length;for(var U in m)(u||l.call(m,U))&&(!F||!("length"==U||A&&("offset"==U||"parent"==U)||k&&("buffer"==U||"byteLength"==U||"byteOffset"==U)||f(U,R)))&&O.push(U);return O}},84633:w=>{w.exports=function I(o,c){for(var x=-1,v=null==o?0:o.length,_=Array(v);++x<v;)_[x]=c(o[x],x,o);return _}},85059:w=>{w.exports=function I(o,c){for(var x=-1,v=c.length,_=o.length;++x<v;)o[_+x]=c[x];return o}},8745:w=>{w.exports=function I(o,c,x,v){var _=-1,f=null==o?0:o.length;for(v&&f&&(x=o[++_]);++_<f;)x=c(x,o[_],_,o);return x}},79503:w=>{w.exports=function I(o,c){for(var x=-1,v=null==o?0:o.length;++x<v;)if(c(o[x],x,o))return!0;return!1}},75481:(w,I,o)=>{var x=o(11847)("length");w.exports=x},49276:(w,I,o)=>{var c=o(85683),x=o(20217);w.exports=function v(_,f,t){(void 0!==t&&!x(_[f],t)||void 0===t&&!(f in _))&&c(_,f,t)}},89719:(w,I,o)=>{var c=o(85683),x=o(20217),_=Object.prototype.hasOwnProperty;w.exports=function f(t,p,l){var h=t[p];(!_.call(t,p)||!x(h,l)||void 0===l&&!(p in t))&&c(t,p,l)}},43503:(w,I,o)=>{var c=o(20217);w.exports=function x(v,_){for(var f=v.length;f--;)if(c(v[f][0],_))return f;return-1}},94121:(w,I,o)=>{var c=o(31989),x=o(118);w.exports=function v(_,f){return _&&c(f,x(f),_)}},99287:(w,I,o)=>{var c=o(31989),x=o(16555);w.exports=function v(_,f){return _&&c(f,x(f),_)}},85683:(w,I,o)=>{var c=o(56713);w.exports=function x(v,_,f){"__proto__"==_&&c?c(v,_,{configurable:!0,enumerable:!0,value:f,writable:!0}):v[_]=f}},44462:(w,I,o)=>{var c=o(2858),x=o(96837),v=o(89719),_=o(94121),f=o(99287),t=o(19292),p=o(99454),l=o(84444),h=o(59905),m=o(47597),u=o(6967),g=o(28794),C=o(76782),A=o(37878),k=o(4264),F=o(21503),O=o(80891),R=o(13222),U=o(25940),V=o(90799),W=o(118),rt=o(16555),tt="[object Arguments]",lt="[object Function]",Ct="[object Object]",Ve={};Ve[tt]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object DataView]"]=Ve["[object Boolean]"]=Ve["[object Date]"]=Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve[Ct]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object Symbol]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Error]"]=Ve[lt]=Ve["[object WeakMap]"]=!1,w.exports=function Ce(Ae,Yn,Wn,ni,xn,sn){var je,wn=1&Yn,In=2&Yn,ze=4&Yn;if(Wn&&(je=xn?Wn(Ae,ni,xn,sn):Wn(Ae)),void 0!==je)return je;if(!U(Ae))return Ae;var ci=F(Ae);if(ci){if(je=C(Ae),!wn)return p(Ae,je)}else{var Mn=g(Ae),Tn=Mn==lt||"[object GeneratorFunction]"==Mn;if(O(Ae))return t(Ae,wn);if(Mn==Ct||Mn==tt||Tn&&!xn){if(je=In||Tn?{}:k(Ae),!wn)return In?h(Ae,f(je,Ae)):l(Ae,_(je,Ae))}else{if(!Ve[Mn])return xn?Ae:{};je=A(Ae,Mn,wn)}}sn||(sn=new c);var Hn=sn.get(Ae);if(Hn)return Hn;sn.set(Ae,je),V(Ae)?Ae.forEach(function(Xn){je.add(Ce(Xn,Yn,Wn,Xn,Ae,sn))}):R(Ae)&&Ae.forEach(function(Xn,jn){je.set(jn,Ce(Xn,Yn,Wn,jn,Ae,sn))});var Ne=ci?void 0:(ze?In?u:m:In?rt:W)(Ae);return x(Ne||Ae,function(Xn,jn){Ne&&(Xn=Ae[jn=Xn]),v(je,jn,Ce(Xn,Yn,Wn,jn,Ae,sn))}),je}},78858:(w,I,o)=>{var c=o(25940),x=Object.create,v=function(){function _(){}return function(f){if(!c(f))return{};if(x)return x(f);_.prototype=f;var t=new _;return _.prototype=void 0,t}}();w.exports=v},43132:(w,I,o)=>{var c=o(45184),v=o(16539)(c);w.exports=v},67308:(w,I,o)=>{var c=o(44129);w.exports=function x(v,_,f){for(var t=-1,p=v.length;++t<p;){var l=v[t],h=_(l);if(null!=h&&(void 0===m?h==h&&!c(h):f(h,m)))var m=h,u=l}return u}},33609:(w,I,o)=>{var c=o(43132);w.exports=function x(v,_){var f=[];return c(v,function(t,p,l){_(t,p,l)&&f.push(t)}),f}},65317:w=>{w.exports=function I(o,c,x,v){for(var _=o.length,f=x+(v?1:-1);v?f--:++f<_;)if(c(o[f],f,o))return f;return-1}},50686:(w,I,o)=>{var c=o(85059),x=o(75039);w.exports=function v(_,f,t,p,l){var h=-1,m=_.length;for(t||(t=x),l||(l=[]);++h<m;){var u=_[h];f>0&&t(u)?f>1?v(u,f-1,t,p,l):c(l,u):p||(l[l.length]=u)}return l}},30755:(w,I,o)=>{var x=o(40456)();w.exports=x},45184:(w,I,o)=>{var c=o(30755),x=o(118);w.exports=function v(_,f){return _&&c(_,f,x)}},15456:(w,I,o)=>{var c=o(65456),x=o(68533);w.exports=function v(_,f){for(var t=0,p=(f=c(f,_)).length;null!=_&&t<p;)_=_[x(f[t++])];return t&&t==p?_:void 0}},38247:(w,I,o)=>{var c=o(85059),x=o(21503);w.exports=function v(_,f,t){var p=f(_);return x(_)?p:c(p,t(_))}},93337:(w,I,o)=>{var c=o(60443),x=o(21318),v=o(92902),t=c?c.toStringTag:void 0;w.exports=function p(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":t&&t in Object(l)?x(l):v(l)}},31100:w=>{w.exports=function I(o,c){return o>c}},84781:w=>{var o=Object.prototype.hasOwnProperty;w.exports=function c(x,v){return null!=x&&o.call(x,v)}},69989:w=>{w.exports=function I(o,c){return null!=o&&c in Object(o)}},14164:(w,I,o)=>{var c=o(65317),x=o(70968),v=o(24977);w.exports=function _(f,t,p){return t==t?v(f,t,p):c(f,x,p)}},60186:(w,I,o)=>{var c=o(93337),x=o(72671);w.exports=function _(f){return x(f)&&"[object Arguments]"==c(f)}},85740:(w,I,o)=>{var c=o(58325),x=o(72671);w.exports=function v(_,f,t,p,l){return _===f||(null==_||null==f||!x(_)&&!x(f)?_!=_&&f!=f:c(_,f,t,p,v,l))}},58325:(w,I,o)=>{var c=o(2858),x=o(63914),v=o(78583),_=o(32286),f=o(28794),t=o(21503),p=o(80891),l=o(48159),m="[object Arguments]",u="[object Array]",g="[object Object]",A=Object.prototype.hasOwnProperty;w.exports=function k(F,O,R,U,V,W){var rt=t(F),nt=t(O),ut=rt?u:f(F),J=nt?u:f(O),tt=(ut=ut==m?g:ut)==g,Q=(J=J==m?g:J)==g,at=ut==J;if(at&&p(F)){if(!p(O))return!1;rt=!0,tt=!1}if(at&&!tt)return W||(W=new c),rt||l(F)?x(F,O,R,U,V,W):v(F,O,ut,R,U,V,W);if(!(1&R)){var H=tt&&A.call(F,"__wrapped__"),K=Q&&A.call(O,"__wrapped__");if(H||K){var lt=H?F.value():F,it=K?O.value():O;return W||(W=new c),V(lt,it,R,U,W)}}return!!at&&(W||(W=new c),_(F,O,R,U,V,W))}},97021:(w,I,o)=>{var c=o(28794),x=o(72671);w.exports=function _(f){return x(f)&&"[object Map]"==c(f)}},40431:(w,I,o)=>{var c=o(2858),x=o(85740);w.exports=function f(t,p,l,h){var m=l.length,u=m,g=!h;if(null==t)return!u;for(t=Object(t);m--;){var C=l[m];if(g&&C[2]?C[1]!==t[C[0]]:!(C[0]in t))return!1}for(;++m<u;){var A=(C=l[m])[0],k=t[A],F=C[1];if(g&&C[2]){if(void 0===k&&!(A in t))return!1}else{var O=new c;if(h)var R=h(k,F,A,t,p,O);if(!(void 0===R?x(F,k,3,h,O):R))return!1}}return!0}},70968:w=>{w.exports=function I(o){return o!=o}},37304:(w,I,o)=>{var c=o(75946),x=o(91943),v=o(25940),_=o(52827),t=/^\[object .+?Constructor\]$/,u=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");w.exports=function g(C){return!(!v(C)||x(C))&&(c(C)?u:t).test(_(C))}},771:(w,I,o)=>{var c=o(28794),x=o(72671);w.exports=function _(f){return x(f)&&"[object Set]"==c(f)}},1083:(w,I,o)=>{var c=o(93337),x=o(96231),v=o(72671),at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1,w.exports=function H(K){return v(K)&&x(K.length)&&!!at[c(K)]}},96517:(w,I,o)=>{var c=o(98133),x=o(9458),v=o(32608),_=o(21503),f=o(87495);w.exports=function t(p){return"function"==typeof p?p:null==p?v:"object"==typeof p?_(p)?x(p[0],p[1]):c(p):f(p)}},81172:(w,I,o)=>{var c=o(45488),x=o(85491),_=Object.prototype.hasOwnProperty;w.exports=function f(t){if(!c(t))return x(t);var p=[];for(var l in Object(t))_.call(t,l)&&"constructor"!=l&&p.push(l);return p}},92809:(w,I,o)=>{var c=o(25940),x=o(45488),v=o(32158),f=Object.prototype.hasOwnProperty;w.exports=function t(p){if(!c(p))return v(p);var l=x(p),h=[];for(var m in p)"constructor"==m&&(l||!f.call(p,m))||h.push(m);return h}},99069:w=>{w.exports=function I(o,c){return o<c}},92046:(w,I,o)=>{var c=o(43132),x=o(56507);w.exports=function v(_,f){var t=-1,p=x(_)?Array(_.length):[];return c(_,function(l,h,m){p[++t]=f(l,h,m)}),p}},98133:(w,I,o)=>{var c=o(40431),x=o(22379),v=o(642);w.exports=function _(f){var t=x(f);return 1==t.length&&t[0][2]?v(t[0][0],t[0][1]):function(p){return p===f||c(p,f,t)}}},9458:(w,I,o)=>{var c=o(85740),x=o(8817),v=o(11172),_=o(45352),f=o(22442),t=o(642),p=o(68533);w.exports=function m(u,g){return _(u)&&f(g)?t(p(u),g):function(C){var A=x(C,u);return void 0===A&&A===g?v(C,u):c(g,A,3)}}},73842:(w,I,o)=>{var c=o(2858),x=o(49276),v=o(30755),_=o(33675),f=o(25940),t=o(16555),p=o(99351);w.exports=function l(h,m,u,g,C){h!==m&&v(m,function(A,k){if(C||(C=new c),f(A))_(h,m,k,u,l,g,C);else{var F=g?g(p(h,k),A,k+"",h,m,C):void 0;void 0===F&&(F=A),x(h,k,F)}},t)}},33675:(w,I,o)=>{var c=o(49276),x=o(19292),v=o(65208),_=o(99454),f=o(4264),t=o(77151),p=o(21503),l=o(92377),h=o(80891),m=o(75946),u=o(25940),g=o(97614),C=o(48159),A=o(99351),k=o(8067);w.exports=function F(O,R,U,V,W,rt,nt){var ut=A(O,U),J=A(R,U),tt=nt.get(J);if(tt)c(O,U,tt);else{var Q=rt?rt(ut,J,U+"",O,R,nt):void 0,at=void 0===Q;if(at){var H=p(J),K=!H&&h(J),lt=!H&&!K&&C(J);Q=J,H||K||lt?p(ut)?Q=ut:l(ut)?Q=_(ut):K?(at=!1,Q=x(J,!0)):lt?(at=!1,Q=v(J,!0)):Q=[]:g(J)||t(J)?(Q=ut,t(ut)?Q=k(ut):(!u(ut)||m(ut))&&(Q=f(J))):at=!1}at&&(nt.set(J,Q),W(Q,J,V,rt,nt),nt.delete(J)),c(O,U,Q)}}},6119:(w,I,o)=>{var c=o(84633),x=o(15456),v=o(96517),_=o(92046),f=o(42061),t=o(85647),p=o(41215),l=o(32608),h=o(21503);w.exports=function m(u,g,C){g=g.length?c(g,function(F){return h(F)?function(O){return x(O,1===F.length?F[0]:F)}:F}):[l];var A=-1;g=c(g,t(v));var k=_(u,function(F,O,R){return{criteria:c(g,function(V){return V(F)}),index:++A,value:F}});return f(k,function(F,O){return p(F,O,C)})}},83021:(w,I,o)=>{var c=o(95495),x=o(11172);w.exports=function v(_,f){return c(_,f,function(t,p){return x(_,p)})}},95495:(w,I,o)=>{var c=o(15456),x=o(55963),v=o(65456);w.exports=function _(f,t,p){for(var l=-1,h=t.length,m={};++l<h;){var u=t[l],g=c(f,u);p(g,u)&&x(m,v(u,f),g)}return m}},11847:w=>{w.exports=function I(o){return function(c){return null==c?void 0:c[o]}}},39222:(w,I,o)=>{var c=o(15456);w.exports=function x(v){return function(_){return c(_,v)}}},16307:w=>{var I=Math.ceil,o=Math.max;w.exports=function c(x,v,_,f){for(var t=-1,p=o(I((v-x)/(_||1)),0),l=Array(p);p--;)l[f?p:++t]=x,x+=_;return l}},13570:w=>{w.exports=function I(o,c,x,v,_){return _(o,function(f,t,p){x=v?(v=!1,f):c(x,f,t,p)}),x}},23269:(w,I,o)=>{var c=o(32608),x=o(53983),v=o(72185);w.exports=function _(f,t){return v(x(f,t,c),f+"")}},55963:(w,I,o)=>{var c=o(89719),x=o(65456),v=o(58442),_=o(25940),f=o(68533);w.exports=function t(p,l,h,m){if(!_(p))return p;for(var u=-1,g=(l=x(l,p)).length,C=g-1,A=p;null!=A&&++u<g;){var k=f(l[u]),F=h;if("__proto__"===k||"constructor"===k||"prototype"===k)return p;if(u!=C){var O=A[k];void 0===(F=m?m(O,k,A):void 0)&&(F=_(O)?O:v(l[u+1])?[]:{})}c(A,k,F),A=A[k]}return p}},69510:(w,I,o)=>{var c=o(76684),x=o(56713),v=o(32608);w.exports=x?function(f,t){return x(f,"toString",{configurable:!0,enumerable:!1,value:c(t),writable:!0})}:v},42061:w=>{w.exports=function I(o,c){var x=o.length;for(o.sort(c);x--;)o[x]=o[x].value;return o}},85334:w=>{w.exports=function I(o,c){for(var x=-1,v=Array(o);++x<o;)v[x]=c(x);return v}},93935:(w,I,o)=>{var c=o(60443),x=o(84633),v=o(21503),_=o(44129),t=c?c.prototype:void 0,p=t?t.toString:void 0;w.exports=function l(h){if("string"==typeof h)return h;if(v(h))return x(h,l)+"";if(_(h))return p?p.call(h):"";var m=h+"";return"0"==m&&1/h==-1/0?"-0":m}},83348:(w,I,o)=>{var c=o(42760),x=/^\s+/;w.exports=function v(_){return _&&_.slice(0,c(_)+1).replace(x,"")}},85647:w=>{w.exports=function I(o){return function(c){return o(c)}}},80707:(w,I,o)=>{var c=o(58849),x=o(61253),v=o(37609),_=o(25972),f=o(14575),t=o(24174);w.exports=function l(h,m,u){var g=-1,C=x,A=h.length,k=!0,F=[],O=F;if(u)k=!1,C=v;else if(A>=200){var R=m?null:f(h);if(R)return t(R);k=!1,C=_,O=new c}else O=m?[]:F;t:for(;++g<A;){var U=h[g],V=m?m(U):U;if(U=u||0!==U?U:0,k&&V==V){for(var W=O.length;W--;)if(O[W]===V)continue t;m&&O.push(V),F.push(U)}else C(O,V,u)||(O!==F&&O.push(V),F.push(U))}return F}},19179:(w,I,o)=>{var c=o(84633);w.exports=function x(v,_){return c(_,function(f){return v[f]})}},38645:w=>{w.exports=function I(o,c,x){for(var v=-1,_=o.length,f=c.length,t={};++v<_;)x(t,o[v],v<f?c[v]:void 0);return t}},25972:w=>{w.exports=function I(o,c){return o.has(c)}},21481:(w,I,o)=>{var c=o(32608);w.exports=function x(v){return"function"==typeof v?v:c}},65456:(w,I,o)=>{var c=o(21503),x=o(45352),v=o(32855),_=o(73943);w.exports=function f(t,p){return c(t)?t:x(t,p)?[t]:v(_(t))}},43362:(w,I,o)=>{var c=o(73457);w.exports=function x(v){var _=new v.constructor(v.byteLength);return new c(_).set(new c(v)),_}},19292:(w,I,o)=>{w=o.nmd(w);var c=o(12119),x=I&&!I.nodeType&&I,v=x&&w&&!w.nodeType&&w,f=v&&v.exports===x?c.Buffer:void 0,t=f?f.allocUnsafe:void 0;w.exports=function p(l,h){if(h)return l.slice();var m=l.length,u=t?t(m):new l.constructor(m);return l.copy(u),u}},17e3:(w,I,o)=>{var c=o(43362);w.exports=function x(v,_){var f=_?c(v.buffer):v.buffer;return new v.constructor(f,v.byteOffset,v.byteLength)}},74098:w=>{var I=/\w*$/;w.exports=function o(c){var x=new c.constructor(c.source,I.exec(c));return x.lastIndex=c.lastIndex,x}},62533:(w,I,o)=>{var c=o(60443),x=c?c.prototype:void 0,v=x?x.valueOf:void 0;w.exports=function _(f){return v?Object(v.call(f)):{}}},65208:(w,I,o)=>{var c=o(43362);w.exports=function x(v,_){var f=_?c(v.buffer):v.buffer;return new v.constructor(f,v.byteOffset,v.length)}},13443:(w,I,o)=>{var c=o(44129);w.exports=function x(v,_){if(v!==_){var f=void 0!==v,t=null===v,p=v==v,l=c(v),h=void 0!==_,m=null===_,u=_==_,g=c(_);if(!m&&!g&&!l&&v>_||l&&h&&u&&!m&&!g||t&&h&&u||!f&&u||!p)return 1;if(!t&&!l&&!g&&v<_||g&&f&&p&&!t&&!l||m&&f&&p||!h&&p||!u)return-1}return 0}},41215:(w,I,o)=>{var c=o(13443);w.exports=function x(v,_,f){for(var t=-1,p=v.criteria,l=_.criteria,h=p.length,m=f.length;++t<h;){var u=c(p[t],l[t]);if(u)return t>=m?u:u*("desc"==f[t]?-1:1)}return v.index-_.index}},99454:w=>{w.exports=function I(o,c){var x=-1,v=o.length;for(c||(c=Array(v));++x<v;)c[x]=o[x];return c}},31989:(w,I,o)=>{var c=o(89719),x=o(85683);w.exports=function v(_,f,t,p){var l=!t;t||(t={});for(var h=-1,m=f.length;++h<m;){var u=f[h],g=p?p(t[u],_[u],u,t,_):void 0;void 0===g&&(g=_[u]),l?x(t,u,g):c(t,u,g)}return t}},84444:(w,I,o)=>{var c=o(31989),x=o(39383);w.exports=function v(_,f){return c(_,x(_),f)}},59905:(w,I,o)=>{var c=o(31989),x=o(53051);w.exports=function v(_,f){return c(_,x(_),f)}},24610:(w,I,o)=>{var c=o(12119);w.exports=c["__core-js_shared__"]},84944:(w,I,o)=>{var c=o(23269),x=o(93342);w.exports=function v(_){return c(function(f,t){var p=-1,l=t.length,h=l>1?t[l-1]:void 0,m=l>2?t[2]:void 0;for(h=_.length>3&&"function"==typeof h?(l--,h):void 0,m&&x(t[0],t[1],m)&&(h=l<3?void 0:h,l=1),f=Object(f);++p<l;){var u=t[p];u&&_(f,u,p,h)}return f})}},16539:(w,I,o)=>{var c=o(56507);w.exports=function x(v,_){return function(f,t){if(null==f)return f;if(!c(f))return v(f,t);for(var p=f.length,l=_?p:-1,h=Object(f);(_?l--:++l<p)&&!1!==t(h[l],l,h););return f}}},40456:w=>{w.exports=function I(o){return function(c,x,v){for(var _=-1,f=Object(c),t=v(c),p=t.length;p--;){var l=t[o?p:++_];if(!1===x(f[l],l,f))break}return c}}},24653:(w,I,o)=>{var c=o(96517),x=o(56507),v=o(118);w.exports=function _(f){return function(t,p,l){var h=Object(t);if(!x(t)){var m=c(p,3);t=v(t),p=function(g){return m(h[g],g,h)}}var u=f(t,p,l);return u>-1?h[m?t[u]:u]:void 0}}},97509:(w,I,o)=>{var c=o(16307),x=o(93342),v=o(12232);w.exports=function _(f){return function(t,p,l){return l&&"number"!=typeof l&&x(t,p,l)&&(p=l=void 0),t=v(t),void 0===p?(p=t,t=0):p=v(p),l=void 0===l?t<p?1:-1:v(l),c(t,p,l,f)}}},14575:(w,I,o)=>{var c=o(46323),x=o(12552),v=o(24174),f=c&&1/v(new c([,-0]))[1]==1/0?function(t){return new c(t)}:x;w.exports=f},56713:(w,I,o)=>{var c=o(53436),x=function(){try{var v=c(Object,"defineProperty");return v({},"",{}),v}catch(_){}}();w.exports=x},63914:(w,I,o)=>{var c=o(58849),x=o(79503),v=o(25972);w.exports=function t(p,l,h,m,u,g){var C=1&h,A=p.length,k=l.length;if(A!=k&&!(C&&k>A))return!1;var F=g.get(p),O=g.get(l);if(F&&O)return F==l&&O==p;var R=-1,U=!0,V=2&h?new c:void 0;for(g.set(p,l),g.set(l,p);++R<A;){var W=p[R],rt=l[R];if(m)var nt=C?m(rt,W,R,l,p,g):m(W,rt,R,p,l,g);if(void 0!==nt){if(nt)continue;U=!1;break}if(V){if(!x(l,function(ut,J){if(!v(V,J)&&(W===ut||u(W,ut,h,m,g)))return V.push(J)})){U=!1;break}}else if(W!==rt&&!u(W,rt,h,m,g)){U=!1;break}}return g.delete(p),g.delete(l),U}},78583:(w,I,o)=>{var c=o(60443),x=o(73457),v=o(20217),_=o(63914),f=o(83205),t=o(24174),V=c?c.prototype:void 0,W=V?V.valueOf:void 0;w.exports=function rt(nt,ut,J,tt,Q,at,H){switch(J){case"[object DataView]":if(nt.byteLength!=ut.byteLength||nt.byteOffset!=ut.byteOffset)return!1;nt=nt.buffer,ut=ut.buffer;case"[object ArrayBuffer]":return!(nt.byteLength!=ut.byteLength||!at(new x(nt),new x(ut)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+nt,+ut);case"[object Error]":return nt.name==ut.name&&nt.message==ut.message;case"[object RegExp]":case"[object String]":return nt==ut+"";case"[object Map]":var K=f;case"[object Set]":if(K||(K=t),nt.size!=ut.size&&!(1&tt))return!1;var it=H.get(nt);if(it)return it==ut;tt|=2,H.set(nt,ut);var z=_(K(nt),K(ut),tt,Q,at,H);return H.delete(nt),z;case"[object Symbol]":if(W)return W.call(nt)==W.call(ut)}return!1}},32286:(w,I,o)=>{var c=o(47597),_=Object.prototype.hasOwnProperty;w.exports=function f(t,p,l,h,m,u){var g=1&l,C=c(t),A=C.length;if(A!=c(p).length&&!g)return!1;for(var O=A;O--;){var R=C[O];if(!(g?R in p:_.call(p,R)))return!1}var U=u.get(t),V=u.get(p);if(U&&V)return U==p&&V==t;var W=!0;u.set(t,p),u.set(p,t);for(var rt=g;++O<A;){var nt=t[R=C[O]],ut=p[R];if(h)var J=g?h(ut,nt,R,p,t,u):h(nt,ut,R,t,p,u);if(!(void 0===J?nt===ut||m(nt,ut,l,h,u):J)){W=!1;break}rt||(rt="constructor"==R)}if(W&&!rt){var tt=t.constructor,Q=p.constructor;tt!=Q&&"constructor"in t&&"constructor"in p&&!("function"==typeof tt&&tt instanceof tt&&"function"==typeof Q&&Q instanceof Q)&&(W=!1)}return u.delete(t),u.delete(p),W}},3975:(w,I,o)=>{var c=o(22274),x=o(53983),v=o(72185);w.exports=function _(f){return v(x(f,void 0,c),f+"")}},79122:w=>{var I="object"==typeof global&&global&&global.Object===Object&&global;w.exports=I},47597:(w,I,o)=>{var c=o(38247),x=o(39383),v=o(118);w.exports=function _(f){return c(f,v,x)}},6967:(w,I,o)=>{var c=o(38247),x=o(53051),v=o(16555);w.exports=function _(f){return c(f,v,x)}},54537:(w,I,o)=>{var c=o(23819);w.exports=function x(v,_){var f=v.__data__;return c(_)?f["string"==typeof _?"string":"hash"]:f.map}},22379:(w,I,o)=>{var c=o(22442),x=o(118);w.exports=function v(_){for(var f=x(_),t=f.length;t--;){var p=f[t],l=_[p];f[t]=[p,l,c(l)]}return f}},53436:(w,I,o)=>{var c=o(37304),x=o(51990);w.exports=function v(_,f){var t=x(_,f);return c(t)?t:void 0}},29519:(w,I,o)=>{var x=o(69385)(Object.getPrototypeOf,Object);w.exports=x},21318:(w,I,o)=>{var c=o(60443),x=Object.prototype,v=x.hasOwnProperty,_=x.toString,f=c?c.toStringTag:void 0;w.exports=function t(p){var l=v.call(p,f),h=p[f];try{p[f]=void 0;var m=!0}catch(g){}var u=_.call(p);return m&&(l?p[f]=h:delete p[f]),u}},39383:(w,I,o)=>{var c=o(69779),x=o(49975),_=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;w.exports=f?function(p){return null==p?[]:(p=Object(p),c(f(p),function(l){return _.call(p,l)}))}:x},53051:(w,I,o)=>{var c=o(85059),x=o(29519),v=o(39383),_=o(49975);w.exports=Object.getOwnPropertySymbols?function(p){for(var l=[];p;)c(l,v(p)),p=x(p);return l}:_},28794:(w,I,o)=>{var c=o(37244),x=o(51501),v=o(44267),_=o(46323),f=o(24243),t=o(93337),p=o(52827),l="[object Map]",m="[object Promise]",u="[object Set]",g="[object WeakMap]",C="[object DataView]",A=p(c),k=p(x),F=p(v),O=p(_),R=p(f),U=t;(c&&U(new c(new ArrayBuffer(1)))!=C||x&&U(new x)!=l||v&&U(v.resolve())!=m||_&&U(new _)!=u||f&&U(new f)!=g)&&(U=function(V){var W=t(V),rt="[object Object]"==W?V.constructor:void 0,nt=rt?p(rt):"";if(nt)switch(nt){case A:return C;case k:return l;case F:return m;case O:return u;case R:return g}return W}),w.exports=U},51990:w=>{w.exports=function I(o,c){return null==o?void 0:o[c]}},47283:(w,I,o)=>{var c=o(65456),x=o(77151),v=o(21503),_=o(58442),f=o(96231),t=o(68533);w.exports=function p(l,h,m){for(var u=-1,g=(h=c(h,l)).length,C=!1;++u<g;){var A=t(h[u]);if(!(C=null!=l&&m(l,A)))break;l=l[A]}return C||++u!=g?C:!!(g=null==l?0:l.length)&&f(g)&&_(A,g)&&(v(l)||x(l))}},77609:w=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");w.exports=function p(l){return t.test(l)}},64312:(w,I,o)=>{var c=o(60862);w.exports=function x(){this.__data__=c?c(null):{},this.size=0}},46421:w=>{w.exports=function I(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}},15764:(w,I,o)=>{var c=o(60862),_=Object.prototype.hasOwnProperty;w.exports=function f(t){var p=this.__data__;if(c){var l=p[t];return"__lodash_hash_undefined__"===l?void 0:l}return _.call(p,t)?p[t]:void 0}},18685:(w,I,o)=>{var c=o(60862),v=Object.prototype.hasOwnProperty;w.exports=function _(f){var t=this.__data__;return c?void 0!==t[f]:v.call(t,f)}},26676:(w,I,o)=>{var c=o(60862);w.exports=function v(_,f){var t=this.__data__;return this.size+=this.has(_)?0:1,t[_]=c&&void 0===f?"__lodash_hash_undefined__":f,this}},76782:w=>{var o=Object.prototype.hasOwnProperty;w.exports=function c(x){var v=x.length,_=new x.constructor(v);return v&&"string"==typeof x[0]&&o.call(x,"index")&&(_.index=x.index,_.input=x.input),_}},37878:(w,I,o)=>{var c=o(43362),x=o(17e3),v=o(74098),_=o(62533),f=o(65208);w.exports=function J(tt,Q,at){var H=tt.constructor;switch(Q){case"[object ArrayBuffer]":return c(tt);case"[object Boolean]":case"[object Date]":return new H(+tt);case"[object DataView]":return x(tt,at);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(tt,at);case"[object Map]":case"[object Set]":return new H;case"[object Number]":case"[object String]":return new H(tt);case"[object RegExp]":return v(tt);case"[object Symbol]":return _(tt)}}},4264:(w,I,o)=>{var c=o(78858),x=o(29519),v=o(45488);w.exports=function _(f){return"function"!=typeof f.constructor||v(f)?{}:c(x(f))}},75039:(w,I,o)=>{var c=o(60443),x=o(77151),v=o(21503),_=c?c.isConcatSpreadable:void 0;w.exports=function f(t){return v(t)||x(t)||!!(_&&t&&t[_])}},58442:w=>{var o=/^(?:0|[1-9]\d*)$/;w.exports=function c(x,v){var _=typeof x;return!!(v=null==v?9007199254740991:v)&&("number"==_||"symbol"!=_&&o.test(x))&&x>-1&&x%1==0&&x<v}},93342:(w,I,o)=>{var c=o(20217),x=o(56507),v=o(58442),_=o(25940);w.exports=function f(t,p,l){if(!_(l))return!1;var h=typeof p;return!!("number"==h?x(l)&&v(p,l.length):"string"==h&&p in l)&&c(l[p],t)}},45352:(w,I,o)=>{var c=o(21503),x=o(44129),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;w.exports=function f(t,p){if(c(t))return!1;var l=typeof t;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=t&&!x(t))||_.test(t)||!v.test(t)||null!=p&&t in Object(p)}},23819:w=>{w.exports=function I(o){var c=typeof o;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==o:null===o}},91943:(w,I,o)=>{var _,c=o(24610),x=(_=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";w.exports=function v(_){return!!x&&x in _}},45488:w=>{var I=Object.prototype;w.exports=function o(c){var x=c&&c.constructor;return c===("function"==typeof x&&x.prototype||I)}},22442:(w,I,o)=>{var c=o(25940);w.exports=function x(v){return v==v&&!c(v)}},41840:w=>{w.exports=function I(){this.__data__=[],this.size=0}},34378:(w,I,o)=>{var c=o(43503),v=Array.prototype.splice;w.exports=function _(f){var t=this.__data__,p=c(t,f);return!(p<0||(p==t.length-1?t.pop():v.call(t,p,1),--this.size,0))}},54981:(w,I,o)=>{var c=o(43503);w.exports=function x(v){var _=this.__data__,f=c(_,v);return f<0?void 0:_[f][1]}},67343:(w,I,o)=>{var c=o(43503);w.exports=function x(v){return c(this.__data__,v)>-1}},98895:(w,I,o)=>{var c=o(43503);w.exports=function x(v,_){var f=this.__data__,t=c(f,v);return t<0?(++this.size,f.push([v,_])):f[t][1]=_,this}},10638:(w,I,o)=>{var c=o(54994),x=o(9215),v=o(51501);w.exports=function _(){this.size=0,this.__data__={hash:new c,map:new(v||x),string:new c}}},11184:(w,I,o)=>{var c=o(54537);w.exports=function x(v){var _=c(this,v).delete(v);return this.size-=_?1:0,_}},70866:(w,I,o)=>{var c=o(54537);w.exports=function x(v){return c(this,v).get(v)}},43771:(w,I,o)=>{var c=o(54537);w.exports=function x(v){return c(this,v).has(v)}},51772:(w,I,o)=>{var c=o(54537);w.exports=function x(v,_){var f=c(this,v),t=f.size;return f.set(v,_),this.size+=f.size==t?0:1,this}},83205:w=>{w.exports=function I(o){var c=-1,x=Array(o.size);return o.forEach(function(v,_){x[++c]=[_,v]}),x}},642:w=>{w.exports=function I(o,c){return function(x){return null!=x&&x[o]===c&&(void 0!==c||o in Object(x))}}},15144:(w,I,o)=>{var c=o(30535);w.exports=function v(_){var f=c(_,function(p){return 500===t.size&&t.clear(),p}),t=f.cache;return f}},60862:(w,I,o)=>{var x=o(53436)(Object,"create");w.exports=x},85491:(w,I,o)=>{var x=o(69385)(Object.keys,Object);w.exports=x},32158:w=>{w.exports=function I(o){var c=[];if(null!=o)for(var x in Object(o))c.push(x);return c}},73597:(w,I,o)=>{w=o.nmd(w);var c=o(79122),x=I&&!I.nodeType&&I,v=x&&w&&!w.nodeType&&w,f=v&&v.exports===x&&c.process,t=function(){try{return v&&v.require&&v.require("util").types||f&&f.binding&&f.binding("util")}catch(l){}}();w.exports=t},92902:w=>{var o=Object.prototype.toString;w.exports=function c(x){return o.call(x)}},69385:w=>{w.exports=function I(o,c){return function(x){return o(c(x))}}},53983:(w,I,o)=>{var c=o(26999),x=Math.max;w.exports=function v(_,f,t){return f=x(void 0===f?_.length-1:f,0),function(){for(var p=arguments,l=-1,h=x(p.length-f,0),m=Array(h);++l<h;)m[l]=p[f+l];l=-1;for(var u=Array(f+1);++l<f;)u[l]=p[l];return u[f]=t(m),c(_,this,u)}}},12119:(w,I,o)=>{var c=o(79122),x="object"==typeof self&&self&&self.Object===Object&&self,v=c||x||Function("return this")();w.exports=v},99351:w=>{w.exports=function I(o,c){if(("constructor"!==c||"function"!=typeof o[c])&&"__proto__"!=c)return o[c]}},4600:w=>{w.exports=function o(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},31387:w=>{w.exports=function I(o){return this.__data__.has(o)}},24174:w=>{w.exports=function I(o){var c=-1,x=Array(o.size);return o.forEach(function(v){x[++c]=v}),x}},72185:(w,I,o)=>{var c=o(69510),v=o(10029)(c);w.exports=v},10029:w=>{var c=Date.now;w.exports=function x(v){var _=0,f=0;return function(){var t=c(),p=16-(t-f);if(f=t,p>0){if(++_>=800)return arguments[0]}else _=0;return v.apply(void 0,arguments)}}},13720:(w,I,o)=>{var c=o(9215);w.exports=function x(){this.__data__=new c,this.size=0}},64410:w=>{w.exports=function I(o){var c=this.__data__,x=c.delete(o);return this.size=c.size,x}},45576:w=>{w.exports=function I(o){return this.__data__.get(o)}},22247:w=>{w.exports=function I(o){return this.__data__.has(o)}},41585:(w,I,o)=>{var c=o(9215),x=o(51501),v=o(99850);w.exports=function f(t,p){var l=this.__data__;if(l instanceof c){var h=l.__data__;if(!x||h.length<199)return h.push([t,p]),this.size=++l.size,this;l=this.__data__=new v(h)}return l.set(t,p),this.size=l.size,this}},24977:w=>{w.exports=function I(o,c,x){for(var v=x-1,_=o.length;++v<_;)if(o[v]===c)return v;return-1}},52315:(w,I,o)=>{var c=o(75481),x=o(77609),v=o(81149);w.exports=function _(f){return x(f)?v(f):c(f)}},32855:(w,I,o)=>{var c=o(15144),x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,_=c(function(f){var t=[];return 46===f.charCodeAt(0)&&t.push(""),f.replace(x,function(p,l,h,m){t.push(h?m.replace(v,"$1"):l||p)}),t});w.exports=_},68533:(w,I,o)=>{var c=o(44129);w.exports=function v(_){if("string"==typeof _||c(_))return _;var f=_+"";return"0"==f&&1/_==-1/0?"-0":f}},52827:w=>{var o=Function.prototype.toString;w.exports=function c(x){if(null!=x){try{return o.call(x)}catch(v){}try{return x+""}catch(v){}}return""}},42760:w=>{var I=/\s/;w.exports=function o(c){for(var x=c.length;x--&&I.test(c.charAt(x)););return x}},81149:w=>{var I="\\ud800-\\udfff",f="["+I+"]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",p="\\ud83c[\\udffb-\\udfff]",h="[^"+I+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",C="(?:"+t+"|"+p+")?",A="[\\ufe0e\\ufe0f]?",F=A+C+"(?:\\u200d(?:"+[h,m,u].join("|")+")"+A+C+")*",O="(?:"+[h+t+"?",t,m,u,f].join("|")+")",R=RegExp(p+"(?="+p+")|"+O+F,"g");w.exports=function U(V){for(var W=R.lastIndex=0;R.test(V);)++W;return W}},11094:(w,I,o)=>{var c=o(44462);w.exports=function v(_){return c(_,4)}},90733:(w,I,o)=>{var c=o(44462);w.exports=function _(f){return c(f,5)}},76684:w=>{w.exports=function I(o){return function(){return o}}},28800:(w,I,o)=>{var c=o(23269),x=o(20217),v=o(93342),_=o(16555),f=Object.prototype,t=f.hasOwnProperty,p=c(function(l,h){l=Object(l);var m=-1,u=h.length,g=u>2?h[2]:void 0;for(g&&v(h[0],h[1],g)&&(u=1);++m<u;)for(var C=h[m],A=_(C),k=-1,F=A.length;++k<F;){var O=A[k],R=l[O];(void 0===R||x(R,f[O])&&!t.call(l,O))&&(l[O]=C[O])}return l});w.exports=p},35474:(w,I,o)=>{w.exports=o(89851)},20217:w=>{w.exports=function I(o,c){return o===c||o!=o&&c!=c}},35281:(w,I,o)=>{var c=o(69779),x=o(33609),v=o(96517),_=o(21503);w.exports=function f(t,p){return(_(t)?c:x)(t,v(p,3))}},62516:(w,I,o)=>{var v=o(24653)(o(36397));w.exports=v},36397:(w,I,o)=>{var c=o(65317),x=o(96517),v=o(44401),_=Math.max;w.exports=function f(t,p,l){var h=null==t?0:t.length;if(!h)return-1;var m=null==l?0:v(l);return m<0&&(m=_(h+m,0)),c(t,x(p,3),m)}},22274:(w,I,o)=>{var c=o(50686);w.exports=function x(v){return null!=v&&v.length?c(v,1):[]}},89851:(w,I,o)=>{var c=o(96837),x=o(43132),v=o(21481),_=o(21503);w.exports=function f(t,p){return(_(t)?c:x)(t,v(p))}},41176:(w,I,o)=>{var c=o(30755),x=o(21481),v=o(16555);w.exports=function _(f,t){return null==f?f:c(f,x(t),v)}},8817:(w,I,o)=>{var c=o(15456);w.exports=function x(v,_,f){var t=null==v?void 0:c(v,_);return void 0===t?f:t}},54842:(w,I,o)=>{var c=o(84781),x=o(47283);w.exports=function v(_,f){return null!=_&&x(_,f,c)}},11172:(w,I,o)=>{var c=o(69989),x=o(47283);w.exports=function v(_,f){return null!=_&&x(_,f,c)}},32608:w=>{w.exports=function I(o){return o}},77151:(w,I,o)=>{var c=o(60186),x=o(72671),v=Object.prototype,_=v.hasOwnProperty,f=v.propertyIsEnumerable,t=c(function(){return arguments}())?c:function(p){return x(p)&&_.call(p,"callee")&&!f.call(p,"callee")};w.exports=t},21503:w=>{w.exports=Array.isArray},56507:(w,I,o)=>{var c=o(75946),x=o(96231);w.exports=function v(_){return null!=_&&x(_.length)&&!c(_)}},92377:(w,I,o)=>{var c=o(56507),x=o(72671);w.exports=function v(_){return x(_)&&c(_)}},80891:(w,I,o)=>{w=o.nmd(w);var c=o(12119),x=o(63580),v=I&&!I.nodeType&&I,_=v&&w&&!w.nodeType&&w,t=_&&_.exports===v?c.Buffer:void 0;w.exports=(t?t.isBuffer:void 0)||x},71973:(w,I,o)=>{var c=o(81172),x=o(28794),v=o(77151),_=o(21503),f=o(56507),t=o(80891),p=o(45488),l=o(48159),g=Object.prototype.hasOwnProperty;w.exports=function C(A){if(null==A)return!0;if(f(A)&&(_(A)||"string"==typeof A||"function"==typeof A.splice||t(A)||l(A)||v(A)))return!A.length;var k=x(A);if("[object Map]"==k||"[object Set]"==k)return!A.size;if(p(A))return!c(A).length;for(var F in A)if(g.call(A,F))return!1;return!0}},75946:(w,I,o)=>{var c=o(93337),x=o(25940);w.exports=function p(l){if(!x(l))return!1;var h=c(l);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}},96231:w=>{w.exports=function o(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991}},13222:(w,I,o)=>{var c=o(97021),x=o(85647),v=o(73597),_=v&&v.isMap,f=_?x(_):c;w.exports=f},25940:w=>{w.exports=function I(o){var c=typeof o;return null!=o&&("object"==c||"function"==c)}},72671:w=>{w.exports=function I(o){return null!=o&&"object"==typeof o}},97614:(w,I,o)=>{var c=o(93337),x=o(29519),v=o(72671),p=Function.prototype.toString,l=Object.prototype.hasOwnProperty,h=p.call(Object);w.exports=function m(u){if(!v(u)||"[object Object]"!=c(u))return!1;var g=x(u);if(null===g)return!0;var C=l.call(g,"constructor")&&g.constructor;return"function"==typeof C&&C instanceof C&&p.call(C)==h}},90799:(w,I,o)=>{var c=o(771),x=o(85647),v=o(73597),_=v&&v.isSet,f=_?x(_):c;w.exports=f},30248:(w,I,o)=>{var c=o(93337),x=o(21503),v=o(72671);w.exports=function f(t){return"string"==typeof t||!x(t)&&v(t)&&"[object String]"==c(t)}},44129:(w,I,o)=>{var c=o(93337),x=o(72671);w.exports=function _(f){return"symbol"==typeof f||x(f)&&"[object Symbol]"==c(f)}},48159:(w,I,o)=>{var c=o(1083),x=o(85647),v=o(73597),_=v&&v.isTypedArray,f=_?x(_):c;w.exports=f},34235:w=>{w.exports=function I(o){return void 0===o}},118:(w,I,o)=>{var c=o(72271),x=o(81172),v=o(56507);w.exports=function _(f){return v(f)?c(f):x(f)}},16555:(w,I,o)=>{var c=o(72271),x=o(92809),v=o(56507);w.exports=function _(f){return v(f)?c(f,!0):x(f)}},25809:w=>{w.exports=function I(o){var c=null==o?0:o.length;return c?o[c-1]:void 0}},19984:(w,I,o)=>{var c=o(84633),x=o(96517),v=o(92046),_=o(21503);w.exports=function f(t,p){return(_(t)?c:v)(t,x(p,3))}},10203:(w,I,o)=>{var c=o(85683),x=o(45184),v=o(96517);w.exports=function _(f,t){var p={};return t=v(t,3),x(f,function(l,h,m){c(p,h,t(l,h,m))}),p}},18176:(w,I,o)=>{var c=o(67308),x=o(31100),v=o(32608);w.exports=function _(f){return f&&f.length?c(f,v,x):void 0}},30535:(w,I,o)=>{var c=o(99850);function v(_,f){if("function"!=typeof _||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var t=function(){var p=arguments,l=f?f.apply(this,p):p[0],h=t.cache;if(h.has(l))return h.get(l);var m=_.apply(this,p);return t.cache=h.set(l,m)||h,m};return t.cache=new(v.Cache||c),t}v.Cache=c,w.exports=v},80567:(w,I,o)=>{var c=o(73842),v=o(84944)(function(_,f,t){c(_,f,t)});w.exports=v},29439:(w,I,o)=>{var c=o(67308),x=o(99069),v=o(32608);w.exports=function _(f){return f&&f.length?c(f,v,x):void 0}},29525:(w,I,o)=>{var c=o(67308),x=o(96517),v=o(99069);w.exports=function _(f,t){return f&&f.length?c(f,x(t,2),v):void 0}},12552:w=>{w.exports=function I(){}},31710:(w,I,o)=>{var c=o(12119);w.exports=function(){return c.Date.now()}},16372:(w,I,o)=>{var c=o(83021),v=o(3975)(function(_,f){return null==_?{}:c(_,f)});w.exports=v},87495:(w,I,o)=>{var c=o(11847),x=o(39222),v=o(45352),_=o(68533);w.exports=function f(t){return v(t)?c(_(t)):x(t)}},90361:(w,I,o)=>{var x=o(97509)();w.exports=x},81337:(w,I,o)=>{var c=o(8745),x=o(43132),v=o(96517),_=o(13570),f=o(21503);w.exports=function t(p,l,h){var m=f(p)?c:_,u=arguments.length<3;return m(p,v(l,4),h,u,x)}},55637:(w,I,o)=>{var c=o(81172),x=o(28794),v=o(56507),_=o(30248),f=o(52315);w.exports=function l(h){if(null==h)return 0;if(v(h))return _(h)?f(h):h.length;var m=x(h);return"[object Map]"==m||"[object Set]"==m?h.size:c(h).length}},12906:(w,I,o)=>{var c=o(50686),x=o(6119),v=o(23269),_=o(93342),f=v(function(t,p){if(null==t)return[];var l=p.length;return l>1&&_(t,p[0],p[1])?p=[]:l>2&&_(p[0],p[1],p[2])&&(p=[p[0]]),x(t,c(p,1),[])});w.exports=f},49975:w=>{w.exports=function I(){return[]}},63580:w=>{w.exports=function I(){return!1}},12232:(w,I,o)=>{var c=o(51467),x=1/0;w.exports=function _(f){return f?(f=c(f))===x||f===-x?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},44401:(w,I,o)=>{var c=o(12232);w.exports=function x(v){var _=c(v),f=_%1;return _==_?f?_-f:_:0}},51467:(w,I,o)=>{var c=o(83348),x=o(25940),v=o(44129),f=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,p=/^0o[0-7]+$/i,l=parseInt;w.exports=function h(m){if("number"==typeof m)return m;if(v(m))return NaN;if(x(m)){var u="function"==typeof m.valueOf?m.valueOf():m;m=x(u)?u+"":u}if("string"!=typeof m)return 0===m?m:+m;m=c(m);var g=t.test(m);return g||p.test(m)?l(m.slice(2),g?2:8):f.test(m)?NaN:+m}},8067:(w,I,o)=>{var c=o(31989),x=o(16555);w.exports=function v(_){return c(_,x(_))}},73943:(w,I,o)=>{var c=o(93935);w.exports=function x(v){return null==v?"":c(v)}},89416:(w,I,o)=>{var c=o(96837),x=o(78858),v=o(45184),_=o(96517),f=o(29519),t=o(21503),p=o(80891),l=o(75946),h=o(25940),m=o(48159);w.exports=function u(g,C,A){var k=t(g),F=k||p(g)||m(g);if(C=_(C,4),null==A){var O=g&&g.constructor;A=F?k?new O:[]:h(g)&&l(O)?x(f(g)):{}}return(F?c:v)(g,function(R,U,V){return C(A,R,U,V)}),A}},68921:(w,I,o)=>{var c=o(50686),x=o(23269),v=o(80707),_=o(92377),f=x(function(t){return v(c(t,1,_,!0))});w.exports=f},51541:(w,I,o)=>{var c=o(73943),x=0;w.exports=function v(_){var f=++x;return c(_)+f}},90377:(w,I,o)=>{var c=o(19179),x=o(118);w.exports=function v(_){return null==_?[]:c(_,x(_))}},21617:(w,I,o)=>{var c=o(89719),x=o(38645);w.exports=function v(_,f){return x(_||[],f||[],c)}},34315:(w,I,o)=>{"use strict";const c=Symbol.prototype.valueOf,x=o(52872);w.exports=function v(h,m){switch(x(h)){case"array":return h.slice();case"object":return Object.assign({},h);case"date":return new h.constructor(Number(h));case"map":return new Map(h);case"set":return new Set(h);case"buffer":return function p(h){const m=h.length,u=Buffer.allocUnsafe?Buffer.allocUnsafe(m):Buffer.from(m);return h.copy(u),u}(h);case"symbol":return function l(h){return c?Object(c.call(h)):{}}(h);case"arraybuffer":return function f(h){const m=new h.constructor(h.byteLength);return new Uint8Array(m).set(new Uint8Array(h)),m}(h);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function t(h,m){return new h.constructor(h.buffer,h.byteOffset,h.length)}(h);case"regexp":return function _(h){const m=void 0!==h.flags?h.flags:/\w+$/.exec(h)||void 0,u=new h.constructor(h.source,m);return u.lastIndex=h.lastIndex,u}(h);case"error":return Object.create(h);default:return h}}},67824:(w,I,o)=>{"use strict";function c(x){for(var v in x)I.hasOwnProperty(v)||(I[v]=x[v])}Object.defineProperty(I,"__esModule",{value:!0}),c(o(95085)),c(o(26243)),c(o(91786)),c(o(30225)),c(o(76767)),c(o(30345)),c(o(15675)),c(o(86461)),c(o(58802)),c(o(33900)),c(o(88866)),c(o(94655)),c(o(4068)),c(o(33858)),c(o(98237)),c(o(83292))},95085:function(w,I,o){"use strict";var f,c=this&&this.__extends||(f=function(t,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])})(t,p)},function(t,p){function l(){this.constructor=t}f(t,p),t.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(I,"__esModule",{value:!0});var x=o(15675),v=function(f){function t(p){var l=f.call(this)||this,m=p;return m.trigger&&(l.trigger=m.trigger),m.kick&&(l.kick=m.kick),m.drag&&(l.drag=m.drag),m.on&&(l.on=m.on),l.dragstart=l.dragStart=x.Layout.dragStart,l.dragend=l.dragEnd=x.Layout.dragEnd,l}return c(t,f),t.prototype.trigger=function(p){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(p,l){return this},t}(x.Layout);I.LayoutAdaptor=v,I.adaptor=function _(f){return new v(f)}},83292:(w,I,o)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var c=o(15675),x=o(76767);I.gridify=function v(t,p,l,h){t.cola.start(0,0,0,10,!1);var m=function _(t,p,l,h){t.forEach(function(u){u.routerNode={name:u.name,bounds:u.bounds.inflate(-l)}}),p.forEach(function(u){u.routerNode={bounds:u.bounds.inflate(-h),children:(void 0!==u.groups?u.groups.map(function(g){return t.length+g.id}):[]).concat(void 0!==u.leaves?u.leaves.map(function(g){return g.index}):[])}});var m=t.concat(p).map(function(u,g){return u.routerNode.id=g,u.routerNode});return new x.GridRouter(m,{getChildren:function(u){return u.children},getBounds:function(u){return u.bounds}},l-h)}(t.cola.nodes(),t.cola.groups(),l,h);return m.routeEdges(t.powerGraph.powerEdges,p,function(u){return u.source.routerNode.id},function(u){return u.target.routerNode.id})},I.powerGraphGridLayout=function f(t,p,l){var h;t.nodes.forEach(function(C,A){return C.index=A}),(new c.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(C){(h=C).groups.forEach(function(A){return A.padding=l})});var m=t.nodes.length,u=[],g=t.nodes.slice(0);return g.forEach(function(C,A){return C.index=A}),h.groups.forEach(function(C){var A=C.index=C.id+m;g.push(C),void 0!==C.leaves&&C.leaves.forEach(function(k){return u.push({source:A,target:k.index})}),void 0!==C.groups&&C.groups.forEach(function(k){return u.push({source:A,target:k.id+m})})}),h.powerEdges.forEach(function(C){u.push({source:C.source.index,target:C.target.index})}),(new c.Layout).size(p).nodes(g).links(u).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new c.Layout).convergenceThreshold(.001).size(p).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(C){(h=C).groups.forEach(function(A){A.padding=l})}).start(50,0,100,0,!1),powerGraph:h}}},26243:(w,I,o)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var c=o(49346),x=o(22487);I.d3adaptor=function v(f){return!f||function _(f){return f.version&&null!==f.version.match(/^3\./)}(f)?new c.D3StyleLayoutAdaptor:new x.D3StyleLayoutAdaptor(f)}},49346:function(w,I,o){"use strict";var f,c=this&&this.__extends||(f=function(t,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])})(t,p)},function(t,p){function l(){this.constructor=t}f(t,p),t.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(I,"__esModule",{value:!0});var x=o(15675),v=function(f){function t(){var p=f.call(this)||this;p.event=d3.dispatch(x.EventType[x.EventType.start],x.EventType[x.EventType.tick],x.EventType[x.EventType.end]);var l=p;return p.drag=function(){if(!m)var m=d3.behavior.drag().origin(x.Layout.dragOrigin).on("dragstart.d3adaptor",x.Layout.dragStart).on("drag.d3adaptor",function(u){x.Layout.drag(u,d3.event),l.resume()}).on("dragend.d3adaptor",x.Layout.dragEnd);if(!arguments.length)return m;this.call(m)},p}return c(t,f),t.prototype.trigger=function(p){var l={type:x.EventType[p.type],alpha:p.alpha,stress:p.stress};this.event[l.type](l)},t.prototype.kick=function(){var p=this;d3.timer(function(){return f.prototype.tick.call(p)})},t.prototype.on=function(p,l){return this.event.on("string"==typeof p?p:x.EventType[p],l),this},t}(x.Layout);I.D3StyleLayoutAdaptor=v,I.d3adaptor=function _(){return new v}},22487:function(w,I,o){"use strict";var _,c=this&&this.__extends||(_=function(f,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var h in l)l.hasOwnProperty(h)&&(p[h]=l[h])})(f,t)},function(f,t){function p(){this.constructor=f}_(f,t),f.prototype=null===t?Object.create(t):(p.prototype=t.prototype,new p)});Object.defineProperty(I,"__esModule",{value:!0});var x=o(15675),v=function(_){function f(t){var p=_.call(this)||this;p.d3Context=t,p.event=t.dispatch(x.EventType[x.EventType.start],x.EventType[x.EventType.tick],x.EventType[x.EventType.end]);var l=p;return p.drag=function(){if(!m)var m=t.drag().subject(x.Layout.dragOrigin).on("start.d3adaptor",x.Layout.dragStart).on("drag.d3adaptor",function(u){x.Layout.drag(u,t.event),l.resume()}).on("end.d3adaptor",x.Layout.dragEnd);if(!arguments.length)return m;arguments[0].call(m)},p}return c(f,_),f.prototype.trigger=function(t){var p={type:x.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(p.type,p)},f.prototype.kick=function(){var t=this,p=this.d3Context.timer(function(){return _.prototype.tick.call(t)&&p.stop()})},f.prototype.on=function(t,p){return this.event.on("string"==typeof t?t:x.EventType[t],p),this},f}(x.Layout);I.D3StyleLayoutAdaptor=v},91786:(w,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var o=function(){function v(){this.locks={}}return v.prototype.add=function(_,f){this.locks[_]=f},v.prototype.clear=function(){this.locks={}},v.prototype.isEmpty=function(){for(var _ in this.locks)return!1;return!0},v.prototype.apply=function(_){for(var f in this.locks)_(Number(f),this.locks[f])},v}();I.Locks=o;var c=function(){function v(_,f,t){void 0===t&&(t=null),this.D=f,this.G=t,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new x,this.project=null,this.x=_,this.k=_.length;var p=this.n=_[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new o,this.minD=Number.MAX_VALUE;for(var h,l=p;l--;)for(h=p;--h>l;){var m=f[l][h];m>0&&m<this.minD&&(this.minD=m)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),l=this.k;l--;){for(this.g[l]=new Array(p),this.H[l]=new Array(p),h=p;h--;)this.H[l][h]=new Array(p);this.Hd[l]=new Array(p),this.a[l]=new Array(p),this.b[l]=new Array(p),this.c[l]=new Array(p),this.d[l]=new Array(p),this.e[l]=new Array(p),this.ia[l]=new Array(p),this.ib[l]=new Array(p),this.xtmp[l]=new Array(p)}}return v.createSquareMatrix=function(_,f){for(var t=new Array(_),p=0;p<_;++p){t[p]=new Array(_);for(var l=0;l<_;++l)t[p][l]=f(p,l)}return t},v.prototype.offsetDir=function(){for(var _=this,f=new Array(this.k),t=0,p=0;p<this.k;++p){var l=f[p]=this.random.getNextBetween(.01,1)-.5;t+=l*l}return t=Math.sqrt(t),f.map(function(h){return h*(_.minD/t)})},v.prototype.computeDerivatives=function(_){var f=this,t=this.n;if(!(t<1)){for(var p,l=new Array(this.k),h=new Array(this.k),m=new Array(this.k),u=0,g=0;g<t;++g){for(p=0;p<this.k;++p)m[p]=this.g[p][g]=0;for(var C=0;C<t;++C)if(g!==C){for(var A=t;A--;){var k=0;for(p=0;p<this.k;++p){var F=l[p]=_[p][g]-_[p][C];k+=h[p]=F*F}if(k>1e-9)break;var O=this.offsetDir();for(p=0;p<this.k;++p)_[p][C]+=O[p]}var R=Math.sqrt(k),U=this.D[g][C],V=null!=this.G?this.G[g][C]:1;if(V>1&&R>U||!isFinite(U)){for(p=0;p<this.k;++p)this.H[p][g][C]=0;continue}V>1&&(V=1);var W=U*U,rt=2*V*(R-U)/(W*R),nt=R*R*R,ut=2*-V/(W*nt);for(isFinite(rt)||console.log(rt),p=0;p<this.k;++p)this.g[p][g]+=l[p]*rt,m[p]-=this.H[p][g][C]=ut*(nt+U*(h[p]-k)+R*k)}for(p=0;p<this.k;++p)u=Math.max(u,this.H[p][g][g]=m[p])}var J=this.snapGridSize/2,tt=this.snapGridSize,at=this.snapStrength/(J*J),H=this.numGridSnapNodes;for(g=0;g<H;++g)for(p=0;p<this.k;++p){var K=this.x[p][g],lt=K/tt,it=lt%1,z=lt-it;-J<(F=Math.abs(it)<=.5?K-z*tt:K>0?K-(z+1)*tt:K-(z-1)*tt)&&F<=J&&(this.scaleSnapByMaxH?(this.g[p][g]+=u*at*F,this.H[p][g][g]+=u*at):(this.g[p][g]+=at*F,this.H[p][g][g]+=at))}this.locks.isEmpty()||this.locks.apply(function(Ct,It){for(p=0;p<f.k;++p)f.H[p][Ct][Ct]+=u,f.g[p][Ct]-=u*(It[p]-_[p][Ct])})}},v.dotProd=function(_,f){for(var t=0,p=_.length;p--;)t+=_[p]*f[p];return t},v.rightMultiply=function(_,f,t){for(var p=_.length;p--;)t[p]=v.dotProd(_[p],f)},v.prototype.computeStepSize=function(_){for(var f=0,t=0,p=0;p<this.k;++p)f+=v.dotProd(this.g[p],_[p]),v.rightMultiply(this.H[p],_[p],this.Hd[p]),t+=v.dotProd(_[p],this.Hd[p]);return 0!==t&&isFinite(t)?1*f/t:0},v.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var _=this.computeStepSize(this.g),f=0;f<this.k;++f)this.takeDescentStep(this.x[f],this.g[f],_);return this.computeStress()},v.copy=function(_,f){for(var t=_.length,p=f[0].length,l=0;l<t;++l)for(var h=0;h<p;++h)f[l][h]=_[l][h]},v.prototype.stepAndProject=function(_,f,t,p){v.copy(_,f),this.takeDescentStep(f[0],t[0],p),this.project&&this.project[0](_[0],_[1],f[0]),this.takeDescentStep(f[1],t[1],p),this.project&&this.project[1](f[0],_[1],f[1]);for(var l=2;l<this.k;l++)this.takeDescentStep(f[l],t[l],p)},v.mApply=function(_,f,t){for(var p=_;p-- >0;)for(var l=f;l-- >0;)t(p,l)},v.prototype.matrixApply=function(_){v.mApply(this.k,this.n,_)},v.prototype.computeNextPosition=function(_,f){var t=this;this.computeDerivatives(_);var p=this.computeStepSize(this.g);if(this.stepAndProject(_,f,this.g,p),this.project){this.matrixApply(function(h,m){return t.e[h][m]=_[h][m]-f[h][m]});var l=this.computeStepSize(this.e);l=Math.max(.2,Math.min(l,1)),this.stepAndProject(_,f,this.e,l)}},v.prototype.run=function(_){for(var f=Number.MAX_VALUE,t=!1;!t&&_-- >0;){var p=this.rungeKutta();t=Math.abs(f/p-1)<this.threshold,f=p}return f},v.prototype.rungeKutta=function(){var _=this;this.computeNextPosition(this.x,this.a),v.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),v.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var f=0;return this.matrixApply(function(t,p){var l=(_.a[t][p]+2*_.b[t][p]+2*_.c[t][p]+_.d[t][p])/6,h=_.x[t][p]-l;f+=h*h,_.x[t][p]=l}),f},v.mid=function(_,f,t){v.mApply(_.length,_[0].length,function(p,l){return t[p][l]=_[p][l]+(f[p][l]-_[p][l])/2})},v.prototype.takeDescentStep=function(_,f,t){for(var p=0;p<this.n;++p)_[p]=_[p]-t*f[p]},v.prototype.computeStress=function(){for(var _=0,f=0,t=this.n-1;f<t;++f)for(var p=f+1,l=this.n;p<l;++p){for(var h=0,m=0;m<this.k;++m){var u=this.x[m][f]-this.x[m][p];h+=u*u}h=Math.sqrt(h);var g=this.D[f][p];if(isFinite(g)){var C=g-h;_+=C*C/(g*g)}}return _},v.zeroDistance=1e-10,v}();I.Descent=c;var x=function(){function v(_){void 0===_&&(_=1),this.seed=_,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return v.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},v.prototype.getNextBetween=function(_,f){return _+this.getNext()*(f-_)},v}();I.PseudoRandom=x},30225:function(w,I,o){"use strict";var it,c=this&&this.__extends||(it=function(z,E){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ct,It){Ct.__proto__=It}||function(Ct,It){for(var Rt in It)It.hasOwnProperty(Rt)&&(Ct[Rt]=It[Rt])})(z,E)},function(z,E){function Ct(){this.constructor=z}it(z,E),z.prototype=null===E?Object.create(E):(Ct.prototype=E.prototype,new Ct)});Object.defineProperty(I,"__esModule",{value:!0});var x=o(4068),v=function it(){};I.Point=v;var _=function it(z,E,Ct,It){this.x1=z,this.y1=E,this.x2=Ct,this.y2=It};I.LineSegment=_;var f=function(it){function z(){return null!==it&&it.apply(this,arguments)||this}return c(z,it),z}(v);function t(it,z,E){return(z.x-it.x)*(E.y-it.y)-(E.x-it.x)*(z.y-it.y)}function p(it,z,E){return t(it,z,E)>0}function l(it,z,E){return t(it,z,E)<0}function C(it,z){var E=z.slice(0);return E.push(z[0]),{rtan:A(it,E),ltan:k(it,E)}}function A(it,z){var Ct,It,Rt,ne,E=z.length-1;if(l(it,z[1],z[0])&&!p(it,z[E-1],z[0]))return 0;for(Ct=0,It=E;;){if(It-Ct==1)return p(it,z[Ct],z[It])?Ct:It;if((ne=l(it,z[(Rt=Math.floor((Ct+It)/2))+1],z[Rt]))&&!p(it,z[Rt-1],z[Rt]))return Rt;p(it,z[Ct+1],z[Ct])?ne||p(it,z[Ct],z[Rt])?It=Rt:Ct=Rt:ne&&l(it,z[Ct],z[Rt])?It=Rt:Ct=Rt}}function k(it,z){var Ct,It,Rt,ne,E=z.length-1;if(p(it,z[E-1],z[0])&&!l(it,z[1],z[0]))return 0;for(Ct=0,It=E;;){if(It-Ct==1)return l(it,z[Ct],z[It])?Ct:It;if(ne=l(it,z[(Rt=Math.floor((Ct+It)/2))+1],z[Rt]),p(it,z[Rt-1],z[Rt])&&!ne)return Rt;l(it,z[Ct+1],z[Ct])?ne?l(it,z[Ct],z[Rt])?It=Rt:Ct=Rt:It=Rt:ne?Ct=Rt:p(it,z[Ct],z[Rt])?It=Rt:Ct=Rt}}function F(it,z,E,Ct,It,Rt){var Ht,ne;ne=Ct(it[Ht=E(z[0],it)],z);for(var Ut=!1;!Ut;){for(Ut=!0;Ht===it.length-1&&(Ht=0),!It(z[ne],it[Ht],it[Ht+1]);)++Ht;for(;0===ne&&(ne=z.length-1),!Rt(it[Ht],z[ne],z[ne-1]);)--ne,Ut=!1}return{t1:Ht,t2:ne}}function R(it,z){return F(it,z,A,k,p,l)}I.PolyPoint=f,I.isLeft=t,I.ConvexHull=function h(it){var Ct,z=it.slice(0).sort(function(Qt,me){return Qt.x!==me.x?me.x-Qt.x:me.y-Qt.y}),E=it.length,Rt=z[0].x;for(Ct=1;Ct<E&&z[Ct].x===Rt;++Ct);var Ht=Ct-1,ne=[];if(ne.push(z[0]),Ht===E-1)z[Ht].y!==z[0].y&&ne.push(z[Ht]);else{var Ut,vt=E-1,ft=z[E-1].x;for(Ct=E-2;Ct>=0&&z[Ct].x===ft;Ct--);for(Ut=Ct+1,Ct=Ht;++Ct<=Ut;)if(!(t(z[0],z[Ut],z[Ct])>=0&&Ct<Ut)){for(;ne.length>1&&!(t(ne[ne.length-2],ne[ne.length-1],z[Ct])>0);)ne.length-=1;0!=Ct&&ne.push(z[Ct])}vt!=Ut&&ne.push(z[vt]);var Nt=ne.length;for(Ct=Ut;--Ct>=Ht;)if(!(t(z[vt],z[Ht],z[Ct])>=0&&Ct>Ht)){for(;ne.length>Nt&&!(t(ne[ne.length-2],ne[ne.length-1],z[Ct])>0);)ne.length-=1;0!=Ct&&ne.push(z[Ct])}}return ne},I.clockwiseRadialSweep=function m(it,z,E){z.slice(0).sort(function(Ct,It){return Math.atan2(Ct.y-it.y,Ct.x-it.x)-Math.atan2(It.y-it.y,It.x-it.x)}).forEach(E)},I.tangent_PolyPolyC=F,I.LRtangent_PolyPolyC=function O(it,z){var E=R(z,it);return{t1:E.t2,t2:E.t1}},I.RLtangent_PolyPolyC=R,I.LLtangent_PolyPolyC=function U(it,z){return F(it,z,k,k,l,l)},I.RRtangent_PolyPolyC=function V(it,z){return F(it,z,A,A,p,p)};var W=function it(z,E){this.t1=z,this.t2=E};I.BiTangent=W;var rt=function it(){};I.BiTangents=rt;var nt=function(it){function z(){return null!==it&&it.apply(this,arguments)||this}return c(z,it),z}(v);I.TVGPoint=nt;var ut=function it(z,E,Ct,It){this.id=z,this.polyid=E,this.polyvertid=Ct,this.p=It,It.vv=this};I.VisibilityVertex=ut;var J=function(){function it(z,E){this.source=z,this.target=E}return it.prototype.length=function(){var z=this.source.p.x-this.target.p.x,E=this.source.p.y-this.target.p.y;return Math.sqrt(z*z+E*E)},it}();I.VisibilityEdge=J;var tt=function(){function it(z,E){if(this.P=z,this.V=[],this.E=[],E)this.V=E.V.slice(0),this.E=E.E.slice(0);else{for(var Ct=z.length,It=0;It<Ct;It++){for(var Rt=z[It],Ht=0;Ht<Rt.length;++Ht){var Ut=new ut(this.V.length,It,Ht,Rt[Ht]);this.V.push(Ut),Ht>0&&this.E.push(new J(Rt[Ht-1].vv,Ut))}Rt.length>1&&this.E.push(new J(Rt[0].vv,Rt[Rt.length-1].vv))}for(It=0;It<Ct-1;It++){var vt=z[It];for(Ht=It+1;Ht<Ct;Ht++){var ft=z[Ht],Nt=at(vt,ft);for(var Qt in Nt){var me=Nt[Qt];this.addEdgeIfVisible(vt[me.t1],ft[me.t2],It,Ht)}}}}}return it.prototype.addEdgeIfVisible=function(z,E,Ct,It){this.intersectsPolys(new _(z.x,z.y,E.x,E.y),Ct,It)||this.E.push(new J(z.vv,E.vv))},it.prototype.addPoint=function(z,E){var Ct=this.P.length;this.V.push(new ut(this.V.length,Ct,0,z));for(var It=0;It<Ct;++It)if(It!==E){var Rt=this.P[It],Ht=C(z,Rt);this.addEdgeIfVisible(z,Rt[Ht.ltan],E,It),this.addEdgeIfVisible(z,Rt[Ht.rtan],E,It)}return z.vv},it.prototype.intersectsPolys=function(z,E,Ct){for(var It=0,Rt=this.P.length;It<Rt;++It)if(It!=E&&It!=Ct&&Q(z,this.P[It]).length>0)return!0;return!1},it}();function Q(it,z){for(var E=[],Ct=1,It=z.length;Ct<It;++Ct){var Rt=x.Rectangle.lineIntersection(it.x1,it.y1,it.x2,it.y2,z[Ct-1].x,z[Ct-1].y,z[Ct].x,z[Ct].y);Rt&&E.push(Rt)}return E}function at(it,z){for(var E=it.length-1,Ct=z.length-1,It=new rt,Rt=0;Rt<E;++Rt)for(var Ht=0;Ht<Ct;++Ht){var ne=it[0==Rt?E-1:Rt-1],Ut=it[Rt],vt=it[Rt+1],ft=z[0==Ht?Ct-1:Ht-1],Nt=z[Ht],Qt=z[Ht+1],me=t(ne,Ut,Nt),ge=t(Ut,ft,Nt),ye=t(Ut,Nt,Qt),Be=t(ft,Nt,Ut),vn=t(Nt,ne,Ut),Re=t(Nt,Ut,vt);me>=0&&ge>=0&&ye<0&&Be>=0&&vn>=0&&Re<0?It.ll=new W(Rt,Ht):me<=0&&ge<=0&&ye>0&&Be<=0&&vn<=0&&Re>0?It.rr=new W(Rt,Ht):me<=0&&ge>0&&ye<=0&&Be>=0&&vn<0&&Re>=0?It.rl=new W(Rt,Ht):me>=0&&ge<0&&ye>=0&&Be<=0&&vn>0&&Re<=0&&(It.lr=new W(Rt,Ht))}return It}function K(it,z){return!it.every(function(E){return!function H(it,z){for(var E=1,Ct=z.length;E<Ct;++E)if(l(z[E-1],z[E],it))return!1;return!0}(E,z)})}I.TangentVisibilityGraph=tt,I.tangents=at,I.polysOverlap=function lt(it,z){if(K(it,z)||K(z,it))return!0;for(var E=1,Ct=it.length;E<Ct;++E){var It=it[E],Rt=it[E-1];if(Q(new _(Rt.x,Rt.y,It.x,It.y),z).length>0)return!0}return!1}},76767:(w,I,o)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var c=o(4068),x=o(98237),v=o(33858),_=function l(h,m,u){this.id=h,this.rect=m,this.children=u,this.leaf=void 0===u||0===u.length};I.NodeWrapper=_;var f=function l(h,m,u,g,C){void 0===g&&(g=null),void 0===C&&(C=null),this.id=h,this.x=m,this.y=u,this.node=g,this.line=C};I.Vert=f;var t=function(){function l(h,m){this.s=h,this.t=m;var u=l.findMatch(h,m),g=m.slice(0).reverse(),C=l.findMatch(h,g);u.length>=C.length?(this.length=u.length,this.si=u.si,this.ti=u.ti,this.reversed=!1):(this.length=C.length,this.si=C.si,this.ti=m.length-C.ti-C.length,this.reversed=!0)}return l.findMatch=function(h,m){for(var u=h.length,g=m.length,C={length:0,si:-1,ti:-1},A=new Array(u),k=0;k<u;k++){A[k]=new Array(g);for(var F=0;F<g;F++)if(h[k]===m[F]){var O=A[k][F]=0===k||0===F?1:A[k-1][F-1]+1;O>C.length&&(C.length=O,C.si=k-O+1,C.ti=F-O+1)}else A[k][F]=0}return C},l.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},l}();I.LongestCommonSubsequence=t;var p=function(){function l(h,m,u){var g=this;void 0===u&&(u=12),this.originalnodes=h,this.groupPadding=u,this.leaves=null,this.nodes=h.map(function(nt,ut){return new _(ut,m.getBounds(nt),m.getChildren(nt))}),this.leaves=this.nodes.filter(function(nt){return nt.leaf}),this.groups=this.nodes.filter(function(nt){return!nt.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(nt){return nt.children.forEach(function(ut){return g.nodes[ut].parent=nt})}),this.root={children:[]},this.nodes.forEach(function(nt){void 0===nt.parent&&(nt.parent=g.root,g.root.children.push(nt.id)),nt.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(nt,ut){return g.getDepth(nt)-g.getDepth(ut)}),this.backToFront.slice(0).reverse().filter(function(nt){return!nt.leaf}).forEach(function(nt){var ut=c.Rectangle.empty();nt.children.forEach(function(J){return ut=ut.union(g.nodes[J].rect)}),nt.rect=ut.inflate(g.groupPadding)});var A=this.midPoints(this.cols.map(function(nt){return nt.pos})),k=this.midPoints(this.rows.map(function(nt){return nt.pos})),F=A[0],O=A[A.length-1],R=k[0],U=k[k.length-1],V=this.rows.map(function(nt){return{x1:F,x2:O,y1:nt.pos,y2:nt.pos}}).concat(k.map(function(nt){return{x1:F,x2:O,y1:nt,y2:nt}})),W=this.cols.map(function(nt){return{x1:nt.pos,x2:nt.pos,y1:R,y2:U}}).concat(A.map(function(nt){return{x1:nt,x2:nt,y1:R,y2:U}})),rt=V.concat(W);rt.forEach(function(nt){return nt.verts=[]}),this.verts=[],this.edges=[],V.forEach(function(nt){return W.forEach(function(ut){var J=new f(g.verts.length,ut.x1,nt.y1);nt.verts.push(J),ut.verts.push(J),g.verts.push(J);for(var tt=g.backToFront.length;tt-- >0;){var Q=g.backToFront[tt],at=Q.rect,H=Math.abs(J.x-at.cx()),K=Math.abs(J.y-at.cy());if(H<at.width()/2&&K<at.height()/2){J.node=Q;break}}})}),rt.forEach(function(nt,ut){g.nodes.forEach(function(K,lt){K.rect.lineIntersections(nt.x1,nt.y1,nt.x2,nt.y2).forEach(function(it,z){var E=new f(g.verts.length,it.x,it.y,K,nt);g.verts.push(E),nt.verts.push(E),K.ports.push(E)})});var J=Math.abs(nt.y1-nt.y2)<.1,tt=function(K,lt){return J?lt.x-K.x:lt.y-K.y};nt.verts.sort(tt);for(var Q=1;Q<nt.verts.length;Q++){var at=nt.verts[Q-1],H=nt.verts[Q];at.node&&at.node===H.node&&at.node.leaf||g.edges.push({source:at.id,target:H.id,length:Math.abs(tt(at,H))})}})}return l.prototype.avg=function(h){return h.reduce(function(m,u){return m+u})/h.length},l.prototype.getGridLines=function(h){for(var m=[],u=this.leaves.slice(0,this.leaves.length);u.length>0;){var g=u.filter(function(A){return A.rect["overlap"+h.toUpperCase()](u[0].rect)}),C={nodes:g,pos:this.avg(g.map(function(A){return A.rect["c"+h]()}))};m.push(C),C.nodes.forEach(function(A){return u.splice(u.indexOf(A),1)})}return m.sort(function(A,k){return A.pos-k.pos}),m},l.prototype.getDepth=function(h){for(var m=0;h.parent!==this.root;)m++,h=h.parent;return m},l.prototype.midPoints=function(h){for(var m=h[1]-h[0],u=[h[0]-m/2],g=1;g<h.length;g++)u.push((h[g]+h[g-1])/2);return u.push(h[h.length-1]+m/2),u},l.prototype.findLineage=function(h){var m=[h];do{m.push(h=h.parent)}while(h!==this.root);return m.reverse()},l.prototype.findAncestorPathBetween=function(h,m){for(var u=this.findLineage(h),g=this.findLineage(m),C=0;u[C]===g[C];)C++;return{commonAncestor:u[C-1],lineages:u.slice(C).concat(g.slice(C))}},l.prototype.siblingObstacles=function(h,m){var u=this,g=this.findAncestorPathBetween(h,m),C={};g.lineages.forEach(function(k){return C[k.id]={}});var A=g.commonAncestor.children.filter(function(k){return!(k in C)});return g.lineages.filter(function(k){return k.parent!==g.commonAncestor}).forEach(function(k){return A=A.concat(k.parent.children.filter(function(F){return F!==k.id}))}),A.map(function(k){return u.nodes[k]})},l.getSegmentSets=function(h,m,u){for(var g=[],C=0;C<h.length;C++)for(var A=h[C],k=0;k<A.length;k++)(F=A[k]).edgeid=C,F.i=k,Math.abs(F[1][m]-F[0][m])<.1&&g.push(F);g.sort(function(W,rt){return W[0][m]-rt[0][m]});for(var R=[],U=null,V=0;V<g.length;V++){var F=g[V];(!U||Math.abs(F[0][m]-U.pos)>.1)&&R.push(U={pos:F[0][m],segments:[]}),U.segments.push(F)}return R},l.nudgeSegs=function(h,m,u,g,C,A){var k=g.length;if(!(k<=1)){for(var F=g.map(function(Q){return new x.Variable(Q[0][h])}),O=[],R=0;R<k;R++)for(var U=0;U<k;U++)if(R!==U){var V=g[R],rt=V.edgeid,nt=g[U].edgeid,ut=-1,J=-1;"x"==h?C(rt,nt)&&(V[0][m]<V[1][m]?(ut=U,J=R):(ut=R,J=U)):C(rt,nt)&&(V[0][m]<V[1][m]?(ut=R,J=U):(ut=U,J=R)),ut>=0&&O.push(new x.Constraint(F[ut],F[J],A))}new x.Solver(F,O).solve(),F.forEach(function(Q,at){var H=g[at],K=Q.position();H[0][h]=H[1][h]=K;var lt=u[H.edgeid];H.i>0&&(lt[H.i-1][1][h]=K),H.i<lt.length-1&&(lt[H.i+1][0][h]=K)})}},l.nudgeSegments=function(h,m,u,g,C){for(var A=l.getSegmentSets(h,m,u),k=0;k<A.length;k++){for(var F=A[k],O=[],R=0;R<F.segments.length;R++){var U=F.segments[R];O.push({type:0,s:U,pos:Math.min(U[0][u],U[1][u])}),O.push({type:1,s:U,pos:Math.max(U[0][u],U[1][u])})}O.sort(function(rt,nt){return rt.pos-nt.pos+rt.type-nt.type});var V=[],W=0;O.forEach(function(rt){0===rt.type?(V.push(rt.s),W++):W--,0==W&&(l.nudgeSegs(m,u,h,V,g,C),V=[])})}},l.prototype.routeEdges=function(h,m,u,g){var C=this,A=h.map(function(O){return C.route(u(O),g(O))}),k=l.orderEdges(A),F=A.map(function(O){return l.makeSegments(O)});return l.nudgeSegments(F,"x","y",k,m),l.nudgeSegments(F,"y","x",k,m),l.unreverseEdges(F,A),F},l.unreverseEdges=function(h,m){h.forEach(function(u,g){m[g].reversed&&(u.reverse(),u.forEach(function(A){A.reverse()}))})},l.angleBetween2Lines=function(h,m){var u=Math.atan2(h[0].y-h[1].y,h[0].x-h[1].x),g=Math.atan2(m[0].y-m[1].y,m[0].x-m[1].x),C=u-g;return(C>Math.PI||C<-Math.PI)&&(C=g-u),C},l.isLeft=function(h,m,u){return(m.x-h.x)*(u.y-h.y)-(m.y-h.y)*(u.x-h.x)<=0},l.getOrder=function(h){for(var m={},u=0;u<h.length;u++){var g=h[u];void 0===m[g.l]&&(m[g.l]={}),m[g.l][g.r]=!0}return function(C,A){return void 0!==m[C]&&m[C][A]}},l.orderEdges=function(h){for(var m=[],u=0;u<h.length-1;u++)for(var g=u+1;g<h.length;g++){var F,O,R,C=h[u],A=h[g],k=new t(C,A);if(0!==k.length){if(k.reversed&&(A.reverse(),A.reversed=!0,k=new t(C,A)),(k.si<=0||k.ti<=0)&&(k.si+k.length>=C.length||k.ti+k.length>=A.length)){m.push({l:u,r:g});continue}k.si+k.length>=C.length||k.ti+k.length>=A.length?(F=C[k.si+1],R=C[k.si-1],O=A[k.ti-1]):(F=C[k.si+k.length-2],O=C[k.si+k.length],R=A[k.ti+k.length]),l.isLeft(F,O,R)?m.push({l:g,r:u}):m.push({l:u,r:g})}}return l.getOrder(m)},l.makeSegments=function(h){function m(O){return{x:O.x,y:O.y}}for(var g=[],C=m(h[0]),A=1;A<h.length;A++){var k=m(h[A]),F=A<h.length-1?h[A+1]:null;(!F||(O=C,R=k,U=F,!(Math.abs((R.x-O.x)*(U.y-O.y)-(R.y-O.y)*(U.x-O.x))<.001)))&&(g.push([C,k]),C=k)}var O,R,U;return g},l.prototype.route=function(h,m){var u=this,g=this.nodes[h],C=this.nodes[m];this.obstacles=this.siblingObstacles(g,C);var A={};this.obstacles.forEach(function(J){return A[J.id]=J}),this.passableEdges=this.edges.filter(function(J){var tt=u.verts[J.source],Q=u.verts[J.target];return!(tt.node&&tt.node.id in A||Q.node&&Q.node.id in A)});for(var k=1;k<g.ports.length;k++)this.passableEdges.push({source:g.ports[0].id,target:g.ports[k].id,length:0});for(k=1;k<C.ports.length;k++)this.passableEdges.push({source:C.ports[0].id,target:C.ports[k].id,length:0});var ut=new v.Calculator(this.verts.length,this.passableEdges,function(J){return J.source},function(J){return J.target},function(J){return J.length}).PathFromNodeToNodeWithPrevCost(g.ports[0].id,C.ports[0].id,function(J,tt,Q){var at=u.verts[J],H=u.verts[tt],K=u.verts[Q],lt=Math.abs(K.x-at.x),it=Math.abs(K.y-at.y);return at.node===g&&at.node===H.node||H.node===C&&H.node===K.node?0:lt>1&&it>1?1e3:0}).reverse().map(function(J){return u.verts[J]});return ut.push(this.nodes[C.id].ports[0]),ut.filter(function(J,tt){return!(tt<ut.length-1&&ut[tt+1].node===g&&J.node===g||tt>0&&J.node===C&&ut[tt-1].node===C)})},l.getRoutePath=function(h,m,u,g){var k,F,O,lt,it,C={routepath:"M "+h[0][0].x+" "+h[0][0].y+" ",arrowpath:""};if(h.length>1)for(var A=0;A<h.length;A++){var R=(F=(k=h[A])[1].x)-k[0].x,U=(O=k[1].y)-k[0].y;if(A<h.length-1){Math.abs(R)>0?F-=R/Math.abs(R)*m:O-=U/Math.abs(U)*m,C.routepath+="L "+F+" "+O+" ";var V=h[A+1],W=V[0].x,rt=V[0].y;R=V[1].x-W,U=V[1].y-rt;var tt,Q,J=l.angleBetween2Lines(k,V)<0?1:0;Math.abs(R)>0?(tt=W+R/Math.abs(R)*m,Q=rt):(tt=W,Q=rt+U/Math.abs(U)*m);var at=Math.abs(tt-F),H=Math.abs(Q-O);C.routepath+="A "+at+" "+H+" 0 0 "+J+" "+tt+" "+Q+" "}else{var K=[F,O];Math.abs(R)>0?(lt=[F-=R/Math.abs(R)*g,O+u],it=[F,O-u]):(lt=[F+u,O-=U/Math.abs(U)*g],it=[F-u,O]),C.routepath+="L "+F+" "+O+" ",g>0&&(C.arrowpath="M "+K[0]+" "+K[1]+" L "+lt[0]+" "+lt[1]+" L "+it[0]+" "+it[1])}}else R=(F=(k=h[0])[1].x)-k[0].x,U=(O=k[1].y)-k[0].y,K=[F,O],Math.abs(R)>0?(lt=[F-=R/Math.abs(R)*g,O+u],it=[F,O-u]):(lt=[F+u,O-=U/Math.abs(U)*g],it=[F-u,O]),C.routepath+="L "+F+" "+O+" ",g>0&&(C.arrowpath="M "+K[0]+" "+K[1]+" L "+lt[0]+" "+lt[1]+" L "+it[0]+" "+it[1]);return C},l}();I.GridRouter=p},30345:(w,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var o_GOLDEN_SECTION=(1+Math.sqrt(5))/2;I.applyPacking=function c(v,_,f,A,C,l){void 0===C&&(C=1),void 0===l&&(l=!0);var u=_,g=f,k=(C=void 0!==C?C:1,A=void 0!==A?A:0,0),F=0,O=0,R=0,U=[];function nt(Q,at){U=[],k=0,F=0,R=0;for(var H=0;H<Q.length;H++)ut(Q[H],at);return Math.abs(function tt(){return k/F}()-C)}function ut(Q,at){for(var H=void 0,K=0;K<U.length;K++)if(U[K].space_left>=Q.height&&U[K].x+U[K].width+Q.width+10-at<=1e-4){H=U[K];break}U.push(Q),void 0!==H?(Q.x=H.x+H.width+10,Q.y=H.bottom,Q.space_left=Q.height,Q.bottom=Q.y,H.space_left-=Q.height+10,H.bottom+=Q.height+10):(Q.y=R,R+=Q.height+10,Q.x=0,Q.bottom=Q.y,Q.space_left=Q.height),Q.y+Q.height-F>-1e-4&&(F=Q.y+Q.height-0),Q.x+Q.width-k>-1e-4&&(k=Q.x+Q.width-0)}0!=v.length&&(function V(Q){Q.forEach(function(H){!function at(H){var K=Number.MAX_VALUE,lt=Number.MAX_VALUE,it=0,z=0;H.array.forEach(function(E){var Ct=void 0!==E.width?E.width:A,It=void 0!==E.height?E.height:A;Ct/=2,It/=2,it=Math.max(E.x+Ct,it),K=Math.min(E.x-Ct,K),z=Math.max(E.y+It,z),lt=Math.min(E.y-It,lt)}),H.width=it-K,H.height=z-lt}(H)})}(v),function rt(Q,at){var H=Number.POSITIVE_INFINITY,K=0;Q.sort(function(vt,ft){return ft.height-vt.height});for(var lt=ne=O=Q.reduce(function(vt,ft){return vt.width<ft.width?vt.width:ft.width}),it=Ut=function J(Q){var at=0;return Q.forEach(function(H){return at+=H.width+10}),at}(Q),z=0,E=Number.MAX_VALUE,Ct=Number.MAX_VALUE,It=-1,Rt=Number.MAX_VALUE,Ht=Number.MAX_VALUE;Rt>O||Ht>1e-4;){if(1!=It){var ne=it-(it-lt)/o_GOLDEN_SECTION;E=nt(Q,ne)}if(0!=It){var Ut=lt+(it-lt)/o_GOLDEN_SECTION;Ct=nt(Q,Ut)}if(Rt=Math.abs(ne-Ut),Ht=Math.abs(E-Ct),E<H&&(H=E,K=ne),Ct<H&&(H=Ct,K=Ut),E>Ct?(lt=ne,ne=Ut,E=Ct,It=1):(it=Ut,Ut=ne,Ct=E,It=0),z++>100)break}nt(Q,K)}(v),l&&function W(Q){Q.forEach(function(at){var H={x:0,y:0};at.array.forEach(function(it){H.x+=it.x,H.y+=it.y}),H.x/=at.array.length,H.y/=at.array.length;var lt_x=at.x-(H.x-at.width/2)+u/2-k/2,lt_y=at.y-(H.y-at.height/2)+g/2-F/2;at.array.forEach(function(it){it.x+=lt_x,it.y+=lt_y})})}(v))},I.separateGraphs=function x(v,_){for(var f={},t={},p=[],l=0,h=0;h<_.length;h++){var m=_[h],u=m.source,g=m.target;t[u.index]?t[u.index].push(g):t[u.index]=[g],t[g.index]?t[g.index].push(u):t[g.index]=[u]}for(h=0;h<v.length;h++){var C=v[h];f[C.index]||A(C,!0)}function A(k,F){if(void 0===f[k.index]){F&&(l++,p.push({array:[]})),f[k.index]=l,p[l-1].array.push(k);var O=t[k.index];if(O)for(var R=0;R<O.length;R++)A(O[R],!1)}}return p}},15675:(w,I,o)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var l,u,c=o(33900),x=o(58802),v=o(91786),_=o(4068),f=o(33858),t=o(30225),p=o(30345);function h(u){return void 0!==u.leaves||void 0!==u.groups}(u=l=I.EventType||(I.EventType={}))[u.start=0]="start",u[u.tick=1]="tick",u[u.end=2]="end";var m=function(){function u(){var g=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:u.getSourceIndex,getTargetIndex:u.getTargetIndex,setLength:u.setLinkLength,getType:function(C){return"function"==typeof g._linkType?g._linkType(C):0}}}return u.prototype.on=function(g,C){return this.event||(this.event={}),"string"==typeof g?this.event[l[g]]=C:this.event[g]=C,this},u.prototype.trigger=function(g){this.event&&void 0!==this.event[g.type]&&this.event[g.type](g)},u.prototype.kick=function(){for(;!this.tick(););},u.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:l.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var A,k,g=this._nodes.length;for(this._descent.locks.clear(),k=0;k<g;++k)(A=this._nodes[k]).fixed&&((void 0===A.px||void 0===A.py)&&(A.px=A.x,A.py=A.y),this._descent.locks.add(k,[A.px,A.py]));var O=this._descent.rungeKutta();return 0===O?this._alpha=0:void 0!==this._lastStress&&(this._alpha=O),this._lastStress=O,this.updateNodePositions(),this.trigger({type:l.tick,alpha:this._alpha,stress:this._lastStress}),!1},u.prototype.updateNodePositions=function(){for(var A,g=this._descent.x[0],C=this._descent.x[1],k=this._nodes.length;k--;)(A=this._nodes[k]).x=g[k],A.y=C[k]},u.prototype.nodes=function(g){if(!g){if(0===this._nodes.length&&this._links.length>0){var C=0;this._links.forEach(function(k){C=Math.max(C,k.source,k.target)}),this._nodes=new Array(++C);for(var A=0;A<C;++A)this._nodes[A]={}}return this._nodes}return this._nodes=g,this},u.prototype.groups=function(g){var C=this;return g?(this._groups=g,this._rootGroup={},this._groups.forEach(function(A){void 0===A.padding&&(A.padding=1),void 0!==A.leaves&&A.leaves.forEach(function(k,F){"number"==typeof k&&((A.leaves[F]=C._nodes[k]).parent=A)}),void 0!==A.groups&&A.groups.forEach(function(k,F){"number"==typeof k&&((A.groups[F]=C._groups[k]).parent=A)})}),this._rootGroup.leaves=this._nodes.filter(function(A){return void 0===A.parent}),this._rootGroup.groups=this._groups.filter(function(A){return void 0===A.parent}),this):this._groups},u.prototype.powerGraphGroups=function(g){var C=c.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(C.groups),g(C),this},u.prototype.avoidOverlaps=function(g){return arguments.length?(this._avoidOverlaps=g,this):this._avoidOverlaps},u.prototype.handleDisconnected=function(g){return arguments.length?(this._handleDisconnected=g,this):this._handleDisconnected},u.prototype.flowLayout=function(g,C){return arguments.length||(g="y"),this._directedLinkConstraints={axis:g,getMinSeparation:"number"==typeof C?function(){return C}:C},this},u.prototype.links=function(g){return arguments.length?(this._links=g,this):this._links},u.prototype.constraints=function(g){return arguments.length?(this._constraints=g,this):this._constraints},u.prototype.distanceMatrix=function(g){return arguments.length?(this._distanceMatrix=g,this):this._distanceMatrix},u.prototype.size=function(g){return g?(this._canvasSize=g,this):this._canvasSize},u.prototype.defaultNodeSize=function(g){return g?(this._defaultNodeSize=g,this):this._defaultNodeSize},u.prototype.groupCompactness=function(g){return g?(this._groupCompactness=g,this):this._groupCompactness},u.prototype.linkDistance=function(g){return g?(this._linkDistance="function"==typeof g?g:+g,this._linkLengthCalculator=null,this):this._linkDistance},u.prototype.linkType=function(g){return this._linkType=g,this},u.prototype.convergenceThreshold=function(g){return g?(this._threshold="function"==typeof g?g:+g,this):this._threshold},u.prototype.alpha=function(g){return arguments.length?(g=+g,this._alpha?this._alpha=g>0?g:0:g>0&&(this._running||(this._running=!0,this.trigger({type:l.start,alpha:this._alpha=g}),this.kick())),this):this._alpha},u.prototype.getLinkLength=function(g){return"function"==typeof this._linkDistance?+this._linkDistance(g):this._linkDistance},u.setLinkLength=function(g,C){g.length=C},u.prototype.getLinkType=function(g){return"function"==typeof this._linkType?this._linkType(g):0},u.prototype.symmetricDiffLinkLengths=function(g,C){var A=this;return void 0===C&&(C=1),this.linkDistance(function(k){return g*k.length}),this._linkLengthCalculator=function(){return x.symmetricDiffLinkLengths(A._links,A.linkAccessor,C)},this},u.prototype.jaccardLinkLengths=function(g,C){var A=this;return void 0===C&&(C=1),this.linkDistance(function(k){return g*k.length}),this._linkLengthCalculator=function(){return x.jaccardLinkLengths(A._links,A.linkAccessor,C)},this},u.prototype.start=function(g,C,A,k,F,O){var R=this;void 0===g&&(g=0),void 0===C&&(C=0),void 0===A&&(A=0),void 0===k&&(k=0),void 0===F&&(F=!0),void 0===O&&(O=!0);var K,W=this.nodes().length,rt=W+2*this._groups.length,ut=this._canvasSize[0],J=this._canvasSize[1],tt=new Array(rt),Q=new Array(rt),at=null,H=this._avoidOverlaps;this._nodes.forEach(function(Rt,Ht){Rt.index=Ht,void 0===Rt.x&&(Rt.x=ut/2,Rt.y=J/2),tt[Ht]=Rt.x,Q[Ht]=Rt.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?K=this._distanceMatrix:(K=new f.Calculator(rt,this._links,u.getSourceIndex,u.getTargetIndex,function(Rt){return R.getLinkLength(Rt)}).DistanceMatrix(),at=v.Descent.createSquareMatrix(rt,function(){return 2}),this._links.forEach(function(Rt){"number"==typeof Rt.source&&(Rt.source=R._nodes[Rt.source]),"number"==typeof Rt.target&&(Rt.target=R._nodes[Rt.target])}),this._links.forEach(function(Rt){var Ht=u.getSourceIndex(Rt),ne=u.getTargetIndex(Rt);at[Ht][ne]=at[ne][Ht]=Rt.weight||1}));var lt=v.Descent.createSquareMatrix(rt,function(Rt,Ht){return K[Rt][Ht]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var U=W;this._groups.forEach(function(Ht){(function(Ht,ne,Ut,vt){at[Ht][ne]=at[ne][Ht]=Ut,lt[Ht][ne]=lt[ne][Ht]=.1})(U,U+1,R._groupCompactness),tt[U]=0,Q[U++]=0,tt[U]=0,Q[U++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var z=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,z=z.concat(x.generateDirectedEdgeConstraints(W,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new v.Descent([tt,Q],lt),this._descent.locks.clear(),U=0;U<W;++U){var E=this._nodes[U];E.fixed&&(E.px=E.x,E.py=E.y,this._descent.locks.add(U,[E.x,E.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(g,tt,Q),z.length>0&&(this._descent.project=new _.Projection(this._nodes,this._groups,this._rootGroup,z).projectFunctions()),this._descent.run(C),this.separateOverlappingComponents(ut,J,O),this.avoidOverlaps(H),H&&(this._nodes.forEach(function(Rt,Ht){Rt.x=tt[Ht],Rt.y=Q[Ht]}),this._descent.project=new _.Projection(this._nodes,this._groups,this._rootGroup,z,!0).projectFunctions(),this._nodes.forEach(function(Rt,Ht){tt[Ht]=Rt.x,Q[Ht]=Rt.y})),this._descent.G=at,this._descent.run(A),k){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=W,this._descent.scaleSnapByMaxH=W!=rt;var It=v.Descent.createSquareMatrix(rt,function(Rt,Ht){return Rt>=W||Ht>=W?at[Rt][Ht]:0});this._descent.G=It,this._descent.run(k)}return this.updateNodePositions(),this.separateOverlappingComponents(ut,J,O),F?this.resume():this},u.prototype.initialLayout=function(g,C,A){if(this._groups.length>0&&g>0){var k=this._nodes.length,F=this._links.map(function(R){return{source:R.source.index,target:R.target.index}}),O=this._nodes.map(function(R){return{index:R.index}});this._groups.forEach(function(R,U){O.push({index:R.index=k+U})}),this._groups.forEach(function(R,U){void 0!==R.leaves&&R.leaves.forEach(function(V){return F.push({source:R.index,target:V.index})}),void 0!==R.groups&&R.groups.forEach(function(V){return F.push({source:R.index,target:V.index})})}),(new u).size(this.size()).nodes(O).links(F).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(g,0,0,0,!1),this._nodes.forEach(function(R){C[R.index]=O[R.index].x,A[R.index]=O[R.index].y})}else this._descent.run(g)},u.prototype.separateOverlappingComponents=function(g,C,A){var k=this;if(void 0===A&&(A=!0),!this._distanceMatrix&&this._handleDisconnected){var F=this._descent.x[0],O=this._descent.x[1];this._nodes.forEach(function(U,V){U.x=F[V],U.y=O[V]});var R=p.separateGraphs(this._nodes,this._links);p.applyPacking(R,g,C,this._defaultNodeSize,1,A),this._nodes.forEach(function(U,V){k._descent.x[0][V]=U.x,k._descent.x[1][V]=U.y,U.bounds&&(U.bounds.setXCentre(U.x),U.bounds.setYCentre(U.y))})}},u.prototype.resume=function(){return this.alpha(.1)},u.prototype.stop=function(){return this.alpha(0)},u.prototype.prepareEdgeRouting=function(g){void 0===g&&(g=0),this._visibilityGraph=new t.TangentVisibilityGraph(this._nodes.map(function(C){return C.bounds.inflate(-g).vertices()}))},u.prototype.routeEdge=function(g,C,A){void 0===C&&(C=5);var k=[],F=new t.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),O={x:g.source.x,y:g.source.y},R={x:g.target.x,y:g.target.y},U=F.addPoint(O,g.source.index),V=F.addPoint(R,g.target.index);F.addEdgeIfVisible(O,R,g.source.index,g.target.index),void 0!==A&&A(F);var J=new f.Calculator(F.V.length,F.E,function(lt){return lt.source.id},function(lt){return lt.target.id},function(lt){return lt.length()}).PathFromNodeToNode(U.id,V.id);if(1===J.length||J.length===F.V.length){var tt=_.makeEdgeBetween(g.source.innerBounds,g.target.innerBounds,C);k=[tt.sourceIntersection,tt.arrowStart]}else{for(var Q=J.length-2,at=F.V[J[Q]].p,H=F.V[J[0]].p,K=(k=[g.source.innerBounds.rayIntersection(at.x,at.y)],Q);K>=0;--K)k.push(F.V[J[K]].p);k.push(_.makeEdgeTo(H,g.target.innerBounds,C))}return k},u.getSourceIndex=function(g){return"number"==typeof g.source?g.source:g.source.index},u.getTargetIndex=function(g){return"number"==typeof g.target?g.target:g.target.index},u.linkId=function(g){return u.getSourceIndex(g)+"-"+u.getTargetIndex(g)},u.dragStart=function(g){h(g)?u.storeOffset(g,u.dragOrigin(g)):(u.stopNode(g),g.fixed|=2)},u.stopNode=function(g){g.px=g.x,g.py=g.y},u.storeOffset=function(g,C){void 0!==g.leaves&&g.leaves.forEach(function(A){A.fixed|=2,u.stopNode(A),A._dragGroupOffsetX=A.x-C.x,A._dragGroupOffsetY=A.y-C.y}),void 0!==g.groups&&g.groups.forEach(function(A){return u.storeOffset(A,C)})},u.dragOrigin=function(g){return h(g)?{x:g.bounds.cx(),y:g.bounds.cy()}:g},u.drag=function(g,C){h(g)?(void 0!==g.leaves&&g.leaves.forEach(function(A){g.bounds.setXCentre(C.x),g.bounds.setYCentre(C.y),A.px=A._dragGroupOffsetX+C.x,A.py=A._dragGroupOffsetY+C.y}),void 0!==g.groups&&g.groups.forEach(function(A){return u.drag(A,C)})):(g.px=C.x,g.py=C.y)},u.dragEnd=function(g){h(g)?(void 0!==g.leaves&&g.leaves.forEach(function(C){u.dragEnd(C),delete C._dragGroupOffsetX,delete C._dragGroupOffsetY}),void 0!==g.groups&&g.groups.forEach(u.dragEnd)):g.fixed&=-7},u.mouseOver=function(g){g.fixed|=4,g.px=g.x,g.py=g.y},u.mouseOut=function(g){g.fixed&=-5},u}();I.Layout=m},86461:(w,I,o)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var c=o(33858),x=o(91786),v=o(4068),_=o(58802),f=function(){function h(m,u){this.source=m,this.target=u}return h.prototype.actualLength=function(m){var u=this;return Math.sqrt(m.reduce(function(g,C){var A=C[u.target]-C[u.source];return g+A*A},0))},h}();I.Link3D=f,I.Node3D=function h(m,u,g){void 0===m&&(m=0),void 0===u&&(u=0),void 0===g&&(g=0),this.x=m,this.y=u,this.z=g};var p=function(){function h(m,u,g){var C=this;void 0===g&&(g=1),this.nodes=m,this.links=u,this.idealLinkLength=g,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(h.k);for(var A=0;A<h.k;++A)this.result[A]=new Array(m.length);m.forEach(function(k,F){for(var O=0,R=h.dims;O<R.length;O++){var U=R[O];void 0===k[U]&&(k[U]=Math.random())}C.result[0][F]=k.x,C.result[1][F]=k.y,C.result[2][F]=k.z})}return h.prototype.linkLength=function(m){return m.actualLength(this.result)},h.prototype.start=function(m){var u=this;void 0===m&&(m=100);var g=this.nodes.length,C=new l;this.useJaccardLinkLengths&&_.jaccardLinkLengths(this.links,C,1.5),this.links.forEach(function(U){return U.length*=u.idealLinkLength});var A=new c.Calculator(g,this.links,function(U){return U.source},function(U){return U.target},function(U){return U.length}).DistanceMatrix(),k=x.Descent.createSquareMatrix(g,function(U,V){return A[U][V]}),F=x.Descent.createSquareMatrix(g,function(){return 2});this.links.forEach(function(U){var V=U.source,W=U.target;return F[V][W]=F[W][V]=1}),this.descent=new x.Descent(this.result,k),this.descent.threshold=.001,this.descent.G=F,this.constraints&&(this.descent.project=new v.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var O=0;O<this.nodes.length;O++){var R=this.nodes[O];R.fixed&&this.descent.locks.add(O,[R.x,R.y,R.z])}return this.descent.run(m),this},h.prototype.tick=function(){this.descent.locks.clear();for(var m=0;m<this.nodes.length;m++){var u=this.nodes[m];u.fixed&&this.descent.locks.add(m,[u.x,u.y,u.z])}return this.descent.rungeKutta()},h.k=(h.dims=["x","y","z"]).length,h}();I.Layout3D=p;var l=function(){function h(){}return h.prototype.getSourceIndex=function(m){return m.source},h.prototype.getTargetIndex=function(m){return m.target},h.prototype.getLength=function(m){return m.length},h.prototype.setLength=function(m,u){m.length=u},h}()},58802:(w,I)=>{"use strict";function o(l,h){var m={};for(var u in l)m[u]={};for(var u in h)m[u]={};return Object.keys(m).length}function c(l,h){var m=0;for(var u in l)void 0!==h[u]&&++m;return m}function v(l,h,m,u){var g=function x(l,h){var m={},u=function(g,C){void 0===m[g]&&(m[g]={}),m[g][C]={}};return l.forEach(function(g){var C=h.getSourceIndex(g),A=h.getTargetIndex(g);u(C,A),u(A,C)}),m}(l,u);l.forEach(function(C){var A=g[u.getSourceIndex(C)],k=g[u.getTargetIndex(C)];u.setLength(C,1+h*m(A,k))})}function p(l,h,m){var u=[],g=0,C=[],A=[];function k(J){J.index=J.lowlink=g++,C.push(J),J.onStack=!0;for(var tt=0,Q=J.out;tt<Q.length;tt++){var at=Q[tt];void 0===at.index?(k(at),J.lowlink=Math.min(J.lowlink,at.lowlink)):at.onStack&&(J.lowlink=Math.min(J.lowlink,at.index))}if(J.lowlink===J.index){for(var H=[];C.length&&((at=C.pop()).onStack=!1,H.push(at),at!==J););A.push(H.map(function(K){return K.id}))}}for(var F=0;F<l;F++)u.push({id:F,out:[]});for(var O=0,R=h;O<R.length;O++){var U=R[O],V=u[m.getSourceIndex(U)],W=u[m.getTargetIndex(U)];V.out.push(W)}for(var rt=0,nt=u;rt<nt.length;rt++){var ut=nt[rt];void 0===ut.index&&k(ut)}return A}Object.defineProperty(I,"__esModule",{value:!0}),I.symmetricDiffLinkLengths=function _(l,h,m){void 0===m&&(m=1),v(l,m,function(u,g){return Math.sqrt(o(u,g)-c(u,g))},h)},I.jaccardLinkLengths=function f(l,h,m){void 0===m&&(m=1),v(l,m,function(u,g){return Math.min(Object.keys(u).length,Object.keys(g).length)<1.1?0:c(u,g)/o(u,g)},h)},I.generateDirectedEdgeConstraints=function t(l,h,m,u){var g=p(l,h,u),C={};g.forEach(function(k,F){return k.forEach(function(O){return C[O]=F})});var A=[];return h.forEach(function(k){var F=u.getSourceIndex(k),O=u.getTargetIndex(k);C[F]!==C[O]&&A.push({axis:m,left:F,right:O,gap:u.getMinSeparation(k)})}),A},I.stronglyConnectedComponents=p},33900:(w,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var o=function h(m,u,g){this.source=m,this.target=u,this.type=g};I.PowerEdge=o;var c=function(){function h(m,u,g,C){var A=this;if(this.linkAccessor=g,this.modules=new Array(m),this.roots=[],C)this.initModulesFromGroup(C);else{this.roots.push(new f);for(var k=0;k<m;++k)this.roots[0].add(this.modules[k]=new v(k))}this.R=u.length,u.forEach(function(F){var O=A.modules[g.getSourceIndex(F)],R=A.modules[g.getTargetIndex(F)],U=g.getType(F);O.outgoing.add(U,R),R.incoming.add(U,O)})}return h.prototype.initModulesFromGroup=function(m){var u=new f;this.roots.push(u);for(var g=0;g<m.leaves.length;++g){var C=m.leaves[g],A=new v(C.id);this.modules[C.id]=A,u.add(A)}if(m.groups)for(var k=0;k<m.groups.length;++k){var F=m.groups[k],O={};for(var R in F)"leaves"!==R&&"groups"!==R&&F.hasOwnProperty(R)&&(O[R]=F[R]);u.add(new v(-1-k,new t,new t,this.initModulesFromGroup(F),O))}return u},h.prototype.merge=function(m,u,g){void 0===g&&(g=0);var C=m.incoming.intersection(u.incoming),A=m.outgoing.intersection(u.outgoing),k=new f;k.add(m),k.add(u);var F=new v(this.modules.length,A,C,k);this.modules.push(F);var O=function(R,U,V){R.forAll(function(W,rt){W.forAll(function(nt){var ut=nt[U];ut.add(rt,F),ut.remove(rt,m),ut.remove(rt,u),m[V].remove(rt,nt),u[V].remove(rt,nt)})})};return O(A,"incoming","outgoing"),O(C,"outgoing","incoming"),this.R-=C.count()+A.count(),this.roots[g].remove(m),this.roots[g].remove(u),this.roots[g].add(F),F},h.prototype.rootMerges=function(m){void 0===m&&(m=0);for(var u=this.roots[m].modules(),g=u.length,C=new Array(g*(g-1)),A=0,k=0,F=g-1;k<F;++k)for(var O=k+1;O<g;++O){var R=u[k],U=u[O];C[A]={id:A,nEdges:this.nEdges(R,U),a:R,b:U},A++}return C},h.prototype.greedyMerge=function(){for(var m=0;m<this.roots.length;++m)if(!(this.roots[m].modules().length<2)){var g=this.rootMerges(m).sort(function(C,A){return C.nEdges==A.nEdges?C.id-A.id:C.nEdges-A.nEdges})[0];if(!(g.nEdges>=this.R))return this.merge(g.a,g.b,m),!0}},h.prototype.nEdges=function(m,u){var g=m.incoming.intersection(u.incoming),C=m.outgoing.intersection(u.outgoing);return this.R-g.count()-C.count()},h.prototype.getGroupHierarchy=function(m){var u=this,g=[];return x(this.roots[0],{},g),this.allEdges().forEach(function(k){var F=u.modules[k.source],O=u.modules[k.target];m.push(new o(void 0===F.gid?k.source:g[F.gid],void 0===O.gid?k.target:g[O.gid],k.type))}),g},h.prototype.allEdges=function(){var m=[];return h.getEdges(this.roots[0],m),m},h.getEdges=function(m,u){m.forAll(function(g){g.getEdges(u),h.getEdges(g.children,u)})},h}();function x(h,m,u){h.forAll(function(g){if(g.isLeaf())m.leaves||(m.leaves=[]),m.leaves.push(g.id);else{var C=m;if(g.gid=u.length,!g.isIsland()||g.isPredefined()){if(C={id:g.gid},g.isPredefined())for(var A in g.definition)C[A]=g.definition[A];m.groups||(m.groups=[]),m.groups.push(g.gid),u.push(C)}x(g.children,C,u)}})}I.Configuration=c;var v=function(){function h(m,u,g,C,A){void 0===u&&(u=new t),void 0===g&&(g=new t),void 0===C&&(C=new f),this.id=m,this.outgoing=u,this.incoming=g,this.children=C,this.definition=A}return h.prototype.getEdges=function(m){var u=this;this.outgoing.forAll(function(g,C){g.forAll(function(A){m.push(new o(u.id,A.id,C))})})},h.prototype.isLeaf=function(){return 0===this.children.count()},h.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},h.prototype.isPredefined=function(){return void 0!==this.definition},h}();I.Module=v;var f=function(){function h(){this.table={}}return h.prototype.count=function(){return Object.keys(this.table).length},h.prototype.intersection=function(m){var u=new h;return u.table=function _(h,m){var u={};for(var g in h)g in m&&(u[g]=h[g]);return u}(this.table,m.table),u},h.prototype.intersectionCount=function(m){return this.intersection(m).count()},h.prototype.contains=function(m){return m in this.table},h.prototype.add=function(m){this.table[m.id]=m},h.prototype.remove=function(m){delete this.table[m.id]},h.prototype.forAll=function(m){for(var u in this.table)m(this.table[u])},h.prototype.modules=function(){var m=[];return this.forAll(function(u){u.isPredefined()||m.push(u)}),m},h}();I.ModuleSet=f;var t=function(){function h(){this.sets={},this.n=0}return h.prototype.count=function(){return this.n},h.prototype.contains=function(m){var u=!1;return this.forAllModules(function(g){!u&&g.id==m&&(u=!0)}),u},h.prototype.add=function(m,u){(m in this.sets?this.sets[m]:this.sets[m]=new f).add(u),++this.n},h.prototype.remove=function(m,u){var g=this.sets[m];g.remove(u),0===g.count()&&delete this.sets[m],--this.n},h.prototype.forAll=function(m){for(var u in this.sets)m(this.sets[u],Number(u))},h.prototype.forAllModules=function(m){this.forAll(function(u,g){return u.forAll(m)})},h.prototype.intersection=function(m){var u=new h;return this.forAll(function(g,C){if(C in m.sets){var A=g.intersection(m.sets[C]),k=A.count();k>0&&(u.sets[C]=A,u.n+=k)}}),u},h}();I.LinkSets=t,I.getGroups=function l(h,m,u,g){for(var A=new c(h.length,m,u,g);A.greedyMerge(););var k=[],F=A.getGroupHierarchy(k);return k.forEach(function(O){var R=function(U){var V=O[U];"number"==typeof V&&(O[U]=h[V])};R("source"),R("target")}),{groups:F,powerEdges:k}}},88866:(w,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var o=function(){function x(v){this.elem=v,this.subheaps=[]}return x.prototype.toString=function(v){for(var _="",f=!1,t=0;t<this.subheaps.length;++t){var p=this.subheaps[t];p.elem?(f&&(_+=","),_+=p.toString(v),f=!0):f=!1}return""!==_&&(_="("+_+")"),(this.elem?v(this.elem):"")+_},x.prototype.forEach=function(v){this.empty()||(v(this.elem,this),this.subheaps.forEach(function(_){return _.forEach(v)}))},x.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(v,_){return v+_.count()},0)},x.prototype.min=function(){return this.elem},x.prototype.empty=function(){return null==this.elem},x.prototype.contains=function(v){if(this===v)return!0;for(var _=0;_<this.subheaps.length;_++)if(this.subheaps[_].contains(v))return!0;return!1},x.prototype.isHeap=function(v){var _=this;return this.subheaps.every(function(f){return v(_.elem,f.elem)&&f.isHeap(v)})},x.prototype.insert=function(v,_){return this.merge(new x(v),_)},x.prototype.merge=function(v,_){return this.empty()?v:v.empty()?this:_(this.elem,v.elem)?(this.subheaps.push(v),this):(v.subheaps.push(this),v)},x.prototype.removeMin=function(v){return this.empty()?null:this.mergePairs(v)},x.prototype.mergePairs=function(v){if(0==this.subheaps.length)return new x(null);if(1==this.subheaps.length)return this.subheaps[0];var _=this.subheaps.pop().merge(this.subheaps.pop(),v),f=this.mergePairs(v);return _.merge(f,v)},x.prototype.decreaseKey=function(v,_,f,t){var p=v.removeMin(t);v.elem=p.elem,v.subheaps=p.subheaps,null!==f&&null!==p.elem&&f(v.elem,v);var l=new x(_);return null!==f&&f(_,l),this.merge(l,t)},x}();I.PairingHeap=o;var c=function(){function x(v){this.lessThan=v}return x.prototype.top=function(){return this.empty()?null:this.root.elem},x.prototype.push=function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];for(var f,p,t=0;p=v[t];++t)f=new o(p),this.root=this.empty()?f:this.root.merge(f,this.lessThan);return f},x.prototype.empty=function(){return!this.root||!this.root.elem},x.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},x.prototype.forEach=function(v){this.root.forEach(v)},x.prototype.pop=function(){if(this.empty())return null;var v=this.root.min();return this.root=this.root.removeMin(this.lessThan),v},x.prototype.reduceKey=function(v,_,f){void 0===f&&(f=null),this.root=this.root.decreaseKey(v,_,f,this.lessThan)},x.prototype.toString=function(v){return this.root.toString(v)},x.prototype.count=function(){return this.root.count()},x}();I.PriorityQueue=c},94655:function(w,I){"use strict";var f,o=this&&this.__extends||(f=function(t,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])})(t,p)},function(t,p){function l(){this.constructor=t}f(t,p),t.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(I,"__esModule",{value:!0});var c=function(){function f(){this.findIter=function(t){for(var p=this._root,l=this.iterator();null!==p;){var h=this._comparator(t,p.data);if(0===h)return l._cursor=p,l;l._ancestors.push(p),p=p.get_child(h>0)}return null}}return f.prototype.clear=function(){this._root=null,this.size=0},f.prototype.find=function(t){for(var p=this._root;null!==p;){var l=this._comparator(t,p.data);if(0===l)return p.data;p=p.get_child(l>0)}return null},f.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},f.prototype.upperBound=function(t){var p=this._comparator;return this._bound(t,function l(h,m){return p(m,h)})},f.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},f.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},f.prototype.iterator=function(){return new x(this)},f.prototype.each=function(t){for(var l,p=this.iterator();null!==(l=p.next());)t(l)},f.prototype.reach=function(t){for(var l,p=this.iterator();null!==(l=p.prev());)t(l)},f.prototype._bound=function(t,p){for(var l=this._root,h=this.iterator();null!==l;){var m=this._comparator(t,l.data);if(0===m)return h._cursor=l,h;h._ancestors.push(l),l=l.get_child(m>0)}for(var u=h._ancestors.length-1;u>=0;--u)if(p(t,(l=h._ancestors[u]).data)>0)return h._cursor=l,h._ancestors.length=u,h;return h._ancestors.length=0,h},f}();I.TreeBase=c;var x=function(){function f(t){this._tree=t,this._ancestors=[],this._cursor=null}return f.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},f.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right){var p;do{if(p=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===p)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},f.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left){var p;do{if(p=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===p)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},f.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},f.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},f}();I.Iterator=x;var v=function(){function f(t){this.data=t,this.left=null,this.right=null,this.red=!0}return f.prototype.get_child=function(t){return t?this.right:this.left},f.prototype.set_child=function(t,p){t?this.right=p:this.left=p},f}(),_=function(f){function t(p){var l=f.call(this)||this;return l._root=null,l._comparator=p,l.size=0,l}return o(t,f),t.prototype.insert=function(p){var l=!1;if(null===this._root)this._root=new v(p),l=!0,this.size++;else{var h=new v(void 0),m=!1,u=!1,g=null,C=h,A=null,k=this._root;for(C.right=this._root;;){if(null===k?(k=new v(p),A.set_child(m,k),l=!0,this.size++):t.is_red(k.left)&&t.is_red(k.right)&&(k.red=!0,k.left.red=!1,k.right.red=!1),t.is_red(k)&&t.is_red(A)){var F=C.right===g;k===A.get_child(u)?C.set_child(F,t.single_rotate(g,!u)):C.set_child(F,t.double_rotate(g,!u))}var O=this._comparator(k.data,p);if(0===O)break;u=m,null!==g&&(C=g),g=A,A=k,k=k.get_child(m=O<0)}this._root=h.right}return this._root.red=!1,l},t.prototype.remove=function(p){if(null===this._root)return!1;var l=new v(void 0),h=l;h.right=this._root;for(var m=null,u=null,g=null,C=!0;null!==h.get_child(C);){var A=C;u=m,m=h,h=h.get_child(C);var k=this._comparator(p,h.data);if(C=k>0,0===k&&(g=h),!t.is_red(h)&&!t.is_red(h.get_child(C)))if(t.is_red(h.get_child(!C))){var F=t.single_rotate(h,C);m.set_child(A,F),m=F}else if(!t.is_red(h.get_child(!C))){var O=m.get_child(!A);if(null!==O)if(t.is_red(O.get_child(!A))||t.is_red(O.get_child(A))){var R=u.right===m;t.is_red(O.get_child(A))?u.set_child(R,t.double_rotate(m,A)):t.is_red(O.get_child(!A))&&u.set_child(R,t.single_rotate(m,A));var U=u.get_child(R);U.red=!0,h.red=!0,U.left.red=!1,U.right.red=!1}else m.red=!1,O.red=!0,h.red=!0}}return null!==g&&(g.data=h.data,m.set_child(m.right===h,h.get_child(null===h.left)),this.size--),this._root=l.right,null!==this._root&&(this._root.red=!1),null!==g},t.is_red=function(p){return null!==p&&p.red},t.single_rotate=function(p,l){var h=p.get_child(!l);return p.set_child(!l,h.get_child(l)),h.set_child(l,p),p.red=!0,h.red=!1,h},t.double_rotate=function(p,l){return p.set_child(!l,t.single_rotate(p.get_child(!l),!l)),t.single_rotate(p,l)},t}(c);I.RBTree=_},4068:function(w,I,o){"use strict";var J,c=this&&this.__extends||(J=function(tt,Q){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,H){at.__proto__=H}||function(at,H){for(var K in H)H.hasOwnProperty(K)&&(at[K]=H[K])})(tt,Q)},function(tt,Q){function at(){this.constructor=tt}J(tt,Q),tt.prototype=null===Q?Object.create(Q):(at.prototype=Q.prototype,new at)});Object.defineProperty(I,"__esModule",{value:!0});var x=o(98237),v=o(94655);function _(J){return J.bounds=void 0!==J.leaves?J.leaves.reduce(function(tt,Q){return Q.bounds.union(tt)},f.empty()):f.empty(),void 0!==J.groups&&(J.bounds=J.groups.reduce(function(tt,Q){return _(Q).union(tt)},J.bounds)),J.bounds=J.bounds.inflate(J.padding),J.bounds}I.computeGroupBounds=_;var f=function(){function J(tt,Q,at,H){this.x=tt,this.X=Q,this.y=at,this.Y=H}return J.empty=function(){return new J(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},J.prototype.cx=function(){return(this.x+this.X)/2},J.prototype.cy=function(){return(this.y+this.Y)/2},J.prototype.overlapX=function(tt){var Q=this.cx(),at=tt.cx();return Q<=at&&tt.x<this.X?this.X-tt.x:at<=Q&&this.x<tt.X?tt.X-this.x:0},J.prototype.overlapY=function(tt){var Q=this.cy(),at=tt.cy();return Q<=at&&tt.y<this.Y?this.Y-tt.y:at<=Q&&this.y<tt.Y?tt.Y-this.y:0},J.prototype.setXCentre=function(tt){var Q=tt-this.cx();this.x+=Q,this.X+=Q},J.prototype.setYCentre=function(tt){var Q=tt-this.cy();this.y+=Q,this.Y+=Q},J.prototype.width=function(){return this.X-this.x},J.prototype.height=function(){return this.Y-this.y},J.prototype.union=function(tt){return new J(Math.min(this.x,tt.x),Math.max(this.X,tt.X),Math.min(this.y,tt.y),Math.max(this.Y,tt.Y))},J.prototype.lineIntersections=function(tt,Q,at,H){for(var K=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],lt=[],it=0;it<4;++it){var z=J.lineIntersection(tt,Q,at,H,K[it][0],K[it][1],K[it][2],K[it][3]);null!==z&&lt.push({x:z.x,y:z.y})}return lt},J.prototype.rayIntersection=function(tt,Q){var at=this.lineIntersections(this.cx(),this.cy(),tt,Q);return at.length>0?at[0]:null},J.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},J.lineIntersection=function(tt,Q,at,H,K,lt,it,z){var E=at-tt,Ct=it-K,It=H-Q,Rt=z-lt,Ht=Rt*E-Ct*It;if(0==Ht)return null;var ne=tt-K,Ut=Q-lt,ft=(Ct*Ut-Rt*ne)/Ht,Qt=(E*Ut-It*ne)/Ht;return ft>=0&&ft<=1&&Qt>=0&&Qt<=1?{x:tt+ft*E,y:Q+ft*It}:null},J.prototype.inflate=function(tt){return new J(this.x-tt,this.X+tt,this.y-tt,this.Y+tt)},J}();I.Rectangle=f,I.makeEdgeBetween=function t(J,tt,Q){var at=J.rayIntersection(tt.cx(),tt.cy())||{x:J.cx(),y:J.cy()},H=tt.rayIntersection(J.cx(),J.cy())||{x:tt.cx(),y:tt.cy()},K=H.x-at.x,lt=H.y-at.y,it=Math.sqrt(K*K+lt*lt),z=it-Q;return{sourceIntersection:at,targetIntersection:H,arrowStart:{x:at.x+z*K/it,y:at.y+z*lt/it}}},I.makeEdgeTo=function p(J,tt,Q){var at=tt.rayIntersection(J.x,J.y);at||(at={x:tt.cx(),y:tt.cy()});var H=at.x-J.x,K=at.y-J.y,lt=Math.sqrt(H*H+K*K);return{x:at.x-Q*H/lt,y:at.y-Q*K/lt}};var l=function J(tt,Q,at){this.v=tt,this.r=Q,this.pos=at,this.prev=u(),this.next=u()},h=function J(tt,Q,at){this.isOpen=tt,this.v=Q,this.pos=at};function m(J,tt){return J.pos>tt.pos?1:J.pos<tt.pos||J.isOpen?-1:tt.isOpen?1:0}function u(){return new v.RBTree(function(J,tt){return J.pos-tt.pos})}var g={getCentre:function(J){return J.cx()},getOpen:function(J){return J.y},getClose:function(J){return J.Y},getSize:function(J){return J.width()},makeRect:function(J,tt,Q,at){return new f(Q-at/2,Q+at/2,J,tt)},findNeighbours:function F(J,tt){var Q=function(at,H){for(var lt,K=tt.findIter(J);null!==(lt=K[at]());){var it=lt.r.overlapX(J.r);if((it<=0||it<=lt.r.overlapY(J.r))&&(J[at].insert(lt),lt[H].insert(J)),it<=0)break}};Q("next","prev"),Q("prev","next")}},C={getCentre:function(J){return J.cy()},getOpen:function(J){return J.x},getClose:function(J){return J.X},getSize:function(J){return J.height()},makeRect:function(J,tt,Q,at){return new f(J,tt,Q-at/2,Q+at/2)},findNeighbours:function O(J,tt){var Q=function(at,H){var K=tt.findIter(J)[at]();null!==K&&K.r.overlapX(J.r)>0&&(J[at].insert(K),K[H].insert(J))};Q("next","prev"),Q("prev","next")}};function A(J,tt,Q,at){void 0===at&&(at=!1);var H=J.padding,K=void 0!==J.groups?J.groups.length:0,lt=void 0!==J.leaves?J.leaves.length:0,it=K?J.groups.reduce(function(ge,ye){return ge.concat(A(ye,tt,Q,!0))},[]):[],z=(at?2:0)+lt+K,E=new Array(z),Ct=new Array(z),It=0,Rt=function(ge,ye){Ct[It]=ge,E[It++]=ye};if(at){var Ht=J.bounds,ne=tt.getCentre(Ht),Ut=tt.getSize(Ht)/2,vt=tt.getOpen(Ht),ft=tt.getClose(Ht),Nt=ne-Ut+H/2,Qt=ne+Ut-H/2;J.minVar.desiredPosition=Nt,Rt(tt.makeRect(vt,ft,Nt,H),J.minVar),J.maxVar.desiredPosition=Qt,Rt(tt.makeRect(vt,ft,Qt,H),J.maxVar)}lt&&J.leaves.forEach(function(ge){return Rt(ge.bounds,ge.variable)}),K&&J.groups.forEach(function(ge){var ye=ge.bounds;Rt(tt.makeRect(tt.getOpen(ye),tt.getClose(ye),tt.getCentre(ye),tt.getSize(ye)),ge.minVar)});var me=k(Ct,E,tt,Q);return K&&(E.forEach(function(ge){ge.cOut=[],ge.cIn=[]}),me.forEach(function(ge){ge.left.cOut.push(ge),ge.right.cIn.push(ge)}),J.groups.forEach(function(ge){var ye=(ge.padding-tt.getSize(ge.bounds))/2;ge.minVar.cIn.forEach(function(Be){return Be.gap+=ye}),ge.minVar.cOut.forEach(function(Be){Be.left=ge.maxVar,Be.gap+=ye})})),it.concat(me)}function k(J,tt,Q,at){var H,K=J.length,lt=2*K;console.assert(tt.length>=K);var it=new Array(lt);for(H=0;H<K;++H){var z=J[H],E=new l(tt[H],z,Q.getCentre(z));it[H]=new h(!0,E,Q.getOpen(z)),it[H+K]=new h(!1,E,Q.getClose(z))}it.sort(m);var Ct=new Array,It=u();for(H=0;H<lt;++H){var Rt=it[H];if(E=Rt.v,Rt.isOpen)It.insert(E),Q.findNeighbours(E,It);else{It.remove(E);var Ht=function(vt,ft){var Nt=(Q.getSize(vt.r)+Q.getSize(ft.r))/2+at;Ct.push(new x.Constraint(vt.v,ft.v,Nt))},ne=function(vt,ft,Nt){for(var Qt,me=E[vt].iterator();null!==(Qt=me[vt]());)Nt(Qt,E),Qt[ft].remove(E)};ne("prev","next",function(vt,ft){return Ht(vt,ft)}),ne("next","prev",function(vt,ft){return Ht(ft,vt)})}}return console.assert(0===It.size),Ct}function R(J,tt){return k(J,tt,g,1e-6)}function U(J,tt){return k(J,tt,C,1e-6)}function V(J){return A(J,g,1e-6)}function W(J){return A(J,C,1e-6)}I.generateXConstraints=R,I.generateYConstraints=U,I.generateXGroupConstraints=V,I.generateYGroupConstraints=W,I.removeOverlaps=function rt(J){var tt=J.map(function(H){return new x.Variable(H.cx())}),Q=R(J,tt),at=new x.Solver(tt,Q);at.solve(),tt.forEach(function(H,K){return J[K].setXCentre(H.position())}),tt=J.map(function(H){return new x.Variable(H.cy())}),Q=U(J,tt),(at=new x.Solver(tt,Q)).solve(),tt.forEach(function(H,K){return J[K].setYCentre(H.position())})};var nt=function(J){function tt(Q,at){var H=J.call(this,0,at)||this;return H.index=Q,H}return c(tt,J),tt}(x.Variable);I.IndexedVariable=nt;var ut=function(){function J(tt,Q,at,H,K){var lt=this;if(void 0===at&&(at=null),void 0===H&&(H=null),void 0===K&&(K=!1),this.nodes=tt,this.groups=Q,this.rootGroup=at,this.avoidOverlaps=K,this.variables=tt.map(function(z,E){return z.variable=new nt(E,1)}),H&&this.createConstraints(H),K&&at&&void 0!==at.groups){tt.forEach(function(z){if(z.width&&z.height){var E=z.width/2,Ct=z.height/2;z.bounds=new f(z.x-E,z.x+E,z.y-Ct,z.y+Ct)}else z.bounds=new f(z.x,z.x,z.y,z.y)}),_(at);var it=tt.length;Q.forEach(function(z){lt.variables[it]=z.minVar=new nt(it++,void 0!==z.stiffness?z.stiffness:.01),lt.variables[it]=z.maxVar=new nt(it++,void 0!==z.stiffness?z.stiffness:.01)})}}return J.prototype.createSeparation=function(tt){return new x.Constraint(this.nodes[tt.left].variable,this.nodes[tt.right].variable,tt.gap,void 0!==tt.equality&&tt.equality)},J.prototype.makeFeasible=function(tt){var Q=this;if(this.avoidOverlaps){var at="x",H="width";"x"===tt.axis&&(at="y",H="height");var K=tt.offsets.map(function(it){return Q.nodes[it.node]}).sort(function(it,z){return it[at]-z[at]}),lt=null;K.forEach(function(it){if(lt){var z=lt[at]+lt[H];z>it[at]&&(it[at]=z)}lt=it})}},J.prototype.createAlignment=function(tt){var Q=this,at=this.nodes[tt.offsets[0].node].variable;this.makeFeasible(tt);var H="x"===tt.axis?this.xConstraints:this.yConstraints;tt.offsets.slice(1).forEach(function(K){H.push(new x.Constraint(at,Q.nodes[K.node].variable,K.offset,!0))})},J.prototype.createConstraints=function(tt){var Q=this,at=function(H){return void 0===H.type||"separation"===H.type};this.xConstraints=tt.filter(function(H){return"x"===H.axis&&at(H)}).map(function(H){return Q.createSeparation(H)}),this.yConstraints=tt.filter(function(H){return"y"===H.axis&&at(H)}).map(function(H){return Q.createSeparation(H)}),tt.filter(function(H){return"alignment"===H.type}).forEach(function(H){return Q.createAlignment(H)})},J.prototype.setupVariablesAndBounds=function(tt,Q,at,H){this.nodes.forEach(function(K,lt){K.fixed?(K.variable.weight=K.fixedWeight?K.fixedWeight:1e3,at[lt]=H(K)):K.variable.weight=1;var it=(K.width||0)/2,z=(K.height||0)/2,E=tt[lt],Ct=Q[lt];K.bounds=new f(E-it,E+it,Ct-z,Ct+z)})},J.prototype.xProject=function(tt,Q,at){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(tt,Q,tt,at,function(H){return H.px},this.xConstraints,V,function(H){return H.bounds.setXCentre(at[H.variable.index]=H.variable.position())},function(H){var K=at[H.minVar.index]=H.minVar.position(),lt=at[H.maxVar.index]=H.maxVar.position(),it=H.padding/2;H.bounds.x=K-it,H.bounds.X=lt+it})},J.prototype.yProject=function(tt,Q,at){!this.rootGroup&&!this.yConstraints||this.project(tt,Q,Q,at,function(H){return H.py},this.yConstraints,W,function(H){return H.bounds.setYCentre(at[H.variable.index]=H.variable.position())},function(H){var K=at[H.minVar.index]=H.minVar.position(),lt=at[H.maxVar.index]=H.maxVar.position(),it=H.padding/2;H.bounds.y=K-it,H.bounds.Y=lt+it})},J.prototype.projectFunctions=function(){var tt=this;return[function(Q,at,H){return tt.xProject(Q,at,H)},function(Q,at,H){return tt.yProject(Q,at,H)}]},J.prototype.project=function(tt,Q,at,H,K,lt,it,z,E){this.setupVariablesAndBounds(tt,Q,H,K),this.rootGroup&&this.avoidOverlaps&&(_(this.rootGroup),lt=lt.concat(it(this.rootGroup))),this.solve(this.variables,lt,at,H),this.nodes.forEach(z),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(E),_(this.rootGroup))},J.prototype.solve=function(tt,Q,at,H){var K=new x.Solver(tt,Q);K.setStartingPositions(at),K.setDesiredPositions(H),K.solve()},J}();I.Projection=ut},33858:(w,I,o)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var c=o(88866),x=function t(p,l){this.id=p,this.distance=l},v=function t(p){this.id=p,this.neighbours=[]},_=function t(p,l,h){this.node=p,this.prev=l,this.d=h},f=function(){function t(p,l,h,m,u){this.n=p,this.es=l,this.neighbours=new Array(this.n);for(var g=this.n;g--;)this.neighbours[g]=new v(g);for(g=this.es.length;g--;){var C=this.es[g],A=h(C),k=m(C),F=u(C);this.neighbours[A].neighbours.push(new x(k,F)),this.neighbours[k].neighbours.push(new x(A,F))}}return t.prototype.DistanceMatrix=function(){for(var p=new Array(this.n),l=0;l<this.n;++l)p[l]=this.dijkstraNeighbours(l);return p},t.prototype.DistancesFromNode=function(p){return this.dijkstraNeighbours(p)},t.prototype.PathFromNodeToNode=function(p,l){return this.dijkstraNeighbours(p,l)},t.prototype.PathFromNodeToNodeWithPrevCost=function(p,l,h){var m=new c.PriorityQueue(function(W,rt){return W.d<=rt.d}),u=this.neighbours[p],g=new _(u,null,0),C={};for(m.push(g);!m.empty()&&(u=(g=m.pop()).node).id!==l;)for(var A=u.neighbours.length;A--;){var k=u.neighbours[A],F=this.neighbours[k.id];if(!g.prev||F.id!==g.prev.node.id){var O=F.id+","+u.id;if(!(O in C&&C[O]<=g.d)){var R=g.prev?h(g.prev.node.id,u.id,F.id):0,U=g.d+k.distance+R;C[O]=U,m.push(new _(F,g,U))}}}for(var V=[];g.prev;)V.push((g=g.prev).node.id);return V},t.prototype.dijkstraNeighbours=function(p,l){void 0===l&&(l=-1);for(var h=new c.PriorityQueue(function(R,U){return R.d<=U.d}),m=this.neighbours.length,u=new Array(m);m--;){var g=this.neighbours[m];g.d=m===p?0:Number.POSITIVE_INFINITY,g.q=h.push(g)}for(;!h.empty();){var C=h.pop();if(u[C.id]=C.d,C.id===l){for(var A=[],k=C;void 0!==k.prev;)A.push(k.prev.id),k=k.prev;return A}for(m=C.neighbours.length;m--;){var F=C.neighbours[m],O=(k=this.neighbours[F.id],C.d+F.distance);C.d!==Number.MAX_VALUE&&k.d>O&&(k.d=O,k.prev=C,h.reduceKey(k.q,k,function(U,V){return U.q=V}))}}return u},t}();I.Calculator=f},98237:(w,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var o=function(){function p(l){this.scale=l,this.AB=0,this.AD=0,this.A2=0}return p.prototype.addVariable=function(l){var h=this.scale/l.scale,u=l.weight;this.AB+=u*h*(l.offset/l.scale),this.AD+=u*h*l.desiredPosition,this.A2+=u*h*h},p.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},p}();I.PositionStats=o;var c=function(){function p(l,h,m,u){void 0===u&&(u=!1),this.left=l,this.right=h,this.gap=m,this.equality=u,this.active=!1,this.unsatisfiable=!1,this.left=l,this.right=h,this.gap=m,this.equality=u}return p.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},p}();I.Constraint=c;var x=function(){function p(l,h,m){void 0===h&&(h=1),void 0===m&&(m=1),this.desiredPosition=l,this.weight=h,this.scale=m,this.offset=0}return p.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},p.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},p.prototype.visitNeighbours=function(l,h){var m=function(u,g){return u.active&&l!==g&&h(u,g)};this.cOut.forEach(function(u){return m(u,u.right)}),this.cIn.forEach(function(u){return m(u,u.left)})},p}();I.Variable=x;var v=function(){function p(l){this.vars=[],l.offset=0,this.ps=new o(l.scale),this.addVariable(l)}return p.prototype.addVariable=function(l){l.block=this,this.vars.push(l),this.ps.addVariable(l),this.posn=this.ps.getPosn()},p.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var l=0,h=this.vars.length;l<h;++l)this.ps.addVariable(this.vars[l]);this.posn=this.ps.getPosn()},p.prototype.compute_lm=function(l,h,m){var u=this,g=l.dfdv();return l.visitNeighbours(h,function(C,A){var k=u.compute_lm(A,l,m);A===C.right?(g+=k*C.left.scale,C.lm=k):(g+=k*C.right.scale,C.lm=-k),m(C)}),g/l.scale},p.prototype.populateSplitBlock=function(l,h){var m=this;l.visitNeighbours(h,function(u,g){g.offset=l.offset+(g===u.right?u.gap:-u.gap),m.addVariable(g),m.populateSplitBlock(g,l)})},p.prototype.traverse=function(l,h,m,u){var g=this;void 0===m&&(m=this.vars[0]),void 0===u&&(u=null),m.visitNeighbours(u,function(C,A){h.push(l(C)),g.traverse(l,h,A,m)})},p.prototype.findMinLM=function(){var l=null;return this.compute_lm(this.vars[0],null,function(h){!h.equality&&(null===l||h.lm<l.lm)&&(l=h)}),l},p.prototype.findMinLMBetween=function(l,h){this.compute_lm(l,null,function(){});var m=null;return this.findPath(l,null,h,function(u,g){!u.equality&&u.right===g&&(null===m||u.lm<m.lm)&&(m=u)}),m},p.prototype.findPath=function(l,h,m,u){var g=this,C=!1;return l.visitNeighbours(h,function(A,k){!C&&(k===m||g.findPath(k,l,m,u))&&(C=!0,u(A,k))}),C},p.prototype.isActiveDirectedPathBetween=function(l,h){if(l===h)return!0;for(var m=l.cOut.length;m--;){var u=l.cOut[m];if(u.active&&this.isActiveDirectedPathBetween(u.right,h))return!0}return!1},p.split=function(l){return l.active=!1,[p.createSplitBlock(l.left),p.createSplitBlock(l.right)]},p.createSplitBlock=function(l){var h=new p(l);return h.populateSplitBlock(l,null),h},p.prototype.splitBetween=function(l,h){var m=this.findMinLMBetween(l,h);if(null!==m){var u=p.split(m);return{constraint:m,lb:u[0],rb:u[1]}}return null},p.prototype.mergeAcross=function(l,h,m){h.active=!0;for(var u=0,g=l.vars.length;u<g;++u){var C=l.vars[u];C.offset+=m,this.addVariable(C)}this.posn=this.ps.getPosn()},p.prototype.cost=function(){for(var l=0,h=this.vars.length;h--;){var m=this.vars[h],u=m.position()-m.desiredPosition;l+=u*u*m.weight}return l},p}();I.Block=v;var _=function(){function p(l){this.vs=l;var h=l.length;for(this.list=new Array(h);h--;){var m=new v(l[h]);this.list[h]=m,m.blockInd=h}}return p.prototype.cost=function(){for(var l=0,h=this.list.length;h--;)l+=this.list[h].cost();return l},p.prototype.insert=function(l){l.blockInd=this.list.length,this.list.push(l)},p.prototype.remove=function(l){var h=this.list.length-1,m=this.list[h];this.list.length=h,l!==m&&(this.list[l.blockInd]=m,m.blockInd=l.blockInd)},p.prototype.merge=function(l){var h=l.left.block,m=l.right.block,u=l.right.offset-l.left.offset-l.gap;h.vars.length<m.vars.length?(m.mergeAcross(h,l,u),this.remove(h)):(h.mergeAcross(m,l,-u),this.remove(m))},p.prototype.forEach=function(l){this.list.forEach(l)},p.prototype.updateBlockPositions=function(){this.list.forEach(function(l){return l.updateWeightedPosition()})},p.prototype.split=function(l){var h=this;this.updateBlockPositions(),this.list.forEach(function(m){var u=m.findMinLM();null!==u&&u.lm<f.LAGRANGIAN_TOLERANCE&&(m=u.left.block,v.split(u).forEach(function(g){return h.insert(g)}),h.remove(m),l.push(u))})},p}();I.Blocks=_;var f=function(){function p(l,h){this.vs=l,this.cs=h,this.vs=l,l.forEach(function(m){m.cIn=[],m.cOut=[]}),this.cs=h,h.forEach(function(m){m.left.cOut.push(m),m.right.cIn.push(m)}),this.inactive=h.map(function(m){return m.active=!1,m}),this.bs=null}return p.prototype.cost=function(){return this.bs.cost()},p.prototype.setStartingPositions=function(l){this.inactive=this.cs.map(function(h){return h.active=!1,h}),this.bs=new _(this.vs),this.bs.forEach(function(h,m){return h.posn=l[m]})},p.prototype.setDesiredPositions=function(l){this.vs.forEach(function(h,m){return h.desiredPosition=l[m]})},p.prototype.mostViolated=function(){for(var l=Number.MAX_VALUE,h=null,m=this.inactive,u=m.length,g=u,C=0;C<u;++C){var A=m[C];if(!A.unsatisfiable){var k=A.slack();if((A.equality||k<l)&&(l=k,h=A,g=C,A.equality))break}}return g!==u&&(l<p.ZERO_UPPERBOUND&&!h.active||h.equality)&&(m[g]=m[u-1],m.length=u-1),h},p.prototype.satisfy=function(){null==this.bs&&(this.bs=new _(this.vs)),this.bs.split(this.inactive);for(var l=null;(l=this.mostViolated())&&(l.equality||l.slack()<p.ZERO_UPPERBOUND&&!l.active);){var h=l.left.block;if(h!==l.right.block)this.bs.merge(l);else{if(h.isActiveDirectedPathBetween(l.right,l.left)){l.unsatisfiable=!0;continue}var u=h.splitBetween(l.left,l.right);if(null===u){l.unsatisfiable=!0;continue}this.bs.insert(u.lb),this.bs.insert(u.rb),this.bs.remove(h),this.inactive.push(u.constraint),l.slack()>=0?this.inactive.push(l):this.bs.merge(l)}}},p.prototype.solve=function(){this.satisfy();for(var l=Number.MAX_VALUE,h=this.bs.cost();Math.abs(l-h)>1e-4;)this.satisfy(),l=h,h=this.bs.cost();return h},p.LAGRANGIAN_TOLERANCE=-1e-4,p.ZERO_UPPERBOUND=-1e-10,p}();I.Solver=f,I.removeOverlapInOneDimension=function t(p,l,h){for(var m=p.map(function(nt){return new x(nt.desiredCenter)}),u=[],g=p.length,C=0;C<g-1;C++)u.push(new c(m[C],m[C+1],(p[C].size+p[C+1].size)/2));var F=m[0],O=m[g-1],R=p[0].size/2,U=p[g-1].size/2,V=null,W=null;return l&&(V=new x(l,1e3*F.weight),m.push(V),u.push(new c(V,F,R))),h&&(W=new x(h,1e3*O.weight),m.push(W),u.push(new c(O,W,U))),new f(m,u).solve(),{newCenters:m.slice(0,p.length).map(function(nt){return nt.position()}),lowerBound:V?V.position():F.position()-R,upperBound:W?W.position():O.position()+U}}}}]);