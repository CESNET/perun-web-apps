(self.webpackChunkadmin_gui=self.webpackChunkadmin_gui||[]).push([[124],{89397:function(w,k){!function(s){"use strict";function c(Y,K){return K.forEach(function(rt){rt&&"string"!=typeof rt&&!Array.isArray(rt)&&Object.keys(rt).forEach(function(at){if("default"!==at&&!(at in Y)){var V=Object.getOwnPropertyDescriptor(rt,at);Object.defineProperty(Y,at,V.get?V:{enumerable:!0,get:function(){return rt[at]}})}})}),Object.freeze(Y)}var at,rt,x={exports:{}};at="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,rt=function(V){var Ct,Mt,M=void 0!==(V=V||{})?V:{};M.ready=new Promise(function(T,I){Ct=T,Mt=I});var Ht,Bt={};for(Ht in M)M.hasOwnProperty(Ht)&&(Bt[Ht]=M[Ht]);var Nt,Qt,ie="./this.program",vt="";"undefined"!=typeof document&&document.currentScript&&(vt=document.currentScript.src),at&&(vt=at),vt=0!==vt.indexOf("blob:")?vt.substr(0,vt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Nt=function(T){var I=new XMLHttpRequest;return I.open("GET",T,!1),I.send(null),I.responseText},Qt=function(T,I,B){var j=new XMLHttpRequest;j.open("GET",T,!0),j.responseType="arraybuffer",j.onload=function(){200==j.status||0==j.status&&j.response?I(j.response):B()},j.onerror=B,j.send(null)};var Fe,ge=M.print||console.log.bind(console),ve=M.printErr||console.warn.bind(console);for(Ht in Bt)Bt.hasOwnProperty(Ht)&&(M[Ht]=Bt[Ht]);Bt=null,M.thisProgram&&(ie=M.thisProgram),M.wasmBinary&&(Fe=M.wasmBinary),"object"!=typeof WebAssembly&&Dn("no native wasm support detected");var qe,De=!1;function fn(T,I){T||Dn("Assertion failed: "+I)}var Ke,En,Pn,Ve,mi,Be="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Cn(T,I,B){for(var j=I+B,ct=I;T[ct]&&!(ct>=j);)++ct;if(ct-I>16&&T.subarray&&Be)return Be.decode(T.subarray(I,ct));for(var xt="";I<ct;){var kt=T[I++];if(128&kt){var Ft=63&T[I++];if(192!=(224&kt)){var ae=63&T[I++];if((kt=224==(240&kt)?(15&kt)<<12|Ft<<6|ae:(7&kt)<<18|Ft<<12|ae<<6|63&T[I++])<65536)xt+=String.fromCharCode(kt);else{var Ee=kt-65536;xt+=String.fromCharCode(55296|Ee>>10,56320|1023&Ee)}}else xt+=String.fromCharCode((31&kt)<<6|Ft)}else xt+=String.fromCharCode(kt)}return xt}function ke(T,I){return T?Cn(Pn,T,I):""}function Zn(T,I,B,j){if(!(j>0))return 0;for(var ct=B,xt=B+j-1,kt=0;kt<T.length;++kt){var Ft=T.charCodeAt(kt);if(Ft>=55296&&Ft<=57343&&(Ft=65536+((1023&Ft)<<10)|1023&T.charCodeAt(++kt)),Ft<=127){if(B>=xt)break;I[B++]=Ft}else if(Ft<=2047){if(B+1>=xt)break;I[B++]=192|Ft>>6,I[B++]=128|63&Ft}else if(Ft<=65535){if(B+2>=xt)break;I[B++]=224|Ft>>12,I[B++]=128|Ft>>6&63,I[B++]=128|63&Ft}else{if(B+3>=xt)break;I[B++]=240|Ft>>18,I[B++]=128|Ft>>12&63,I[B++]=128|Ft>>6&63,I[B++]=128|63&Ft}}return I[B]=0,B-ct}function ai(T){for(var I=0,B=0;B<T.length;++B){var j=T.charCodeAt(B);j>=55296&&j<=57343&&(j=65536+((1023&j)<<10)|1023&T.charCodeAt(++B)),j<=127?++I:I+=j<=2047?2:j<=65535?3:4}return I}function An(T,I){return T%I>0&&(T+=I-T%I),T}function Hn(T){Ke=T,M.HEAP8=En=new Int8Array(T),M.HEAP16=new Int16Array(T),M.HEAP32=Ve=new Int32Array(T),M.HEAPU8=Pn=new Uint8Array(T),M.HEAPU16=new Uint16Array(T),M.HEAPU32=new Uint32Array(T),M.HEAPF32=new Float32Array(T),M.HEAPF64=mi=new Float64Array(T)}var yn,Xn=[],ei=[],Oe=[];var xe=0,Ue=null;function an(T){xe++,M.monitorRunDependencies&&M.monitorRunDependencies(xe)}function Bn(T){if(xe--,M.monitorRunDependencies&&M.monitorRunDependencies(xe),0==xe&&Ue){var I=Ue;Ue=null,I()}}function Dn(T){M.onAbort&&M.onAbort(T),ve(T="Aborted("+T+")"),De=!0,T+=". Build with -s ASSERTIONS=1 for more info.";var I=new WebAssembly.RuntimeError(T);throw Mt(I),I}M.preloadedImages={},M.preloadedAudios={};var gn;function Ii(T){return T.startsWith("data:application/octet-stream;base64,")}function ni(T){try{if(T==gn&&Fe)return new Uint8Array(Fe);throw"both async and sync fetching of the wasm failed"}catch(I){Dn(I)}}Ii(gn="expatlib.wasm")||(gn=function ft(T){return M.locateFile?M.locateFile(T,vt):vt+T}(gn));var _e,en,ii={11694:function(T){var I=M.getCache(M.CExpatJS)[T];if(!I.hasOwnProperty("startElement"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::startElement.";I.startElement()},11912:function(T){var I=M.getCache(M.CExpatJS)[T];if(!I.hasOwnProperty("endElement"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::endElement.";I.endElement()},12124:function(T){var I=M.getCache(M.CExpatJS)[T];if(!I.hasOwnProperty("characterData"))throw"a JSImplementation must implement all functions, you forgot CExpatJS::characterData.";I.characterData()}};function di(T){for(;T.length>0;){var I=T.shift();if("function"!=typeof I){var B=I.func;"number"==typeof B?void 0===I.arg?Mn(B)():Mn(B)(I.arg):B(void 0===I.arg?null:I.arg)}else I(M)}}function Mn(T){return yn.get(T)}var we={splitPath:function(T){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(T).slice(1)},normalizeArray:function(T,I){for(var B=0,j=T.length-1;j>=0;j--){var ct=T[j];"."===ct?T.splice(j,1):".."===ct?(T.splice(j,1),B++):B&&(T.splice(j,1),B--)}if(I)for(;B;B--)T.unshift("..");return T},normalize:function(T){var I="/"===T.charAt(0),B="/"===T.substr(-1);return!(T=we.normalizeArray(T.split("/").filter(function(j){return!!j}),!I).join("/"))&&!I&&(T="."),T&&B&&(T+="/"),(I?"/":"")+T},dirname:function(T){var I=we.splitPath(T),B=I[0],j=I[1];return B||j?(j&&(j=j.substr(0,j.length-1)),B+j):"."},basename:function(T){if("/"===T)return"/";var I=(T=(T=we.normalize(T)).replace(/\/$/,"")).lastIndexOf("/");return-1===I?T:T.substr(I+1)},extname:function(T){return we.splitPath(T)[3]},join:function(){var T=Array.prototype.slice.call(arguments,0);return we.normalize(T.join("/"))},join2:function(T,I){return we.normalize(T+"/"+I)}};var pn={resolve:function(){for(var T="",I=!1,B=arguments.length-1;B>=-1&&!I;B--){var j=B>=0?arguments[B]:E.cwd();if("string"!=typeof j)throw new TypeError("Arguments to path.resolve must be strings");if(!j)return"";T=j+"/"+T,I="/"===j.charAt(0)}return(I?"/":"")+(T=we.normalizeArray(T.split("/").filter(function(ct){return!!ct}),!I).join("/"))||"."},relative:function(T,I){function B(Ee){for(var Ge=0;Ge<Ee.length&&""===Ee[Ge];Ge++);for(var tn=Ee.length-1;tn>=0&&""===Ee[tn];tn--);return Ge>tn?[]:Ee.slice(Ge,tn-Ge+1)}T=pn.resolve(T).substr(1),I=pn.resolve(I).substr(1);for(var j=B(T.split("/")),ct=B(I.split("/")),xt=Math.min(j.length,ct.length),kt=xt,Ft=0;Ft<xt;Ft++)if(j[Ft]!==ct[Ft]){kt=Ft;break}var ae=[];for(Ft=kt;Ft<j.length;Ft++)ae.push("..");return(ae=ae.concat(ct.slice(kt))).join("/")}},ln={ttys:[],init:function(){},shutdown:function(){},register:function(T,I){ln.ttys[T]={input:[],output:[],ops:I},E.registerDevice(T,ln.stream_ops)},stream_ops:{open:function(T){var I=ln.ttys[T.node.rdev];if(!I)throw new E.ErrnoError(43);T.tty=I,T.seekable=!1},close:function(T){T.tty.ops.flush(T.tty)},flush:function(T){T.tty.ops.flush(T.tty)},read:function(T,I,B,j,ct){if(!T.tty||!T.tty.ops.get_char)throw new E.ErrnoError(60);for(var xt=0,kt=0;kt<j;kt++){var Ft;try{Ft=T.tty.ops.get_char(T.tty)}catch(ae){throw new E.ErrnoError(29)}if(void 0===Ft&&0===xt)throw new E.ErrnoError(6);if(null==Ft)break;xt++,I[B+kt]=Ft}return xt&&(T.node.timestamp=Date.now()),xt},write:function(T,I,B,j,ct){if(!T.tty||!T.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var xt=0;xt<j;xt++)T.tty.ops.put_char(T.tty,I[B+xt])}catch(kt){throw new E.ErrnoError(29)}return j&&(T.node.timestamp=Date.now()),xt}},default_tty_ops:{get_char:function(T){if(!T.input.length){var I=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(I=window.prompt("Input: "))&&(I+="\n"):"function"==typeof readline&&null!==(I=readline())&&(I+="\n"),!I)return null;T.input=be(I,!0)}return T.input.shift()},put_char:function(T,I){null===I||10===I?(ge(Cn(T.output,0)),T.output=[]):0!=I&&T.output.push(I)},flush:function(T){T.output&&T.output.length>0&&(ge(Cn(T.output,0)),T.output=[])}},default_tty1_ops:{put_char:function(T,I){null===I||10===I?(ve(Cn(T.output,0)),T.output=[]):0!=I&&T.output.push(I)},flush:function(T){T.output&&T.output.length>0&&(ve(Cn(T.output,0)),T.output=[])}}};var W={ops_table:null,mount:function(T){return W.createNode(null,"/",16895,0)},createNode:function(T,I,B,j){if(E.isBlkdev(B)||E.isFIFO(B))throw new E.ErrnoError(63);W.ops_table||(W.ops_table={dir:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr,lookup:W.node_ops.lookup,mknod:W.node_ops.mknod,rename:W.node_ops.rename,unlink:W.node_ops.unlink,rmdir:W.node_ops.rmdir,readdir:W.node_ops.readdir,symlink:W.node_ops.symlink},stream:{llseek:W.stream_ops.llseek}},file:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr},stream:{llseek:W.stream_ops.llseek,read:W.stream_ops.read,write:W.stream_ops.write,allocate:W.stream_ops.allocate,mmap:W.stream_ops.mmap,msync:W.stream_ops.msync}},link:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr,readlink:W.node_ops.readlink},stream:{}},chrdev:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr},stream:E.chrdev_stream_ops}});var ct=E.createNode(T,I,B,j);return E.isDir(ct.mode)?(ct.node_ops=W.ops_table.dir.node,ct.stream_ops=W.ops_table.dir.stream,ct.contents={}):E.isFile(ct.mode)?(ct.node_ops=W.ops_table.file.node,ct.stream_ops=W.ops_table.file.stream,ct.usedBytes=0,ct.contents=null):E.isLink(ct.mode)?(ct.node_ops=W.ops_table.link.node,ct.stream_ops=W.ops_table.link.stream):E.isChrdev(ct.mode)&&(ct.node_ops=W.ops_table.chrdev.node,ct.stream_ops=W.ops_table.chrdev.stream),ct.timestamp=Date.now(),T&&(T.contents[I]=ct,T.timestamp=ct.timestamp),ct},getFileDataAsTypedArray:function(T){return T.contents?T.contents.subarray?T.contents.subarray(0,T.usedBytes):new Uint8Array(T.contents):new Uint8Array(0)},expandFileStorage:function(T,I){var B=T.contents?T.contents.length:0;if(!(B>=I)){I=Math.max(I,B*(B<1048576?2:1.125)>>>0),0!=B&&(I=Math.max(I,256));var ct=T.contents;T.contents=new Uint8Array(I),T.usedBytes>0&&T.contents.set(ct.subarray(0,T.usedBytes),0)}},resizeFileStorage:function(T,I){if(T.usedBytes!=I)if(0==I)T.contents=null,T.usedBytes=0;else{var B=T.contents;T.contents=new Uint8Array(I),B&&T.contents.set(B.subarray(0,Math.min(I,T.usedBytes))),T.usedBytes=I}},node_ops:{getattr:function(T){var I={};return I.dev=E.isChrdev(T.mode)?T.id:1,I.ino=T.id,I.mode=T.mode,I.nlink=1,I.uid=0,I.gid=0,I.rdev=T.rdev,I.size=E.isDir(T.mode)?4096:E.isFile(T.mode)?T.usedBytes:E.isLink(T.mode)?T.link.length:0,I.atime=new Date(T.timestamp),I.mtime=new Date(T.timestamp),I.ctime=new Date(T.timestamp),I.blksize=4096,I.blocks=Math.ceil(I.size/I.blksize),I},setattr:function(T,I){void 0!==I.mode&&(T.mode=I.mode),void 0!==I.timestamp&&(T.timestamp=I.timestamp),void 0!==I.size&&W.resizeFileStorage(T,I.size)},lookup:function(T,I){throw E.genericErrors[44]},mknod:function(T,I,B,j){return W.createNode(T,I,B,j)},rename:function(T,I,B){if(E.isDir(T.mode)){var j;try{j=E.lookupNode(I,B)}catch(xt){}if(j)for(var ct in j.contents)throw new E.ErrnoError(55)}delete T.parent.contents[T.name],T.parent.timestamp=Date.now(),T.name=B,I.contents[B]=T,I.timestamp=T.parent.timestamp,T.parent=I},unlink:function(T,I){delete T.contents[I],T.timestamp=Date.now()},rmdir:function(T,I){var B=E.lookupNode(T,I);for(var j in B.contents)throw new E.ErrnoError(55);delete T.contents[I],T.timestamp=Date.now()},readdir:function(T){var I=[".",".."];for(var B in T.contents)!T.contents.hasOwnProperty(B)||I.push(B);return I},symlink:function(T,I,B){var j=W.createNode(T,I,41471,0);return j.link=B,j},readlink:function(T){if(!E.isLink(T.mode))throw new E.ErrnoError(28);return T.link}},stream_ops:{read:function(T,I,B,j,ct){var xt=T.node.contents;if(ct>=T.node.usedBytes)return 0;var kt=Math.min(T.node.usedBytes-ct,j);if(kt>8&&xt.subarray)I.set(xt.subarray(ct,ct+kt),B);else for(var Ft=0;Ft<kt;Ft++)I[B+Ft]=xt[ct+Ft];return kt},write:function(T,I,B,j,ct,xt){if(I.buffer===En.buffer&&(xt=!1),!j)return 0;var kt=T.node;if(kt.timestamp=Date.now(),I.subarray&&(!kt.contents||kt.contents.subarray)){if(xt)return kt.contents=I.subarray(B,B+j),kt.usedBytes=j,j;if(0===kt.usedBytes&&0===ct)return kt.contents=I.slice(B,B+j),kt.usedBytes=j,j;if(ct+j<=kt.usedBytes)return kt.contents.set(I.subarray(B,B+j),ct),j}if(W.expandFileStorage(kt,ct+j),kt.contents.subarray&&I.subarray)kt.contents.set(I.subarray(B,B+j),ct);else for(var Ft=0;Ft<j;Ft++)kt.contents[ct+Ft]=I[B+Ft];return kt.usedBytes=Math.max(kt.usedBytes,ct+j),j},llseek:function(T,I,B){var j=I;if(1===B?j+=T.position:2===B&&E.isFile(T.node.mode)&&(j+=T.node.usedBytes),j<0)throw new E.ErrnoError(28);return j},allocate:function(T,I,B){W.expandFileStorage(T.node,I+B),T.node.usedBytes=Math.max(T.node.usedBytes,I+B)},mmap:function(T,I,B,j,ct,xt){if(0!==I)throw new E.ErrnoError(28);if(!E.isFile(T.node.mode))throw new E.ErrnoError(43);var kt,Ft,ae=T.node.contents;if(2&xt||ae.buffer!==Ke){if((j>0||j+B<ae.length)&&(ae=ae.subarray?ae.subarray(j,j+B):Array.prototype.slice.call(ae,j,j+B)),Ft=!0,!(kt=function G(T){Dn()}()))throw new E.ErrnoError(48);En.set(ae,kt)}else Ft=!1,kt=ae.byteOffset;return{ptr:kt,allocated:Ft}},msync:function(T,I,B,j,ct){if(!E.isFile(T.node.mode))throw new E.ErrnoError(43);return 2&ct||W.stream_ops.write(T,I,0,j,B,!1),0}}};var E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(T,I){if(I=I||{},!(T=pn.resolve(E.cwd(),T)))return{path:"",node:null};var B={follow_mount:!0,recurse_count:0};for(var j in B)void 0===I[j]&&(I[j]=B[j]);if(I.recurse_count>8)throw new E.ErrnoError(32);for(var ct=we.normalizeArray(T.split("/").filter(function(Ne){return!!Ne}),!1),xt=E.root,kt="/",Ft=0;Ft<ct.length;Ft++){var ae=Ft===ct.length-1;if(ae&&I.parent)break;if(xt=E.lookupNode(xt,ct[Ft]),kt=we.join2(kt,ct[Ft]),E.isMountpoint(xt)&&(!ae||ae&&I.follow_mount)&&(xt=xt.mounted.root),!ae||I.follow)for(var Ee=0;E.isLink(xt.mode);){var Ge=E.readlink(kt);if(kt=pn.resolve(we.dirname(kt),Ge),xt=E.lookupPath(kt,{recurse_count:I.recurse_count}).node,Ee++>40)throw new E.ErrnoError(32)}}return{path:kt,node:xt}},getPath:function(T){for(var I;;){if(E.isRoot(T)){var B=T.mount.mountpoint;return I?"/"!==B[B.length-1]?B+"/"+I:B+I:B}I=I?T.name+"/"+I:T.name,T=T.parent}},hashName:function(T,I){for(var B=0,j=0;j<I.length;j++)B=(B<<5)-B+I.charCodeAt(j)|0;return(T+B>>>0)%E.nameTable.length},hashAddNode:function(T){var I=E.hashName(T.parent.id,T.name);T.name_next=E.nameTable[I],E.nameTable[I]=T},hashRemoveNode:function(T){var I=E.hashName(T.parent.id,T.name);if(E.nameTable[I]===T)E.nameTable[I]=T.name_next;else for(var B=E.nameTable[I];B;){if(B.name_next===T){B.name_next=T.name_next;break}B=B.name_next}},lookupNode:function(T,I){var B=E.mayLookup(T);if(B)throw new E.ErrnoError(B,T);for(var j=E.hashName(T.id,I),ct=E.nameTable[j];ct;ct=ct.name_next)if(ct.parent.id===T.id&&ct.name===I)return ct;return E.lookup(T,I)},createNode:function(T,I,B,j){var ct=new E.FSNode(T,I,B,j);return E.hashAddNode(ct),ct},destroyNode:function(T){E.hashRemoveNode(T)},isRoot:function(T){return T===T.parent},isMountpoint:function(T){return!!T.mounted},isFile:function(T){return 32768==(61440&T)},isDir:function(T){return 16384==(61440&T)},isLink:function(T){return 40960==(61440&T)},isChrdev:function(T){return 8192==(61440&T)},isBlkdev:function(T){return 24576==(61440&T)},isFIFO:function(T){return 4096==(61440&T)},isSocket:function(T){return 49152==(49152&T)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(T){var I=E.flagModes[T];if(void 0===I)throw new Error("Unknown file open mode: "+T);return I},flagsToPermissionString:function(T){var I=["r","w","rw"][3&T];return 512&T&&(I+="w"),I},nodePermissions:function(T,I){return E.ignorePermissions?0:I.includes("r")&&!(292&T.mode)||I.includes("w")&&!(146&T.mode)||I.includes("x")&&!(73&T.mode)?2:0},mayLookup:function(T){return E.nodePermissions(T,"x")||(T.node_ops.lookup?0:2)},mayCreate:function(T,I){try{return E.lookupNode(T,I),20}catch(j){}return E.nodePermissions(T,"wx")},mayDelete:function(T,I,B){var j;try{j=E.lookupNode(T,I)}catch(xt){return xt.errno}var ct=E.nodePermissions(T,"wx");if(ct)return ct;if(B){if(!E.isDir(j.mode))return 54;if(E.isRoot(j)||E.getPath(j)===E.cwd())return 10}else if(E.isDir(j.mode))return 31;return 0},mayOpen:function(T,I){return T?E.isLink(T.mode)?32:E.isDir(T.mode)&&("r"!==E.flagsToPermissionString(I)||512&I)?31:E.nodePermissions(T,E.flagsToPermissionString(I)):44},MAX_OPEN_FDS:4096,nextfd:function(T,I){I=I||E.MAX_OPEN_FDS;for(var B=T=T||0;B<=I;B++)if(!E.streams[B])return B;throw new E.ErrnoError(33)},getStream:function(T){return E.streams[T]},createStream:function(T,I,B){E.FSStream||(E.FSStream=function(){},E.FSStream.prototype={object:{get:function(){return this.node},set:function(kt){this.node=kt}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var j=new E.FSStream;for(var ct in T)j[ct]=T[ct];T=j;var xt=E.nextfd(I,B);return T.fd=xt,E.streams[xt]=T,T},closeStream:function(T){E.streams[T]=null},chrdev_stream_ops:{open:function(T){var I=E.getDevice(T.node.rdev);T.stream_ops=I.stream_ops,T.stream_ops.open&&T.stream_ops.open(T)},llseek:function(){throw new E.ErrnoError(70)}},major:function(T){return T>>8},minor:function(T){return 255&T},makedev:function(T,I){return T<<8|I},registerDevice:function(T,I){E.devices[T]={stream_ops:I}},getDevice:function(T){return E.devices[T]},getMounts:function(T){for(var I=[],B=[T];B.length;){var j=B.pop();I.push(j),B.push.apply(B,j.mounts)}return I},syncfs:function(T,I){"function"==typeof T&&(I=T,T=!1),E.syncFSRequests++,E.syncFSRequests>1&&ve("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var B=E.getMounts(E.root.mount),j=0;function ct(kt){return E.syncFSRequests--,I(kt)}function xt(kt){if(kt)return xt.errored?void 0:(xt.errored=!0,ct(kt));++j>=B.length&&ct(null)}B.forEach(function(kt){if(!kt.type.syncfs)return xt(null);kt.type.syncfs(kt,T,xt)})},mount:function(T,I,B){var xt,j="/"===B,ct=!B;if(j&&E.root)throw new E.ErrnoError(10);if(!j&&!ct){var kt=E.lookupPath(B,{follow_mount:!1});if(B=kt.path,E.isMountpoint(xt=kt.node))throw new E.ErrnoError(10);if(!E.isDir(xt.mode))throw new E.ErrnoError(54)}var Ft={type:T,opts:I,mountpoint:B,mounts:[]},ae=T.mount(Ft);return ae.mount=Ft,Ft.root=ae,j?E.root=ae:xt&&(xt.mounted=Ft,xt.mount&&xt.mount.mounts.push(Ft)),ae},unmount:function(T){var I=E.lookupPath(T,{follow_mount:!1});if(!E.isMountpoint(I.node))throw new E.ErrnoError(28);var B=I.node,j=B.mounted,ct=E.getMounts(j);Object.keys(E.nameTable).forEach(function(kt){for(var Ft=E.nameTable[kt];Ft;){var ae=Ft.name_next;ct.includes(Ft.mount)&&E.destroyNode(Ft),Ft=ae}}),B.mounted=null;var xt=B.mount.mounts.indexOf(j);B.mount.mounts.splice(xt,1)},lookup:function(T,I){return T.node_ops.lookup(T,I)},mknod:function(T,I,B){var ct=E.lookupPath(T,{parent:!0}).node,xt=we.basename(T);if(!xt||"."===xt||".."===xt)throw new E.ErrnoError(28);var kt=E.mayCreate(ct,xt);if(kt)throw new E.ErrnoError(kt);if(!ct.node_ops.mknod)throw new E.ErrnoError(63);return ct.node_ops.mknod(ct,xt,I,B)},create:function(T,I){return I=void 0!==I?I:438,I&=4095,E.mknod(T,I|=32768,0)},mkdir:function(T,I){return I=void 0!==I?I:511,I&=1023,E.mknod(T,I|=16384,0)},mkdirTree:function(T,I){for(var B=T.split("/"),j="",ct=0;ct<B.length;++ct)if(B[ct]){j+="/"+B[ct];try{E.mkdir(j,I)}catch(xt){if(20!=xt.errno)throw xt}}},mkdev:function(T,I,B){return void 0===B&&(B=I,I=438),E.mknod(T,I|=8192,B)},symlink:function(T,I){if(!pn.resolve(T))throw new E.ErrnoError(44);var j=E.lookupPath(I,{parent:!0}).node;if(!j)throw new E.ErrnoError(44);var ct=we.basename(I),xt=E.mayCreate(j,ct);if(xt)throw new E.ErrnoError(xt);if(!j.node_ops.symlink)throw new E.ErrnoError(63);return j.node_ops.symlink(j,ct,T)},rename:function(T,I){var Ft,ae,B=we.dirname(T),j=we.dirname(I),ct=we.basename(T),xt=we.basename(I);if(Ft=E.lookupPath(T,{parent:!0}).node,ae=E.lookupPath(I,{parent:!0}).node,!Ft||!ae)throw new E.ErrnoError(44);if(Ft.mount!==ae.mount)throw new E.ErrnoError(75);var tn,Ee=E.lookupNode(Ft,ct),Ge=pn.relative(T,j);if("."!==Ge.charAt(0))throw new E.ErrnoError(28);if("."!==(Ge=pn.relative(I,B)).charAt(0))throw new E.ErrnoError(55);try{tn=E.lookupNode(ae,xt)}catch(wn){}if(Ee!==tn){var Ne=E.isDir(Ee.mode),Je=E.mayDelete(Ft,ct,Ne);if(Je)throw new E.ErrnoError(Je);if(Je=tn?E.mayDelete(ae,xt,Ne):E.mayCreate(ae,xt))throw new E.ErrnoError(Je);if(!Ft.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(Ee)||tn&&E.isMountpoint(tn))throw new E.ErrnoError(10);if(ae!==Ft&&(Je=E.nodePermissions(Ft,"w")))throw new E.ErrnoError(Je);E.hashRemoveNode(Ee);try{Ft.node_ops.rename(Ee,ae,xt)}catch(wn){throw wn}finally{E.hashAddNode(Ee)}}},rmdir:function(T){var B=E.lookupPath(T,{parent:!0}).node,j=we.basename(T),ct=E.lookupNode(B,j),xt=E.mayDelete(B,j,!0);if(xt)throw new E.ErrnoError(xt);if(!B.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(ct))throw new E.ErrnoError(10);B.node_ops.rmdir(B,j),E.destroyNode(ct)},readdir:function(T){var B=E.lookupPath(T,{follow:!0}).node;if(!B.node_ops.readdir)throw new E.ErrnoError(54);return B.node_ops.readdir(B)},unlink:function(T){var B=E.lookupPath(T,{parent:!0}).node,j=we.basename(T),ct=E.lookupNode(B,j),xt=E.mayDelete(B,j,!1);if(xt)throw new E.ErrnoError(xt);if(!B.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(ct))throw new E.ErrnoError(10);B.node_ops.unlink(B,j),E.destroyNode(ct)},readlink:function(T){var B=E.lookupPath(T).node;if(!B)throw new E.ErrnoError(44);if(!B.node_ops.readlink)throw new E.ErrnoError(28);return pn.resolve(E.getPath(B.parent),B.node_ops.readlink(B))},stat:function(T,I){var j=E.lookupPath(T,{follow:!I}).node;if(!j)throw new E.ErrnoError(44);if(!j.node_ops.getattr)throw new E.ErrnoError(63);return j.node_ops.getattr(j)},lstat:function(T){return E.stat(T,!0)},chmod:function(T,I,B){var j;if(!(j="string"==typeof T?E.lookupPath(T,{follow:!B}).node:T).node_ops.setattr)throw new E.ErrnoError(63);j.node_ops.setattr(j,{mode:4095&I|-4096&j.mode,timestamp:Date.now()})},lchmod:function(T,I){E.chmod(T,I,!0)},fchmod:function(T,I){var B=E.getStream(T);if(!B)throw new E.ErrnoError(8);E.chmod(B.node,I)},chown:function(T,I,B,j){var ct;if(!(ct="string"==typeof T?E.lookupPath(T,{follow:!j}).node:T).node_ops.setattr)throw new E.ErrnoError(63);ct.node_ops.setattr(ct,{timestamp:Date.now()})},lchown:function(T,I,B){E.chown(T,I,B,!0)},fchown:function(T,I,B){var j=E.getStream(T);if(!j)throw new E.ErrnoError(8);E.chown(j.node,I,B)},truncate:function(T,I){if(I<0)throw new E.ErrnoError(28);var B;if(!(B="string"==typeof T?E.lookupPath(T,{follow:!0}).node:T).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(B.mode))throw new E.ErrnoError(31);if(!E.isFile(B.mode))throw new E.ErrnoError(28);var ct=E.nodePermissions(B,"w");if(ct)throw new E.ErrnoError(ct);B.node_ops.setattr(B,{size:I,timestamp:Date.now()})},ftruncate:function(T,I){var B=E.getStream(T);if(!B)throw new E.ErrnoError(8);if(0==(2097155&B.flags))throw new E.ErrnoError(28);E.truncate(B.node,I)},utime:function(T,I,B){var ct=E.lookupPath(T,{follow:!0}).node;ct.node_ops.setattr(ct,{timestamp:Math.max(I,B)})},open:function(T,I,B,j,ct){if(""===T)throw new E.ErrnoError(44);var xt;if(B=void 0===B?438:B,B=64&(I="string"==typeof I?E.modeStringToFlags(I):I)?4095&B|32768:0,"object"==typeof T)xt=T;else{T=we.normalize(T);try{xt=E.lookupPath(T,{follow:!(131072&I)}).node}catch(Ge){}}var Ft=!1;if(64&I)if(xt){if(128&I)throw new E.ErrnoError(20)}else xt=E.mknod(T,B,0),Ft=!0;if(!xt)throw new E.ErrnoError(44);if(E.isChrdev(xt.mode)&&(I&=-513),65536&I&&!E.isDir(xt.mode))throw new E.ErrnoError(54);if(!Ft){var ae=E.mayOpen(xt,I);if(ae)throw new E.ErrnoError(ae)}512&I&&E.truncate(xt,0),I&=-131713;var Ee=E.createStream({node:xt,path:E.getPath(xt),id:xt.id,flags:I,mode:xt.mode,seekable:!0,position:0,stream_ops:xt.stream_ops,node_ops:xt.node_ops,ungotten:[],error:!1},j,ct);return Ee.stream_ops.open&&Ee.stream_ops.open(Ee),M.logReadFiles&&!(1&I)&&(E.readFiles||(E.readFiles={}),T in E.readFiles||(E.readFiles[T]=1)),Ee},close:function(T){if(E.isClosed(T))throw new E.ErrnoError(8);T.getdents&&(T.getdents=null);try{T.stream_ops.close&&T.stream_ops.close(T)}catch(I){throw I}finally{E.closeStream(T.fd)}T.fd=null},isClosed:function(T){return null===T.fd},llseek:function(T,I,B){if(E.isClosed(T))throw new E.ErrnoError(8);if(!T.seekable||!T.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=B&&1!=B&&2!=B)throw new E.ErrnoError(28);return T.position=T.stream_ops.llseek(T,I,B),T.ungotten=[],T.position},read:function(T,I,B,j,ct){if(j<0||ct<0)throw new E.ErrnoError(28);if(E.isClosed(T))throw new E.ErrnoError(8);if(1==(2097155&T.flags))throw new E.ErrnoError(8);if(E.isDir(T.node.mode))throw new E.ErrnoError(31);if(!T.stream_ops.read)throw new E.ErrnoError(28);var xt=void 0!==ct;if(xt){if(!T.seekable)throw new E.ErrnoError(70)}else ct=T.position;var kt=T.stream_ops.read(T,I,B,j,ct);return xt||(T.position+=kt),kt},write:function(T,I,B,j,ct,xt){if(j<0||ct<0)throw new E.ErrnoError(28);if(E.isClosed(T))throw new E.ErrnoError(8);if(0==(2097155&T.flags))throw new E.ErrnoError(8);if(E.isDir(T.node.mode))throw new E.ErrnoError(31);if(!T.stream_ops.write)throw new E.ErrnoError(28);T.seekable&&1024&T.flags&&E.llseek(T,0,2);var kt=void 0!==ct;if(kt){if(!T.seekable)throw new E.ErrnoError(70)}else ct=T.position;var Ft=T.stream_ops.write(T,I,B,j,ct,xt);return kt||(T.position+=Ft),Ft},allocate:function(T,I,B){if(E.isClosed(T))throw new E.ErrnoError(8);if(I<0||B<=0)throw new E.ErrnoError(28);if(0==(2097155&T.flags))throw new E.ErrnoError(8);if(!E.isFile(T.node.mode)&&!E.isDir(T.node.mode))throw new E.ErrnoError(43);if(!T.stream_ops.allocate)throw new E.ErrnoError(138);T.stream_ops.allocate(T,I,B)},mmap:function(T,I,B,j,ct,xt){if(0!=(2&ct)&&0==(2&xt)&&2!=(2097155&T.flags))throw new E.ErrnoError(2);if(1==(2097155&T.flags))throw new E.ErrnoError(2);if(!T.stream_ops.mmap)throw new E.ErrnoError(43);return T.stream_ops.mmap(T,I,B,j,ct,xt)},msync:function(T,I,B,j,ct){return T&&T.stream_ops.msync?T.stream_ops.msync(T,I,B,j,ct):0},munmap:function(T){return 0},ioctl:function(T,I,B){if(!T.stream_ops.ioctl)throw new E.ErrnoError(59);return T.stream_ops.ioctl(T,I,B)},readFile:function(T,I){if((I=I||{}).flags=I.flags||0,I.encoding=I.encoding||"binary","utf8"!==I.encoding&&"binary"!==I.encoding)throw new Error('Invalid encoding type "'+I.encoding+'"');var B,j=E.open(T,I.flags),xt=E.stat(T).size,kt=new Uint8Array(xt);return E.read(j,kt,0,xt,0),"utf8"===I.encoding?B=Cn(kt,0):"binary"===I.encoding&&(B=kt),E.close(j),B},writeFile:function(T,I,B){(B=B||{}).flags=B.flags||577;var j=E.open(T,B.flags,B.mode);if("string"==typeof I){var ct=new Uint8Array(ai(I)+1),xt=Zn(I,ct,0,ct.length);E.write(j,ct,0,xt,void 0,B.canOwn)}else{if(!ArrayBuffer.isView(I))throw new Error("Unsupported data type");E.write(j,I,0,I.byteLength,void 0,B.canOwn)}E.close(j)},cwd:function(){return E.currentPath},chdir:function(T){var I=E.lookupPath(T,{follow:!0});if(null===I.node)throw new E.ErrnoError(44);if(!E.isDir(I.node.mode))throw new E.ErrnoError(54);var B=E.nodePermissions(I.node,"x");if(B)throw new E.ErrnoError(B);E.currentPath=I.path},createDefaultDirectories:function(){E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:function(){E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:function(){return 0},write:function(I,B,j,ct,xt){return ct}}),E.mkdev("/dev/null",E.makedev(1,3)),ln.register(E.makedev(5,0),ln.default_tty_ops),ln.register(E.makedev(6,0),ln.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var T=function jn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var T=new Uint8Array(1);return function(){return crypto.getRandomValues(T),T[0]}}return function(){Dn("randomDevice")}}();E.createDevice("/dev","random",T),E.createDevice("/dev","urandom",T),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){E.mkdir("/proc");var T=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:function(){var I=E.createNode(T,"fd",16895,73);return I.node_ops={lookup:function(B,j){var xt=E.getStream(+j);if(!xt)throw new E.ErrnoError(8);var kt={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return xt.path}}};return kt.parent=kt,kt}},I}},{},"/proc/self/fd")},createStandardStreams:function(){M.stdin?E.createDevice("/dev","stdin",M.stdin):E.symlink("/dev/tty","/dev/stdin"),M.stdout?E.createDevice("/dev","stdout",null,M.stdout):E.symlink("/dev/tty","/dev/stdout"),M.stderr?E.createDevice("/dev","stderr",null,M.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:function(){E.ErrnoError||(E.ErrnoError=function(I,B){this.node=B,this.setErrno=function(j){this.errno=j},this.setErrno(I),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(function(T){E.genericErrors[T]=new E.ErrnoError(T),E.genericErrors[T].stack="<generic error, no stack>"}))},staticInit:function(){E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(W,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:W}},init:function(T,I,B){E.init.initialized=!0,E.ensureErrnoError(),M.stdin=T||M.stdin,M.stdout=I||M.stdout,M.stderr=B||M.stderr,E.createStandardStreams()},quit:function(){E.init.initialized=!1;var T=M._fflush;T&&T(0);for(var I=0;I<E.streams.length;I++){var B=E.streams[I];!B||E.close(B)}},getMode:function(T,I){var B=0;return T&&(B|=365),I&&(B|=146),B},findObject:function(T,I){var B=E.analyzePath(T,I);return B.exists?B.object:null},analyzePath:function(T,I){try{T=(B=E.lookupPath(T,{follow:!I})).path}catch(ct){}var j={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var B=E.lookupPath(T,{parent:!0});j.parentExists=!0,j.parentPath=B.path,j.parentObject=B.node,j.name=we.basename(T),B=E.lookupPath(T,{follow:!I}),j.exists=!0,j.path=B.path,j.object=B.node,j.name=B.node.name,j.isRoot="/"===B.path}catch(ct){j.error=ct.errno}return j},createPath:function(T,I,B,j){T="string"==typeof T?T:E.getPath(T);for(var ct=I.split("/").reverse();ct.length;){var xt=ct.pop();if(xt){var kt=we.join2(T,xt);try{E.mkdir(kt)}catch(Ft){}T=kt}}return kt},createFile:function(T,I,B,j,ct){var xt=we.join2("string"==typeof T?T:E.getPath(T),I),kt=E.getMode(j,ct);return E.create(xt,kt)},createDataFile:function(T,I,B,j,ct,xt){var kt=I?we.join2("string"==typeof T?T:E.getPath(T),I):T,Ft=E.getMode(j,ct),ae=E.create(kt,Ft);if(B){if("string"==typeof B){for(var Ee=new Array(B.length),Ge=0,tn=B.length;Ge<tn;++Ge)Ee[Ge]=B.charCodeAt(Ge);B=Ee}E.chmod(ae,146|Ft);var Ne=E.open(ae,577);E.write(Ne,B,0,B.length,0,xt),E.close(Ne),E.chmod(ae,Ft)}return ae},createDevice:function(T,I,B,j){var ct=we.join2("string"==typeof T?T:E.getPath(T),I),xt=E.getMode(!!B,!!j);E.createDevice.major||(E.createDevice.major=64);var kt=E.makedev(E.createDevice.major++,0);return E.registerDevice(kt,{open:function(Ft){Ft.seekable=!1},close:function(Ft){j&&j.buffer&&j.buffer.length&&j(10)},read:function(Ft,ae,Ee,Ge,tn){for(var Ne=0,Je=0;Je<Ge;Je++){var wn;try{wn=B()}catch(gi){throw new E.ErrnoError(29)}if(void 0===wn&&0===Ne)throw new E.ErrnoError(6);if(null==wn)break;Ne++,ae[Ee+Je]=wn}return Ne&&(Ft.node.timestamp=Date.now()),Ne},write:function(Ft,ae,Ee,Ge,tn){for(var Ne=0;Ne<Ge;Ne++)try{j(ae[Ee+Ne])}catch(Je){throw new E.ErrnoError(29)}return Ge&&(Ft.node.timestamp=Date.now()),Ne}}),E.mkdev(ct,xt,kt)},forceLoadFile:function(T){if(T.isDevice||T.isFolder||T.link||T.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Nt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{T.contents=be(Nt(T.url),!0),T.usedBytes=T.contents.length}catch(I){throw new E.ErrnoError(29)}},createLazyFile:function(T,I,B,j,ct){function xt(){this.lengthKnown=!1,this.chunks=[]}if(xt.prototype.get=function(Ne){if(!(Ne>this.length-1||Ne<0)){var Je=Ne%this.chunkSize;return this.getter(Ne/this.chunkSize|0)[Je]}},xt.prototype.setDataGetter=function(Ne){this.getter=Ne},xt.prototype.cacheLength=function(){var Ne=new XMLHttpRequest;if(Ne.open("HEAD",B,!1),Ne.send(null),!(Ne.status>=200&&Ne.status<300||304===Ne.status))throw new Error("Couldn't load "+B+". Status: "+Ne.status);var wn,Je=Number(Ne.getResponseHeader("Content-length")),gi=(wn=Ne.getResponseHeader("Accept-Ranges"))&&"bytes"===wn,$i=(wn=Ne.getResponseHeader("Content-Encoding"))&&"gzip"===wn,Ei=1048576;gi||(Ei=Je);var si=this;si.setDataGetter(function(Mi){var ar=Mi*Ei,ci=(Mi+1)*Ei-1;if(ci=Math.min(ci,Je-1),void 0===si.chunks[Mi]&&(si.chunks[Mi]=function(Mi,ar){if(Mi>ar)throw new Error("invalid range ("+Mi+", "+ar+") or no bytes requested!");if(ar>Je-1)throw new Error("only "+Je+" bytes available! programmer error!");var ci=new XMLHttpRequest;if(ci.open("GET",B,!1),Je!==Ei&&ci.setRequestHeader("Range","bytes="+Mi+"-"+ar),"undefined"!=typeof Uint8Array&&(ci.responseType="arraybuffer"),ci.overrideMimeType&&ci.overrideMimeType("text/plain; charset=x-user-defined"),ci.send(null),!(ci.status>=200&&ci.status<300||304===ci.status))throw new Error("Couldn't load "+B+". Status: "+ci.status);return void 0!==ci.response?new Uint8Array(ci.response||[]):be(ci.responseText||"",!0)}(ar,ci)),void 0===si.chunks[Mi])throw new Error("doXHR failed!");return si.chunks[Mi]}),($i||!Je)&&(Ei=Je=1,Je=this.getter(0).length,Ei=Je,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Je,this._chunkSize=Ei,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ft,ae=E.createFile(T,I,Ft={isDevice:!1,url:B},j,ct);Ft.contents?ae.contents=Ft.contents:Ft.url&&(ae.contents=null,ae.url=Ft.url),Object.defineProperties(ae,{usedBytes:{get:function(){return this.contents.length}}});var Ee={};return Object.keys(ae.stream_ops).forEach(function(tn){var Ne=ae.stream_ops[tn];Ee[tn]=function(){return E.forceLoadFile(ae),Ne.apply(null,arguments)}}),Ee.read=function(Ne,Je,wn,gi,$i){E.forceLoadFile(ae);var Ei=Ne.node.contents;if($i>=Ei.length)return 0;var vn=Math.min(Ei.length-$i,gi);if(Ei.slice)for(var si=0;si<vn;si++)Je[wn+si]=Ei[$i+si];else for(si=0;si<vn;si++)Je[wn+si]=Ei.get($i+si);return vn},ae.stream_ops=Ee,ae},createPreloadedFile:function(T,I,B,j,ct,xt,kt,Ft,ae,Ee){Browser.init();var Ge=I?pn.resolve(we.join2(T,I)):T;function tn(Ne){function Je(gi){Ee&&Ee(),Ft||E.createDataFile(T,I,gi,j,ct,ae),xt&&xt(),Bn()}var wn=!1;M.preloadPlugins.forEach(function(gi){wn||gi.canHandle(Ge)&&(gi.handle(Ne,Ge,Je,function(){kt&&kt(),Bn()}),wn=!0)}),wn||Je(Ne)}an(),"string"==typeof B?function ht(T,I,B,j){var ct=j?"":"al "+T;Qt(T,function(xt){fn(xt,'Loading data file "'+T+'" failed (no arrayBuffer).'),I(new Uint8Array(xt)),ct&&Bn()},function(xt){if(!B)throw'Loading data file "'+T+'" failed.';B()}),ct&&an()}(B,function(Ne){tn(Ne)},kt):tn(B)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(T,I,B){I=I||function(){},B=B||function(){};var j=E.indexedDB();try{var ct=j.open(E.DB_NAME(),E.DB_VERSION)}catch(xt){return B(xt)}ct.onupgradeneeded=function(){ge("creating db"),ct.result.createObjectStore(E.DB_STORE_NAME)},ct.onsuccess=function(){var Ft=ct.result.transaction([E.DB_STORE_NAME],"readwrite"),ae=Ft.objectStore(E.DB_STORE_NAME),Ee=0,Ge=0,tn=T.length;function Ne(){0==Ge?I():B()}T.forEach(function(Je){var wn=ae.put(E.analyzePath(Je).object.contents,Je);wn.onsuccess=function(){++Ee+Ge==tn&&Ne()},wn.onerror=function(){Ge++,Ee+Ge==tn&&Ne()}}),Ft.onerror=B},ct.onerror=B},loadFilesFromDB:function(T,I,B){I=I||function(){},B=B||function(){};var j=E.indexedDB();try{var ct=j.open(E.DB_NAME(),E.DB_VERSION)}catch(xt){return B(xt)}ct.onupgradeneeded=B,ct.onsuccess=function(){var kt=ct.result;try{var Ft=kt.transaction([E.DB_STORE_NAME],"readonly")}catch(Je){return void B(Je)}var ae=Ft.objectStore(E.DB_STORE_NAME),Ee=0,Ge=0,tn=T.length;function Ne(){0==Ge?I():B()}T.forEach(function(Je){var wn=ae.get(Je);wn.onsuccess=function(){E.analyzePath(Je).exists&&E.unlink(Je),E.createDataFile(we.dirname(Je),we.basename(Je),wn.result,!0,!0,!0),++Ee+Ge==tn&&Ne()},wn.onerror=function(){Ge++,Ee+Ge==tn&&Ne()}}),Ft.onerror=B},ct.onerror=B}},wt={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(T,I,B){if("/"===I[0])return I;var j;if(-100===T)j=E.cwd();else{var ct=E.getStream(T);if(!ct)throw new E.ErrnoError(8);j=ct.path}if(0==I.length){if(!B)throw new E.ErrnoError(44);return j}return we.join2(j,I)},doStat:function(T,I,B){try{var j=T(I)}catch(ct){if(ct&&ct.node&&we.normalize(I)!==we.normalize(E.getPath(ct.node)))return-54;throw ct}return Ve[B>>2]=j.dev,Ve[B+4>>2]=0,Ve[B+8>>2]=j.ino,Ve[B+12>>2]=j.mode,Ve[B+16>>2]=j.nlink,Ve[B+20>>2]=j.uid,Ve[B+24>>2]=j.gid,Ve[B+28>>2]=j.rdev,Ve[B+32>>2]=0,en=[j.size>>>0,(_e=j.size,+Math.abs(_e)>=1?_e>0?(0|Math.min(+Math.floor(_e/4294967296),4294967295))>>>0:~~+Math.ceil((_e-+(~~_e>>>0))/4294967296)>>>0:0)],Ve[B+40>>2]=en[0],Ve[B+44>>2]=en[1],Ve[B+48>>2]=4096,Ve[B+52>>2]=j.blocks,Ve[B+56>>2]=j.atime.getTime()/1e3|0,Ve[B+60>>2]=0,Ve[B+64>>2]=j.mtime.getTime()/1e3|0,Ve[B+68>>2]=0,Ve[B+72>>2]=j.ctime.getTime()/1e3|0,Ve[B+76>>2]=0,en=[j.ino>>>0,(_e=j.ino,+Math.abs(_e)>=1?_e>0?(0|Math.min(+Math.floor(_e/4294967296),4294967295))>>>0:~~+Math.ceil((_e-+(~~_e>>>0))/4294967296)>>>0:0)],Ve[B+80>>2]=en[0],Ve[B+84>>2]=en[1],0},doMsync:function(T,I,B,j,ct){var xt=Pn.slice(T,T+B);E.msync(I,xt,ct,B,j)},doMkdir:function(T,I){return"/"===(T=we.normalize(T))[T.length-1]&&(T=T.substr(0,T.length-1)),E.mkdir(T,I,0),0},doMknod:function(T,I,B){switch(61440&I){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return E.mknod(T,I,B),0},doReadlink:function(T,I,B){if(B<=0)return-28;var j=E.readlink(T),ct=Math.min(B,ai(j)),xt=En[I+ct];return function Wn(T,I,B){return Zn(T,Pn,I,B)}(j,I,B+1),En[I+ct]=xt,ct},doAccess:function(T,I){if(-8&I)return-28;var j=E.lookupPath(T,{follow:!0}).node;if(!j)return-44;var ct="";return 4&I&&(ct+="r"),2&I&&(ct+="w"),1&I&&(ct+="x"),ct&&E.nodePermissions(j,ct)?-2:0},doDup:function(T,I,B){var j=E.getStream(B);return j&&E.close(j),E.open(T,I,0,B,B).fd},doReadv:function(T,I,B,j){for(var ct=0,xt=0;xt<B;xt++){var Ft=Ve[I+(8*xt+4)>>2],ae=E.read(T,En,Ve[I+8*xt>>2],Ft,j);if(ae<0)return-1;if(ct+=ae,ae<Ft)break}return ct},doWritev:function(T,I,B,j){for(var ct=0,xt=0;xt<B;xt++){var ae=E.write(T,En,Ve[I+8*xt>>2],Ve[I+(8*xt+4)>>2],j);if(ae<0)return-1;ct+=ae}return ct},varargs:void 0,get:function(){return wt.varargs+=4,Ve[wt.varargs-4>>2]},getStr:function(T){return ke(T)},getStreamFromFD:function(T){var I=E.getStream(T);if(!I)throw new E.ErrnoError(8);return I},get64:function(T,I){return T}};var Yt=[];function pt(T){try{return qe.grow(T-Ke.byteLength+65535>>>16),Hn(qe.buffer),1}catch(I){}}var At={};function te(){if(!te.strings){var I={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ie||"./this.program"};for(var B in At)void 0===At[B]?delete I[B]:I[B]=At[B];var j=[];for(var B in I)j.push(B+"="+I[B]);te.strings=j}return te.strings}var ze=function(T,I,B,j){T||(T=this),this.parent=T,this.mount=T.mount,this.mounted=null,this.id=E.nextInode++,this.name=I,this.mode=B,this.node_ops={},this.stream_ops={},this.rdev=j};function be(T,I,B){var j=B>0?B:ai(T)+1,ct=new Array(j),xt=Zn(T,ct,0,ct.length);return I&&(ct.length=xt),ct}Object.defineProperties(ze.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(T){T?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(T){T?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=ze,E.staticInit();var We={h:function Ot(T,I,B){wt.varargs=B;try{var j=wt.getStr(T),ct=B?wt.get():0;return E.open(j,I,ct).fd}catch(kt){if(void 0===E||!(kt instanceof E.ErrnoError))throw kt;return-kt.errno}},b:function Rt(){Dn("")},a:function qt(T,I,B){var j=function re(T,I){var B;for(Yt.length=0,I>>=2;B=Pn[T++];){var j=B<105;j&&1&I&&I++,Yt.push(j?mi[I++>>1]:Ve[I]),++I}return Yt}(I,B);return ii[T].apply(null,j)},k:function q(T,I,B){Pn.copyWithin(T,I,I+B)},e:function Tt(T){var I=Pn.length,B=2147483648;if((T>>>=0)>B)return!1;for(var j=1;j<=4;j*=2){var ct=I*(1+.2/j);if(ct=Math.min(ct,T+100663296),pt(Math.min(B,An(Math.max(T,ct),65536))))return!0}return!1},f:function Dt(T,I){var B=0;return te().forEach(function(j,ct){var xt=I+B;Ve[T+4*ct>>2]=xt,function Yn(T,I,B){for(var j=0;j<T.length;++j)En[I++>>0]=T.charCodeAt(j);B||(En[I>>0]=0)}(j,xt),B+=j.length+1}),0},g:function he(T,I){var B=te();Ve[T>>2]=B.length;var j=0;return B.forEach(function(ct){j+=ct.length+1}),Ve[I>>2]=j,0},d:function N(T){try{var I=wt.getStreamFromFD(T);return E.close(I),0}catch(B){if(void 0===E||!(B instanceof E.ErrnoError))throw B;return B.errno}},i:function oe(T,I,B,j){try{var ct=wt.getStreamFromFD(T),xt=wt.doReadv(ct,I,B);return Ve[j>>2]=xt,0}catch(kt){if(void 0===E||!(kt instanceof E.ErrnoError))throw kt;return kt.errno}},j:function Ie(T,I,B,j,ct){try{var xt=wt.getStreamFromFD(T),Ft=4294967296*B+(I>>>0),ae=9007199254740992;return Ft<=-ae||Ft>=ae?-61:(E.llseek(xt,Ft,j),en=[xt.position>>>0,(_e=xt.position,+Math.abs(_e)>=1?_e>0?(0|Math.min(+Math.floor(_e/4294967296),4294967295))>>>0:~~+Math.ceil((_e-+(~~_e>>>0))/4294967296)>>>0:0)],Ve[ct>>2]=en[0],Ve[ct+4>>2]=en[1],xt.getdents&&0===Ft&&0===j&&(xt.getdents=null),0)}catch(Ee){if(void 0===E||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},c:function Me(T,I,B,j){try{var ct=wt.getStreamFromFD(T),xt=wt.doWritev(ct,I,B);return Ve[j>>2]=xt,0}catch(kt){if(void 0===E||!(kt instanceof E.ErrnoError))throw kt;return kt.errno}},l:function sn(T){var I=Date.now();return Ve[T>>2]=I/1e3|0,Ve[T+4>>2]=I%1e3*1e3|0,0}};(function In(){var T={a:We};function I(kt,Ft){M.asm=kt.exports,Hn((qe=M.asm.m).buffer),yn=M.asm.G,function se(T){ei.unshift(T)}(M.asm.n),Bn()}function B(kt){I(kt.instance)}function j(kt){return function Ai(){return Fe||"function"!=typeof fetch?Promise.resolve().then(function(){return ni(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(T){if(!T.ok)throw"failed to load wasm binary file at '"+gn+"'";return T.arrayBuffer()}).catch(function(){return ni(gn)})}().then(function(Ft){return WebAssembly.instantiate(Ft,T)}).then(function(Ft){return Ft}).then(kt,function(Ft){ve("failed to asynchronously prepare wasm: "+Ft),Dn(Ft)})}if(an(),M.instantiateWasm)try{return M.instantiateWasm(T,I)}catch(kt){return ve("Module.instantiateWasm callback failed with error: "+kt),!1}return function ct(){return Fe||"function"!=typeof WebAssembly.instantiateStreaming||Ii(gn)||"function"!=typeof fetch?j(B):fetch(gn,{credentials:"same-origin"}).then(function(kt){return WebAssembly.instantiateStreaming(kt,T).then(B,function(ae){return ve("wasm streaming compile failed: "+ae),ve("falling back to ArrayBuffer instantiation"),j(B)})})}().catch(Mt),{}})(),M.___wasm_call_ctors=function(){return(M.___wasm_call_ctors=M.asm.n).apply(null,arguments)};var Nn,et=M._emscripten_bind_CExpat_CExpat_0=function(){return(et=M._emscripten_bind_CExpat_CExpat_0=M.asm.o).apply(null,arguments)},gt=M._emscripten_bind_CExpat_version_0=function(){return(gt=M._emscripten_bind_CExpat_version_0=M.asm.p).apply(null,arguments)},mt=M._emscripten_bind_CExpat_create_0=function(){return(mt=M._emscripten_bind_CExpat_create_0=M.asm.q).apply(null,arguments)},Et=M._emscripten_bind_CExpat_destroy_0=function(){return(Et=M._emscripten_bind_CExpat_destroy_0=M.asm.r).apply(null,arguments)},zt=M._emscripten_bind_CExpat_parse_1=function(){return(zt=M._emscripten_bind_CExpat_parse_1=M.asm.s).apply(null,arguments)},ee=M._emscripten_bind_CExpat_tag_0=function(){return(ee=M._emscripten_bind_CExpat_tag_0=M.asm.t).apply(null,arguments)},Jt=M._emscripten_bind_CExpat_attrs_0=function(){return(Jt=M._emscripten_bind_CExpat_attrs_0=M.asm.u).apply(null,arguments)},pe=M._emscripten_bind_CExpat_content_0=function(){return(pe=M._emscripten_bind_CExpat_content_0=M.asm.v).apply(null,arguments)},ye=M._emscripten_bind_CExpat_startElement_0=function(){return(ye=M._emscripten_bind_CExpat_startElement_0=M.asm.w).apply(null,arguments)},Xt=M._emscripten_bind_CExpat_endElement_0=function(){return(Xt=M._emscripten_bind_CExpat_endElement_0=M.asm.x).apply(null,arguments)},le=M._emscripten_bind_CExpat_characterData_0=function(){return(le=M._emscripten_bind_CExpat_characterData_0=M.asm.y).apply(null,arguments)},Pe=M._emscripten_bind_CExpat___destroy___0=function(){return(Pe=M._emscripten_bind_CExpat___destroy___0=M.asm.z).apply(null,arguments)},Le=M._emscripten_bind_VoidPtr___destroy___0=function(){return(Le=M._emscripten_bind_VoidPtr___destroy___0=M.asm.A).apply(null,arguments)},He=M._emscripten_bind_CExpatJS_CExpatJS_0=function(){return(He=M._emscripten_bind_CExpatJS_CExpatJS_0=M.asm.B).apply(null,arguments)},Qn=M._emscripten_bind_CExpatJS_startElement_0=function(){return(Qn=M._emscripten_bind_CExpatJS_startElement_0=M.asm.C).apply(null,arguments)},On=M._emscripten_bind_CExpatJS_endElement_0=function(){return(On=M._emscripten_bind_CExpatJS_endElement_0=M.asm.D).apply(null,arguments)},Ln=M._emscripten_bind_CExpatJS_characterData_0=function(){return(Ln=M._emscripten_bind_CExpatJS_characterData_0=M.asm.E).apply(null,arguments)},Xe=M._emscripten_bind_CExpatJS___destroy___0=function(){return(Xe=M._emscripten_bind_CExpatJS___destroy___0=M.asm.F).apply(null,arguments)};function qn(T){function I(){Nn||(Nn=!0,M.calledRun=!0,!De&&(function Jn(){!M.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,di(ei)}(),Ct(M),M.onRuntimeInitialized&&M.onRuntimeInitialized(),function yt(){if(M.postRun)for("function"==typeof M.postRun&&(M.postRun=[M.postRun]);M.postRun.length;)T=M.postRun.shift(),Oe.unshift(T);var T;di(Oe)}()))}xe>0||(function $n(){if(M.preRun)for("function"==typeof M.preRun&&(M.preRun=[M.preRun]);M.preRun.length;)T=M.preRun.shift(),Xn.unshift(T);var T;di(Xn)}(),xe>0)||(M.setStatus?(M.setStatus("Running..."),setTimeout(function(){setTimeout(function(){M.setStatus("")},1),I()},1)):I())}if(M._malloc=function(){return(M._malloc=M.asm.H).apply(null,arguments)},Ue=function T(){Nn||qn(),Nn||(Ue=T)},M.run=qn,M.preInit)for("function"==typeof M.preInit&&(M.preInit=[M.preInit]);M.preInit.length>0;)M.preInit.pop()();function un(){}function on(T){return(T||un).__cache__}function Un(T,I){var B=on(I),j=B[T];return j||((j=Object.create((I||un).prototype)).ptr=T,B[T]=j)}qn(),(un.prototype=Object.create(un.prototype)).constructor=un,un.prototype.__class__=un,un.__cache__={},M.WrapperObject=un,M.getCache=on,M.wrapPointer=Un,M.castObject=function Vi(T,I){return Un(T.ptr,I)},M.NULL=Un(0),M.destroy=function fi(T){if(!T.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";T.__destroy__(),delete on(T.__class__)[T.ptr]},M.compare=function zi(T,I){return T.ptr===I.ptr},M.getPointer=function Kn(T){return T.ptr},M.getClass=function Si(T){return T.__class__};var _n={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(_n.needed){for(var T=0;T<_n.temps.length;T++)M._free(_n.temps[T]);_n.temps.length=0,M._free(_n.buffer),_n.buffer=0,_n.size+=_n.needed,_n.needed=0}_n.buffer||(_n.size+=128,_n.buffer=M._malloc(_n.size),fn(_n.buffer)),_n.pos=0},alloc:function(T,I){fn(_n.buffer);var ct,j=T.length*I.BYTES_PER_ELEMENT;return _n.pos+(j=j+7&-8)>=_n.size?(fn(j>0),_n.needed+=j,ct=M._malloc(j),_n.temps.push(ct)):(ct=_n.buffer+_n.pos,_n.pos+=j),ct},copy:function(T,I,B){switch(B>>>=0,I.BYTES_PER_ELEMENT){case 2:B>>>=1;break;case 4:B>>>=2;break;case 8:B>>>=3}for(var ct=0;ct<T.length;ct++)I[B+ct]=T[ct]}};function Pt(){this.ptr=et(),on(Pt)[this.ptr]=this}function Ce(){throw"cannot construct a VoidPtr, no constructor in IDL"}function jt(){this.ptr=He(),on(jt)[this.ptr]=this}return(Pt.prototype=Object.create(un.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},M.CExpat=Pt,Pt.prototype.version=Pt.prototype.version=function(){return ke(gt(this.ptr))},Pt.prototype.create=Pt.prototype.create=function(){return!!mt(this.ptr)},Pt.prototype.destroy=Pt.prototype.destroy=function(){Et(this.ptr)},Pt.prototype.parse=Pt.prototype.parse=function(T){var I=this.ptr;return _n.prepare(),T=T&&"object"==typeof T?T.ptr:function Yi(T){if("string"==typeof T){var I=be(T),B=_n.alloc(I,En);return _n.copy(I,En,B),B}return T}(T),!!zt(I,T)},Pt.prototype.tag=Pt.prototype.tag=function(){return ke(ee(this.ptr))},Pt.prototype.attrs=Pt.prototype.attrs=function(){return ke(Jt(this.ptr))},Pt.prototype.content=Pt.prototype.content=function(){return ke(pe(this.ptr))},Pt.prototype.startElement=Pt.prototype.startElement=function(){ye(this.ptr)},Pt.prototype.endElement=Pt.prototype.endElement=function(){Xt(this.ptr)},Pt.prototype.characterData=Pt.prototype.characterData=function(){le(this.ptr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){Pe(this.ptr)},(Ce.prototype=Object.create(un.prototype)).constructor=Ce,Ce.prototype.__class__=Ce,Ce.__cache__={},M.VoidPtr=Ce,Ce.prototype.__destroy__=Ce.prototype.__destroy__=function(){Le(this.ptr)},(jt.prototype=Object.create(Pt.prototype)).constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},M.CExpatJS=jt,jt.prototype.startElement=jt.prototype.startElement=function(){Qn(this.ptr)},jt.prototype.endElement=jt.prototype.endElement=function(){On(this.ptr)},jt.prototype.characterData=jt.prototype.characterData=function(){Ln(this.ptr)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){Xe(this.ptr)},V.ready},x.exports=rt;var _=Object.freeze(c({__proto__:null,default:x.exports},[x.exports]));var p=function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}().__hpcc_wasmFolder||void 0;function l(Y){if(!arguments.length)return p;var K=p;return p=Y,K}function u(Y,K,rt){var at=Y.default||Y;return at.__hpcc_promise||(at.__hpcc_promise=at({wasmBinary:rt,locateFile:function(V,M){return"".concat(function h(Y,K){for(;Y.charAt(Y.length-1)===K;)Y=Y.substring(0,Y.length-1);return Y}(K||l()||M||".","/"),"/").concat(function m(Y,K){for(;Y.charAt(0)===K;)Y=Y.substring(1);return Y}(V,"/"))}})),at.__hpcc_promise}var g=function(){function Y(K,rt){this.tag=K,this.attrs=rt,this._content=""}return Object.defineProperty(Y.prototype,"content",{get:function(){return this._content},enumerable:!1,configurable:!0}),Y.prototype.appendContent=function(K){this._content+=K},Y}(),C=function(){function Y(){this._stack=[]}return Y.prototype.parse=function(K,rt,at){return P(K,this,rt,at)},Y.prototype.top=function(){return this._stack[this._stack.length-1]},Y.prototype.startElement=function(K,rt){var at=new g(K,rt);return this._stack.push(at),at},Y.prototype.endElement=function(K){return this._stack.pop()},Y.prototype.characterData=function(K){this.top().appendContent(K)},Y}();function P(Y,K,rt,at){return u(_,rt,at).then(function(V){var M=new V.CExpatJS;M.startElement=function(){K.startElement(this.tag(),function A(Y){var K={},rt=Y,at="".concat(String.fromCharCode(1)),V="".concat(at).concat(at);return rt.split(V).filter(function(M){return!!M}).forEach(function(M){var Ct=M.split(at);K[Ct[0]]=Ct[1]}),K}(this.attrs()))},M.endElement=function(){K.endElement(this.tag())},M.characterData=function(){K.characterData(this.content())},M.create();var Ct=M.parse(Y);return M.destroy(),V.destroy(M),Ct})}var O={exports:{}};!function(Y,K){var rt=function(){var at="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(V){var Ct,Mt,M=void 0!==(V=V||{})?V:{};M.ready=new Promise(function(b,D){Ct=b,Mt=D});var Ht,Bt={};for(Ht in M)M.hasOwnProperty(Ht)&&(Bt[Ht]=M[Ht]);var Qt,me,ie="./this.program",Ut=function(b,D){throw D},ft="";"undefined"!=typeof document&&document.currentScript&&(ft=document.currentScript.src),at&&(ft=at),ft=0!==ft.indexOf("blob:")?ft.substr(0,ft.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Qt=function(b){var D=new XMLHttpRequest;return D.open("GET",b,!1),D.send(null),D.responseText},me=function(b,D,Z){var Q=new XMLHttpRequest;Q.open("GET",b,!0),Q.responseType="arraybuffer",Q.onload=function(){200==Q.status||0==Q.status&&Q.response?D(Q.response):Z()},Q.onerror=Z,Q.send(null)};var ve=M.print||console.log.bind(console),Fe=M.printErr||console.warn.bind(console);for(Ht in Bt)Bt.hasOwnProperty(Ht)&&(M[Ht]=Bt[Ht]);Bt=null,M.thisProgram&&(ie=M.thisProgram),M.quit&&(Ut=M.quit);var Be,qe=0;M.wasmBinary&&(Be=M.wasmBinary);var Cn=M.noExitRuntime||!0;"object"!=typeof WebAssembly&&en("no native wasm support detected");var ke,Zn=!1;function Wn(b,D){b||en("Assertion failed: "+D)}var Hn,yn,Xn,ei,Oe,$n,ai="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Yn(b,D,Z){for(var Q=D+Z,dt=D;b[dt]&&!(dt>=Q);)++dt;if(dt-D>16&&b.subarray&&ai)return ai.decode(b.subarray(D,dt));for(var St="";D<dt;){var Lt=b[D++];if(128&Lt){var Vt=63&b[D++];if(192!=(224&Lt)){var ce=63&b[D++];if((Lt=224==(240&Lt)?(15&Lt)<<12|Vt<<6|ce:(7&Lt)<<18|Vt<<12|ce<<6|63&b[D++])<65536)St+=String.fromCharCode(Lt);else{var Ye=Lt-65536;St+=String.fromCharCode(55296|Ye>>10,56320|1023&Ye)}}else St+=String.fromCharCode((31&Lt)<<6|Vt)}else St+=String.fromCharCode(Lt)}return St}function An(b,D){return b?Yn(Xn,b,D):""}function Ke(b,D,Z,Q){if(!(Q>0))return 0;for(var dt=Z,St=Z+Q-1,Lt=0;Lt<b.length;++Lt){var Vt=b.charCodeAt(Lt);if(Vt>=55296&&Vt<=57343&&(Vt=65536+((1023&Vt)<<10)|1023&b.charCodeAt(++Lt)),Vt<=127){if(Z>=St)break;D[Z++]=Vt}else if(Vt<=2047){if(Z+1>=St)break;D[Z++]=192|Vt>>6,D[Z++]=128|63&Vt}else if(Vt<=65535){if(Z+2>=St)break;D[Z++]=224|Vt>>12,D[Z++]=128|Vt>>6&63,D[Z++]=128|63&Vt}else{if(Z+3>=St)break;D[Z++]=240|Vt>>18,D[Z++]=128|Vt>>12&63,D[Z++]=128|Vt>>6&63,D[Z++]=128|63&Vt}}return D[Z]=0,Z-dt}function Pn(b){for(var D=0,Z=0;Z<b.length;++Z){var Q=b.charCodeAt(Z);Q>=55296&&Q<=57343&&(Q=65536+((1023&Q)<<10)|1023&b.charCodeAt(++Z)),Q<=127?++D:D+=Q<=2047?2:Q<=65535?3:4}return D}function mi(b,D){return b%D>0&&(b+=D-b%D),b}function Jn(b){Hn=b,M.HEAP8=yn=new Int8Array(b),M.HEAP16=ei=new Int16Array(b),M.HEAP32=Oe=new Int32Array(b),M.HEAPU8=Xn=new Uint8Array(b),M.HEAPU16=new Uint16Array(b),M.HEAPU32=new Uint32Array(b),M.HEAPF32=new Float32Array(b),M.HEAPF64=$n=new Float64Array(b)}var yt,Gt=[],se=[],de=[];var gn=0,ni=null;function In(b){gn++,M.monitorRunDependencies&&M.monitorRunDependencies(gn)}function _e(b){if(gn--,M.monitorRunDependencies&&M.monitorRunDependencies(gn),0==gn&&ni){var D=ni;ni=null,D()}}function en(b){M.onAbort&&M.onAbort(b),Fe(b="Aborted("+b+")"),Zn=!0,b+=". Build with -s ASSERTIONS=1 for more info.";var D=new WebAssembly.RuntimeError(b);throw Mt(D),D}M.preloadedImages={},M.preloadedAudios={};var Mn;function di(b){return b.startsWith("data:application/octet-stream;base64,")}function we(b){try{if(b==Mn&&Be)return new Uint8Array(Be);throw"both async and sync fetching of the wasm failed"}catch(D){en(D)}}di(Mn="graphvizlib.wasm")||(Mn=function Nt(b){return M.locateFile?M.locateFile(b,ft):ft+b}(Mn));var ln,G,wt,W={161580:function(b,D){var Z=An(b),Q=An(D);N.createPath("/",qt.dirname(Z)),N.writeFile(qt.join("/",Z),Q)}};function ht(b){for(;b.length>0;){var D=b.shift();if("function"!=typeof D){var Z=D.func;"number"==typeof Z?void 0===D.arg?E(Z)():E(Z)(D.arg):Z(void 0===D.arg?null:D.arg)}else D(M)}}function E(b){return yt.get(b)}wt=function(){return performance.now()};function Rt(b){return Oe[kt()>>2]=b,b}var qt={splitPath:function(b){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(b).slice(1)},normalizeArray:function(b,D){for(var Z=0,Q=b.length-1;Q>=0;Q--){var dt=b[Q];"."===dt?b.splice(Q,1):".."===dt?(b.splice(Q,1),Z++):Z&&(b.splice(Q,1),Z--)}if(D)for(;Z;Z--)b.unshift("..");return b},normalize:function(b){var D="/"===b.charAt(0),Z="/"===b.substr(-1);return!(b=qt.normalizeArray(b.split("/").filter(function(Q){return!!Q}),!D).join("/"))&&!D&&(b="."),b&&Z&&(b+="/"),(D?"/":"")+b},dirname:function(b){var D=qt.splitPath(b),Z=D[0],Q=D[1];return Z||Q?(Q&&(Q=Q.substr(0,Q.length-1)),Z+Q):"."},basename:function(b){if("/"===b)return"/";var D=(b=(b=qt.normalize(b)).replace(/\/$/,"")).lastIndexOf("/");return-1===D?b:b.substr(D+1)},extname:function(b){return qt.splitPath(b)[3]},join:function(){var b=Array.prototype.slice.call(arguments,0);return qt.normalize(b.join("/"))},join2:function(b,D){return qt.normalize(b+"/"+D)}};var pt={resolve:function(){for(var b="",D=!1,Z=arguments.length-1;Z>=-1&&!D;Z--){var Q=Z>=0?arguments[Z]:N.cwd();if("string"!=typeof Q)throw new TypeError("Arguments to path.resolve must be strings");if(!Q)return"";b=Q+"/"+b,D="/"===Q.charAt(0)}return(D?"/":"")+(b=qt.normalizeArray(b.split("/").filter(function(dt){return!!dt}),!D).join("/"))||"."},relative:function(b,D){function Z(Ye){for(var hn=0;hn<Ye.length&&""===Ye[hn];hn++);for(var bn=Ye.length-1;bn>=0&&""===Ye[bn];bn--);return hn>bn?[]:Ye.slice(hn,bn-hn+1)}b=pt.resolve(b).substr(1),D=pt.resolve(D).substr(1);for(var Q=Z(b.split("/")),dt=Z(D.split("/")),St=Math.min(Q.length,dt.length),Lt=St,Vt=0;Vt<St;Vt++)if(Q[Vt]!==dt[Vt]){Lt=Vt;break}var ce=[];for(Vt=Lt;Vt<Q.length;Vt++)ce.push("..");return(ce=ce.concat(dt.slice(Lt))).join("/")}},Tt={ttys:[],init:function(){},shutdown:function(){},register:function(b,D){Tt.ttys[b]={input:[],output:[],ops:D},N.registerDevice(b,Tt.stream_ops)},stream_ops:{open:function(b){var D=Tt.ttys[b.node.rdev];if(!D)throw new N.ErrnoError(43);b.tty=D,b.seekable=!1},close:function(b){b.tty.ops.flush(b.tty)},flush:function(b){b.tty.ops.flush(b.tty)},read:function(b,D,Z,Q,dt){if(!b.tty||!b.tty.ops.get_char)throw new N.ErrnoError(60);for(var St=0,Lt=0;Lt<Q;Lt++){var Vt;try{Vt=b.tty.ops.get_char(b.tty)}catch(ce){throw new N.ErrnoError(29)}if(void 0===Vt&&0===St)throw new N.ErrnoError(6);if(null==Vt)break;St++,D[Z+Lt]=Vt}return St&&(b.node.timestamp=Date.now()),St},write:function(b,D,Z,Q,dt){if(!b.tty||!b.tty.ops.put_char)throw new N.ErrnoError(60);try{for(var St=0;St<Q;St++)b.tty.ops.put_char(b.tty,D[Z+St])}catch(Lt){throw new N.ErrnoError(29)}return Q&&(b.node.timestamp=Date.now()),St}},default_tty_ops:{get_char:function(b){if(!b.input.length){var D=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(D=window.prompt("Input: "))&&(D+="\n"):"function"==typeof readline&&null!==(D=readline())&&(D+="\n"),!D)return null;b.input=Yi(D,!0)}return b.input.shift()},put_char:function(b,D){null===D||10===D?(ve(Yn(b.output,0)),b.output=[]):0!=D&&b.output.push(D)},flush:function(b){b.output&&b.output.length>0&&(ve(Yn(b.output,0)),b.output=[])}},default_tty1_ops:{put_char:function(b,D){null===D||10===D?(Fe(Yn(b.output,0)),b.output=[]):0!=D&&b.output.push(D)},flush:function(b){b.output&&b.output.length>0&&(Fe(Yn(b.output,0)),b.output=[])}}};function te(b){b=function Wt(b,D){return Math.ceil(b/D)*D}(b,65536);var D=Ge(65536,b);return D?(function At(b,D){Xn.fill(0,b,b+D)}(D,b),D):0}var Dt={ops_table:null,mount:function(b){return Dt.createNode(null,"/",16895,0)},createNode:function(b,D,Z,Q){if(N.isBlkdev(Z)||N.isFIFO(Z))throw new N.ErrnoError(63);Dt.ops_table||(Dt.ops_table={dir:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr,lookup:Dt.node_ops.lookup,mknod:Dt.node_ops.mknod,rename:Dt.node_ops.rename,unlink:Dt.node_ops.unlink,rmdir:Dt.node_ops.rmdir,readdir:Dt.node_ops.readdir,symlink:Dt.node_ops.symlink},stream:{llseek:Dt.stream_ops.llseek}},file:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr},stream:{llseek:Dt.stream_ops.llseek,read:Dt.stream_ops.read,write:Dt.stream_ops.write,allocate:Dt.stream_ops.allocate,mmap:Dt.stream_ops.mmap,msync:Dt.stream_ops.msync}},link:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr,readlink:Dt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Dt.node_ops.getattr,setattr:Dt.node_ops.setattr},stream:N.chrdev_stream_ops}});var dt=N.createNode(b,D,Z,Q);return N.isDir(dt.mode)?(dt.node_ops=Dt.ops_table.dir.node,dt.stream_ops=Dt.ops_table.dir.stream,dt.contents={}):N.isFile(dt.mode)?(dt.node_ops=Dt.ops_table.file.node,dt.stream_ops=Dt.ops_table.file.stream,dt.usedBytes=0,dt.contents=null):N.isLink(dt.mode)?(dt.node_ops=Dt.ops_table.link.node,dt.stream_ops=Dt.ops_table.link.stream):N.isChrdev(dt.mode)&&(dt.node_ops=Dt.ops_table.chrdev.node,dt.stream_ops=Dt.ops_table.chrdev.stream),dt.timestamp=Date.now(),b&&(b.contents[D]=dt,b.timestamp=dt.timestamp),dt},getFileDataAsTypedArray:function(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage:function(b,D){var Z=b.contents?b.contents.length:0;if(!(Z>=D)){D=Math.max(D,Z*(Z<1048576?2:1.125)>>>0),0!=Z&&(D=Math.max(D,256));var dt=b.contents;b.contents=new Uint8Array(D),b.usedBytes>0&&b.contents.set(dt.subarray(0,b.usedBytes),0)}},resizeFileStorage:function(b,D){if(b.usedBytes!=D)if(0==D)b.contents=null,b.usedBytes=0;else{var Z=b.contents;b.contents=new Uint8Array(D),Z&&b.contents.set(Z.subarray(0,Math.min(D,b.usedBytes))),b.usedBytes=D}},node_ops:{getattr:function(b){var D={};return D.dev=N.isChrdev(b.mode)?b.id:1,D.ino=b.id,D.mode=b.mode,D.nlink=1,D.uid=0,D.gid=0,D.rdev=b.rdev,D.size=N.isDir(b.mode)?4096:N.isFile(b.mode)?b.usedBytes:N.isLink(b.mode)?b.link.length:0,D.atime=new Date(b.timestamp),D.mtime=new Date(b.timestamp),D.ctime=new Date(b.timestamp),D.blksize=4096,D.blocks=Math.ceil(D.size/D.blksize),D},setattr:function(b,D){void 0!==D.mode&&(b.mode=D.mode),void 0!==D.timestamp&&(b.timestamp=D.timestamp),void 0!==D.size&&Dt.resizeFileStorage(b,D.size)},lookup:function(b,D){throw N.genericErrors[44]},mknod:function(b,D,Z,Q){return Dt.createNode(b,D,Z,Q)},rename:function(b,D,Z){if(N.isDir(b.mode)){var Q;try{Q=N.lookupNode(D,Z)}catch(St){}if(Q)for(var dt in Q.contents)throw new N.ErrnoError(55)}delete b.parent.contents[b.name],b.parent.timestamp=Date.now(),b.name=Z,D.contents[Z]=b,D.timestamp=b.parent.timestamp,b.parent=D},unlink:function(b,D){delete b.contents[D],b.timestamp=Date.now()},rmdir:function(b,D){var Z=N.lookupNode(b,D);for(var Q in Z.contents)throw new N.ErrnoError(55);delete b.contents[D],b.timestamp=Date.now()},readdir:function(b){var D=[".",".."];for(var Z in b.contents)!b.contents.hasOwnProperty(Z)||D.push(Z);return D},symlink:function(b,D,Z){var Q=Dt.createNode(b,D,41471,0);return Q.link=Z,Q},readlink:function(b){if(!N.isLink(b.mode))throw new N.ErrnoError(28);return b.link}},stream_ops:{read:function(b,D,Z,Q,dt){var St=b.node.contents;if(dt>=b.node.usedBytes)return 0;var Lt=Math.min(b.node.usedBytes-dt,Q);if(Lt>8&&St.subarray)D.set(St.subarray(dt,dt+Lt),Z);else for(var Vt=0;Vt<Lt;Vt++)D[Z+Vt]=St[dt+Vt];return Lt},write:function(b,D,Z,Q,dt,St){if(D.buffer===yn.buffer&&(St=!1),!Q)return 0;var Lt=b.node;if(Lt.timestamp=Date.now(),D.subarray&&(!Lt.contents||Lt.contents.subarray)){if(St)return Lt.contents=D.subarray(Z,Z+Q),Lt.usedBytes=Q,Q;if(0===Lt.usedBytes&&0===dt)return Lt.contents=D.slice(Z,Z+Q),Lt.usedBytes=Q,Q;if(dt+Q<=Lt.usedBytes)return Lt.contents.set(D.subarray(Z,Z+Q),dt),Q}if(Dt.expandFileStorage(Lt,dt+Q),Lt.contents.subarray&&D.subarray)Lt.contents.set(D.subarray(Z,Z+Q),dt);else for(var Vt=0;Vt<Q;Vt++)Lt.contents[dt+Vt]=D[Z+Vt];return Lt.usedBytes=Math.max(Lt.usedBytes,dt+Q),Q},llseek:function(b,D,Z){var Q=D;if(1===Z?Q+=b.position:2===Z&&N.isFile(b.node.mode)&&(Q+=b.node.usedBytes),Q<0)throw new N.ErrnoError(28);return Q},allocate:function(b,D,Z){Dt.expandFileStorage(b.node,D+Z),b.node.usedBytes=Math.max(b.node.usedBytes,D+Z)},mmap:function(b,D,Z,Q,dt,St){if(0!==D)throw new N.ErrnoError(28);if(!N.isFile(b.node.mode))throw new N.ErrnoError(43);var Lt,Vt,ce=b.node.contents;if(2&St||ce.buffer!==Hn){if((Q>0||Q+Z<ce.length)&&(ce=ce.subarray?ce.subarray(Q,Q+Z):Array.prototype.slice.call(ce,Q,Q+Z)),Vt=!0,!(Lt=te(Z)))throw new N.ErrnoError(48);yn.set(ce,Lt)}else Vt=!1,Lt=ce.byteOffset;return{ptr:Lt,allocated:Vt}},msync:function(b,D,Z,Q,dt){if(!N.isFile(b.node.mode))throw new N.ErrnoError(43);return 2&dt||Dt.stream_ops.write(b,D,0,Q,Z,!1),0}}};var N={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(b,D){if(D=D||{},!(b=pt.resolve(N.cwd(),b)))return{path:"",node:null};var Z={follow_mount:!0,recurse_count:0};for(var Q in Z)void 0===D[Q]&&(D[Q]=Z[Q]);if(D.recurse_count>8)throw new N.ErrnoError(32);for(var dt=qt.normalizeArray(b.split("/").filter(function($e){return!!$e}),!1),St=N.root,Lt="/",Vt=0;Vt<dt.length;Vt++){var ce=Vt===dt.length-1;if(ce&&D.parent)break;if(St=N.lookupNode(St,dt[Vt]),Lt=qt.join2(Lt,dt[Vt]),N.isMountpoint(St)&&(!ce||ce&&D.follow_mount)&&(St=St.mounted.root),!ce||D.follow)for(var Ye=0;N.isLink(St.mode);){var hn=N.readlink(Lt);if(Lt=pt.resolve(qt.dirname(Lt),hn),St=N.lookupPath(Lt,{recurse_count:D.recurse_count}).node,Ye++>40)throw new N.ErrnoError(32)}}return{path:Lt,node:St}},getPath:function(b){for(var D;;){if(N.isRoot(b)){var Z=b.mount.mountpoint;return D?"/"!==Z[Z.length-1]?Z+"/"+D:Z+D:Z}D=D?b.name+"/"+D:b.name,b=b.parent}},hashName:function(b,D){for(var Z=0,Q=0;Q<D.length;Q++)Z=(Z<<5)-Z+D.charCodeAt(Q)|0;return(b+Z>>>0)%N.nameTable.length},hashAddNode:function(b){var D=N.hashName(b.parent.id,b.name);b.name_next=N.nameTable[D],N.nameTable[D]=b},hashRemoveNode:function(b){var D=N.hashName(b.parent.id,b.name);if(N.nameTable[D]===b)N.nameTable[D]=b.name_next;else for(var Z=N.nameTable[D];Z;){if(Z.name_next===b){Z.name_next=b.name_next;break}Z=Z.name_next}},lookupNode:function(b,D){var Z=N.mayLookup(b);if(Z)throw new N.ErrnoError(Z,b);for(var Q=N.hashName(b.id,D),dt=N.nameTable[Q];dt;dt=dt.name_next)if(dt.parent.id===b.id&&dt.name===D)return dt;return N.lookup(b,D)},createNode:function(b,D,Z,Q){var dt=new N.FSNode(b,D,Z,Q);return N.hashAddNode(dt),dt},destroyNode:function(b){N.hashRemoveNode(b)},isRoot:function(b){return b===b.parent},isMountpoint:function(b){return!!b.mounted},isFile:function(b){return 32768==(61440&b)},isDir:function(b){return 16384==(61440&b)},isLink:function(b){return 40960==(61440&b)},isChrdev:function(b){return 8192==(61440&b)},isBlkdev:function(b){return 24576==(61440&b)},isFIFO:function(b){return 4096==(61440&b)},isSocket:function(b){return 49152==(49152&b)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(b){var D=N.flagModes[b];if(void 0===D)throw new Error("Unknown file open mode: "+b);return D},flagsToPermissionString:function(b){var D=["r","w","rw"][3&b];return 512&b&&(D+="w"),D},nodePermissions:function(b,D){return N.ignorePermissions?0:D.includes("r")&&!(292&b.mode)||D.includes("w")&&!(146&b.mode)||D.includes("x")&&!(73&b.mode)?2:0},mayLookup:function(b){return N.nodePermissions(b,"x")||(b.node_ops.lookup?0:2)},mayCreate:function(b,D){try{return N.lookupNode(b,D),20}catch(Q){}return N.nodePermissions(b,"wx")},mayDelete:function(b,D,Z){var Q;try{Q=N.lookupNode(b,D)}catch(St){return St.errno}var dt=N.nodePermissions(b,"wx");if(dt)return dt;if(Z){if(!N.isDir(Q.mode))return 54;if(N.isRoot(Q)||N.getPath(Q)===N.cwd())return 10}else if(N.isDir(Q.mode))return 31;return 0},mayOpen:function(b,D){return b?N.isLink(b.mode)?32:N.isDir(b.mode)&&("r"!==N.flagsToPermissionString(D)||512&D)?31:N.nodePermissions(b,N.flagsToPermissionString(D)):44},MAX_OPEN_FDS:4096,nextfd:function(b,D){D=D||N.MAX_OPEN_FDS;for(var Z=b=b||0;Z<=D;Z++)if(!N.streams[Z])return Z;throw new N.ErrnoError(33)},getStream:function(b){return N.streams[b]},createStream:function(b,D,Z){N.FSStream||(N.FSStream=function(){},N.FSStream.prototype={object:{get:function(){return this.node},set:function(Lt){this.node=Lt}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var Q=new N.FSStream;for(var dt in b)Q[dt]=b[dt];b=Q;var St=N.nextfd(D,Z);return b.fd=St,N.streams[St]=b,b},closeStream:function(b){N.streams[b]=null},chrdev_stream_ops:{open:function(b){var D=N.getDevice(b.node.rdev);b.stream_ops=D.stream_ops,b.stream_ops.open&&b.stream_ops.open(b)},llseek:function(){throw new N.ErrnoError(70)}},major:function(b){return b>>8},minor:function(b){return 255&b},makedev:function(b,D){return b<<8|D},registerDevice:function(b,D){N.devices[b]={stream_ops:D}},getDevice:function(b){return N.devices[b]},getMounts:function(b){for(var D=[],Z=[b];Z.length;){var Q=Z.pop();D.push(Q),Z.push.apply(Z,Q.mounts)}return D},syncfs:function(b,D){"function"==typeof b&&(D=b,b=!1),N.syncFSRequests++,N.syncFSRequests>1&&Fe("warning: "+N.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var Z=N.getMounts(N.root.mount),Q=0;function dt(Lt){return N.syncFSRequests--,D(Lt)}function St(Lt){if(Lt)return St.errored?void 0:(St.errored=!0,dt(Lt));++Q>=Z.length&&dt(null)}Z.forEach(function(Lt){if(!Lt.type.syncfs)return St(null);Lt.type.syncfs(Lt,b,St)})},mount:function(b,D,Z){var St,Q="/"===Z,dt=!Z;if(Q&&N.root)throw new N.ErrnoError(10);if(!Q&&!dt){var Lt=N.lookupPath(Z,{follow_mount:!1});if(Z=Lt.path,N.isMountpoint(St=Lt.node))throw new N.ErrnoError(10);if(!N.isDir(St.mode))throw new N.ErrnoError(54)}var Vt={type:b,opts:D,mountpoint:Z,mounts:[]},ce=b.mount(Vt);return ce.mount=Vt,Vt.root=ce,Q?N.root=ce:St&&(St.mounted=Vt,St.mount&&St.mount.mounts.push(Vt)),ce},unmount:function(b){var D=N.lookupPath(b,{follow_mount:!1});if(!N.isMountpoint(D.node))throw new N.ErrnoError(28);var Z=D.node,Q=Z.mounted,dt=N.getMounts(Q);Object.keys(N.nameTable).forEach(function(Lt){for(var Vt=N.nameTable[Lt];Vt;){var ce=Vt.name_next;dt.includes(Vt.mount)&&N.destroyNode(Vt),Vt=ce}}),Z.mounted=null;var St=Z.mount.mounts.indexOf(Q);Z.mount.mounts.splice(St,1)},lookup:function(b,D){return b.node_ops.lookup(b,D)},mknod:function(b,D,Z){var dt=N.lookupPath(b,{parent:!0}).node,St=qt.basename(b);if(!St||"."===St||".."===St)throw new N.ErrnoError(28);var Lt=N.mayCreate(dt,St);if(Lt)throw new N.ErrnoError(Lt);if(!dt.node_ops.mknod)throw new N.ErrnoError(63);return dt.node_ops.mknod(dt,St,D,Z)},create:function(b,D){return D=void 0!==D?D:438,D&=4095,N.mknod(b,D|=32768,0)},mkdir:function(b,D){return D=void 0!==D?D:511,D&=1023,N.mknod(b,D|=16384,0)},mkdirTree:function(b,D){for(var Z=b.split("/"),Q="",dt=0;dt<Z.length;++dt)if(Z[dt]){Q+="/"+Z[dt];try{N.mkdir(Q,D)}catch(St){if(20!=St.errno)throw St}}},mkdev:function(b,D,Z){return void 0===Z&&(Z=D,D=438),N.mknod(b,D|=8192,Z)},symlink:function(b,D){if(!pt.resolve(b))throw new N.ErrnoError(44);var Q=N.lookupPath(D,{parent:!0}).node;if(!Q)throw new N.ErrnoError(44);var dt=qt.basename(D),St=N.mayCreate(Q,dt);if(St)throw new N.ErrnoError(St);if(!Q.node_ops.symlink)throw new N.ErrnoError(63);return Q.node_ops.symlink(Q,dt,b)},rename:function(b,D){var Vt,ce,Z=qt.dirname(b),Q=qt.dirname(D),dt=qt.basename(b),St=qt.basename(D);if(Vt=N.lookupPath(b,{parent:!0}).node,ce=N.lookupPath(D,{parent:!0}).node,!Vt||!ce)throw new N.ErrnoError(44);if(Vt.mount!==ce.mount)throw new N.ErrnoError(75);var bn,Ye=N.lookupNode(Vt,dt),hn=pt.relative(b,Q);if("."!==hn.charAt(0))throw new N.ErrnoError(28);if("."!==(hn=pt.relative(D,Z)).charAt(0))throw new N.ErrnoError(55);try{bn=N.lookupNode(ce,St)}catch(kn){}if(Ye!==bn){var $e=N.isDir(Ye.mode),nn=N.mayDelete(Vt,dt,$e);if(nn)throw new N.ErrnoError(nn);if(nn=bn?N.mayDelete(ce,St,$e):N.mayCreate(ce,St))throw new N.ErrnoError(nn);if(!Vt.node_ops.rename)throw new N.ErrnoError(63);if(N.isMountpoint(Ye)||bn&&N.isMountpoint(bn))throw new N.ErrnoError(10);if(ce!==Vt&&(nn=N.nodePermissions(Vt,"w")))throw new N.ErrnoError(nn);N.hashRemoveNode(Ye);try{Vt.node_ops.rename(Ye,ce,St)}catch(kn){throw kn}finally{N.hashAddNode(Ye)}}},rmdir:function(b){var Z=N.lookupPath(b,{parent:!0}).node,Q=qt.basename(b),dt=N.lookupNode(Z,Q),St=N.mayDelete(Z,Q,!0);if(St)throw new N.ErrnoError(St);if(!Z.node_ops.rmdir)throw new N.ErrnoError(63);if(N.isMountpoint(dt))throw new N.ErrnoError(10);Z.node_ops.rmdir(Z,Q),N.destroyNode(dt)},readdir:function(b){var Z=N.lookupPath(b,{follow:!0}).node;if(!Z.node_ops.readdir)throw new N.ErrnoError(54);return Z.node_ops.readdir(Z)},unlink:function(b){var Z=N.lookupPath(b,{parent:!0}).node,Q=qt.basename(b),dt=N.lookupNode(Z,Q),St=N.mayDelete(Z,Q,!1);if(St)throw new N.ErrnoError(St);if(!Z.node_ops.unlink)throw new N.ErrnoError(63);if(N.isMountpoint(dt))throw new N.ErrnoError(10);Z.node_ops.unlink(Z,Q),N.destroyNode(dt)},readlink:function(b){var Z=N.lookupPath(b).node;if(!Z)throw new N.ErrnoError(44);if(!Z.node_ops.readlink)throw new N.ErrnoError(28);return pt.resolve(N.getPath(Z.parent),Z.node_ops.readlink(Z))},stat:function(b,D){var Q=N.lookupPath(b,{follow:!D}).node;if(!Q)throw new N.ErrnoError(44);if(!Q.node_ops.getattr)throw new N.ErrnoError(63);return Q.node_ops.getattr(Q)},lstat:function(b){return N.stat(b,!0)},chmod:function(b,D,Z){var Q;if(!(Q="string"==typeof b?N.lookupPath(b,{follow:!Z}).node:b).node_ops.setattr)throw new N.ErrnoError(63);Q.node_ops.setattr(Q,{mode:4095&D|-4096&Q.mode,timestamp:Date.now()})},lchmod:function(b,D){N.chmod(b,D,!0)},fchmod:function(b,D){var Z=N.getStream(b);if(!Z)throw new N.ErrnoError(8);N.chmod(Z.node,D)},chown:function(b,D,Z,Q){var dt;if(!(dt="string"==typeof b?N.lookupPath(b,{follow:!Q}).node:b).node_ops.setattr)throw new N.ErrnoError(63);dt.node_ops.setattr(dt,{timestamp:Date.now()})},lchown:function(b,D,Z){N.chown(b,D,Z,!0)},fchown:function(b,D,Z){var Q=N.getStream(b);if(!Q)throw new N.ErrnoError(8);N.chown(Q.node,D,Z)},truncate:function(b,D){if(D<0)throw new N.ErrnoError(28);var Z;if(!(Z="string"==typeof b?N.lookupPath(b,{follow:!0}).node:b).node_ops.setattr)throw new N.ErrnoError(63);if(N.isDir(Z.mode))throw new N.ErrnoError(31);if(!N.isFile(Z.mode))throw new N.ErrnoError(28);var dt=N.nodePermissions(Z,"w");if(dt)throw new N.ErrnoError(dt);Z.node_ops.setattr(Z,{size:D,timestamp:Date.now()})},ftruncate:function(b,D){var Z=N.getStream(b);if(!Z)throw new N.ErrnoError(8);if(0==(2097155&Z.flags))throw new N.ErrnoError(28);N.truncate(Z.node,D)},utime:function(b,D,Z){var dt=N.lookupPath(b,{follow:!0}).node;dt.node_ops.setattr(dt,{timestamp:Math.max(D,Z)})},open:function(b,D,Z,Q,dt){if(""===b)throw new N.ErrnoError(44);var St;if(Z=void 0===Z?438:Z,Z=64&(D="string"==typeof D?N.modeStringToFlags(D):D)?4095&Z|32768:0,"object"==typeof b)St=b;else{b=qt.normalize(b);try{St=N.lookupPath(b,{follow:!(131072&D)}).node}catch(hn){}}var Vt=!1;if(64&D)if(St){if(128&D)throw new N.ErrnoError(20)}else St=N.mknod(b,Z,0),Vt=!0;if(!St)throw new N.ErrnoError(44);if(N.isChrdev(St.mode)&&(D&=-513),65536&D&&!N.isDir(St.mode))throw new N.ErrnoError(54);if(!Vt){var ce=N.mayOpen(St,D);if(ce)throw new N.ErrnoError(ce)}512&D&&N.truncate(St,0),D&=-131713;var Ye=N.createStream({node:St,path:N.getPath(St),id:St.id,flags:D,mode:St.mode,seekable:!0,position:0,stream_ops:St.stream_ops,node_ops:St.node_ops,ungotten:[],error:!1},Q,dt);return Ye.stream_ops.open&&Ye.stream_ops.open(Ye),M.logReadFiles&&!(1&D)&&(N.readFiles||(N.readFiles={}),b in N.readFiles||(N.readFiles[b]=1)),Ye},close:function(b){if(N.isClosed(b))throw new N.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(D){throw D}finally{N.closeStream(b.fd)}b.fd=null},isClosed:function(b){return null===b.fd},llseek:function(b,D,Z){if(N.isClosed(b))throw new N.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new N.ErrnoError(70);if(0!=Z&&1!=Z&&2!=Z)throw new N.ErrnoError(28);return b.position=b.stream_ops.llseek(b,D,Z),b.ungotten=[],b.position},read:function(b,D,Z,Q,dt){if(Q<0||dt<0)throw new N.ErrnoError(28);if(N.isClosed(b))throw new N.ErrnoError(8);if(1==(2097155&b.flags))throw new N.ErrnoError(8);if(N.isDir(b.node.mode))throw new N.ErrnoError(31);if(!b.stream_ops.read)throw new N.ErrnoError(28);var St=void 0!==dt;if(St){if(!b.seekable)throw new N.ErrnoError(70)}else dt=b.position;var Lt=b.stream_ops.read(b,D,Z,Q,dt);return St||(b.position+=Lt),Lt},write:function(b,D,Z,Q,dt,St){if(Q<0||dt<0)throw new N.ErrnoError(28);if(N.isClosed(b))throw new N.ErrnoError(8);if(0==(2097155&b.flags))throw new N.ErrnoError(8);if(N.isDir(b.node.mode))throw new N.ErrnoError(31);if(!b.stream_ops.write)throw new N.ErrnoError(28);b.seekable&&1024&b.flags&&N.llseek(b,0,2);var Lt=void 0!==dt;if(Lt){if(!b.seekable)throw new N.ErrnoError(70)}else dt=b.position;var Vt=b.stream_ops.write(b,D,Z,Q,dt,St);return Lt||(b.position+=Vt),Vt},allocate:function(b,D,Z){if(N.isClosed(b))throw new N.ErrnoError(8);if(D<0||Z<=0)throw new N.ErrnoError(28);if(0==(2097155&b.flags))throw new N.ErrnoError(8);if(!N.isFile(b.node.mode)&&!N.isDir(b.node.mode))throw new N.ErrnoError(43);if(!b.stream_ops.allocate)throw new N.ErrnoError(138);b.stream_ops.allocate(b,D,Z)},mmap:function(b,D,Z,Q,dt,St){if(0!=(2&dt)&&0==(2&St)&&2!=(2097155&b.flags))throw new N.ErrnoError(2);if(1==(2097155&b.flags))throw new N.ErrnoError(2);if(!b.stream_ops.mmap)throw new N.ErrnoError(43);return b.stream_ops.mmap(b,D,Z,Q,dt,St)},msync:function(b,D,Z,Q,dt){return b&&b.stream_ops.msync?b.stream_ops.msync(b,D,Z,Q,dt):0},munmap:function(b){return 0},ioctl:function(b,D,Z){if(!b.stream_ops.ioctl)throw new N.ErrnoError(59);return b.stream_ops.ioctl(b,D,Z)},readFile:function(b,D){if((D=D||{}).flags=D.flags||0,D.encoding=D.encoding||"binary","utf8"!==D.encoding&&"binary"!==D.encoding)throw new Error('Invalid encoding type "'+D.encoding+'"');var Z,Q=N.open(b,D.flags),St=N.stat(b).size,Lt=new Uint8Array(St);return N.read(Q,Lt,0,St,0),"utf8"===D.encoding?Z=Yn(Lt,0):"binary"===D.encoding&&(Z=Lt),N.close(Q),Z},writeFile:function(b,D,Z){(Z=Z||{}).flags=Z.flags||577;var Q=N.open(b,Z.flags,Z.mode);if("string"==typeof D){var dt=new Uint8Array(Pn(D)+1),St=Ke(D,dt,0,dt.length);N.write(Q,dt,0,St,void 0,Z.canOwn)}else{if(!ArrayBuffer.isView(D))throw new Error("Unsupported data type");N.write(Q,D,0,D.byteLength,void 0,Z.canOwn)}N.close(Q)},cwd:function(){return N.currentPath},chdir:function(b){var D=N.lookupPath(b,{follow:!0});if(null===D.node)throw new N.ErrnoError(44);if(!N.isDir(D.node.mode))throw new N.ErrnoError(54);var Z=N.nodePermissions(D.node,"x");if(Z)throw new N.ErrnoError(Z);N.currentPath=D.path},createDefaultDirectories:function(){N.mkdir("/tmp"),N.mkdir("/home"),N.mkdir("/home/web_user")},createDefaultDevices:function(){N.mkdir("/dev"),N.registerDevice(N.makedev(1,3),{read:function(){return 0},write:function(D,Z,Q,dt,St){return dt}}),N.mkdev("/dev/null",N.makedev(1,3)),Tt.register(N.makedev(5,0),Tt.default_tty_ops),Tt.register(N.makedev(6,0),Tt.default_tty1_ops),N.mkdev("/dev/tty",N.makedev(5,0)),N.mkdev("/dev/tty1",N.makedev(6,0));var b=function q(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var b=new Uint8Array(1);return function(){return crypto.getRandomValues(b),b[0]}}return function(){en("randomDevice")}}();N.createDevice("/dev","random",b),N.createDevice("/dev","urandom",b),N.mkdir("/dev/shm"),N.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){N.mkdir("/proc");var b=N.mkdir("/proc/self");N.mkdir("/proc/self/fd"),N.mount({mount:function(){var D=N.createNode(b,"fd",16895,73);return D.node_ops={lookup:function(Z,Q){var St=N.getStream(+Q);if(!St)throw new N.ErrnoError(8);var Lt={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return St.path}}};return Lt.parent=Lt,Lt}},D}},{},"/proc/self/fd")},createStandardStreams:function(){M.stdin?N.createDevice("/dev","stdin",M.stdin):N.symlink("/dev/tty","/dev/stdin"),M.stdout?N.createDevice("/dev","stdout",null,M.stdout):N.symlink("/dev/tty","/dev/stdout"),M.stderr?N.createDevice("/dev","stderr",null,M.stderr):N.symlink("/dev/tty1","/dev/stderr"),N.open("/dev/stdin",0),N.open("/dev/stdout",1),N.open("/dev/stderr",1)},ensureErrnoError:function(){N.ErrnoError||(N.ErrnoError=function(D,Z){this.node=Z,this.setErrno=function(Q){this.errno=Q},this.setErrno(D),this.message="FS error"},N.ErrnoError.prototype=new Error,N.ErrnoError.prototype.constructor=N.ErrnoError,[44].forEach(function(b){N.genericErrors[b]=new N.ErrnoError(b),N.genericErrors[b].stack="<generic error, no stack>"}))},staticInit:function(){N.ensureErrnoError(),N.nameTable=new Array(4096),N.mount(Dt,{},"/"),N.createDefaultDirectories(),N.createDefaultDevices(),N.createSpecialDirectories(),N.filesystems={MEMFS:Dt}},init:function(b,D,Z){N.init.initialized=!0,N.ensureErrnoError(),M.stdin=b||M.stdin,M.stdout=D||M.stdout,M.stderr=Z||M.stderr,N.createStandardStreams()},quit:function(){N.init.initialized=!1;var b=M._fflush;b&&b(0);for(var D=0;D<N.streams.length;D++){var Z=N.streams[D];!Z||N.close(Z)}},getMode:function(b,D){var Z=0;return b&&(Z|=365),D&&(Z|=146),Z},findObject:function(b,D){var Z=N.analyzePath(b,D);return Z.exists?Z.object:null},analyzePath:function(b,D){try{b=(Z=N.lookupPath(b,{follow:!D})).path}catch(dt){}var Q={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var Z=N.lookupPath(b,{parent:!0});Q.parentExists=!0,Q.parentPath=Z.path,Q.parentObject=Z.node,Q.name=qt.basename(b),Z=N.lookupPath(b,{follow:!D}),Q.exists=!0,Q.path=Z.path,Q.object=Z.node,Q.name=Z.node.name,Q.isRoot="/"===Z.path}catch(dt){Q.error=dt.errno}return Q},createPath:function(b,D,Z,Q){b="string"==typeof b?b:N.getPath(b);for(var dt=D.split("/").reverse();dt.length;){var St=dt.pop();if(St){var Lt=qt.join2(b,St);try{N.mkdir(Lt)}catch(Vt){}b=Lt}}return Lt},createFile:function(b,D,Z,Q,dt){var St=qt.join2("string"==typeof b?b:N.getPath(b),D),Lt=N.getMode(Q,dt);return N.create(St,Lt)},createDataFile:function(b,D,Z,Q,dt,St){var Lt=D?qt.join2("string"==typeof b?b:N.getPath(b),D):b,Vt=N.getMode(Q,dt),ce=N.create(Lt,Vt);if(Z){if("string"==typeof Z){for(var Ye=new Array(Z.length),hn=0,bn=Z.length;hn<bn;++hn)Ye[hn]=Z.charCodeAt(hn);Z=Ye}N.chmod(ce,146|Vt);var $e=N.open(ce,577);N.write($e,Z,0,Z.length,0,St),N.close($e),N.chmod(ce,Vt)}return ce},createDevice:function(b,D,Z,Q){var dt=qt.join2("string"==typeof b?b:N.getPath(b),D),St=N.getMode(!!Z,!!Q);N.createDevice.major||(N.createDevice.major=64);var Lt=N.makedev(N.createDevice.major++,0);return N.registerDevice(Lt,{open:function(Vt){Vt.seekable=!1},close:function(Vt){Q&&Q.buffer&&Q.buffer.length&&Q(10)},read:function(Vt,ce,Ye,hn,bn){for(var $e=0,nn=0;nn<hn;nn++){var kn;try{kn=Z()}catch(Ri){throw new N.ErrnoError(29)}if(void 0===kn&&0===$e)throw new N.ErrnoError(6);if(null==kn)break;$e++,ce[Ye+nn]=kn}return $e&&(Vt.node.timestamp=Date.now()),$e},write:function(Vt,ce,Ye,hn,bn){for(var $e=0;$e<hn;$e++)try{Q(ce[Ye+$e])}catch(nn){throw new N.ErrnoError(29)}return hn&&(Vt.node.timestamp=Date.now()),$e}}),N.mkdev(dt,St,Lt)},forceLoadFile:function(b){if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Qt)throw new Error("Cannot load without read() or XMLHttpRequest.");try{b.contents=Yi(Qt(b.url),!0),b.usedBytes=b.contents.length}catch(D){throw new N.ErrnoError(29)}},createLazyFile:function(b,D,Z,Q,dt){function St(){this.lengthKnown=!1,this.chunks=[]}if(St.prototype.get=function($e){if(!($e>this.length-1||$e<0)){var nn=$e%this.chunkSize;return this.getter($e/this.chunkSize|0)[nn]}},St.prototype.setDataGetter=function($e){this.getter=$e},St.prototype.cacheLength=function(){var $e=new XMLHttpRequest;if($e.open("HEAD",Z,!1),$e.send(null),!($e.status>=200&&$e.status<300||304===$e.status))throw new Error("Couldn't load "+Z+". Status: "+$e.status);var kn,nn=Number($e.getResponseHeader("Content-length")),Ri=(kn=$e.getResponseHeader("Accept-Ranges"))&&"bytes"===kn,Tr=(kn=$e.getResponseHeader("Content-Encoding"))&&"gzip"===kn,Oi=1048576;Ri||(Oi=nn);var Di=this;Di.setDataGetter(function(Qi){var wr=Qi*Oi,_i=(Qi+1)*Oi-1;if(_i=Math.min(_i,nn-1),void 0===Di.chunks[Qi]&&(Di.chunks[Qi]=function(Qi,wr){if(Qi>wr)throw new Error("invalid range ("+Qi+", "+wr+") or no bytes requested!");if(wr>nn-1)throw new Error("only "+nn+" bytes available! programmer error!");var _i=new XMLHttpRequest;if(_i.open("GET",Z,!1),nn!==Oi&&_i.setRequestHeader("Range","bytes="+Qi+"-"+wr),"undefined"!=typeof Uint8Array&&(_i.responseType="arraybuffer"),_i.overrideMimeType&&_i.overrideMimeType("text/plain; charset=x-user-defined"),_i.send(null),!(_i.status>=200&&_i.status<300||304===_i.status))throw new Error("Couldn't load "+Z+". Status: "+_i.status);return void 0!==_i.response?new Uint8Array(_i.response||[]):Yi(_i.responseText||"",!0)}(wr,_i)),void 0===Di.chunks[Qi])throw new Error("doXHR failed!");return Di.chunks[Qi]}),(Tr||!nn)&&(Oi=nn=1,nn=this.getter(0).length,Oi=nn,ve("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=nn,this._chunkSize=Oi,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Vt,ce=N.createFile(b,D,Vt={isDevice:!1,url:Z},Q,dt);Vt.contents?ce.contents=Vt.contents:Vt.url&&(ce.contents=null,ce.url=Vt.url),Object.defineProperties(ce,{usedBytes:{get:function(){return this.contents.length}}});var Ye={};return Object.keys(ce.stream_ops).forEach(function(bn){var $e=ce.stream_ops[bn];Ye[bn]=function(){return N.forceLoadFile(ce),$e.apply(null,arguments)}}),Ye.read=function($e,nn,kn,Ri,Tr){N.forceLoadFile(ce);var Oi=$e.node.contents;if(Tr>=Oi.length)return 0;var Cr=Math.min(Oi.length-Tr,Ri);if(Oi.slice)for(var Di=0;Di<Cr;Di++)nn[kn+Di]=Oi[Tr+Di];else for(Di=0;Di<Cr;Di++)nn[kn+Di]=Oi.get(Tr+Di);return Cr},ce.stream_ops=Ye,ce},createPreloadedFile:function(b,D,Z,Q,dt,St,Lt,Vt,ce,Ye){Browser.init();var hn=D?pt.resolve(qt.join2(b,D)):b;function bn($e){function nn(Ri){Ye&&Ye(),Vt||N.createDataFile(b,D,Ri,Q,dt,ce),St&&St(),_e()}var kn=!1;M.preloadPlugins.forEach(function(Ri){kn||Ri.canHandle(hn)&&(Ri.handle($e,hn,nn,function(){Lt&&Lt(),_e()}),kn=!0)}),kn||nn($e)}In(),"string"==typeof Z?function he(b,D,Z,Q){var dt=Q?"":"al "+b;me(b,function(St){Wn(St,'Loading data file "'+b+'" failed (no arrayBuffer).'),D(new Uint8Array(St)),dt&&_e()},function(St){if(!Z)throw'Loading data file "'+b+'" failed.';Z()}),dt&&In()}(Z,function($e){bn($e)},Lt):bn(Z)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(b,D,Z){D=D||function(){},Z=Z||function(){};var Q=N.indexedDB();try{var dt=Q.open(N.DB_NAME(),N.DB_VERSION)}catch(St){return Z(St)}dt.onupgradeneeded=function(){ve("creating db"),dt.result.createObjectStore(N.DB_STORE_NAME)},dt.onsuccess=function(){var Vt=dt.result.transaction([N.DB_STORE_NAME],"readwrite"),ce=Vt.objectStore(N.DB_STORE_NAME),Ye=0,hn=0,bn=b.length;function $e(){0==hn?D():Z()}b.forEach(function(nn){var kn=ce.put(N.analyzePath(nn).object.contents,nn);kn.onsuccess=function(){++Ye+hn==bn&&$e()},kn.onerror=function(){hn++,Ye+hn==bn&&$e()}}),Vt.onerror=Z},dt.onerror=Z},loadFilesFromDB:function(b,D,Z){D=D||function(){},Z=Z||function(){};var Q=N.indexedDB();try{var dt=Q.open(N.DB_NAME(),N.DB_VERSION)}catch(St){return Z(St)}dt.onupgradeneeded=Z,dt.onsuccess=function(){var Lt=dt.result;try{var Vt=Lt.transaction([N.DB_STORE_NAME],"readonly")}catch(nn){return void Z(nn)}var ce=Vt.objectStore(N.DB_STORE_NAME),Ye=0,hn=0,bn=b.length;function $e(){0==hn?D():Z()}b.forEach(function(nn){var kn=ce.get(nn);kn.onsuccess=function(){N.analyzePath(nn).exists&&N.unlink(nn),N.createDataFile(qt.dirname(nn),qt.basename(nn),kn.result,!0,!0,!0),++Ye+hn==bn&&$e()},kn.onerror=function(){hn++,Ye+hn==bn&&$e()}}),Vt.onerror=Z},dt.onerror=Z}},oe={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(b,D,Z){if("/"===D[0])return D;var Q;if(-100===b)Q=N.cwd();else{var dt=N.getStream(b);if(!dt)throw new N.ErrnoError(8);Q=dt.path}if(0==D.length){if(!Z)throw new N.ErrnoError(44);return Q}return qt.join2(Q,D)},doStat:function(b,D,Z){try{var Q=b(D)}catch(dt){if(dt&&dt.node&&qt.normalize(D)!==qt.normalize(N.getPath(dt.node)))return-54;throw dt}return Oe[Z>>2]=Q.dev,Oe[Z+4>>2]=0,Oe[Z+8>>2]=Q.ino,Oe[Z+12>>2]=Q.mode,Oe[Z+16>>2]=Q.nlink,Oe[Z+20>>2]=Q.uid,Oe[Z+24>>2]=Q.gid,Oe[Z+28>>2]=Q.rdev,Oe[Z+32>>2]=0,G=[Q.size>>>0,(ln=Q.size,+Math.abs(ln)>=1?ln>0?(0|Math.min(+Math.floor(ln/4294967296),4294967295))>>>0:~~+Math.ceil((ln-+(~~ln>>>0))/4294967296)>>>0:0)],Oe[Z+40>>2]=G[0],Oe[Z+44>>2]=G[1],Oe[Z+48>>2]=4096,Oe[Z+52>>2]=Q.blocks,Oe[Z+56>>2]=Q.atime.getTime()/1e3|0,Oe[Z+60>>2]=0,Oe[Z+64>>2]=Q.mtime.getTime()/1e3|0,Oe[Z+68>>2]=0,Oe[Z+72>>2]=Q.ctime.getTime()/1e3|0,Oe[Z+76>>2]=0,G=[Q.ino>>>0,(ln=Q.ino,+Math.abs(ln)>=1?ln>0?(0|Math.min(+Math.floor(ln/4294967296),4294967295))>>>0:~~+Math.ceil((ln-+(~~ln>>>0))/4294967296)>>>0:0)],Oe[Z+80>>2]=G[0],Oe[Z+84>>2]=G[1],0},doMsync:function(b,D,Z,Q,dt){var St=Xn.slice(b,b+Z);N.msync(D,St,dt,Z,Q)},doMkdir:function(b,D){return"/"===(b=qt.normalize(b))[b.length-1]&&(b=b.substr(0,b.length-1)),N.mkdir(b,D,0),0},doMknod:function(b,D,Z){switch(61440&D){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return N.mknod(b,D,Z),0},doReadlink:function(b,D,Z){if(Z<=0)return-28;var Q=N.readlink(b),dt=Math.min(Z,Pn(Q)),St=yn[D+dt];return function En(b,D,Z){return Ke(b,Xn,D,Z)}(Q,D,Z+1),yn[D+dt]=St,dt},doAccess:function(b,D){if(-8&D)return-28;var Q=N.lookupPath(b,{follow:!0}).node;if(!Q)return-44;var dt="";return 4&D&&(dt+="r"),2&D&&(dt+="w"),1&D&&(dt+="x"),dt&&N.nodePermissions(Q,dt)?-2:0},doDup:function(b,D,Z){var Q=N.getStream(Z);return Q&&N.close(Q),N.open(b,D,0,Z,Z).fd},doReadv:function(b,D,Z,Q){for(var dt=0,St=0;St<Z;St++){var Vt=Oe[D+(8*St+4)>>2],ce=N.read(b,yn,Oe[D+8*St>>2],Vt,Q);if(ce<0)return-1;if(dt+=ce,ce<Vt)break}return dt},doWritev:function(b,D,Z,Q){for(var dt=0,St=0;St<Z;St++){var ce=N.write(b,yn,Oe[D+8*St>>2],Oe[D+(8*St+4)>>2],Q);if(ce<0)return-1;dt+=ce}return dt},varargs:void 0,get:function(){return oe.varargs+=4,Oe[oe.varargs-4>>2]},getStr:function(b){return An(b)},getStreamFromFD:function(b){var D=N.getStream(b);if(!D)throw new N.ErrnoError(8);return D},get64:function(b,D){return b}};var Jt=[];function le(b){try{return ke.grow(b-Hn.byteLength+65535>>>16),Jn(ke.buffer),1}catch(D){}}var Le={};function Qn(){if(!Qn.strings){var D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ie||"./this.program"};for(var Z in Le)void 0===Le[Z]?delete D[Z]:D[Z]=Le[Z];var Q=[];for(var Z in D)Q.push(Z+"="+D[Z]);Qn.strings=Q}return Qn.strings}var Kn=function(b,D,Z,Q){b||(b=this),this.parent=b,this.mount=b.mount,this.mounted=null,this.id=N.nextInode++,this.name=D,this.mode=Z,this.node_ops={},this.stream_ops={},this.rdev=Q};function Yi(b,D,Z){var Q=Z>0?Z:Pn(b)+1,dt=new Array(Q),St=Ke(b,dt,0,dt.length);return D&&(dt.length=St),dt}Object.defineProperties(Kn.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(b){b?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(b){b?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return N.isDir(this.mode)}},isDevice:{get:function(){return N.isChrdev(this.mode)}}}),N.FSNode=Kn,N.staticInit();var Pt={A:function re(b,D){return function Yt(b,D){var Z;if(0===b)Z=Date.now();else{if(1!==b&&4!==b)return Rt(28),-1;Z=wt()}return Oe[D>>2]=Z/1e3|0,Oe[D+4>>2]=Z%1e3*1e3*1e3|0,0}(b,D)},B:function Ie(b,D){try{return b=oe.getStr(b),oe.doAccess(b,D)}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return-Z.errno}},h:function Me(b,D,Z){oe.varargs=Z;try{var Q=oe.getStreamFromFD(b);switch(D){case 0:return(dt=oe.get())<0?-28:N.open(Q.path,Q.flags,0,dt).fd;case 1:case 2:case 6:case 7:return 0;case 3:return Q.flags;case 4:var dt=oe.get();return Q.flags|=dt,0;case 5:return dt=oe.get(),ei[dt+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return Rt(28),-1}}catch(Vt){if(void 0===N||!(Vt instanceof N.ErrnoError))throw Vt;return-Vt.errno}},x:function sn(b,D){try{var Z=oe.getStreamFromFD(b);return oe.doStat(N.stat,Z.path,D)}catch(Q){if(void 0===N||!(Q instanceof N.ErrnoError))throw Q;return-Q.errno}},u:function ze(b,D,Z,Q){try{D=oe.getStr(D);var dt=256&Q,St=4096&Q;return Q&=-4353,D=oe.calculateAt(b,D,St),oe.doStat(dt?N.lstat:N.stat,D,Z)}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return-Lt.errno}},y:function Qe(b,D,Z){oe.varargs=Z;try{var Q=oe.getStreamFromFD(b);switch(D){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return Q.tty?0:-59;case 21519:if(!Q.tty)return-59;var dt=oe.get();return Oe[dt>>2]=0,0;case 21520:return Q.tty?-28:-59;case 21531:return dt=oe.get(),N.ioctl(Q,D,dt);default:en("bad ioctl syscall "+D)}}catch(St){if(void 0===N||!(St instanceof N.ErrnoError))throw St;return-St.errno}},k:function be(b,D,Z,Q,dt,St){try{return function fe(b,D,Z,Q,dt,St){St<<=12;var Lt,Vt=!1;if(0!=(16&Q)&&b%65536!=0)return-28;if(0!=(32&Q)){if(!(Lt=te(D)))return-48;Vt=!0}else{var ce=N.getStream(dt);if(!ce)return-8;var Ye=N.mmap(ce,b,D,St,Z,Q);Lt=Ye.ptr,Vt=Ye.allocated}return oe.mappings[Lt]={malloc:Lt,len:D,allocated:Vt,fd:dt,prot:Z,flags:Q,offset:St},Lt}(b,D,Z,Q,dt,St)}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return-Lt.errno}},j:function et(b,D){try{return function We(b,D){var Z=oe.mappings[b];if(0===D||!Z)return-28;if(D===Z.len){var Q=N.getStream(Z.fd);Q&&2&Z.prot&&oe.doMsync(b,Q,D,Z.flags,Z.offset),oe.mappings[b]=null,Z.allocated&&xt(Z.malloc)}return 0}(b,D)}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return-Z.errno}},e:function gt(b,D,Z){oe.varargs=Z;try{var Q=oe.getStr(b),dt=Z?oe.get():0;return N.open(Q,D,dt).fd}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return-Lt.errno}},v:function mt(b,D){try{return b=oe.getStr(b),oe.doStat(N.stat,b,D)}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return-Z.errno}},z:function Et(b){try{return b=oe.getStr(b),N.unlink(b),0}catch(D){if(void 0===N||!(D instanceof N.ErrnoError))throw D;return-D.errno}},r:function zt(){throw"longjmp"},q:function ee(){en("")},C:function ye(b,D,Z){var Q=function pe(b,D){var Z;for(Jt.length=0,D>>=2;Z=Xn[b++];){var Q=Z<105;Q&&1&D&&D++,Jt.push(Q?$n[D++>>1]:Oe[D]),++D}return Jt}(D,Z);return W[b].apply(null,Q)},o:function Xt(b,D,Z){Xn.copyWithin(b,D,D+Z)},p:function Pe(b){var D=Xn.length,Z=2147483648;if((b>>>=0)>Z)return!1;for(var Q=1;Q<=4;Q*=2){var dt=D*(1+.2/Q);if(dt=Math.min(dt,b+100663296),le(Math.min(Z,mi(Math.max(b,dt),65536))))return!0}return!1},s:function On(b,D){var Z=0;return Qn().forEach(function(Q,dt){var St=D+Z;Oe[b+4*dt>>2]=St,function Ve(b,D,Z){for(var Q=0;Q<b.length;++Q)yn[D++>>0]=b.charCodeAt(Q);Z||(yn[D>>0]=0)}(Q,St),Z+=Q.length+1}),0},t:function Ln(b,D){var Z=Qn();Oe[b>>2]=Z.length;var Q=0;return Z.forEach(function(dt){Q+=dt.length+1}),Oe[D>>2]=Q,0},a:function Xe(b){!function $i(b,D){!function Ei(b){(function Ue(){return Cn||!1})()||(M.onExit&&M.onExit(b),Zn=!0),Ut(b,new wn(b))}(b)}(b)},d:function Nn(b){try{var D=oe.getStreamFromFD(b);return N.close(D),0}catch(Z){if(void 0===N||!(Z instanceof N.ErrnoError))throw Z;return Z.errno}},i:function qn(b,D,Z,Q){try{var dt=oe.getStreamFromFD(b),St=oe.doReadv(dt,D,Z);return Oe[Q>>2]=St,0}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return Lt.errno}},n:function un(b,D,Z,Q,dt){try{var St=oe.getStreamFromFD(b),Vt=4294967296*Z+(D>>>0),ce=9007199254740992;return Vt<=-ce||Vt>=ce?-61:(N.llseek(St,Vt,Q),G=[St.position>>>0,(ln=St.position,+Math.abs(ln)>=1?ln>0?(0|Math.min(+Math.floor(ln/4294967296),4294967295))>>>0:~~+Math.ceil((ln-+(~~ln>>>0))/4294967296)>>>0:0)],Oe[dt>>2]=G[0],Oe[dt+4>>2]=G[1],St.getdents&&0===Vt&&0===Q&&(St.getdents=null),0)}catch(Ye){if(void 0===N||!(Ye instanceof N.ErrnoError))throw Ye;return Ye.errno}},g:function on(b,D,Z,Q){try{var dt=oe.getStreamFromFD(b),St=oe.doWritev(dt,D,Z);return Oe[Q>>2]=St,0}catch(Lt){if(void 0===N||!(Lt instanceof N.ErrnoError))throw Lt;return Lt.errno}},c:function Un(){return qe},w:function Vi(b){var D=Date.now();return Oe[b>>2]=D/1e3|0,Oe[b+4>>2]=D%1e3*1e3|0,0},l:function Ne(b,D,Z,Q,dt,St,Lt){var Vt=Ft();try{return E(b)(D,Z,Q,dt,St,Lt)}catch(ce){if(ae(Vt),ce!==ce+0&&"longjmp"!==ce)throw ce;Ee(1,0)}},m:function tn(b,D){var Z=Ft();try{E(b)(D)}catch(Q){if(ae(Z),Q!==Q+0&&"longjmp"!==Q)throw Q;Ee(1,0)}},b:function fi(b){!function(b){qe=b}(b)},f:function zi(b){var D=Date.now()/1e3|0;return b&&(Oe[b>>2]=D),D}};(function pn(){var b={a:Pt};function D(Lt,Vt){M.asm=Lt.exports,Jn((ke=M.asm.D).buffer),yt=M.asm.M,function ti(b){se.unshift(b)}(M.asm.E),_e()}function Z(Lt){D(Lt.instance)}function Q(Lt){return function jn(){return Be||"function"!=typeof fetch?Promise.resolve().then(function(){return we(Mn)}):fetch(Mn,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+Mn+"'";return b.arrayBuffer()}).catch(function(){return we(Mn)})}().then(function(Vt){return WebAssembly.instantiate(Vt,b)}).then(function(Vt){return Vt}).then(Lt,function(Vt){Fe("failed to asynchronously prepare wasm: "+Vt),en(Vt)})}if(In(),M.instantiateWasm)try{return M.instantiateWasm(b,D)}catch(Lt){return Fe("Module.instantiateWasm callback failed with error: "+Lt),!1}return function dt(){return Be||"function"!=typeof WebAssembly.instantiateStreaming||di(Mn)||"function"!=typeof fetch?Q(Z):fetch(Mn,{credentials:"same-origin"}).then(function(Lt){return WebAssembly.instantiateStreaming(Lt,b).then(Z,function(ce){return Fe("wasm streaming compile failed: "+ce),Fe("falling back to ArrayBuffer instantiation"),Q(Z)})})}().catch(Mt),{}})(),M.___wasm_call_ctors=function(){return(M.___wasm_call_ctors=M.asm.E).apply(null,arguments)};var Ce=M._emscripten_bind_VoidPtr___destroy___0=function(){return(Ce=M._emscripten_bind_VoidPtr___destroy___0=M.asm.F).apply(null,arguments)},jt=M._emscripten_bind_Graphviz_Graphviz_2=function(){return(jt=M._emscripten_bind_Graphviz_Graphviz_2=M.asm.G).apply(null,arguments)},T=M._emscripten_bind_Graphviz_version_0=function(){return(T=M._emscripten_bind_Graphviz_version_0=M.asm.H).apply(null,arguments)},I=M._emscripten_bind_Graphviz_lastError_0=function(){return(I=M._emscripten_bind_Graphviz_lastError_0=M.asm.I).apply(null,arguments)},B=M._emscripten_bind_Graphviz_layout_3=function(){return(B=M._emscripten_bind_Graphviz_layout_3=M.asm.J).apply(null,arguments)},j=M._emscripten_bind_Graphviz_createFile_2=function(){return(j=M._emscripten_bind_Graphviz_createFile_2=M.asm.K).apply(null,arguments)},ct=M._emscripten_bind_Graphviz___destroy___0=function(){return(ct=M._emscripten_bind_Graphviz___destroy___0=M.asm.L).apply(null,arguments)};M._malloc=function(){return(M._malloc=M.asm.N).apply(null,arguments)};var Je,xt=M._free=function(){return(xt=M._free=M.asm.O).apply(null,arguments)},kt=M.___errno_location=function(){return(kt=M.___errno_location=M.asm.P).apply(null,arguments)},Ft=M.stackSave=function(){return(Ft=M.stackSave=M.asm.Q).apply(null,arguments)},ae=M.stackRestore=function(){return(ae=M.stackRestore=M.asm.R).apply(null,arguments)},Ee=M._setThrew=function(){return(Ee=M._setThrew=M.asm.S).apply(null,arguments)},Ge=M._memalign=function(){return(Ge=M._memalign=M.asm.T).apply(null,arguments)};function wn(b){this.name="ExitStatus",this.message="Program terminated with exit("+b+")",this.status=b}function gi(b){function D(){Je||(Je=!0,M.calledRun=!0,!Zn&&(function an(){!M.noFSInit&&!N.init.initialized&&N.init(),N.ignorePermissions=!1,ht(se)}(),Ct(M),M.onRuntimeInitialized&&M.onRuntimeInitialized(),function Bn(){if(M.postRun)for("function"==typeof M.postRun&&(M.postRun=[M.postRun]);M.postRun.length;)b=M.postRun.shift(),de.unshift(b);var b;ht(de)}()))}gn>0||(function Re(){if(M.preRun)for("function"==typeof M.preRun&&(M.preRun=[M.preRun]);M.preRun.length;)b=M.preRun.shift(),Gt.unshift(b);var b;ht(Gt)}(),gn>0)||(M.setStatus?(M.setStatus("Running..."),setTimeout(function(){setTimeout(function(){M.setStatus("")},1),D()},1)):D())}if(ni=function b(){Je||gi(),Je||(ni=b)},M.run=gi,M.preInit)for("function"==typeof M.preInit&&(M.preInit=[M.preInit]);M.preInit.length>0;)M.preInit.pop()();function vn(){}function si(b){return(b||vn).__cache__}function Mi(b,D){var Z=si(D),Q=Z[b];return Q||((Q=Object.create((D||vn).prototype)).ptr=b,Z[b]=Q)}gi(),(vn.prototype=Object.create(vn.prototype)).constructor=vn,vn.prototype.__class__=vn,vn.__cache__={},M.WrapperObject=vn,M.getCache=si,M.wrapPointer=Mi,M.castObject=function ar(b,D){return Mi(b.ptr,D)},M.NULL=Mi(0),M.destroy=function ci(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete si(b.__class__)[b.ptr]},M.compare=function as(b,D){return b.ptr===D.ptr},M.getPointer=function ss(b){return b.ptr},M.getClass=function os(b){return b.__class__};var Fn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Fn.needed){for(var b=0;b<Fn.temps.length;b++)M._free(Fn.temps[b]);Fn.temps.length=0,M._free(Fn.buffer),Fn.buffer=0,Fn.size+=Fn.needed,Fn.needed=0}Fn.buffer||(Fn.size+=128,Fn.buffer=M._malloc(Fn.size),Wn(Fn.buffer)),Fn.pos=0},alloc:function(b,D){Wn(Fn.buffer);var dt,Q=b.length*D.BYTES_PER_ELEMENT;return Fn.pos+(Q=Q+7&-8)>=Fn.size?(Wn(Q>0),Fn.needed+=Q,dt=M._malloc(Q),Fn.temps.push(dt)):(dt=Fn.buffer+Fn.pos,Fn.pos+=Q),dt},copy:function(b,D,Z){switch(Z>>>=0,D.BYTES_PER_ELEMENT){case 2:Z>>>=1;break;case 4:Z>>>=2;break;case 8:Z>>>=3}for(var dt=0;dt<b.length;dt++)D[Z+dt]=b[dt]}};function br(b){if("string"==typeof b){var D=Yi(b),Z=Fn.alloc(D,yn);return Fn.copy(D,yn,Z),Z}return b}function Ki(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ri(b,D){b&&"object"==typeof b&&(b=b.ptr),D&&"object"==typeof D&&(D=D.ptr),this.ptr=jt(b,D),si(ri)[this.ptr]=this}return(Ki.prototype=Object.create(vn.prototype)).constructor=Ki,Ki.prototype.__class__=Ki,Ki.__cache__={},M.VoidPtr=Ki,Ki.prototype.__destroy__=Ki.prototype.__destroy__=function(){Ce(this.ptr)},(ri.prototype=Object.create(vn.prototype)).constructor=ri,ri.prototype.__class__=ri,ri.__cache__={},M.Graphviz=ri,ri.prototype.version=ri.prototype.version=function(){return An(T(this.ptr))},ri.prototype.lastError=ri.prototype.lastError=function(){return An(I(this.ptr))},ri.prototype.layout=ri.prototype.layout=function(b,D,Z){var Q=this.ptr;return Fn.prepare(),b=b&&"object"==typeof b?b.ptr:br(b),D=D&&"object"==typeof D?D.ptr:br(D),Z=Z&&"object"==typeof Z?Z.ptr:br(Z),An(B(Q,b,D,Z))},ri.prototype.createFile=ri.prototype.createFile=function(b,D){var Z=this.ptr;Fn.prepare(),b=b&&"object"==typeof b?b.ptr:br(b),D=D&&"object"==typeof D?D.ptr:br(D),j(Z,b,D)},ri.prototype.__destroy__=ri.prototype.__destroy__=function(){ct(this.ptr)},V.ready}}();Y.exports=rt}(O);var U=Object.freeze(c({__proto__:null,default:O.exports},[O.exports])),z=function(){return z=Object.assign||function(Y){for(var K,rt=1,at=arguments.length;rt<at;rt++)for(var V in K=arguments[rt])Object.prototype.hasOwnProperty.call(K,V)&&(Y[V]=K[V]);return Y},z.apply(this,arguments)},X=function(Y,K,rt){if(rt||2===arguments.length)for(var M,at=0,V=K.length;at<V;at++)(M||!(at in K))&&(M||(M=Array.prototype.slice.call(K,0,at)),M[at]=K[at]);return Y.concat(M||Array.prototype.slice.call(K))};function it(Y){return{path:Y.path,data:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="'.concat(Y.width,'" height="').concat(Y.height,'"></svg>')}}function ut(Y,K){var rt=z({images:[],files:[]},K);X(X([],rt.files,!0),function nt(Y){return Y.map(it)}(rt.images),!0).forEach(function(at){return Y.createFile(at.path,at.data)})}var tt={layout:function(Y,K,rt,at){return void 0===K&&(K="svg"),void 0===rt&&(rt="dot"),Y?u(U,null==at?void 0:at.wasmFolder,null==at?void 0:at.wasmBinary).then(function(V){var M=new V.Graphviz(void 0!==(null==at?void 0:at.yInvert)&&(null==at?void 0:at.yInvert),void 0!==(null==at?void 0:at.nop)?null==at?void 0:at.nop:0);ut(M,at);var Ct=M.layout(Y,K,rt);if(V.destroy(M),!Ct)throw new Error(V.Graphviz.prototype.lastError());return Ct}):Promise.resolve("")},circo:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"circo",rt)},dot:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"dot",rt)},fdp:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"fdp",rt)},sfdp:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"sfdp",rt)},neato:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"neato",rt)},osage:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"osage",rt)},patchwork:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"patchwork",rt)},twopi:function(Y,K,rt){return void 0===K&&(K="svg"),this.layout(Y,K,"twopi",rt)}},$=function(){function Y(K){this._wasm=K}return Y.prototype.layout=function(K,rt,at,V){if(void 0===rt&&(rt="svg"),void 0===at&&(at="dot"),!K)return"";var M=new this._wasm.Graphviz((null==V?void 0:V.yInvert)?1:0,(null==V?void 0:V.nop)?null==V?void 0:V.nop:0);ut(M,V);var Ct=M.layout(K,rt,at);if(this._wasm.destroy(M),!Ct)throw new Error(this._wasm.Graphviz.prototype.lastError());return Ct},Y.prototype.circo=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"circo",at)},Y.prototype.dot=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"dot",at)},Y.prototype.fdp=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"fdp",at)},Y.prototype.sfdp=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"sfdp",at)},Y.prototype.neato=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"neato",at)},Y.prototype.osage=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"osage",at)},Y.prototype.patchwork=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"patchwork",at)},Y.prototype.twopi=function(K,rt,at){return void 0===rt&&(rt="svg"),this.layout(K,rt,"twopi",at)},Y}();s.GraphvizSync=$,s.StackElement=g,s.StackParser=C,s.expatVersion=function L(Y,K){return u(_,Y,K).then(function(rt){return rt.CExpat.prototype.version()})},s.graphviz=tt,s.graphvizSync=function st(Y,K){return u(U,Y,K).then(function(rt){return new $(rt)})},s.graphvizVersion=function J(Y,K){return u(U,Y,K).then(function(rt){return rt.Graphviz.prototype.version()})},s.parse=P,s.wasmFolder=l,Object.defineProperty(s,"__esModule",{value:!0})}(k)},61124:(w,k,s)=>{"use strict";s.r(k),s.d(k,{AdminModule:()=>dC});var c={};s.r(c),s.d(c,{forceCenter:()=>yp,forceCollide:()=>gl,forceLink:()=>bl,forceManyBody:()=>Cl,forceRadial:()=>Wp,forceSimulation:()=>Tl,forceX:()=>$p,forceY:()=>Qp});var x={};s.r(x),s.d(x,{dispatch:()=>la.Z});var v={};s.r(v),s.d(v,{interval:()=>jp,now:()=>er.zO,timeout:()=>ca.Z,timer:()=>er.HT,timerFlush:()=>er.R8});var _=s(69808),f=s(11735),t=s(5e3),p=s(77968),l=s(4235),h=s(25245),m=s(61283),u=s(51062);const g=function(){return{color:"black"}};let C=(()=>{class n{constructor(e){this.sideMenuService=e}ngOnInit(){this.sideMenuService.setAdminItems([])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-page"]],decls:7,vars:5,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","admin-theme"],[1,"page-title","d-flex"],["svgIcon","perun-perun-admin",1,"perun-icon","icon-scale",3,"ngStyle"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.TgZ(2,"h1",1),t._UZ(3,"mat-icon",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngStyle",t.DdM(4,g)),t.xp6(1),t.hij(" ",t.lcZ(5,2,"ADMIN.TITLE")," "))},directives:[l.W,h.Hw,_.PC,m.A],pipes:[u.X$],styles:[""]}),n})();var A=s(71135);let L=(()=>{class n{constructor(){this.navItems=[{cssIcon:"perun-attributes",url:"/admin/attributes",label:"MENU_ITEMS.ADMIN.ATTRIBUTES",style:"admin-btn"},{cssIcon:"perun-user",url:"/admin/users",label:"MENU_ITEMS.ADMIN.USERS",style:"admin-btn"},{cssIcon:"perun-owner-grey",url:"/admin/owners",label:"MENU_ITEMS.ADMIN.OWNERS",style:"admin-btn"},{cssIcon:"perun-service",url:"/admin/services",label:"MENU_ITEMS.ADMIN.SERVICES",style:"admin-btn"},{cssIcon:"perun-preview",url:"/admin/visualizer",label:"MENU_ITEMS.ADMIN.VISUALIZER",style:"admin-btn"},{cssIcon:"perun-external-sources",url:"/admin/ext_sources",label:"MENU_ITEMS.ADMIN.EXT_SOURCES",style:"admin-btn"},{cssIcon:"perun-audit-log",url:"/admin/audit_log",label:"MENU_ITEMS.ADMIN.AUDIT_LOG",style:"admin-btn"},{cssIcon:"perun-consent-hubs",url:"/admin/consent_hubs",label:"MENU_ITEMS.ADMIN.CONSENT_HUBS",style:"admin-btn"},{cssIcon:"perun-searcher",url:"/admin/searcher",label:"MENU_ITEMS.ADMIN.SEARCHER",style:"admin-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-overview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-menu-buttons-field",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("items",i.navItems)("size","small"))},directives:[A.L],styles:[""]}),n})();var P=s(20449),O=s(48966),R=s(32075),U=s(32080),z=s(32105),X=s(20773),it=s(98380),nt=s(47423);function ut(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function J(n,r){1&n&&t._UZ(0,"th",16)}function tt(n,r){if(1&n&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function $(n,r){1&n&&t._UZ(0,"tr",18)}function st(n,r){1&n&&t._UZ(0,"tr",19)}function Y(n,r){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",9),t.ynx(8,10),t.YNc(9,J,1,0,"th",11),t.YNc(10,tt,2,1,"td",12),t.BQk(),t.YNc(11,$,1,0,"tr",13),t.YNc(12,st,1,0,"tr",14),t.qZA(),t.TgZ(13,"perun-web-apps-alert",15),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,6,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TEXT_LINE1")," "),t.xp6(3),t.hij(" ",t.lcZ(6,8,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TEXT_LINE2")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.hij(" ",t.lcZ(15,10,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.WARNING")," ")}}let K=(()=>{class n{constructor(e,i,a,o,d){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=o,this.attributesManager=d,this.displayedColumns=["name"],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.dataSource=new R.by(this.data.attributes)}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0;const e=[];for(const i of this.data.attributes)e.push(i.id);this.attributesManager.deleteAttributeDefinitions(e).subscribe(()=>{this.translate.get("DIALOGS.DELETE_ATTRIBUTE_DEFINITION.SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.dialogRef.close(!0)})},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-attribute-definition-dialog"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",1,"mt-3"],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","font-weight-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",1,"mt-3"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ut,1,0,"mat-spinner",1),t.YNc(5,Y,16,12,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.onSubmit()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(t.lcZ(3,9,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,11,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,13,"DIALOGS.DELETE_ATTRIBUTE_DEFINITION.CONFIRM")," "))},directives:[O.uh,_.O5,X.$g,O.xY,R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk,it.w,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();var rt=s(93075),at=s(80013),V=s(87545),M=s(591),Ct=s(33009),Mt=s(66688),Bt=s(43489),Ht=s(826),ie=s(69054),Ut=s(5430);function vt(...n){const r=n[n.length-1];return"function"==typeof r&&n.pop(),(0,Ct.n)(n,void 0).lift(new ft(r))}class ft{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new Nt(r,this.resultSelector))}}class Nt extends Bt.L{constructor(r,e,i=Object.create(null)){super(r),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=i}_next(r){const e=this.iterators;(0,Mt.k)(r)?e.push(new me(r)):e.push("function"==typeof r[Ut.hZ]?new Qt(r[Ut.hZ]()):new ge(this.destination,this,r))}_complete(){const r=this.iterators,e=r.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let a=r[i];a.stillUnsubscribed?this.destination.add(a.subscribe(a,i)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const r=this.iterators,e=r.length,i=this.destination;for(let d=0;d<e;d++){let y=r[d];if("function"==typeof y.hasValue&&!y.hasValue())return}let a=!1;const o=[];for(let d=0;d<e;d++){let y=r[d],S=y.next();if(y.hasCompleted()&&(a=!0),S.done)return void i.complete();o.push(S.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),a&&i.complete()}_tryresultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class Qt{constructor(r){this.iterator=r,this.nextResult=r.next()}hasValue(){return!0}next(){const r=this.nextResult;return this.nextResult=this.iterator.next(),r}hasCompleted(){const r=this.nextResult;return r&&r.done}}class me{constructor(r){this.array=r,this.index=0,this.length=0,this.length=r.length}[Ut.hZ](){return this}next(r){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ge extends Ht.L{constructor(r,e,i){super(r),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ut.hZ](){return this}next(){const r=this.buffer;return 0===r.length&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(r,e,i,a,o){this.buffer.push(e),this.parent.checkIterators()}subscribe(r,e){return(0,ie.D)(this,this.observable,this,e)}}var ve=s(21086),Fe=s(19516),qe=s(67322),De=s(98833),fn=s(74533),Be=s(74107),Cn=s(90508),ke=s(29772),Zn=s(32368),Wn=s(4765);function ai(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.ALo(1,"translate"),t.TgZ(2,"mat-slide-toggle",2),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().attDef.unique=a}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA()}if(2&n){const e=r.ngIf,i=t.oxw();t.s9C("matTooltip",t.lcZ(1,5,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_UNIQUE_TOGGLE.TOOLTIP")),t.Q6J("matTooltipDisabled",!e.disable),t.xp6(2),t.Q6J("ngModel",i.attDef.unique)("disabled",e.disable),t.xp6(1),t.hij(" ",t.lcZ(4,7,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_UNIQUE_TOGGLE.UNIQUE")," ")}}const Yn=function(n){return{disable:n}};let An=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["perun-web-apps-attribute-unique-toggle"]],inputs:{attDef:"attDef"},decls:2,vars:5,consts:[["class","unique-toggle-container","matTooltipPosition","above",3,"matTooltipDisabled","matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"unique-toggle-container",3,"matTooltipDisabled","matTooltip"],["color","accent","labelPosition","before",3,"ngModel","disabled","ngModelChange"]],template:function(e,i){1&e&&(t.YNc(0,ai,5,9,"div",0),t.ALo(1,"disableUniqueAttribute")),2&e&&t.Q6J("ngIf",t.VKq(3,Yn,t.lcZ(1,1,i.attDef)))},directives:[_.O5,ke.gM,Zn.Rr,rt.JJ,rt.On],pipes:[u.X$,Wn.b],styles:[".unique-toggle-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:1em 0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:1.125rem}"]}),n})();var Ke=s(53251),En=s(23123);function Pn(n,r){if(1&n&&(t.TgZ(0,"mat-option",7),t._uU(1),t.ALo(2,"displayedRole"),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(t.lcZ(2,2,e))}}function Ve(n,r){if(1&n&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}let mi=(()=>{class n{constructor(e){this.attrRightsService=e,this.policyRemoved=new t.vpe,this.roles=this.attrRightsService.getRoles()}ngOnInit(){this.selectedRole=new M.X(this.policy.role),this.objects=this.selectedRole.pipe((0,V.w)(e=>this.attrRightsService.getObjects(e)))}changeRole(e){this.selectedRole.next(e.value),this.policy.object="None"}remove(){this.policyRemoved.emit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.eE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["perun-web-apps-attribute-rights-item"]],inputs:{policy:"policy"},outputs:{policyRemoved:"policyRemoved"},decls:14,vars:14,consts:[[1,"flex-row"],[1,"grow-item"],[3,"ngModel","placeholder","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","placeholder","ngModelChange"],["color","warn","mat-icon-button","",1,"close-button",3,"click"],["inline","true"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-form-field",1),t.TgZ(2,"mat-select",2),t.NdJ("ngModelChange",function(o){return i.policy.role=o})("selectionChange",function(o){return i.changeRole(o)}),t.ALo(3,"translate"),t.YNc(4,Pn,3,4,"mat-option",3),t.ALo(5,"async"),t.qZA(),t.qZA(),t.TgZ(6,"mat-form-field"),t.TgZ(7,"mat-select",4),t.NdJ("ngModelChange",function(o){return i.policy.object=o}),t.ALo(8,"translate"),t.YNc(9,Ve,2,2,"mat-option",3),t.ALo(10,"async"),t.qZA(),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return i.remove()}),t.TgZ(12,"mat-icon",6),t._uU(13,"remove_circle"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.s9C("placeholder",t.lcZ(3,6,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_RIGHTS.ROLE")),t.Q6J("ngModel",i.policy.role),t.xp6(2),t.Q6J("ngForOf",t.lcZ(5,8,i.roles)),t.xp6(3),t.s9C("placeholder",t.lcZ(8,10,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_RIGHTS.ENTITY")),t.Q6J("ngModel",i.policy.object),t.xp6(2),t.Q6J("ngForOf",t.lcZ(10,12,i.objects)))},directives:[qe.KE,Be.gD,rt.JJ,rt.On,_.sg,Cn.ey,nt.lW,h.Hw],pipes:[u.X$,_.Ov,En.i],styles:[".flex-row[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;background:white;border-radius:1em;padding:1em 1em 0}.grow-item[_ngcontent-%COMP%]{flex-grow:2;margin:0 1em}.close-button[_ngcontent-%COMP%]{position:absolute;font-size:1.3em;top:-15px;right:-15px;z-index:100}"]}),n})();function Hn(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_RIGHTS.AND")," "))}function yn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"perun-web-apps-attribute-rights-item",7),t.NdJ("policyRemoved",function(){const o=t.CHM(e).index;return t.oxw(2).removePolicy(o)}),t.qZA(),t.YNc(2,Hn,3,3,"div",8),t.qZA()}if(2&n){const e=r.$implicit,i=r.index,a=t.oxw(2);t.xp6(1),t.Q6J("policy",e),t.xp6(1),t.Q6J("ngIf",i!==a.collection.policies.length-1)}}function Xn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,yn,3,2,"div",3),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeCollection()}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA(),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().addPolicy()}),t.TgZ(8,"mat-icon"),t._uU(9,"add_circle"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.collection.policies)}}let ei=(()=>{class n{constructor(){this.collectionRemoved=new t.vpe}addPolicy(){this.collection.policies.push({id:-1,role:null,object:null,policyCollectionId:this.collection.id})}removePolicy(e){this.collection.policies.splice(e,1),0===this.collection.policies.length&&this.removeCollection()}removeCollection(){this.collectionRemoved.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["perun-web-apps-attribute-rights-collection"]],inputs:{collection:"collection"},outputs:{collectionRemoved:"collectionRemoved"},decls:1,vars:1,consts:[["class","collection",4,"ngIf"],[1,"collection"],[1,"column","role-selection"],[4,"ngFor","ngForOf"],[1,"column","controls"],["mat-icon-button","",3,"click"],["color","accent","mat-icon-button","",3,"click"],[3,"policy","policyRemoved"],["class","divider",4,"ngIf"],[1,"divider"]],template:function(e,i){1&e&&t.YNc(0,Xn,10,1,"div",0),2&e&&t.Q6J("ngIf",i.collection)},directives:[_.O5,_.sg,mi,nt.lW,h.Hw],pipes:[u.X$],styles:[".collection[_ngcontent-%COMP%]{background-color:#0000001a;padding:1em;border-radius:1em;margin-top:1em;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1em}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.role-selection[_ngcontent-%COMP%]{flex-grow:2}.controls[_ngcontent-%COMP%]{align-items:flex-end;justify-content:center}.divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1em}"]}),n})();function Oe(n,r){1&n&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_RIGHTS.OR")," "))}function $n(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"perun-web-apps-attribute-rights-collection",5),t.NdJ("collectionRemoved",function(){const o=t.CHM(e).index;return t.oxw().removeCollection(o)}),t.qZA(),t.YNc(2,Oe,3,3,"div",6),t.qZA()}if(2&n){const e=r.$implicit,i=r.index,a=t.oxw();t.xp6(1),t.Q6J("collection",e.action===a.action?e:null),t.xp6(1),t.Q6J("ngIf",i!==a.lastIndex&&e.action===a.action)}}let Jn=(()=>{class n{ngOnChanges(){this.lastIndex=this.findLastIndex()}addCollection(){this.collections.push({id:-1,attributeId:this.attributeId,action:this.action,policies:[{id:-1,role:null,object:null,policyCollectionId:-1}]}),this.lastIndex=this.findLastIndex()}removeCollection(e){this.collections.splice(e,1),this.lastIndex=this.findLastIndex()}findLastIndex(){let e=0;for(let i=0;i<this.collections.length;i++)this.collections[i].action===this.action&&(e=i);return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["perun-web-apps-attribute-rights-tab"]],inputs:{attributeId:"attributeId",collections:"collections",action:"action"},features:[t.TTD],decls:8,vars:4,consts:[["alert_type","info"],[4,"ngFor","ngForOf"],[1,"button-container"],["color","accent","mat-icon-button","",1,"add-button",3,"click"],["inline","true"],[3,"collection","collectionRemoved"],["class","divider",4,"ngIf"],[1,"divider"]],template:function(e,i){1&e&&(t.TgZ(0,"perun-web-apps-alert",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,$n,3,2,"div",1),t.TgZ(4,"div",2),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.addCollection()}),t.TgZ(6,"mat-icon",4),t._uU(7,"add_circle"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_RIGHTS.INFO"),"\n"),t.xp6(2),t.Q6J("ngForOf",i.collections))},directives:[it.w,_.sg,ei,_.O5,nt.lW,h.Hw],pipes:[u.X$],styles:[".add-button[_ngcontent-%COMP%]{font-size:2em}.divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1em;font-weight:700}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:1em}"]}),n})();function yt(n,r){if(1&n&&(t._uU(0),t.ALo(1,"translate")),2&n){const e=t.oxw().$implicit;t.hij(" ",t.lcZ(1,1,"SHARED_LIB.PERUN.COMPONENTS.ATTRIBUTE_RIGHTS."+e)," ")}}function Gt(n,r){if(1&n&&(t.TgZ(0,"mat-tab"),t.YNc(1,yt,2,3,"ng-template",1),t._UZ(2,"perun-web-apps-attribute-rights-tab",2),t.qZA()),2&n){const e=r.$implicit,i=t.oxw();t.xp6(2),t.Q6J("attributeId",null==i.attDef?null:i.attDef.id)("collections",i.collections)("action",e)}}let se=(()=>{class n{constructor(){this.collections=[],this.actionTabs=["READ","WRITE"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["perun-web-apps-attribute-rights-tab-group"]],inputs:{attDef:"attDef",collections:"collections"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["matTabLabel",""],[3,"attributeId","collections","action"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-tab-group"),t.YNc(1,Gt,3,3,"mat-tab",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.actionTabs))},directives:[Ke.SP,_.sg,Ke.uX,Ke.uD,Jn],pipes:[u.X$],styles:[""]}),n})(),de=(()=>{class n{transform(e){if(null===e)return null;const i=e;return i.substring(i.lastIndexOf(".")+1,i.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"attributeTypeClean",type:n,pure:!0}),n})();function xe(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function Ue(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function Re(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function an(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function Bn(n,r){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Dn(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function ti(n,r){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij("",e," ")}}function Ii(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function gn(n,r){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.ALo(2,"attributeTypeClean"),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function ni(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function Ai(n,r){if(1&n&&(t.TgZ(0,"div",8),t.TgZ(1,"form",9),t.TgZ(2,"mat-form-field"),t._UZ(3,"input",10),t.ALo(4,"translate"),t.YNc(5,Ue,3,3,"mat-error",11),t.qZA(),t.TgZ(6,"mat-form-field"),t._UZ(7,"input",12),t.ALo(8,"translate"),t.YNc(9,Re,3,3,"mat-error",11),t.qZA(),t.TgZ(10,"mat-form-field"),t.TgZ(11,"textarea",13),t.ALo(12,"translate"),t._uU(13,"        "),t.qZA(),t.YNc(14,an,3,3,"mat-error",11),t.qZA(),t.TgZ(15,"mat-form-field"),t.TgZ(16,"mat-select",14),t.ALo(17,"translate"),t.YNc(18,Bn,2,2,"mat-option",15),t.qZA(),t.YNc(19,Dn,3,3,"mat-error",11),t.qZA(),t.TgZ(20,"mat-form-field"),t.TgZ(21,"mat-select",16),t.ALo(22,"translate"),t.YNc(23,ti,2,2,"mat-option",15),t.qZA(),t.YNc(24,Ii,3,3,"mat-error",11),t.qZA(),t.TgZ(25,"mat-form-field"),t.TgZ(26,"mat-select",17),t.ALo(27,"translate"),t.YNc(28,gn,3,4,"mat-option",15),t.qZA(),t.YNc(29,ni,3,3,"mat-error",11),t.qZA(),t.qZA(),t._UZ(30,"perun-web-apps-attribute-unique-toggle",18),t.ALo(31,"async"),t._UZ(32,"perun-web-apps-attribute-rights-tab-group",19),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.attributeControl),t.xp6(2),t.s9C("placeholder",t.lcZ(4,18,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FRIENDLY_NAME")),t.xp6(2),t.Q6J("ngIf",e.attributeControl.hasError("required","friendlyName")),t.xp6(2),t.s9C("placeholder",t.lcZ(8,20,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DISPLAY_NAME")),t.xp6(2),t.Q6J("ngIf",e.attributeControl.hasError("required","displayName")),t.xp6(2),t.s9C("placeholder",t.lcZ(12,22,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DESCRIPTION")),t.xp6(3),t.Q6J("ngIf",e.attributeControl.hasError("required","description")),t.xp6(2),t.s9C("placeholder",t.lcZ(17,24,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.ENTITY")),t.xp6(2),t.Q6J("ngForOf",e.entities),t.xp6(1),t.Q6J("ngIf",e.attributeControl.hasError("required","entity")),t.xp6(2),t.s9C("placeholder",t.lcZ(22,26,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.DEFINITION")),t.xp6(2),t.Q6J("ngForOf",e.definitionTypes),t.xp6(1),t.Q6J("ngIf",e.attributeControl.hasError("required","definitionType")),t.xp6(2),t.s9C("placeholder",t.lcZ(27,28,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VALUE_TYPE")),t.xp6(2),t.Q6J("ngForOf",e.valueTypes),t.xp6(1),t.Q6J("ngIf",e.attributeControl.hasError("required","valueType")),t.xp6(1),t.Q6J("attDef",t.lcZ(31,30,e.attDef)),t.xp6(2),t.Q6J("collections",e.collections)}}let In=(()=>{class n{constructor(e,i,a,o,d,y,S){this.dialogRef=e,this.formBuilder=i,this.attributeService=a,this.attributeRightsService=o,this.notificator=d,this.translate=y,this.uniqueAttPipe=S,this.loading=!1,this.attributeControl=this.formBuilder.group({friendlyName:["",rt.kI.required],displayName:["",rt.kI.required],description:["",rt.kI.required],entity:["",rt.kI.required],definitionType:["",rt.kI.required],valueType:["",rt.kI.required]}),this.entities=["facility","resource","group","group_resource","host","member","member_group","member_resource","user","ues","user_facility","vo","entityless"],this.definitionTypes=["def","opt","virt","core"],this.valueTypes=["java.lang.String","java.lang.Integer","java.lang.Boolean","java.util.Array","java.util.LinkedHashMap"],this.attDef=new M.X({id:0,beanName:"",namespace:"",unique:!1}),this.collections=[],this.attributeControl.valueChanges.pipe((0,at.b)(200)).subscribe(F=>{this.setAttribute(F)})}submit(){this.loading=!0,this.attributeService.createAttributeDefinition({attribute:this.attDef.getValue()}).pipe((0,V.w)(e=>vt((0,ve.of)(e.id),(0,ve.of)(this.collections))),this.attributeRightsService.addAttributeId(),this.attributeRightsService.filterNullInPolicy(),(0,V.w)(e=>this.attributeService.setAttributePolicyCollections({policyCollections:e}))).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SUCCESS")),this.dialogRef.close(!0)},()=>this.loading=!1)}cancel(){this.dialogRef.close(!1)}setAttribute(e){const i={id:0,beanName:"",friendlyName:e.friendlyName,displayName:e.displayName,description:e.description,type:e.valueType,namespace:this.createNamespace(e.entity,e.definitionType)};i.unique=this.attDef.getValue().unique&&!this.uniqueAttPipe.transform(i),this.attDef.next(i)}createNamespace(e,i){return"urn:perun:"+e+":attribute-def:"+i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(rt.qu),t.Y36(z.H8),t.Y36(U.eE),t.Y36(U.V6),t.Y36(u.sK),t.Y36(Fe.bY))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-attribute-definition-dialog"]],features:[t._Bn([Fe.bY])],decls:13,vars:12,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],[1,"dialog-container",3,"formGroup"],["matInput","","formControlName","friendlyName","required","",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","displayName","required","",3,"placeholder"],["matInput","","formControlName","description","cdkTextareaAutosize","","required","",3,"placeholder"],["formControlName","entity","required","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["formControlName","definitionType","required","",3,"placeholder"],["formControlName","valueType","required","",3,"placeholder"],[3,"attDef"],[3,"collections"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,xe,1,0,"mat-spinner",2),t.YNc(5,Ai,33,32,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.cancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.submit()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading||i.attributeControl.invalid),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.CREATE_ATTRIBUTE_DEFINITION.CONFIRM")," "))},directives:[O.uh,_.O5,X.$g,O.xY,rt._Y,rt.JL,rt.sg,qe.KE,De.Nt,rt.Fj,rt.JJ,rt.u,rt.Q7,qe.TO,fn.IC,Be.gD,_.sg,Cn.ey,An,se,O.H8,nt.lW],pipes:[u.X$,de,_.Ov],styles:[""]}),n})();var _e=s(9244),en=s(10036);function ii(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function di(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"perun-web-apps-alert",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",10),t.TgZ(5,"input",11),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().value=a}),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.IMPORT_ATTRIBUTE.INFO")," "),t.xp6(3),t.Q6J("ngModel",e.value)("placeholder",t.lcZ(6,5,"DIALOGS.IMPORT_ATTRIBUTE.HINT"))}}let Mn=(()=>{class n{constructor(e,i,a,o,d){this.dialogRef=e,this.notificator=i,this.translate=a,this.attributesManager=o,this.attributesRightsService=d,this.value="",this.loading=!1}create(){this.loading=!0,this.attributeData=JSON.parse(this.value),this.attributesManager.createAttributeDefinition({attribute:this.attributeData.attributeDefinition}).pipe((0,V.w)(e=>vt((0,ve.of)(e.id),(0,ve.of)(this.attributeData.attributeRights))),this.attributesRightsService.addAttributeId(),(0,V.w)(e=>this.attributesManager.setAttributePolicyCollections({policyCollections:e}))).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.IMPORT_ATTRIBUTE_DEFINITION.SUCCESS")),this.dialogRef.close(!0)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(U.V6),t.Y36(u.sK),t.Y36(z.H8),t.Y36(U.eE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attribute-import-dialog"]],decls:13,vars:12,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],["alert_type","info"],[1,"w-100"],["matInput","","required","",3,"ngModel","placeholder","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ii,1,0,"mat-spinner",2),t.YNc(5,di,7,7,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.dialogRef.close()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.create()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,6,"DIALOGS.IMPORT_ATTRIBUTE.TITLE")," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.IMPORT_ATTRIBUTE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",0===i.value.trim().length||i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.IMPORT_ATTRIBUTE.CREATE")," "))},directives:[O.uh,_.O5,X.$g,O.xY,it.w,qe.KE,De.Nt,rt.Fj,rt.Q7,rt.JJ,rt.On,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();var we=s(96214),jn=s(7434),pn=s(84847),ln=s(36769),G=s(1059),W=s(69287),ht=s(81125),E=s(60205),wt=s(387),Ot=s(18750),Rt=s(77446),Yt=s(43532);function re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",22),t.TgZ(1,"mat-checkbox",23),t.NdJ("change",function(a){t.CHM(e);const o=t.oxw(2);return a?o.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function qt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"mat-checkbox",25),t.NdJ("change",function(a){const d=t.CHM(e).$implicit,y=t.oxw(2);return a?y.selection.toggle(d):null})("click",function(a){return a.stopPropagation()}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))}}function q(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.KEY")," "))}function pt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",27),t.TgZ(1,"label"),t.TgZ(2,"input",28),t.NdJ("ngModelChange",function(){const o=t.CHM(e).$implicit;return t.oxw(2).onValueChange(o)})("ngModelChange",function(a){return t.CHM(e).$implicit[0]=a}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngModel",e[0])}}function Tt(n,r){1&n&&(t.TgZ(0,"th",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.VALUE")," "))}function At(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",27),t.TgZ(1,"perun-web-apps-attribute-value",29),t.NdJ("sendEventToParent2",function(){const o=t.CHM(e).$implicit;return t.oxw(2).onValueChange(o)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("attribute",e[1])}}function Wt(n,r){1&n&&t._UZ(0,"tr",30)}function te(n,r){1&n&&t._UZ(0,"tr",31)}function Dt(n,r){if(1&n&&(t.TgZ(0,"div",10),t.TgZ(1,"perun-web-apps-table-wrapper",11),t.TgZ(2,"table",12),t.ynx(3,13),t.YNc(4,re,2,3,"th",14),t.YNc(5,qt,2,2,"td",15),t.BQk(),t.ynx(6,16),t.YNc(7,q,3,3,"th",17),t.YNc(8,pt,3,1,"td",18),t.BQk(),t.ynx(9,19),t.YNc(10,Tt,3,3,"th",17),t.YNc(11,At,2,1,"td",18),t.BQk(),t.YNc(12,Wt,1,0,"tr",20),t.YNc(13,te,1,0,"tr",21),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("pageSizeOptions",e.pageSizeOptions)("dataLength",e.dataSource.filteredData.length)("hideExport",!0)("tableId",e.tableId),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function he(n,r){1&n&&t._UZ(0,"mat-spinner",32)}function N(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.NO_KEYS_WARNING")," "))}let oe=(()=>{class n{constructor(e,i,a,o,d){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=o,this.attributesManager=d,this.switchView=new t.vpe,this.records=[],this.displayedColumns=["select","key","value"],this.dataSource=new R.by,this.selection=new P.Ov(!0,[]),this.isAddButtonDisabled=!1,this.pageSizeOptions=_e.f7}set matSort(e){this.sort=e}ngOnChanges(){this.ngOnInit()}ngOnInit(){this.loading=!0,this.attDef=this.data.attDef,this.attributesManager.getEntitylessKeys(this.attDef.id).subscribe(e=>{this.attributesManager.getEntitylessAttributesByName(`${this.attDef.namespace}:${this.attDef.friendlyName}`).subscribe(i=>{let a=0;this.records=[];for(const o of e)this.records.push([o,i[a]]),a++;this.dataSource=new R.by(this.records),this.setDataSource(),this.loading=!1})})}setDataSource(){!this.child||!this.child.paginator||this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator)}onSave(){this.updateMapAttributes();for(const e of this.selection.selected)this.attributesManager.setEntitylessAttribute({key:e[0],attribute:e[1]}).subscribe(()=>{this.translate.get("SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.SAVE_SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.ngOnInit()})});this.selection.clear(),this.isAddButtonDisabled=!1}onRemove(){for(const e of this.selection.selected)this.attributesManager.removeEntitylessAttribute(e[0],e[1].id).subscribe(()=>{this.translate.get("SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.REMOVE_SUCCESS").subscribe(i=>{this.notificator.showSuccess(i),this.ngOnInit()})});this.ngOnInit(),this.selection.clear(),this.isAddButtonDisabled=!1}onAdd(){const e=["",this.attDef];e[1].value=void 0,this.records.unshift(e),this.dataSource.data=this.records,this.setDataSource(),this.selection.clear(),this.selection.select(e),this.isAddButtonDisabled=!0}onCancel(){this.dialogRef.close(!1)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e[1].id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onValueChange(e){this.selection.select(e)}updateMapAttributes(){for(const e of this.items.toArray())"java.util.LinkedHashMap"===e.attribute.type&&e.updateMapAttribute()}ngAfterViewInit(){this.children.changes.subscribe(e=>{this.child=e.first,this.dataSource.paginator=this.child.paginator})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-entityless-attribute-keys-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(pn.YE,7),t.Gf(wt.Mw,5),t.Gf(_e.l9,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.matSort=a.first),t.iGM(a=t.CRH())&&(i.items=a),t.iGM(a=t.CRH())&&(i.children=a)}},inputs:{attDef:"attDef",tableId:"tableId"},outputs:{switchView:"switchView"},features:[t.TTD],decls:19,vars:19,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"mt-3"],["mat-stroked-button","",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"click"],["color","accent","matTooltip","save or remove new attribute first","mat-flat-button","","matTooltipPosition","above",1,"ml-2",3,"disabled","matTooltipDisabled","click"],["color","warn","mat-flat-button","",1,"ml-2",3,"click"],["mat-dialog-content","",1,"mt-3",3,"hidden"],["class","card mt-3",4,"ngIf"],["class","ml-auto mr-auto",4,"ngIf"],["alert_type","warn","class","mt-3",4,"ngIf"],[1,"card","mt-3"],[3,"pageSizeOptions","dataLength","hideExport","tableId"],["mat-table","","matSort","","matSortActive","key","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["class","align-checkbox","mat-header-cell","",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","New key",1,"mt-2",3,"ngModel","ngModelChange"],[3,"attribute","sendEventToParent2"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],[1,"ml-auto","mr-auto"],["alert_type","warn",1,"mt-3"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.switchView.emit()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return i.onSave()}),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.onAdd()}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return i.onRemove()}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.TgZ(15,"div",6),t.YNc(16,Dt,14,7,"div",7),t.YNc(17,he,1,0,"mat-spinner",8),t.YNc(18,N,3,3,"perun-web-apps-alert",9),t.qZA()),2&e&&(t.xp6(1),t.Oqu(i.attDef.namespace+":"+i.attDef.friendlyName),t.xp6(3),t.hij(" ",t.lcZ(5,11,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.CANCEL")," "),t.xp6(3),t.hij(" ",t.lcZ(8,13,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.SAVE")," "),t.xp6(2),t.Q6J("disabled",i.isAddButtonDisabled)("matTooltipDisabled",!i.isAddButtonDisabled),t.xp6(1),t.hij(" ",t.lcZ(11,15,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.ADD")," "),t.xp6(3),t.hij(" ",t.lcZ(14,17,"SHARED.COMPONENTS.ENTITYLESS_ATTRIBUTES_LIST.REMOVE")," "),t.xp6(2),t.Q6J("hidden",i.loading),t.xp6(1),t.Q6J("ngIf",i.records&&i.records.length),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",0===i.records.length))},directives:[O.uh,O.H8,nt.lW,ke.gM,O.xY,_.O5,Ot.l,R.BZ,pn.YE,R.w1,R.fO,R.ge,Rt.oG,R.Dz,R.ev,pn.nU,De.Nt,rt.Fj,rt.JJ,rt.On,Yt.M,R.as,R.XQ,R.nj,R.Gk,X.$g,it.w],pipes:[u.X$],styles:[".mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}"]}),n})();function Ie(n,r){1&n&&t._UZ(0,"mat-spinner",10)}function Me(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}function sn(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY")," "))}const ze=function(){return["id","name","enabled","script"]};function Qe(n,r){if(1&n&&(t.TgZ(0,"div",11),t.TgZ(1,"form",12),t.TgZ(2,"mat-form-field"),t._UZ(3,"input",13),t.ALo(4,"translate"),t.YNc(5,Me,3,3,"mat-error",1),t.qZA(),t.TgZ(6,"mat-form-field"),t.TgZ(7,"textarea",14),t.ALo(8,"translate"),t._uU(9,"          "),t.qZA(),t.YNc(10,sn,3,3,"mat-error",1),t.qZA(),t.qZA(),t._UZ(11,"perun-web-apps-attribute-unique-toggle",15),t._UZ(12,"perun-web-apps-attribute-rights-tab-group",16),t.ALo(13,"async"),t.TgZ(14,"mat-accordion"),t.TgZ(15,"mat-expansion-panel",17),t.TgZ(16,"mat-expansion-panel-header"),t.TgZ(17,"mat-panel-title"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t._UZ(20,"app-services-list",18),t.ALo(21,"async"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("formGroup",e.attributeControl),t.xp6(2),t.s9C("placeholder",t.lcZ(4,12,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DISPLAY_NAME")),t.xp6(2),t.Q6J("ngIf",e.attributeControl.hasError("required","name")),t.xp6(2),t.s9C("placeholder",t.lcZ(8,14,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DESCRIPTION")),t.xp6(3),t.Q6J("ngIf",e.attributeControl.hasError("required","description")),t.xp6(1),t.Q6J("attDef",e.attDef),t.xp6(1),t.Q6J("attDef",e.attDef)("collections",t.lcZ(13,16,e.collections$)),t.xp6(6),t.hij(" ",t.lcZ(19,18,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SERVICES")," "),t.xp6(2),t.Q6J("disableRouting",!0)("displayedColumns",t.DdM(22,ze))("services",t.lcZ(21,20,e.services$))}}function fe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).switchShowKeys()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SHOW_KEYS")," "))}function be(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h1",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Ie,1,0,"mat-spinner",3),t.YNc(5,Qe,22,23,"div",4),t.TgZ(6,"div",5),t.YNc(7,fe,3,3,"button",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCopy()}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,8,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TITLE")),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(2),t.Q6J("ngIf","entityless"===(null==e.attDef?null:e.attDef.entity)),t.xp6(2),t.hij(" ",t.lcZ(10,10,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FOR_IMPORT")," "),t.xp6(3),t.hij(" ",t.lcZ(13,12,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CANCEL")," "),t.xp6(2),t.Q6J("disabled",e.loading||e.attributeControl.invalid),t.xp6(1),t.hij(" ",t.lcZ(16,14,"DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CONFIRM")," ")}}function We(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-entityless-attribute-keys-list",20),t.NdJ("switchView",function(){return t.CHM(e),t.oxw().switchShowKeys()}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("attDef",e.attDef)("tableId",e.tableId)}}let et=(()=>{class n{constructor(e,i,a,o,d,y,S,F,H){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=o,this.clipboard=d,this.attributesManager=y,this.serviceService=S,this.formBuilder=F,this.attributeRightsService=H,this.tableId=en.Wv,this.loading=!1,this.showKeys=!1,this.attDef=this.data.attDef,this.attributeControl=this.formBuilder.group({name:[this.attDef.displayName,rt.kI.required],description:[this.attDef.description,rt.kI.required]}),this.collections$=new M.X([]),this.services$=this.serviceService.getServicesByAttributeDefinition(this.attDef.id).pipe((0,G.O)([]))}ngOnInit(){this.dialogRef.addPanelClass("mat-dialog-height-transition"),this.attributesManager.getAttributePolicyCollections(this.attDef.id).subscribe(this.collections$)}onSubmit(){this.loading=!0,this.updateAttribute(),this.attributesManager.updateAttributeDefinition({attributeDefinition:this.attDef}).pipe((0,V.w)(()=>(0,ve.of)(this.collections$.getValue())),this.attributeRightsService.filterNullInPolicy(),(0,V.w)(e=>this.attributesManager.setAttributePolicyCollections({policyCollections:e}))).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SUCCESS")),this.dialogRef.close(!0)},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}switchShowKeys(){this.showKeys=!this.showKeys,this.dialogRef.updateSize(this.showKeys?"800px":"700px")}onCopy(){this.updateAttribute();const e={attributeDefinition:this.attDef,attributeRights:this.collections$.getValue()};this.clipboard.copy(JSON.stringify(e))?this.notificator.showSuccess(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPIED")):this.notificator.showError(this.translate.instant("DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FAILED"))}updateAttribute(){this.attDef.displayName=this.attributeControl.get("name").value,this.attDef.description=this.attributeControl.get("description").value}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(W.TU),t.Y36(z.H8),t.Y36(z.KK),t.Y36(rt.qu),t.Y36(U.eE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-attribute-definition-dialog"]],decls:3,vars:2,consts:[[1,"admin-theme"],[4,"ngIf"],["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","",1,"ml-2",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"fields-container",3,"formGroup"],["matInput","","formControlName","name","required","",3,"placeholder"],["matInput","","formControlName","description","cdkTextareaAutosize","","required","",3,"placeholder"],[3,"attDef"],[3,"attDef","collections"],[1,"mt-4","mb-4"],[3,"disableRouting","displayedColumns","services"],["mat-flat-button","",3,"click"],[3,"attDef","tableId","switchView"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,be,17,16,"div",1),t.YNc(2,We,2,2,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!i.showKeys),t.xp6(1),t.Q6J("ngIf",i.showKeys))},directives:[_.O5,O.uh,X.$g,O.xY,rt._Y,rt.JL,rt.sg,qe.KE,De.Nt,rt.Fj,rt.JJ,rt.u,rt.Q7,qe.TO,fn.IC,An,se,ht.pp,ht.ib,ht.yz,ht.yK,E.Q,O.H8,nt.lW,oe],pipes:[u.X$,_.Ov],styles:[".fields-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}"],data:{animation:[ln.SG,ln.GH,ln.Ls]}}),n})();var gt=s(70844);let mt=(()=>{class n{transform(e){if(null===e)return null;const i=e;return i.substring(i.lastIndexOf(":")+1,i.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"nameSpaceToDef",type:n,pure:!0}),n})();function Et(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",19),t.TgZ(1,"mat-checkbox",20),t.NdJ("change",function(a){t.CHM(e);const o=t.oxw();return a?o.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function zt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",21),t.TgZ(1,"mat-checkbox",22),t.NdJ("change",function(a){const d=t.CHM(e).$implicit,y=t.oxw();return a?y.selection.toggle(d):null})("click",function(a){return a.stopPropagation()}),t.ALo(2,"consentRelatedAttribute"),t.ALo(3,"translate"),t.ALo(4,"consentRelatedAttribute"),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))("disabled",t.Dn7(2,5,e.namespace,i.serviceEnabled,i.consentRequired))("matTooltip",t.lcZ(3,9,"ADMIN.ATTRIBUTES.CONSENT_RELATED_DISABLED"))("matTooltipDisabled",!t.Dn7(4,11,e.namespace,i.serviceEnabled,i.consentRequired))}}function ee(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_ID")," "))}function Jt(n,r){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.id)}}function pe(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_FRIENDLY_NAME")," "))}function ye(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function Xt(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_ENTITY")," "))}function le(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.entity)}}function Pe(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_DEF")," "))}function Le(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"nameSpaceToDef"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.namespace))}}function He(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_TYPE")," "))}function Qn(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"attributeTypeClean"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.type))}}function On(n,r){1&n&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.TABLE_ATTR_UNIQUE")," "))}function Ln(n,r){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.unique)}}function Xe(n,r){1&n&&t._UZ(0,"tr",26)}function Nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr",27),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().onRowClick(o)}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("cursor-pointer",!e.disableRouting)}}function qn(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.NO_ATTRIBUTES"),"\n"))}function un(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT"),"\n"))}let on=(()=>{class n{constructor(e,i,a,o){this.dialog=e,this.authResolver=i,this.tableCheckbox=a,this.consentRelatedPipe=o,this.selection=new P.Ov(!0,[]),this.displayedColumns=["select","id","friendlyName","entity","namespace","type","unique"],this.disableRouting=!1,this.consentRequired=!1,this.serviceEnabled=!1,this.refreshEvent=new t.vpe,this.pageSizeOptions=_e.f7,this.canBeSelected=d=>!this.consentRelatedPipe.transform(d.namespace,this.serviceEnabled,this.consentRequired)}set matSort(e){this.sort=e,this.setDataSource()}static getDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"friendlyName":return e.friendlyName;case"entity":return e.entity;case"namespace":if(e.namespace){const a=e.namespace;return a.substring(a.lastIndexOf(":")+1,a.length)}return"";case"type":if(e.type){const a=e.type;return a.substring(a.lastIndexOf(".")+1,a.length)}return"";case"unique":return e.unique?"true":"false";default:return""}}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(e=>"id"!==e)),this.dataSource=new R.by(this.definitions),this.setDataSource()}ngAfterViewInit(){this.dataSource.paginator=this.child.paginator}exportData(e){(0,_e.O6)((0,_e.Xn)(this.dataSource.filteredData,this.displayedColumns,n.getDataForColumn),e)}setDataSource(){this.dataSource&&(this.dataSource.filter=this.filterValue,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(e,i)=>(0,_e.Sd)(e,i,this.displayedColumns,n.getDataForColumn),this.dataSource.sortData=(e,i)=>(0,_e.pR)(e,i,n.getDataForColumn),this.dataSource.paginator=this.child.paginator)}isAllSelected(){return this.tableCheckbox.isAllSelectedWithDisabledCheckbox(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.child.paginator.pageIndex,this.dataSource,this.sort,this.canBeSelected)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!0,this.canBeSelected)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}onRowClick(e){if(!this.disableRouting){const i=(0,_e.kZ)();i.width="700px",i.data={attDef:e},this.dialog.open(et,i).afterClosed().subscribe(o=>{o&&(this.selection.clear(),this.refreshEvent.emit())})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.UA),t.Y36(gt.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attr-def-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(_e.l9,7),t.Gf(pn.YE,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.matSort=a.first)}},inputs:{definitions:"definitions",selection:"selection",displayedColumns:"displayedColumns",filterValue:"filterValue",tableId:"tableId",disableRouting:"disableRouting",consentRequired:"consentRequired",serviceEnabled:"serviceEnabled"},outputs:{refreshEvent:"refreshEvent"},features:[t.TTD],decls:29,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"pageSizeOptions","dataLength","tableId","exportData"],[1,"overflow-auto"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["class","align-checkbox","mat-header-cell","",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","friendlyName"],["mat-cell","",4,"matCellDef"],["matColumnDef","entity"],["matColumnDef","namespace"],["matColumnDef","type"],["matColumnDef","unique"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",3,"cursor-pointer","click",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["matTooltipPosition","left","color","primary",3,"aria-label","checked","disabled","matTooltip","matTooltipDisabled","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item",3,"click"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(o){return i.exportData(o)}),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.ynx(4,4),t.YNc(5,Et,2,3,"th",5),t.YNc(6,zt,5,15,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,ee,3,3,"th",8),t.YNc(9,Jt,2,1,"td",9),t.BQk(),t.ynx(10,10),t.YNc(11,pe,3,3,"th",8),t.YNc(12,ye,2,1,"td",11),t.BQk(),t.ynx(13,12),t.YNc(14,Xt,3,3,"th",8),t.YNc(15,le,2,1,"td",11),t.BQk(),t.ynx(16,13),t.YNc(17,Pe,3,3,"th",8),t.YNc(18,Le,3,3,"td",11),t.BQk(),t.ynx(19,14),t.YNc(20,He,3,3,"th",8),t.YNc(21,Qn,3,3,"td",11),t.BQk(),t.ynx(22,15),t.YNc(23,On,3,3,"th",8),t.YNc(24,Ln,2,1,"td",11),t.BQk(),t.YNc(25,Xe,1,0,"tr",16),t.YNc(26,Nn,1,2,"tr",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,qn,3,3,"perun-web-apps-alert",18),t.YNc(28,un,3,3,"perun-web-apps-alert",18)),2&e&&(t.Q6J("hidden",0===i.dataSource.filteredData.length||0===i.definitions.length),t.xp6(1),t.Q6J("pageSizeOptions",i.pageSizeOptions)("dataLength",i.dataSource.filteredData.length)("tableId",i.tableId),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.definitions.length),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.filteredData.length&&0!==i.definitions.length))},directives:[Ot.l,R.BZ,pn.YE,R.w1,R.fO,R.ge,Rt.oG,R.Dz,R.ev,ke.gM,pn.nU,R.as,R.XQ,R.nj,R.Gk,_.O5,it.w],pipes:[gt.u,u.X$,mt,de],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function Un(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCreate()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.CREATE")," "))}function Vi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onImport()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.ATTRIBUTES.IMPORT")," "))}function fi(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onDelete()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selected.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.ATTRIBUTES.DELETE")," ")}}function zi(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function Kn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-attr-def-list",10),t.NdJ("refreshEvent",function(){return t.CHM(e),t.oxw().refreshTable()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("definitions",e.attrDefinitions)("disableRouting",!e.authResolver.isPerunAdmin())("filterValue",e.filterValue)("selection",e.selected)("tableId",e.tableId)}}let Si=(()=>{class n{constructor(e,i,a){this.dialog=e,this.attributesManager=i,this.authResolver=a,this.attrDefinitions=[],this.selected=new P.Ov(!0,[]),this.filterValue="",this.tableId=en.uM}ngOnInit(){this.refreshTable()}onCreate(){const e=(0,_e.kZ)();e.width="650px",this.dialog.open(In,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onDelete(){const e=(0,_e.kZ)();e.width="450px",e.data={attributes:this.selected.selected,theme:"admin-theme"},this.dialog.open(K,e).afterClosed().subscribe(a=>{a&&(this.refreshTable(),this.selected.clear())})}refreshTable(){this.loading=!0,this.attributesManager.getAllAttributeDefinitions().subscribe(e=>{this.attrDefinitions=e,this.loading=!1})}applyFilter(e){this.filterValue=e}onImport(){const e=(0,_e.kZ)();e.width="700px",this.dialog.open(Mn,e).afterClosed().subscribe(a=>{!0===a&&this.refreshTable()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(z.H8),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-attributes"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:11,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["class","mr-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["color","warn","class","mr-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"definitions","disableRouting","filterValue","selection","tableId","refreshEvent",4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"definitions","disableRouting","filterValue","selection","tableId","refreshEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,Un,3,3,"button",2),t.YNc(6,Vi,3,3,"button",2),t.YNc(7,fi,3,4,"button",3),t.TgZ(8,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(9,zi,1,0,"mat-spinner",5),t.YNc(10,Kn,1,5,"app-attr-def-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"ADMIN.ATTRIBUTES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.ATTRIBUTES.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,_.O5,nt.lW,jn.L,X.$g,on],pipes:[u.X$],styles:[""]}),n})(),_n=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-visualizer"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"app-animated-router-outlet")},directives:[m.A],styles:[""]}),n})();var Yi=s(9921);let Pt=(()=>{class n{constructor(e){this.attributesManager=e}ngOnInit(){this.attributesManager.getAttributeModulesDependenciesGraphText("DOT").subscribe(e=>{const i=e.graph.replace("\\t","").replace("\\n","").replace("\\","");(0,Yi.graphviz)("#dependenciesGraph",{zoom:!1}).renderDot(i)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.H8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizer-attr-modules"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:4,vars:3,consts:[[1,"page-subtitle"],["id","dependenciesGraph",1,"card"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._UZ(3,"div",1)),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.VISUALIZER.ATTR_DEPENDENCIES.TITLE"),"\n"))},pipes:[u.X$],styles:["#dependenciesGraph[_ngcontent-%COMP%]{overflow-y:scroll}"]}),n})(),Ce=(()=>{class n{constructor(){this.items=[{cssIcon:"perun-module-dependencies",url:"attrDependencies",label:"MENU_ITEMS.VISUALIZER.ATTR_DEPENDENCIES",style:"admin-btn"},{cssIcon:"perun-user-destination-relationship",url:"userDestinationRelationship",label:"MENU_ITEMS.VISUALIZER.USER_DESTINATION",style:"admin-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visualizer-overview"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:2,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-menu-buttons-field",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("items",i.items)("size","small"))},directives:[A.L],styles:[""]}),n})();var jt=s(75778),T=s(22868),I=s(92081),B=s(91079),j=s(79814);function ct(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_USER"))}function xt(n,r){1&n&&t._UZ(0,"mat-spinner",17),2&n&&t.Q6J("diameter",20)("strokeWidth",2)}function kt(n,r){if(1&n&&(t.TgZ(0,"mat-option",18),t.TgZ(1,"span",19),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.firstName+" "+e.lastName),t.xp6(2),t.hij("#",e.id,""),t.xp6(1),t.AsE(" ",e.firstName," ",e.lastName," ")}}function Ft(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_DESTINATION"))}function ae(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.Oqu(t.lcZ(1,1,"ADMIN.VISUALIZER.USER_DESTINATION.SELECT_SERVICE"))}function Ee(n,r){if(1&n&&(t.TgZ(0,"mat-radio-button",20),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let Ge=(()=>{class n{constructor(e,i,a,o,d,y){this.usersService=e,this.translate=i,this.facilityManager=a,this.serviceService=o,this.router=d,this.notificator=y,this.searchField=new rt.NI,this.chosenService="",this.availableServices=[],this.loading=!1,this.destination=""}ngOnInit(){this.searchField.setValue(""),this.users=this.searchField.valueChanges.pipe((0,at.b)(400),(0,jt.x)(),(0,T.b)(()=>this.loading=!0),(0,V.w)(e=>this.usersService.findUsers(e)),(0,T.b)(()=>this.loading=!1)),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.SELECT_NO_SERVICE").subscribe(e=>{this.noServiceText=e,this.availableServices.push(this.noServiceText)})}validateName(e){""!==this.searchField.value?this.usersService.findUsers(this.searchField.value).subscribe(i=>{for(const a of i){if((a.firstName+" "+a.lastName).toLowerCase()===this.searchField.value.toLowerCase()){this.selectedUser=a,e.selected.completed=!0,e.next();break}this.selectedUser=null}this.selectedUser||this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_WRONG_NAME").subscribe(a=>{this.notificator.showError(a)})}):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NO_NAME").subscribe(i=>{this.notificator.showError(i)})}validateDestination(e){""!==this.destination?(this.availableServices=[],this.availableServices.push(this.noServiceText),this.chosenService="",this.facilityManager.getFacilitiesByDestination(this.destination).subscribe(i=>{if(0!==i.length){e.selected.completed=!0,e.next();for(const a of i)this.serviceService.getAllRichDestinationsForFacility(a.id).subscribe(o=>{for(const d of o)d.destination===this.destination&&(this.availableServices.includes(d.service.name)||this.availableServices.push(d.service.name))})}else this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_WRONG_DESTINATION").subscribe(a=>{this.notificator.showError(a)})})):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NO_DESTINATION").subscribe(i=>{this.notificator.showError(i)})}getGraph(){""!==this.chosenService?this.router.navigate(["admin/visualizer/userDestinationRelationship/graph"],this.chosenService===this.noServiceText?{queryParams:{user:this.selectedUser.id,destination:this.destination,service:"noService"}}:{queryParams:{user:this.selectedUser.id,destination:this.destination,service:this.chosenService}}):this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.ERROR_NOT_CHOSEN_SERVICE").subscribe(e=>{this.notificator.showError(e)})}notCompleted(e){e.selected.completed=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Fv),t.Y36(u.sK),t.Y36(z.IQ),t.Y36(z.KK),t.Y36(f.F0),t.Y36(U.V6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-destination-relationship"]],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("router-component",i.true)},decls:46,vars:36,consts:[[1,"p-3","card","settings-card","col-12","col-xl-5"],[1,"page-subtitle"],["linear",""],["stepper",""],["completed","false"],["matStepLabel",""],[1,"w-100"],["matInput","","type","text",3,"placeholder","formControl","matAutocomplete","keydown.enter","ngModelChange"],["matSuffix","",3,"diameter","strokeWidth",4,"ngIf"],["align","start"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mt-2",3,"click"],["matInput","","type","text",3,"placeholder","ngModel","keydown.enter","ngModelChange"],["mat-stroked-button","","matStepperPrevious","",1,"mt-2"],[1,"mb-2",3,"ngModel","ngModelChange"],["class","flex-column d-flex","color","primary",3,"value",4,"ngFor","ngForOf"],["matSuffix","",3,"diameter","strokeWidth"],[3,"value"],[1,"text-muted"],["color","primary",1,"flex-column","d-flex",3,"value"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-vertical-stepper",2,3),t.TgZ(6,"mat-step",4),t.YNc(7,ct,2,3,"ng-template",5),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"input",7),t.NdJ("keydown.enter",function(){t.CHM(a);const d=t.MAs(5);return i.validateName(d)})("ngModelChange",function(){t.CHM(a);const d=t.MAs(5);return i.notCompleted(d)}),t.ALo(10,"translate"),t.qZA(),t.YNc(11,xt,1,2,"mat-spinner",8),t.TgZ(12,"mat-hint",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"mat-autocomplete",null,10),t.YNc(17,kt,4,4,"mat-option",11),t.ALo(18,"async"),t.qZA(),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"button",12),t.NdJ("click",function(){t.CHM(a);const d=t.MAs(5);return i.validateName(d)}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"mat-step",4),t.YNc(24,Ft,2,3,"ng-template",5),t.TgZ(25,"mat-form-field",6),t.TgZ(26,"input",13),t.NdJ("keydown.enter",function(){t.CHM(a);const d=t.MAs(5);return i.validateDestination(d)})("ngModelChange",function(){t.CHM(a);const d=t.MAs(5);return i.notCompleted(d)})("ngModelChange",function(d){return i.destination=d}),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"div"),t.TgZ(29,"button",14),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",12),t.NdJ("click",function(){t.CHM(a);const d=t.MAs(5);return i.validateDestination(d)}),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"mat-step"),t.YNc(36,ae,2,3,"ng-template",5),t.TgZ(37,"mat-radio-group",15),t.NdJ("ngModelChange",function(d){return i.chosenService=d}),t.YNc(38,Ee,2,2,"mat-radio-button",16),t.qZA(),t.TgZ(39,"div"),t.TgZ(40,"button",14),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"button",12),t.NdJ("click",function(){return i.getGraph()}),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const a=t.MAs(16);t.xp6(2),t.hij(" ",t.lcZ(3,16,"ADMIN.VISUALIZER.USER_DESTINATION.TITLE")," "),t.xp6(7),t.s9C("placeholder",t.lcZ(10,18,"ADMIN.VISUALIZER.USER_DESTINATION.USER_EXAMPLE")),t.Q6J("formControl",i.searchField)("matAutocomplete",a),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(2),t.Oqu(t.lcZ(14,20,"ADMIN.VISUALIZER.USER_DESTINATION.USER_HINT")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(18,22,i.users)),t.xp6(4),t.hij(" ",t.lcZ(22,24,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_NEXT")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(27,26,"ADMIN.VISUALIZER.USER_DESTINATION.DESTINATION_EXAMPLE")),t.Q6J("ngModel",i.destination),t.xp6(4),t.hij(" ",t.lcZ(31,28,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_BACK")," "),t.xp6(3),t.hij(" ",t.lcZ(34,30,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_NEXT")," "),t.xp6(4),t.Q6J("ngModel",i.chosenService),t.xp6(1),t.Q6J("ngForOf",i.availableServices),t.xp6(3),t.hij(" ",t.lcZ(42,32,"ADMIN.VISUALIZER.USER_DESTINATION.BUTTON_BACK")," "),t.xp6(3),t.hij(" ",t.lcZ(45,34,"ADMIN.VISUALIZER.USER_DESTINATION.SUBMIT_BUTTON")," ")}},directives:[I.Vq,I.C0,I.VY,qe.KE,De.Nt,rt.Fj,B.ZL,rt.JJ,rt.oH,_.O5,X.$g,qe.R9,qe.bx,B.XC,_.sg,Cn.ey,nt.lW,rt.On,I.fd,j.VQ,j.U0],pipes:[u.X$,_.Ov],styles:[""]}),n})();function tn(n,r,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+r)/6,(n._y0+4*n._y1+e)/6)}function Ne(n){this._context=n}function wn(n,r){this._basis=new Ne(n),this._beta=r}Ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tn(this,n,r)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r}},wn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,r=this._y,e=n.length-1;if(e>0)for(var S,i=n[0],a=r[0],o=n[e]-i,d=r[e]-a,y=-1;++y<=e;)this._basis.point(this._beta*n[y]+(1-this._beta)*(i+(S=y/e)*o),this._beta*r[y]+(1-this._beta)*(a+S*d));this._x=this._y=null,this._basis.lineEnd()},point:function(n,r){this._x.push(+n),this._y.push(+r)}};const gi=function n(r){function e(i){return 1===r?new Ne(i):new wn(i,r)}return e.beta=function(i){return n(+i)},e}(.85);var $i=s(8929),Ei=s(70655),vn=s(41777);function si(){}function Mi(n){return null==n?si:function(){return this.querySelector(n)}}function ci(){return[]}function br(n){return new Array(n.length)}function ri(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function Z(n,r,e,i,a,o){for(var y,d=0,S=r.length,F=o.length;d<F;++d)(y=r[d])?(y.__data__=o[d],i[d]=y):e[d]=new ri(n,o[d]);for(;d<S;++d)(y=r[d])&&(a[d]=y)}function Q(n,r,e,i,a,o,d){var y,S,_t,F={},H=r.length,lt=o.length,ot=new Array(H);for(y=0;y<H;++y)(S=r[y])&&(ot[y]=_t="$"+d.call(S,S.__data__,y,r),_t in F?a[y]=S:F[_t]=S);for(y=0;y<lt;++y)(S=F[_t="$"+d.call(n,o[y],y,o)])?(i[y]=S,S.__data__=o[y],F[_t]=null):e[y]=new ri(n,o[y]);for(y=0;y<H;++y)(S=r[y])&&F[ot[y]]===S&&(a[y]=S)}function hn(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}ri.prototype={constructor:ri,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Oi="http://www.w3.org/1999/xhtml";const Cr={svg:"http://www.w3.org/2000/svg",xhtml:Oi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Di(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),Cr.hasOwnProperty(r)?{space:Cr[r],local:n}:n}function Qi(n){return function(){this.removeAttribute(n)}}function wr(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _i(n,r){return function(){this.setAttribute(n,r)}}function Lu(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function ku(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function Iu(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function xo(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Ou(n){return function(){this.style.removeProperty(n)}}function Nu(n,r,e){return function(){this.style.setProperty(n,r,e)}}function Pu(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Ru(n,r){return n.style.getPropertyValue(r)||xo(n).getComputedStyle(n,null).getPropertyValue(r)}function Zu(n){return function(){delete this[n]}}function Bu(n,r){return function(){this[n]=r}}function Uu(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function yo(n){return n.trim().split(/^|\s+/)}function ls(n){return n.classList||new bo(n)}function bo(n){this._node=n,this._names=yo(n.getAttribute("class")||"")}function To(n,r){for(var e=ls(n),i=-1,a=r.length;++i<a;)e.add(r[i])}function Co(n,r){for(var e=ls(n),i=-1,a=r.length;++i<a;)e.remove(r[i])}function Vu(n){return function(){To(this,n)}}function zu(n){return function(){Co(this,n)}}function Yu(n,r){return function(){(r.apply(this,arguments)?To:Co)(this,n)}}function Xu(){this.textContent=""}function Wu(n){return function(){this.textContent=n}}function $u(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function Ju(){this.innerHTML=""}function ju(n){return function(){this.innerHTML=n}}function qu(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function th(){this.nextSibling&&this.parentNode.appendChild(this)}function nh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rh(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===Oi&&r.documentElement.namespaceURI===Oi?r.createElement(n):r.createElementNS(e,n)}}function ah(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function wo(n){var r=Di(n);return(r.local?ah:rh)(r)}function oh(){return null}function ch(){var n=this.parentNode;n&&n.removeChild(this)}function hh(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function dh(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}bo.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Ao={},kr=null;function gh(n,r,e){return n=So(n,r,e),function(i){var a=i.relatedTarget;(!a||a!==this&&!(8&a.compareDocumentPosition(this)))&&n.call(this,i)}}function So(n,r,e){return function(i){var a=kr;kr=i;try{n.call(this,this.__data__,r,e)}finally{kr=a}}}function _h(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function vh(n){return function(){var r=this.__on;if(r){for(var o,e=0,i=-1,a=r.length;e<a;++e)o=r[e],n.type&&o.type!==n.type||o.name!==n.name?r[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?r.length=i:delete this.__on}}}function xh(n,r,e){var i=Ao.hasOwnProperty(n.type)?gh:So;return function(a,o,d){var S,y=this.__on,F=i(r,o,d);if(y)for(var H=0,lt=y.length;H<lt;++H)if((S=y[H]).type===n.type&&S.name===n.name)return this.removeEventListener(S.type,S.listener,S.capture),this.addEventListener(S.type,S.listener=F,S.capture=e),void(S.value=r);this.addEventListener(n.type,F,e),S={type:n.type,name:n.name,value:r,listener:F,capture:e},y?y.push(S):this.__on=[S]}}function Eo(n,r,e){var i=xo(n),a=i.CustomEvent;"function"==typeof a?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),n.dispatchEvent(a)}function bh(n,r){return function(){return Eo(this,n,r)}}function Th(n,r){return function(){return Eo(this,n,r.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ao={mouseenter:"mouseover",mouseleave:"mouseout"}));var Do=[null];function Hi(n,r){this._groups=n,this._parents=r}function Lo(n){return"string"==typeof n?new Hi([[document.querySelector(n)]],[document.documentElement]):new Hi([[n]],Do)}function ko(n,r,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+r)/6,(n._y0+4*n._y1+e)/6)}function Ea(n){this._context=n}function Io(n,r){this._basis=new Ea(n),this._beta=r}Hi.prototype=function wh(){return new Hi([[document.documentElement]],Do)}.prototype={constructor:Hi,select:function ar(n){"function"!=typeof n&&(n=Mi(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,F,o=r[a],d=o.length,y=i[a]=new Array(d),H=0;H<d;++H)(S=o[H])&&(F=n.call(S,S.__data__,H,o))&&("__data__"in S&&(F.__data__=S.__data__),y[H]=F);return new Hi(i,this._parents)},selectAll:function ss(n){"function"!=typeof n&&(n=function as(n){return null==n?ci:function(){return this.querySelectorAll(n)}}(n));for(var r=this._groups,e=r.length,i=[],a=[],o=0;o<e;++o)for(var S,d=r[o],y=d.length,F=0;F<y;++F)(S=d[F])&&(i.push(n.call(S,S.__data__,F,d)),a.push(S));return new Hi(i,a)},filter:function Fn(n){"function"!=typeof n&&(n=function os(n){return function(){return this.matches(n)}}(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,o=r[a],d=o.length,y=i[a]=[],F=0;F<d;++F)(S=o[F])&&n.call(S,S.__data__,F,o)&&y.push(S);return new Hi(i,this._parents)},data:function dt(n,r){if(!n)return _t=new Array(this.size()),F=-1,this.each(function(Te){_t[++F]=Te}),_t;var e=r?Q:Z,i=this._parents,a=this._groups;"function"!=typeof n&&(n=function b(n){return function(){return n}}(n));for(var o=a.length,d=new Array(o),y=new Array(o),S=new Array(o),F=0;F<o;++F){var H=i[F],lt=a[F],ot=lt.length,_t=n.call(H,H&&H.__data__,F,i),It=_t.length,Zt=y[F]=new Array(It),bt=d[F]=new Array(It);e(H,lt,Zt,bt,S[F]=new Array(ot),_t,r);for(var Se,Ze,ne=0,Kt=0;ne<It;++ne)if(Se=Zt[ne]){for(ne>=Kt&&(Kt=ne+1);!(Ze=bt[Kt])&&++Kt<It;);Se._next=Ze||null}}return(d=new Hi(d,i))._enter=y,d._exit=S,d},enter:function Ki(){return new Hi(this._enter||this._groups.map(br),this._parents)},exit:function St(){return new Hi(this._exit||this._groups.map(br),this._parents)},join:function Lt(n,r,e){var i=this.enter(),a=this,o=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=r&&(a=r(a)),null==e?o.remove():e(o),i&&a?i.merge(a).order():a},merge:function Vt(n){for(var r=this._groups,e=n._groups,i=r.length,o=Math.min(i,e.length),d=new Array(i),y=0;y<o;++y)for(var ot,S=r[y],F=e[y],H=S.length,lt=d[y]=new Array(H),_t=0;_t<H;++_t)(ot=S[_t]||F[_t])&&(lt[_t]=ot);for(;y<i;++y)d[y]=r[y];return new Hi(d,this._parents)},order:function ce(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var d,i=n[r],a=i.length-1,o=i[a];--a>=0;)(d=i[a])&&(o&&4^d.compareDocumentPosition(o)&&o.parentNode.insertBefore(d,o),o=d);return this},sort:function Ye(n){function r(lt,ot){return lt&&ot?n(lt.__data__,ot.__data__):!lt-!ot}n||(n=hn);for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o){for(var F,d=e[o],y=d.length,S=a[o]=new Array(y),H=0;H<y;++H)(F=d[H])&&(S[H]=F);S.sort(r)}return new Hi(a,this._parents).order()},call:function bn(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function $e(){var n=new Array(this.size()),r=-1;return this.each(function(){n[++r]=this}),n},node:function nn(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],a=0,o=i.length;a<o;++a){var d=i[a];if(d)return d}return null},size:function kn(){var n=0;return this.each(function(){++n}),n},empty:function Ri(){return!this.node()},each:function Tr(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var y,a=r[e],o=0,d=a.length;o<d;++o)(y=a[o])&&n.call(y,y.__data__,o,a);return this},attr:function Mu(n,r){var e=Di(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?wr:Qi:"function"==typeof r?e.local?Iu:ku:e.local?Lu:_i)(e,r))},style:function Fu(n,r,e){return arguments.length>1?this.each((null==r?Ou:"function"==typeof r?Pu:Nu)(n,r,null==e?"":e)):Ru(this.node(),n)},property:function Gu(n,r){return arguments.length>1?this.each((null==r?Zu:"function"==typeof r?Uu:Bu)(n,r)):this.node()[n]},classed:function Hu(n,r){var e=yo(n+"");if(arguments.length<2){for(var i=ls(this.node()),a=-1,o=e.length;++a<o;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof r?Yu:r?Vu:zu)(e,r))},text:function Qu(n){return arguments.length?this.each(null==n?Xu:("function"==typeof n?$u:Wu)(n)):this.node().textContent},html:function Ku(n){return arguments.length?this.each(null==n?Ju:("function"==typeof n?qu:ju)(n)):this.node().innerHTML},raise:function eh(){return this.each(th)},lower:function ih(){return this.each(nh)},append:function sh(n){var r="function"==typeof n?n:wo(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function lh(n,r){var e="function"==typeof n?n:wo(n),i=null==r?oh:"function"==typeof r?r:Mi(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function uh(){return this.each(ch)},clone:function fh(n){return this.select(n?dh:hh)},datum:function ph(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function yh(n,r,e){var a,d,i=_h(n+""),o=i.length;if(!(arguments.length<2)){for(y=r?xh:vh,null==e&&(e=!1),a=0;a<o;++a)this.each(y(i[a],r,e));return this}var y=this.node().__on;if(y)for(var H,S=0,F=y.length;S<F;++S)for(a=0,H=y[S];a<o;++a)if((d=i[a]).type===H.type&&d.name===H.name)return H.value},dispatch:function Ch(n,r){return this.each(("function"==typeof r?Th:bh)(n,r))}},Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ko(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ko(this,n,r)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r}},Io.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,r=this._y,e=n.length-1;if(e>0)for(var S,i=n[0],a=r[0],o=n[e]-i,d=r[e]-a,y=-1;++y<=e;)this._basis.point(this._beta*n[y]+(1-this._beta)*(i+(S=y/e)*o),this._beta*r[y]+(1-this._beta)*(a+S*d));this._x=this._y=null,this._basis.lineEnd()},point:function(n,r){this._x.push(+n),this._y.push(+r)}};const Ah=function n(r){function e(i){return 1===r?new Ea(i):new Io(i,r)}return e.beta=function(i){return n(+i)},e}(.85);var cs=Math.PI,us=2*cs,Ir=1e-6,Sh=us-Ir;function hs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mo(){return new hs}hs.prototype=Mo.prototype={constructor:hs,moveTo:function(n,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,r){this._+="L"+(this._x1=+n)+","+(this._y1=+r)},quadraticCurveTo:function(n,r,e,i){this._+="Q"+ +n+","+ +r+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(n,r,e,i,a,o){this._+="C"+ +n+","+ +r+","+ +e+","+ +i+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(n,r,e,i,a){var o=this._x1,d=this._y1,y=(e=+e)-(n=+n),S=(i=+i)-(r=+r),F=o-n,H=d-r,lt=F*F+H*H;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(lt>Ir)if(Math.abs(H*y-S*F)>Ir&&a){var ot=e-o,_t=i-d,It=y*y+S*S,Zt=ot*ot+_t*_t,bt=Math.sqrt(It),$t=Math.sqrt(lt),ne=a*Math.tan((cs-Math.acos((It+lt-Zt)/(2*bt*$t)))/2),Kt=ne/$t,Se=ne/bt;Math.abs(Kt-1)>Ir&&(this._+="L"+(n+Kt*F)+","+(r+Kt*H)),this._+="A"+a+","+a+",0,0,"+ +(H*ot>F*_t)+","+(this._x1=n+Se*y)+","+(this._y1=r+Se*S)}else this._+="L"+(this._x1=n)+","+(this._y1=r)},arc:function(n,r,e,i,a,o){n=+n,r=+r,o=!!o;var d=(e=+e)*Math.cos(i),y=e*Math.sin(i),S=n+d,F=r+y,H=1^o,lt=o?i-a:a-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+S+","+F:(Math.abs(this._x1-S)>Ir||Math.abs(this._y1-F)>Ir)&&(this._+="L"+S+","+F),e&&(lt<0&&(lt=lt%us+us),lt>Sh?this._+="A"+e+","+e+",0,1,"+H+","+(n-d)+","+(r-y)+"A"+e+","+e+",0,1,"+H+","+(this._x1=S)+","+(this._y1=F):lt>Ir&&(this._+="A"+e+","+e+",0,"+ +(lt>=cs)+","+H+","+(this._x1=n+e*Math.cos(a))+","+(this._y1=r+e*Math.sin(a))))},rect:function(n,r,e,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+r)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};const Eh=Mo;function Da(n){return function(){return n}}function Oo(n){this._context=n}function Dh(n){return new Oo(n)}function Lh(n){return n[0]}function kh(n){return n[1]}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,r){switch(n=+n,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 1:this._point=2;default:this._context.lineTo(n,r)}}};var No=Math.PI;function Fo(n){return(1-Math.cos(No*n))/2}function Mh(){}function ds(n){return null==n?Mh:function(){return this.querySelector(n)}}function Nh(){return[]}function Ro(n){return null==n?Nh:function(){return this.querySelectorAll(n)}}function Zo(n){return function(){return this.matches(n)}}function Bo(n){return new Array(n.length)}function La(n,r){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=r}function Bh(n,r,e,i,a,o){for(var y,d=0,S=r.length,F=o.length;d<F;++d)(y=r[d])?(y.__data__=o[d],i[d]=y):e[d]=new La(n,o[d]);for(;d<S;++d)(y=r[d])&&(a[d]=y)}function Uh(n,r,e,i,a,o,d){var y,S,_t,F={},H=r.length,lt=o.length,ot=new Array(H);for(y=0;y<H;++y)(S=r[y])&&(ot[y]=_t="$"+d.call(S,S.__data__,y,r),_t in F?a[y]=S:F[_t]=S);for(y=0;y<lt;++y)(S=F[_t="$"+d.call(n,o[y],y,o)])?(i[y]=S,S.__data__=o[y],F[_t]=null):e[y]=new La(n,o[y]);for(y=0;y<H;++y)(S=r[y])&&F[ot[y]]===S&&(a[y]=S)}function Wh(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}La.prototype={constructor:La,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,r){return this._parent.insertBefore(n,r)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var fs="http://www.w3.org/1999/xhtml";const Go={svg:"http://www.w3.org/2000/svg",xhtml:fs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ka(n){var r=n+="",e=r.indexOf(":");return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),Go.hasOwnProperty(r)?{space:Go[r],local:n}:n}function td(n){return function(){this.removeAttribute(n)}}function ed(n){return function(){this.removeAttributeNS(n.space,n.local)}}function nd(n,r){return function(){this.setAttribute(n,r)}}function id(n,r){return function(){this.setAttributeNS(n.space,n.local,r)}}function rd(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function ad(n,r){return function(){var e=r.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Vo(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function od(n){return function(){this.style.removeProperty(n)}}function ld(n,r,e){return function(){this.style.setProperty(n,r,e)}}function cd(n,r,e){return function(){var i=r.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Vr(n,r){return n.style.getPropertyValue(r)||Vo(n).getComputedStyle(n,null).getPropertyValue(r)}function hd(n){return function(){delete this[n]}}function dd(n,r){return function(){this[n]=r}}function fd(n,r){return function(){var e=r.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function zo(n){return n.trim().split(/^|\s+/)}function ps(n){return n.classList||new Yo(n)}function Yo(n){this._node=n,this._names=zo(n.getAttribute("class")||"")}function Ho(n,r){for(var e=ps(n),i=-1,a=r.length;++i<a;)e.add(r[i])}function Xo(n,r){for(var e=ps(n),i=-1,a=r.length;++i<a;)e.remove(r[i])}function md(n){return function(){Ho(this,n)}}function gd(n){return function(){Xo(this,n)}}function _d(n,r){return function(){(r.apply(this,arguments)?Ho:Xo)(this,n)}}function xd(){this.textContent=""}function yd(n){return function(){this.textContent=n}}function bd(n){return function(){var r=n.apply(this,arguments);this.textContent=null==r?"":r}}function Cd(){this.innerHTML=""}function wd(n){return function(){this.innerHTML=n}}function Ad(n){return function(){var r=n.apply(this,arguments);this.innerHTML=null==r?"":r}}function Ed(){this.nextSibling&&this.parentNode.appendChild(this)}function Ld(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Id(n){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===fs&&r.documentElement.namespaceURI===fs?r.createElement(n):r.createElementNS(e,n)}}function Md(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Wo(n){var r=ka(n);return(r.local?Md:Id)(r)}function Nd(){return null}function Fd(){var n=this.parentNode;n&&n.removeChild(this)}function Zd(){var n=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}function Bd(){var n=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(n,this.nextSibling):n}Yo.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var r=this._names.indexOf(n);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var $o={},Mr=null;function zd(n,r,e){return n=Qo(n,r,e),function(i){var a=i.relatedTarget;(!a||a!==this&&!(8&a.compareDocumentPosition(this)))&&n.call(this,i)}}function Qo(n,r,e){return function(i){var a=Mr;Mr=i;try{n.call(this,this.__data__,r,e)}finally{Mr=a}}}function Yd(n){return n.trim().split(/^|\s+/).map(function(r){var e="",i=r.indexOf(".");return i>=0&&(e=r.slice(i+1),r=r.slice(0,i)),{type:r,name:e}})}function Hd(n){return function(){var r=this.__on;if(r){for(var o,e=0,i=-1,a=r.length;e<a;++e)o=r[e],n.type&&o.type!==n.type||o.name!==n.name?r[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?r.length=i:delete this.__on}}}function Xd(n,r,e){var i=$o.hasOwnProperty(n.type)?zd:Qo;return function(a,o,d){var S,y=this.__on,F=i(r,o,d);if(y)for(var H=0,lt=y.length;H<lt;++H)if((S=y[H]).type===n.type&&S.name===n.name)return this.removeEventListener(S.type,S.listener,S.capture),this.addEventListener(S.type,S.listener=F,S.capture=e),void(S.value=r);this.addEventListener(n.type,F,e),S={type:n.type,name:n.name,value:r,listener:F,capture:e},y?y.push(S):this.__on=[S]}}function Jo(n,r,e){var i=Vo(n),a=i.CustomEvent;"function"==typeof a?a=new a(r,e):(a=i.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),n.dispatchEvent(a)}function $d(n,r){return function(){return Jo(this,n,r)}}function Qd(n,r){return function(){return Jo(this,n,r.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||($o={mouseenter:"mouseover",mouseleave:"mouseout"}));var jd=[null];function tr(n,r){this._groups=n,this._parents=r}function jo(){return new tr([[document.documentElement]],jd)}tr.prototype=jo.prototype={constructor:tr,select:function Oh(n){"function"!=typeof n&&(n=ds(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,F,o=r[a],d=o.length,y=i[a]=new Array(d),H=0;H<d;++H)(S=o[H])&&(F=n.call(S,S.__data__,H,o))&&("__data__"in S&&(F.__data__=S.__data__),y[H]=F);return new tr(i,this._parents)},selectAll:function Ph(n){"function"!=typeof n&&(n=Ro(n));for(var r=this._groups,e=r.length,i=[],a=[],o=0;o<e;++o)for(var S,d=r[o],y=d.length,F=0;F<y;++F)(S=d[F])&&(i.push(n.call(S,S.__data__,F,d)),a.push(S));return new tr(i,a)},filter:function Fh(n){"function"!=typeof n&&(n=Zo(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,o=r[a],d=o.length,y=i[a]=[],F=0;F<d;++F)(S=o[F])&&n.call(S,S.__data__,F,o)&&y.push(S);return new tr(i,this._parents)},data:function Gh(n,r){if(!n)return _t=new Array(this.size()),F=-1,this.each(function(Te){_t[++F]=Te}),_t;var e=r?Uh:Bh,i=this._parents,a=this._groups;"function"!=typeof n&&(n=function Zh(n){return function(){return n}}(n));for(var o=a.length,d=new Array(o),y=new Array(o),S=new Array(o),F=0;F<o;++F){var H=i[F],lt=a[F],ot=lt.length,_t=n.call(H,H&&H.__data__,F,i),It=_t.length,Zt=y[F]=new Array(It),bt=d[F]=new Array(It);e(H,lt,Zt,bt,S[F]=new Array(ot),_t,r);for(var Se,Ze,ne=0,Kt=0;ne<It;++ne)if(Se=Zt[ne]){for(ne>=Kt&&(Kt=ne+1);!(Ze=bt[Kt])&&++Kt<It;);Se._next=Ze||null}}return(d=new tr(d,i))._enter=y,d._exit=S,d},enter:function Rh(){return new tr(this._enter||this._groups.map(Bo),this._parents)},exit:function Vh(){return new tr(this._exit||this._groups.map(Bo),this._parents)},join:function zh(n,r,e){var i=this.enter(),a=this,o=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=r&&(a=r(a)),null==e?o.remove():e(o),i&&a?i.merge(a).order():a},merge:function Yh(n){for(var r=this._groups,e=n._groups,i=r.length,o=Math.min(i,e.length),d=new Array(i),y=0;y<o;++y)for(var ot,S=r[y],F=e[y],H=S.length,lt=d[y]=new Array(H),_t=0;_t<H;++_t)(ot=S[_t]||F[_t])&&(lt[_t]=ot);for(;y<i;++y)d[y]=r[y];return new tr(d,this._parents)},order:function Hh(){for(var n=this._groups,r=-1,e=n.length;++r<e;)for(var d,i=n[r],a=i.length-1,o=i[a];--a>=0;)(d=i[a])&&(o&&4^d.compareDocumentPosition(o)&&o.parentNode.insertBefore(d,o),o=d);return this},sort:function Xh(n){function r(lt,ot){return lt&&ot?n(lt.__data__,ot.__data__):!lt-!ot}n||(n=Wh);for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o){for(var F,d=e[o],y=d.length,S=a[o]=new Array(y),H=0;H<y;++H)(F=d[H])&&(S[H]=F);S.sort(r)}return new tr(a,this._parents).order()},call:function $h(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function Qh(){var n=new Array(this.size()),r=-1;return this.each(function(){n[++r]=this}),n},node:function Jh(){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i=n[r],a=0,o=i.length;a<o;++a){var d=i[a];if(d)return d}return null},size:function jh(){var n=0;return this.each(function(){++n}),n},empty:function qh(){return!this.node()},each:function Kh(n){for(var r=this._groups,e=0,i=r.length;e<i;++e)for(var y,a=r[e],o=0,d=a.length;o<d;++o)(y=a[o])&&n.call(y,y.__data__,o,a);return this},attr:function sd(n,r){var e=ka(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==r?e.local?ed:td:"function"==typeof r?e.local?ad:rd:e.local?id:nd)(e,r))},style:function ud(n,r,e){return arguments.length>1?this.each((null==r?od:"function"==typeof r?cd:ld)(n,r,null==e?"":e)):Vr(this.node(),n)},property:function pd(n,r){return arguments.length>1?this.each((null==r?hd:"function"==typeof r?fd:dd)(n,r)):this.node()[n]},classed:function vd(n,r){var e=zo(n+"");if(arguments.length<2){for(var i=ps(this.node()),a=-1,o=e.length;++a<o;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof r?_d:r?md:gd)(e,r))},text:function Td(n){return arguments.length?this.each(null==n?xd:("function"==typeof n?bd:yd)(n)):this.node().textContent},html:function Sd(n){return arguments.length?this.each(null==n?Cd:("function"==typeof n?Ad:wd)(n)):this.node().innerHTML},raise:function Dd(){return this.each(Ed)},lower:function kd(){return this.each(Ld)},append:function Od(n){var r="function"==typeof n?n:Wo(n);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function Pd(n,r){var e="function"==typeof n?n:Wo(n),i=null==r?Nd:"function"==typeof r?r:ds(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Rd(){return this.each(Fd)},clone:function Ud(n){return this.select(n?Bd:Zd)},datum:function Gd(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Wd(n,r,e){var a,d,i=Yd(n+""),o=i.length;if(!(arguments.length<2)){for(y=r?Xd:Hd,null==e&&(e=!1),a=0;a<o;++a)this.each(y(i[a],r,e));return this}var y=this.node().__on;if(y)for(var H,S=0,F=y.length;S<F;++S)for(a=0,H=y[S];a<o;++a)if((d=i[a]).type===H.type&&d.name===H.name)return H.value},dispatch:function Jd(n,r){return this.each(("function"==typeof r?Qd:$d)(n,r))}};const oa=jo;var la=s(25922),er=s(49194),ca=s(73339),qd=(0,la.Z)("start","end","cancel","interrupt"),Kd=[];function Oa(n,r,e,i,a,o){var d=n.__transition;if(d){if(e in d)return}else n.__transition={};!function tf(n,r,e){var a,i=n.__transition;function d(F){var H,lt,ot,_t;if(1!==e.state)return S();for(H in i)if((_t=i[H]).name===e.name){if(3===_t.state)return(0,ca.Z)(d);4===_t.state?(_t.state=6,_t.timer.stop(),_t.on.call("interrupt",n,n.__data__,_t.index,_t.group),delete i[H]):+H<r&&(_t.state=6,_t.timer.stop(),_t.on.call("cancel",n,n.__data__,_t.index,_t.group),delete i[H])}if((0,ca.Z)(function(){3===e.state&&(e.state=4,e.timer.restart(y,e.delay,e.time),y(F))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(ot=e.tween.length),H=0,lt=-1;H<ot;++H)(_t=e.tween[H].value.call(n,n.__data__,e.index,e.group))&&(a[++lt]=_t);a.length=lt+1}}function y(F){for(var H=F<e.duration?e.ease.call(null,F/e.duration):(e.timer.restart(S),e.state=5,1),lt=-1,ot=a.length;++lt<ot;)a[lt].call(n,H);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),S())}function S(){for(var F in e.state=6,e.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=e,e.timer=(0,er.HT)(function o(F){e.state=1,e.timer.restart(d,e.delay,e.time),e.delay<=F&&d(F-e.delay)},0,e.time)}(n,e,{name:r,index:i,group:a,on:qd,tween:Kd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function _s(n,r){var e=nr(n,r);if(e.state>0)throw new Error("too late; already scheduled");return e}function fr(n,r){var e=nr(n,r);if(e.state>3)throw new Error("too late; already running");return e}function nr(n,r){var e=n.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}var el=s(75349);function rf(n,r){var e,i;return function(){var a=fr(this,n),o=a.tween;if(o!==e)for(var d=0,y=(i=e=o).length;d<y;++d)if(i[d].name===r){(i=i.slice()).splice(d,1);break}a.tween=i}}function af(n,r,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var o=fr(this,n),d=o.tween;if(d!==i){a=(i=d).slice();for(var y={name:r,value:e},S=0,F=a.length;S<F;++S)if(a[S].name===r){a[S]=y;break}S===F&&a.push(y)}o.tween=a}}function vs(n,r,e){var i=n._id;return n.each(function(){var a=fr(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return nr(a,i).value[r]}}var Na=s(52786),Pa=s(6738),Fa=s(23534),nl=s(23096);function il(n,r){var e;return("number"==typeof r?Pa.Z:r instanceof Na.ZP?Fa.ZP:(e=(0,Na.ZP)(r))?(r=e,Fa.ZP):nl.Z)(n,r)}function of(n){return function(){this.removeAttribute(n)}}function lf(n){return function(){this.removeAttributeNS(n.space,n.local)}}function cf(n,r,e){var i,o,a=e+"";return function(){var d=this.getAttribute(n);return d===a?null:d===i?o:o=r(i=d,e)}}function uf(n,r,e){var i,o,a=e+"";return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===i?o:o=r(i=d,e)}}function hf(n,r,e){var i,a,o;return function(){var d,S,y=e(this);return null==y?void this.removeAttribute(n):(d=this.getAttribute(n))===(S=y+"")?null:d===i&&S===a?o:(a=S,o=r(i=d,y))}}function df(n,r,e){var i,a,o;return function(){var d,S,y=e(this);return null==y?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local))===(S=y+"")?null:d===i&&S===a?o:(a=S,o=r(i=d,y))}}function pf(n,r){return function(e){this.setAttribute(n,r.call(this,e))}}function mf(n,r){return function(e){this.setAttributeNS(n.space,n.local,r.call(this,e))}}function gf(n,r){var e,i;function a(){var o=r.apply(this,arguments);return o!==i&&(e=(i=o)&&mf(n,o)),e}return a._value=r,a}function _f(n,r){var e,i;function a(){var o=r.apply(this,arguments);return o!==i&&(e=(i=o)&&pf(n,o)),e}return a._value=r,a}function xf(n,r){return function(){_s(this,n).delay=+r.apply(this,arguments)}}function yf(n,r){return r=+r,function(){_s(this,n).delay=r}}function Tf(n,r){return function(){fr(this,n).duration=+r.apply(this,arguments)}}function Cf(n,r){return r=+r,function(){fr(this,n).duration=r}}function Af(n,r){if("function"!=typeof r)throw new Error;return function(){fr(this,n).ease=r}}function kf(n,r,e){var i,a,o=function Lf(n){return(n+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||"start"===r})}(r)?_s:fr;return function(){var d=o(this,n),y=d.on;y!==i&&(a=(i=y).copy()).on(r,e),d.on=a}}var Ff=oa.prototype.constructor;function rl(n){return function(){this.style.removeProperty(n)}}function zf(n,r,e){return function(i){this.style.setProperty(n,r.call(this,i),e)}}function Yf(n,r,e){var i,a;function o(){var d=r.apply(this,arguments);return d!==a&&(i=(a=d)&&zf(n,d,e)),i}return o._value=r,o}function Qf(n){return function(r){this.textContent=n.call(this,r)}}function Jf(n){var r,e;function i(){var a=n.apply(this,arguments);return a!==e&&(r=(e=a)&&Qf(a)),r}return i._value=n,i}var tp=0;function pr(n,r,e,i){this._groups=n,this._parents=r,this._name=e,this._id=i}function al(){return++tp}var zr=oa.prototype;pr.prototype=function ep(n){return oa().transition(n)}.prototype={constructor:pr,select:function Nf(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=ds(n));for(var i=this._groups,a=i.length,o=new Array(a),d=0;d<a;++d)for(var H,lt,y=i[d],S=y.length,F=o[d]=new Array(S),ot=0;ot<S;++ot)(H=y[ot])&&(lt=n.call(H,H.__data__,ot,y))&&("__data__"in H&&(lt.__data__=H.__data__),F[ot]=lt,Oa(F[ot],r,e,ot,F,nr(H,e)));return new pr(o,this._parents,r,e)},selectAll:function Pf(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=Ro(n));for(var i=this._groups,a=i.length,o=[],d=[],y=0;y<a;++y)for(var H,S=i[y],F=S.length,lt=0;lt<F;++lt)if(H=S[lt]){for(var _t,ot=n.call(H,H.__data__,lt,S),It=nr(H,e),Zt=0,bt=ot.length;Zt<bt;++Zt)(_t=ot[Zt])&&Oa(_t,r,e,Zt,ot,It);o.push(ot),d.push(H)}return new pr(o,d,r,e)},filter:function Ef(n){"function"!=typeof n&&(n=Zo(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,o=r[a],d=o.length,y=i[a]=[],F=0;F<d;++F)(S=o[F])&&n.call(S,S.__data__,F,o)&&y.push(S);return new pr(i,this._parents,this._name,this._id)},merge:function Df(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,e=n._groups,i=r.length,o=Math.min(i,e.length),d=new Array(i),y=0;y<o;++y)for(var ot,S=r[y],F=e[y],H=S.length,lt=d[y]=new Array(H),_t=0;_t<H;++_t)(ot=S[_t]||F[_t])&&(lt[_t]=ot);for(;y<i;++y)d[y]=r[y];return new pr(d,this._parents,this._name,this._id)},selection:function Rf(){return new Ff(this._groups,this._parents)},transition:function qf(){for(var n=this._name,r=this._id,e=al(),i=this._groups,a=i.length,o=0;o<a;++o)for(var S,d=i[o],y=d.length,F=0;F<y;++F)if(S=d[F]){var H=nr(S,r);Oa(S,n,e,F,d,{time:H.time+H.delay+H.duration,delay:0,duration:H.duration,ease:H.ease})}return new pr(i,this._parents,n,e)},call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:function If(n,r){var e=this._id;return arguments.length<2?nr(this.node(),e).on.on(n):this.each(kf(e,n,r))},attr:function ff(n,r){var e=ka(n),i="transform"===e?el.w:il;return this.attrTween(n,"function"==typeof r?(e.local?df:hf)(e,i,vs(this,"attr."+n,r)):null==r?(e.local?lf:of)(e):(e.local?uf:cf)(e,i,r))},attrTween:function vf(n,r){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=ka(n);return this.tween(e,(i.local?gf:_f)(i,r))},style:function Vf(n,r,e){var i="transform"==(n+="")?el.Y:il;return null==r?this.styleTween(n,function Zf(n,r){var e,i,a;return function(){var o=Vr(this,n),d=(this.style.removeProperty(n),Vr(this,n));return o===d?null:o===e&&d===i?a:a=r(e=o,i=d)}}(n,i)).on("end.style."+n,rl(n)):"function"==typeof r?this.styleTween(n,function Uf(n,r,e){var i,a,o;return function(){var d=Vr(this,n),y=e(this),S=y+"";return null==y&&(this.style.removeProperty(n),S=y=Vr(this,n)),d===S?null:d===i&&S===a?o:(a=S,o=r(i=d,y))}}(n,i,vs(this,"style."+n,r))).each(function Gf(n,r){var e,i,a,y,o="style."+r,d="end."+o;return function(){var S=fr(this,n),F=S.on,H=null==S.value[o]?y||(y=rl(r)):void 0;(F!==e||a!==H)&&(i=(e=F).copy()).on(d,a=H),S.on=i}}(this._id,n)):this.styleTween(n,function Bf(n,r,e){var i,o,a=e+"";return function(){var d=Vr(this,n);return d===a?null:d===i?o:o=r(i=d,e)}}(n,i,r),e).on("end.style."+n,null)},styleTween:function Hf(n,r,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,Yf(n,r,null==e?"":e))},text:function $f(n){return this.tween("text","function"==typeof n?function Wf(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(vs(this,"text",n)):function Xf(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function jf(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Jf(n))},remove:function Of(){return this.on("end.remove",function Mf(n){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function sf(n,r){var e=this._id;if(n+="",arguments.length<2){for(var d,i=nr(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((d=i[a]).name===n)return d.value;return null}return this.each((null==r?rf:af)(e,n,r))},delay:function bf(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?xf:yf)(r,n)):nr(this.node(),r).delay},duration:function wf(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Tf:Cf)(r,n)):nr(this.node(),r).duration},ease:function Sf(n){var r=this._id;return arguments.length?this.each(Af(r,n)):nr(this.node(),r).ease},end:function Kf(){var n,r,e=this,i=e._id,a=e.size();return new Promise(function(o,d){var y={value:d},S={value:function(){0==--a&&o()}};e.each(function(){var F=fr(this,i),H=F.on;H!==n&&((r=(n=H).copy())._.cancel.push(y),r._.interrupt.push(y),r._.end.push(S)),F.on=r})})}};var sl=s(27065),xs={time:null,delay:0,duration:250,ease:sl.tw};function np(n,r){for(var e;!(e=n.__transition)||!(e=e[r]);)if(!(n=n.parentNode))return xs.time=(0,er.zO)(),xs;return e}oa.prototype.interrupt=function nf(n){return this.each(function(){!function ef(n,r){var i,a,d,e=n.__transition,o=!0;if(e){for(d in r=null==r?null:r+"",e)(i=e[d]).name===r?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[d]):o=!1;o&&delete n.__transition}}(this,n)})},oa.prototype.transition=function ip(n){var r,e;n instanceof pr?(r=n._id,n=n._name):(r=al(),(e=xs).time=(0,er.zO)(),n=null==n?null:n+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var S,d=i[o],y=d.length,F=0;F<y;++F)(S=d[F])&&Oa(S,n,r,F,d,e||np(S,r));return new pr(i,this._parents,n,r)};var ol=s(42654),ll=s(56498),cl=s(23753),ap=s(87224);function fp(n){return void 0===n}function _p(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}function vp(n){return Array.isArray(n)?n:Array.from(n)}function ua(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var i=function(lt,ot){return{a:lt.a*ot.a+lt.c*ot.b,c:lt.a*ot.c+lt.c*ot.d,e:lt.a*ot.e+lt.c*ot.f+lt.e,b:lt.b*ot.a+lt.d*ot.b,d:lt.b*ot.c+lt.d*ot.d,f:lt.b*ot.e+lt.d*ot.f+lt.f}};switch((r=Array.isArray(r[0])?r[0]:r).length){case 0:throw new Error("no matrices provided");case 1:return r[0];case 2:return i(r[0],r[1]);default:var a=r,o=vp(a),d=o[0],y=o[1],S=o.slice(2),F=i(d,y);return ua.apply(void 0,[F].concat(_p(S)))}}function dl(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e:n,b:0,d:1,f:r}}function Ra(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;const fl=Symbol("implicit");function ys(){var n=new Map,r=[],e=[],i=fl;function a(o){var d=o+"",y=n.get(d);if(!y){if(i!==fl)return i;n.set(d,y=r.push(o))}return e[(y-1)%e.length]}return a.domain=function(o){if(!arguments.length)return r.slice();r=[],n=new Map;for(const d of o){const y=d+"";n.has(y)||n.set(y,r.push(d))}return a},a.range=function(o){return arguments.length?(e=Array.from(o),a):e.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return ys(r,e).unknown(i)},Ra.apply(a,arguments),a}var Hr=s(59695);function yp(n,r){var e;function i(){var a,d,o=e.length,y=0,S=0;for(a=0;a<o;++a)y+=(d=e[a]).x,S+=d.y;for(y=y/o-n,S=S/o-r,a=0;a<o;++a)(d=e[a]).x-=y,d.y-=S}return null==n&&(n=0),null==r&&(r=0),i.initialize=function(a){e=a},i.x=function(a){return arguments.length?(n=+a,i):n},i.y=function(a){return arguments.length?(r=+a,i):r},i}function vi(n){return function(){return n}}function Ar(){return 1e-6*(Math.random()-.5)}function pl(n,r,e,i){if(isNaN(r)||isNaN(e))return n;var a,lt,ot,_t,It,Zt,bt,$t,ne,o=n._root,d={data:i},y=n._x0,S=n._y0,F=n._x1,H=n._y1;if(!o)return n._root=d,n;for(;o.length;)if((Zt=r>=(lt=(y+F)/2))?y=lt:F=lt,(bt=e>=(ot=(S+H)/2))?S=ot:H=ot,a=o,!(o=o[$t=bt<<1|Zt]))return a[$t]=d,n;if(_t=+n._x.call(null,o.data),It=+n._y.call(null,o.data),r===_t&&e===It)return d.next=o,a?a[$t]=d:n._root=d,n;do{a=a?a[$t]=new Array(4):n._root=new Array(4),(Zt=r>=(lt=(y+F)/2))?y=lt:F=lt,(bt=e>=(ot=(S+H)/2))?S=ot:H=ot}while(($t=bt<<1|Zt)==(ne=(It>=ot)<<1|_t>=lt));return a[ne]=o,a[$t]=d,n}function Zi(n,r,e,i,a){this.node=n,this.x0=r,this.y0=e,this.x1=i,this.y1=a}function Op(n){return n[0]}function Pp(n){return n[1]}function bs(n,r,e){var i=new Ts(null==r?Op:r,null==e?Pp:e,NaN,NaN,NaN,NaN);return null==n?i:i.addAll(n)}function Ts(n,r,e,i,a,o){this._x=n,this._y=r,this._x0=e,this._y0=i,this._x1=a,this._y1=o,this._root=void 0}function ml(n){for(var r={data:n.data},e=r;n=n.next;)e=e.next={data:n.data};return r}var Bi=bs.prototype=Ts.prototype;function Rp(n){return n.x+n.vx}function Zp(n){return n.y+n.vy}function gl(n){var r,e,i=1,a=1;function o(){for(var S,H,lt,ot,_t,It,Zt,F=r.length,bt=0;bt<a;++bt)for(H=bs(r,Rp,Zp).visitAfter(d),S=0;S<F;++S)Zt=(It=e[(lt=r[S]).index])*It,ot=lt.x+lt.vx,_t=lt.y+lt.vy,H.visit($t);function $t(ne,Kt,Se,Ze,Te){var dn=ne.data,xn=ne.r,Sn=It+xn;if(!dn)return Kt>ot+Sn||Ze<ot-Sn||Se>_t+Sn||Te<_t-Sn;if(dn.index>lt.index){var Vn=ot-dn.x-dn.vx,zn=_t-dn.y-dn.vy,pi=Vn*Vn+zn*zn;pi<Sn*Sn&&(0===Vn&&(pi+=(Vn=Ar())*Vn),0===zn&&(pi+=(zn=Ar())*zn),pi=(Sn-(pi=Math.sqrt(pi)))/pi*i,lt.vx+=(Vn*=pi)*(Sn=(xn*=xn)/(Zt+xn)),lt.vy+=(zn*=pi)*Sn,dn.vx-=Vn*(Sn=1-Sn),dn.vy-=zn*Sn)}}}function d(S){if(S.data)return S.r=e[S.data.index];for(var F=S.r=0;F<4;++F)S[F]&&S[F].r>S.r&&(S.r=S[F].r)}function y(){if(r){var S,H,F=r.length;for(e=new Array(F),S=0;S<F;++S)e[(H=r[S]).index]=+n(H,S,r)}}return"function"!=typeof n&&(n=vi(null==n?1:+n)),o.initialize=function(S){r=S,y()},o.iterations=function(S){return arguments.length?(a=+S,o):a},o.strength=function(S){return arguments.length?(i=+S,o):i},o.radius=function(S){return arguments.length?(n="function"==typeof S?S:vi(+S),y(),o):n},o}Bi.copy=function(){var e,i,n=new Ts(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ml(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(i=r.source[a])&&(i.length?e.push({source:i,target:r.target[a]=new Array(4)}):r.target[a]=ml(i));return n},Bi.add=function bp(n){var r=+this._x.call(null,n),e=+this._y.call(null,n);return pl(this.cover(r,e),r,e,n)},Bi.addAll=function Tp(n){var r,e,a,o,i=n.length,d=new Array(i),y=new Array(i),S=1/0,F=1/0,H=-1/0,lt=-1/0;for(e=0;e<i;++e)isNaN(a=+this._x.call(null,r=n[e]))||isNaN(o=+this._y.call(null,r))||(d[e]=a,y[e]=o,a<S&&(S=a),a>H&&(H=a),o<F&&(F=o),o>lt&&(lt=o));if(S>H||F>lt)return this;for(this.cover(S,F).cover(H,lt),e=0;e<i;++e)pl(this,d[e],y[e],n[e]);return this},Bi.cover=function Cp(n,r){if(isNaN(n=+n)||isNaN(r=+r))return this;var e=this._x0,i=this._y0,a=this._x1,o=this._y1;if(isNaN(e))a=(e=Math.floor(n))+1,o=(i=Math.floor(r))+1;else{for(var S,F,d=a-e,y=this._root;e>n||n>=a||i>r||r>=o;)switch(F=(r<i)<<1|n<e,S=new Array(4),S[F]=y,y=S,d*=2,F){case 0:a=e+d,o=i+d;break;case 1:e=a-d,o=i+d;break;case 2:a=e+d,i=o-d;break;case 3:e=a-d,i=o-d}this._root&&this._root.length&&(this._root=y)}return this._x0=e,this._y0=i,this._x1=a,this._y1=o,this},Bi.data=function wp(){var n=[];return this.visit(function(r){if(!r.length)do{n.push(r.data)}while(r=r.next)}),n},Bi.extent=function Ap(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Bi.find=function Sp(n,r,e){var i,d,y,S,F,It,Zt,a=this._x0,o=this._y0,H=this._x1,lt=this._y1,ot=[],_t=this._root;for(_t&&ot.push(new Zi(_t,a,o,H,lt)),null==e?e=1/0:(a=n-e,o=r-e,H=n+e,lt=r+e,e*=e);It=ot.pop();)if(!(!(_t=It.node)||(d=It.x0)>H||(y=It.y0)>lt||(S=It.x1)<a||(F=It.y1)<o))if(_t.length){var bt=(d+S)/2,$t=(y+F)/2;ot.push(new Zi(_t[3],bt,$t,S,F),new Zi(_t[2],d,$t,bt,F),new Zi(_t[1],bt,y,S,$t),new Zi(_t[0],d,y,bt,$t)),(Zt=(r>=$t)<<1|n>=bt)&&(It=ot[ot.length-1],ot[ot.length-1]=ot[ot.length-1-Zt],ot[ot.length-1-Zt]=It)}else{var ne=n-+this._x.call(null,_t.data),Kt=r-+this._y.call(null,_t.data),Se=ne*ne+Kt*Kt;if(Se<e){var Ze=Math.sqrt(e=Se);a=n-Ze,o=r-Ze,H=n+Ze,lt=r+Ze,i=_t.data}}return i},Bi.remove=function Ep(n){if(isNaN(H=+this._x.call(null,n))||isNaN(lt=+this._y.call(null,n)))return this;var r,i,a,o,H,lt,ot,_t,It,Zt,bt,$t,e=this._root,d=this._x0,y=this._y0,S=this._x1,F=this._y1;if(!e)return this;if(e.length)for(;;){if((It=H>=(ot=(d+S)/2))?d=ot:S=ot,(Zt=lt>=(_t=(y+F)/2))?y=_t:F=_t,r=e,!(e=e[bt=Zt<<1|It]))return this;if(!e.length)break;(r[bt+1&3]||r[bt+2&3]||r[bt+3&3])&&(i=r,$t=bt)}for(;e.data!==n;)if(a=e,!(e=e.next))return this;return(o=e.next)&&delete e.next,a?(o?a.next=o:delete a.next,this):r?(o?r[bt]=o:delete r[bt],(e=r[0]||r[1]||r[2]||r[3])&&e===(r[3]||r[2]||r[1]||r[0])&&!e.length&&(i?i[$t]=e:this._root=e),this):(this._root=o,this)},Bi.removeAll=function Dp(n){for(var r=0,e=n.length;r<e;++r)this.remove(n[r]);return this},Bi.root=function Lp(){return this._root},Bi.size=function kp(){var n=0;return this.visit(function(r){if(!r.length)do{++n}while(r=r.next)}),n},Bi.visit=function Ip(n){var e,a,o,d,y,S,r=[],i=this._root;for(i&&r.push(new Zi(i,this._x0,this._y0,this._x1,this._y1));e=r.pop();)if(!n(i=e.node,o=e.x0,d=e.y0,y=e.x1,S=e.y1)&&i.length){var F=(o+y)/2,H=(d+S)/2;(a=i[3])&&r.push(new Zi(a,F,H,y,S)),(a=i[2])&&r.push(new Zi(a,o,H,F,S)),(a=i[1])&&r.push(new Zi(a,F,d,y,H)),(a=i[0])&&r.push(new Zi(a,o,d,F,H))}return this},Bi.visitAfter=function Mp(n){var i,r=[],e=[];for(this._root&&r.push(new Zi(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var a=i.node;if(a.length){var o,d=i.x0,y=i.y0,S=i.x1,F=i.y1,H=(d+S)/2,lt=(y+F)/2;(o=a[0])&&r.push(new Zi(o,d,y,H,lt)),(o=a[1])&&r.push(new Zi(o,H,y,S,lt)),(o=a[2])&&r.push(new Zi(o,d,lt,H,F)),(o=a[3])&&r.push(new Zi(o,H,lt,S,F))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this},Bi.x=function Np(n){return arguments.length?(this._x=n,this):this._x},Bi.y=function Fp(n){return arguments.length?(this._y=n,this):this._y};var Ji="$";function Za(){}function _l(n,r){var e=new Za;if(n instanceof Za)n.each(function(y,S){e.set(S,y)});else if(Array.isArray(n)){var o,i=-1,a=n.length;if(null==r)for(;++i<a;)e.set(i,n[i]);else for(;++i<a;)e.set(r(o=n[i],i,n),o)}else if(n)for(var d in n)e.set(d,n[d]);return e}Za.prototype=_l.prototype={constructor:Za,has:function(n){return Ji+n in this},get:function(n){return this[Ji+n]},set:function(n,r){return this[Ji+n]=r,this},remove:function(n){var r=Ji+n;return r in this&&delete this[r]},clear:function(){for(var n in this)n[0]===Ji&&delete this[n]},keys:function(){var n=[];for(var r in this)r[0]===Ji&&n.push(r.slice(1));return n},values:function(){var n=[];for(var r in this)r[0]===Ji&&n.push(this[r]);return n},entries:function(){var n=[];for(var r in this)r[0]===Ji&&n.push({key:r.slice(1),value:this[r]});return n},size:function(){var n=0;for(var r in this)r[0]===Ji&&++n;return n},empty:function(){for(var n in this)if(n[0]===Ji)return!1;return!0},each:function(n){for(var r in this)r[0]===Ji&&n(this[r],r.slice(1),this)}};const Cs=_l;function Ba(){}var Or=Cs.prototype;function Vp(n){return n.index}function yl(n,r){var e=n.get(r);if(!e)throw new Error("missing: "+r);return e}function bl(n){var i,o,d,y,S,r=Vp,e=function H(Zt){return 1/Math.min(y[Zt.source.index],y[Zt.target.index])},a=vi(30),F=1;function lt(Zt){for(var bt=0,$t=n.length;bt<F;++bt)for(var Kt,Se,Ze,Te,dn,xn,Sn,ne=0;ne<$t;++ne)Te=(Ze=(Kt=n[ne]).target).x+Ze.vx-(Se=Kt.source).x-Se.vx||Ar(),dn=Ze.y+Ze.vy-Se.y-Se.vy||Ar(),dn*=xn=((xn=Math.sqrt(Te*Te+dn*dn))-o[ne])/xn*Zt*i[ne],Ze.vx-=(Te*=xn)*(Sn=S[ne]),Ze.vy-=dn*Sn,Se.vx+=Te*(Sn=1-Sn),Se.vy+=dn*Sn}function ot(){if(d){var Zt,Kt,bt=d.length,$t=n.length,ne=Cs(d,r);for(Zt=0,y=new Array(bt);Zt<$t;++Zt)(Kt=n[Zt]).index=Zt,"object"!=typeof Kt.source&&(Kt.source=yl(ne,Kt.source)),"object"!=typeof Kt.target&&(Kt.target=yl(ne,Kt.target)),y[Kt.source.index]=(y[Kt.source.index]||0)+1,y[Kt.target.index]=(y[Kt.target.index]||0)+1;for(Zt=0,S=new Array($t);Zt<$t;++Zt)S[Zt]=y[(Kt=n[Zt]).source.index]/(y[Kt.source.index]+y[Kt.target.index]);i=new Array($t),_t(),o=new Array($t),It()}}function _t(){if(d)for(var Zt=0,bt=n.length;Zt<bt;++Zt)i[Zt]=+e(n[Zt],Zt,n)}function It(){if(d)for(var Zt=0,bt=n.length;Zt<bt;++Zt)o[Zt]=+a(n[Zt],Zt,n)}return null==n&&(n=[]),lt.initialize=function(Zt){d=Zt,ot()},lt.links=function(Zt){return arguments.length?(n=Zt,ot(),lt):n},lt.id=function(Zt){return arguments.length?(r=Zt,lt):r},lt.iterations=function(Zt){return arguments.length?(F=+Zt,lt):F},lt.strength=function(Zt){return arguments.length?(e="function"==typeof Zt?Zt:vi(+Zt),_t(),lt):e},lt.distance=function(Zt){return arguments.length?(a="function"==typeof Zt?Zt:vi(+Zt),It(),lt):a},lt}function zp(n){return n.x}function Yp(n){return n.y}Ba.prototype=function Gp(n,r){var e=new Ba;if(n instanceof Ba)n.each(function(o){e.add(o)});else if(n){var i=-1,a=n.length;if(null==r)for(;++i<a;)e.add(n[i]);else for(;++i<a;)e.add(r(n[i],i,n))}return e}.prototype={constructor:Ba,has:Or.has,add:function(n){return this[Ji+(n+="")]=n,this},remove:Or.remove,clear:Or.clear,values:Or.keys,size:Or.size,empty:Or.empty,each:Or.each};var Xp=Math.PI*(3-Math.sqrt(5));function Tl(n){var r,e=1,i=.001,a=1-Math.pow(i,1/300),o=0,d=.6,y=Cs(),S=(0,er.HT)(H),F=(0,la.Z)("tick","end");function H(){lt(),F.call("tick",r),e<i&&(S.stop(),F.call("end",r))}function lt(It){var Zt,$t,bt=n.length;void 0===It&&(It=1);for(var ne=0;ne<It;++ne)for(e+=(o-e)*a,y.each(function(Kt){Kt(e)}),Zt=0;Zt<bt;++Zt)null==($t=n[Zt]).fx?$t.x+=$t.vx*=d:($t.x=$t.fx,$t.vx=0),null==$t.fy?$t.y+=$t.vy*=d:($t.y=$t.fy,$t.vy=0);return r}function ot(){for(var bt,It=0,Zt=n.length;It<Zt;++It){if((bt=n[It]).index=It,null!=bt.fx&&(bt.x=bt.fx),null!=bt.fy&&(bt.y=bt.fy),isNaN(bt.x)||isNaN(bt.y)){var $t=10*Math.sqrt(It),ne=It*Xp;bt.x=$t*Math.cos(ne),bt.y=$t*Math.sin(ne)}(isNaN(bt.vx)||isNaN(bt.vy))&&(bt.vx=bt.vy=0)}}function _t(It){return It.initialize&&It.initialize(n),It}return null==n&&(n=[]),ot(),r={tick:lt,restart:function(){return S.restart(H),r},stop:function(){return S.stop(),r},nodes:function(It){return arguments.length?(n=It,ot(),y.each(_t),r):n},alpha:function(It){return arguments.length?(e=+It,r):e},alphaMin:function(It){return arguments.length?(i=+It,r):i},alphaDecay:function(It){return arguments.length?(a=+It,r):+a},alphaTarget:function(It){return arguments.length?(o=+It,r):o},velocityDecay:function(It){return arguments.length?(d=1-It,r):1-d},force:function(It,Zt){return arguments.length>1?(null==Zt?y.remove(It):y.set(It,_t(Zt)),r):y.get(It)},find:function(It,Zt,bt){var Kt,Se,Ze,Te,dn,$t=0,ne=n.length;for(null==bt?bt=1/0:bt*=bt,$t=0;$t<ne;++$t)(Ze=(Kt=It-(Te=n[$t]).x)*Kt+(Se=Zt-Te.y)*Se)<bt&&(dn=Te,bt=Ze);return dn},on:function(It,Zt){return arguments.length>1?(F.on(It,Zt),r):F.on(It)}}}function Cl(){var n,r,e,a,i=vi(-30),o=1,d=1/0,y=.81;function S(ot){var _t,It=n.length,Zt=bs(n,zp,Yp).visitAfter(H);for(e=ot,_t=0;_t<It;++_t)r=n[_t],Zt.visit(lt)}function F(){if(n){var ot,It,_t=n.length;for(a=new Array(_t),ot=0;ot<_t;++ot)a[(It=n[ot]).index]=+i(It,ot,n)}}function H(ot){var It,Zt,$t,ne,Kt,_t=0,bt=0;if(ot.length){for($t=ne=Kt=0;Kt<4;++Kt)(It=ot[Kt])&&(Zt=Math.abs(It.value))&&(_t+=It.value,bt+=Zt,$t+=Zt*It.x,ne+=Zt*It.y);ot.x=$t/bt,ot.y=ne/bt}else{(It=ot).x=It.data.x,It.y=It.data.y;do{_t+=a[It.data.index]}while(It=It.next)}ot.value=_t}function lt(ot,_t,It,Zt){if(!ot.value)return!0;var bt=ot.x-r.x,$t=ot.y-r.y,ne=Zt-_t,Kt=bt*bt+$t*$t;if(ne*ne/y<Kt)return Kt<d&&(0===bt&&(Kt+=(bt=Ar())*bt),0===$t&&(Kt+=($t=Ar())*$t),Kt<o&&(Kt=Math.sqrt(o*Kt)),r.vx+=bt*ot.value*e/Kt,r.vy+=$t*ot.value*e/Kt),!0;if(!(ot.length||Kt>=d)){(ot.data!==r||ot.next)&&(0===bt&&(Kt+=(bt=Ar())*bt),0===$t&&(Kt+=($t=Ar())*$t),Kt<o&&(Kt=Math.sqrt(o*Kt)));do{ot.data!==r&&(r.vx+=bt*(ne=a[ot.data.index]*e/Kt),r.vy+=$t*ne)}while(ot=ot.next)}}return S.initialize=function(ot){n=ot,F()},S.strength=function(ot){return arguments.length?(i="function"==typeof ot?ot:vi(+ot),F(),S):i},S.distanceMin=function(ot){return arguments.length?(o=ot*ot,S):Math.sqrt(o)},S.distanceMax=function(ot){return arguments.length?(d=ot*ot,S):Math.sqrt(d)},S.theta=function(ot){return arguments.length?(y=ot*ot,S):Math.sqrt(y)},S}function Wp(n,r,e){var i,o,d,a=vi(.1);function y(F){for(var H=0,lt=i.length;H<lt;++H){var ot=i[H],_t=ot.x-r||1e-6,It=ot.y-e||1e-6,Zt=Math.sqrt(_t*_t+It*It),bt=(d[H]-Zt)*o[H]*F/Zt;ot.vx+=_t*bt,ot.vy+=It*bt}}function S(){if(i){var F,H=i.length;for(o=new Array(H),d=new Array(H),F=0;F<H;++F)d[F]=+n(i[F],F,i),o[F]=isNaN(d[F])?0:+a(i[F],F,i)}}return"function"!=typeof n&&(n=vi(+n)),null==r&&(r=0),null==e&&(e=0),y.initialize=function(F){i=F,S()},y.strength=function(F){return arguments.length?(a="function"==typeof F?F:vi(+F),S(),y):a},y.radius=function(F){return arguments.length?(n="function"==typeof F?F:vi(+F),S(),y):n},y.x=function(F){return arguments.length?(r=+F,y):r},y.y=function(F){return arguments.length?(e=+F,y):e},y}function $p(n){var e,i,a,r=vi(.1);function o(y){for(var H,S=0,F=e.length;S<F;++S)(H=e[S]).vx+=(a[S]-H.x)*i[S]*y}function d(){if(e){var y,S=e.length;for(i=new Array(S),a=new Array(S),y=0;y<S;++y)i[y]=isNaN(a[y]=+n(e[y],y,e))?0:+r(e[y],y,e)}}return"function"!=typeof n&&(n=vi(null==n?0:+n)),o.initialize=function(y){e=y,d()},o.strength=function(y){return arguments.length?(r="function"==typeof y?y:vi(+y),d(),o):r},o.x=function(y){return arguments.length?(n="function"==typeof y?y:vi(+y),d(),o):n},o}function Qp(n){var e,i,a,r=vi(.1);function o(y){for(var H,S=0,F=e.length;S<F;++S)(H=e[S]).vy+=(a[S]-H.y)*i[S]*y}function d(){if(e){var y,S=e.length;for(i=new Array(S),a=new Array(S),y=0;y<S;++y)i[y]=isNaN(a[y]=+n(e[y],y,e))?0:+r(e[y],y,e)}}return"function"!=typeof n&&(n=vi(null==n?0:+n)),o.initialize=function(y){e=y,d()},o.strength=function(y){return arguments.length?(r="function"==typeof y?y:vi(+y),d(),o):r},o.y=function(y){return arguments.length?(n="function"==typeof y?y:vi(+y),d(),o):n},o}var Jp=s(67824);function jp(n,r,e){var i=new er.B7,a=r;return null==r?(i.restart(n,r,e),i):(r=+r,e=null==e?(0,er.zO)():+e,i.restart(function o(d){d+=a,i.restart(o,a+=r,e),n(d)},r,e),i)}const qp=["linkTemplate"],Kp=["nodeTemplate"],tm=["clusterTemplate"],em=["defsTemplate"],nm=["miniMapNodeTemplate"],im=["nodeElement"],rm=["linkElement"];function am(n,r){if(1&n&&(t.O4$(),t.GkF(0,14)),2&n){const e=t.oxw(2);t.Q6J("ngTemplateOutlet",e.defsTemplate)}}function sm(n,r){if(1&n&&(t.O4$(),t._UZ(0,"path",15)),2&n){const e=r.$implicit;t.uIk("d",e.textPath)("id",e.id)}}const ha=function(n){return{$implicit:n}};function om(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",t.VKq(2,ha,e))}}function lm(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",21),t._UZ(1,"rect"),t.TgZ(2,"text",22),t._uU(3),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("width",e.dimension.width)("height",e.dimension.height)("fill",null==e.data?null:e.data.color),t.xp6(1),t.uIk("x",10)("y",e.dimension.height/2),t.xp6(1),t.hij(" ",e.label," ")}}function cm(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",16,17),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).onClick(o)}),t.YNc(2,om,1,4,"ng-container",18),t.YNc(3,lm,4,6,"g",19),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldClusters.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.clusterTemplate),t.xp6(1),t.Q6J("ngIf",!i.clusterTemplate)}}function um(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",t.VKq(2,ha,e))}}function hm(n,r){if(1&n&&(t.O4$(),t._UZ(0,"path",26)),2&n){const e=t.oxw().$implicit;t.uIk("d",e.line)}}function dm(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",23,24),t.YNc(2,um,1,4,"ng-container",18),t.YNc(3,hm,1,1,"path",25),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2);t.Q6J("id",e.id),t.xp6(2),t.Q6J("ngIf",i.linkTemplate),t.xp6(1),t.Q6J("ngIf",!i.linkTemplate)}}function fm(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",t.VKq(2,ha,e))}}function pm(n,r){if(1&n&&(t.O4$(),t._UZ(0,"circle",30)),2&n){const e=t.oxw().$implicit;t.uIk("cx",e.dimension.width/2)("cy",e.dimension.height/2)("fill",null==e.data?null:e.data.color)}}function mm(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",27,28),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).onClick(o)})("mousedown",function(a){const d=t.CHM(e).$implicit;return t.oxw(2).onNodeMouseDown(a,d)}),t.YNc(2,fm,1,4,"ng-container",18),t.YNc(3,pm,1,3,"circle",29),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldNodes.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.nodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.nodeTemplate)}}function gm(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",4),t.NdJ("touchstart",function(a){return t.CHM(e),t.oxw().onTouchStart(a)})("touchend",function(a){return t.CHM(e),t.oxw().onTouchEnd(a)}),t.TgZ(1,"defs"),t.YNc(2,am,1,1,"ng-container",5),t.YNc(3,sm,1,2,"path",6),t.qZA(),t.TgZ(4,"rect",7),t.NdJ("mousedown",function(){return t.CHM(e),t.oxw().isPanning=!0}),t.qZA(),t.Hsn(5),t.TgZ(6,"g",8),t.YNc(7,cm,4,6,"g",9),t.qZA(),t.TgZ(8,"g",10),t.YNc(9,dm,4,3,"g",11),t.qZA(),t.TgZ(10,"g",12),t.YNc(11,mm,4,6,"g",13),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",e.defsTemplate),t.xp6(1),t.Q6J("ngForOf",e.graph.edges),t.xp6(1),t.uIk("width",100*e.dims.width)("height",100*e.dims.height)("transform","translate("+50*(-e.dims.width||0)+","+50*(-e.dims.height||0)+")"),t.xp6(3),t.Q6J("ngForOf",e.graph.clusters)("ngForTrackBy",e.trackNodeBy),t.xp6(2),t.Q6J("ngForOf",e.graph.edges)("ngForTrackBy",e.trackLinkBy),t.xp6(2),t.Q6J("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy)}}function _m(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",t.VKq(2,ha,e))}}function vm(n,r){if(1&n&&(t.O4$(),t.GkF(0,20)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",t.VKq(2,ha,e))}}function xm(n,r){if(1&n&&(t.O4$(),t._UZ(0,"circle",30)),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.uIk("cx",e.dimension.width/2/i.minimapScaleCoefficient)("cy",e.dimension.height/2/i.minimapScaleCoefficient)("fill",null==e.data?null:e.data.color)}}function ym(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",36,28),t.YNc(2,_m,1,4,"ng-container",18),t.YNc(3,vm,1,4,"ng-container",18),t.YNc(4,xm,1,3,"circle",29),t.qZA()),2&n){const e=r.$implicit,i=t.oxw(2);t.ekj("old-node",i.animate&&i.oldNodes.has(e.id)),t.Q6J("id",e.id),t.uIk("transform",e.transform),t.xp6(2),t.Q6J("ngIf",i.miniMapNodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),t.xp6(1),t.Q6J("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function bm(n,r){if(1&n){const e=t.EpF();t.O4$(),t.TgZ(0,"g",31),t.TgZ(1,"rect",32),t.NdJ("mousedown",function(a){return t.CHM(e),t.oxw().onMinimapPanTo(a)}),t.qZA(),t.TgZ(2,"g"),t.TgZ(3,"g",33),t.YNc(4,ym,5,7,"g",34),t.qZA(),t.TgZ(5,"rect",35),t.NdJ("mousedown",function(){return t.CHM(e),t.oxw().onMinimapDragMouseDown()}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.uIk("transform",e.minimapTransform)("clip-path","url(#"+e.minimapClipPathId+")"),t.xp6(1),t.uIk("width",e.graphDims.width/e.minimapScaleCoefficient)("height",e.graphDims.height/e.minimapScaleCoefficient),t.xp6(1),t.Udp("transform","translate("+-e.minimapOffsetX/e.minimapScaleCoefficient+"px,"+-e.minimapOffsetY/e.minimapScaleCoefficient+"px)"),t.xp6(1),t.Udp("transform","scale("+1/e.minimapScaleCoefficient+")"),t.xp6(1),t.Q6J("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy),t.xp6(1),t.ekj("panning",e.isMinimapPanning),t.uIk("transform","translate("+e.panOffsetX/e.zoomLevel/-e.minimapScaleCoefficient+","+e.panOffsetY/e.zoomLevel/-e.minimapScaleCoefficient+")")("width",e.width/e.minimapScaleCoefficient/e.zoomLevel)("height",e.height/e.minimapScaleCoefficient/e.zoomLevel)}}const Tm=["*"],wl={};function mr(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,wl[n]?mr():(wl[n]=!0,n)}var Xr=(()=>{return(n=Xr||(Xr={})).Both="both",n.Horizontal="horizontal",n.Vertical="vertical",Xr;var n})(),Wr=(()=>{return(n=Wr||(Wr={})).UpperLeft="UpperLeft",n.UpperRight="UpperRight",Wr;var n})();function Cm(n,r,e){e=e||{};let i,a,o,d=null,y=0;function S(){y=!1===e.leading?0:+new Date,d=null,o=n.apply(i,a)}return function(){const F=+new Date;!y&&!1===e.leading&&(y=F);const H=r-(F-y);return i=this,a=arguments,H<=0?(clearTimeout(d),d=null,y=F,o=n.apply(i,a)):!d&&!1!==e.trailing&&(d=setTimeout(S,H)),o}}function wm(n,r){return function(i,a,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:o.enumerable,value:Cm(o.value,n,r)}),this[a]}}}}let Al=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Am{constructor(r,e,i){"string"==typeof r&&(r=Al.find(a=>a.name===r)),this.colorDomain=r.domain,this.domain=e,this.customColors=i,this.scale=this.generateColorScheme(r,this.domain)}generateColorScheme(r,e){return"string"==typeof r&&(r=Al.find(i=>i.name===r)),ys().range(r.domain).domain(e)}getColor(r){if(null==r)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(r);const e=r.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(r)}}let Em=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.visible=new t.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275dir=t.lG2({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),n})();var $r=(()=>{return(n=$r||($r={})).LEFT_TO_RIGHT="LR",n.RIGHT_TO_LEFT="RL",n.TOP_TO_BOTTOM="TB",n.BOTTOM_TO_TOM="BT",$r;var n})();function Qr(n){return"string"==typeof n?{id:n,x:0,y:0}:n}function El(n,r){return"number"==typeof r?n[r]:r}const Dl={dagre:class Dm{constructor(){this.defaultSettings={orientation:$r.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Hr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;for(const e in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[e],a=r.nodes.find(o=>o.id===i.id);a.position={x:i.x,y:i.y},a.dimension={width:i.width,height:i.height}}return r}updateEdge(r,e){const i=r.nodes.find(S=>S.id===e.source),a=r.nodes.find(S=>S.id===e.target),o=i.position.y<=a.position.y?-1:1;return e.points=[{x:i.position.x,y:i.position.y-o*(i.dimension.height/2)},{x:a.position.x,y:a.position.y+o*(a.dimension.height/2)}],r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Hr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreCluster:class Lm{constructor(){this.defaultSettings={orientation:$r.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Hr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;const e=i=>{const a=this.dagreGraph._nodes[i.id];return Object.assign(Object.assign({},i),{position:{x:a.x,y:a.y},dimension:{width:a.width,height:a.height}})};return r.clusters=(r.clusters||[]).map(e),r.nodes=r.nodes.map(e),r}updateEdge(r,e){const i=r.nodes.find(S=>S.id===e.source),a=r.nodes.find(S=>S.id===e.target),o=i.position.y<=a.position.y?-1:1;return e.points=[{x:i.position.x,y:i.position.y-o*(i.dimension.height/2)},{x:a.position.x,y:a.position.y+o*(a.dimension.height/2)}],r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Hr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreClusters=r.clusters||[],this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(const i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(a=>{this.dagreGraph.setParent(a,i.id)});for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreNodesOnly:class Im{constructor(){this.defaultSettings={orientation:$r.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(r){this.createDagreGraph(r),Hr.layout(this.dagreGraph),r.edgeLabels=this.dagreGraph._edgeLabels;for(const e in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[e],a=r.nodes.find(o=>o.id===i.id);a.position={x:i.x,y:i.y},a.dimension={width:i.width,height:i.height}}for(const e of r.edges)this.updateEdge(r,e);return r}updateEdge(r,e){const i=r.nodes.find(It=>It.id===e.source),a=r.nodes.find(It=>It.id===e.target),o="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",d="y"===o?"x":"y",y="y"===o?"height":"width",S=i.position[o]<=a.position[o]?-1:1,F={[d]:i.position[d],[o]:i.position[o]-S*(i.dimension[y]/2)},H={[d]:a.position[d],[o]:a.position[o]+S*(a.dimension[y]/2)},lt=this.settings.curveDistance||this.defaultSettings.curveDistance;e.points=[F,{[d]:F[d],[o]:F[o]-S*lt},{[d]:H[d],[o]:H[o]+S*lt},H];const _t=r.edgeLabels[`${e.source}\x01${e.target}\x01\0`];return _t&&(_t.points=e.points),r}createDagreGraph(r){const e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Hr.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=r.nodes.map(i=>{const a=Object.assign({},i);return a.width=i.dimension.width,a.height=i.dimension.height,a.x=i.position.x,a.y=i.position.y,a}),this.dagreEdges=r.edges.map(i=>{const a=Object.assign({},i);return a.id||(a.id=mr()),a});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},d3ForceDirected:class Mm{constructor(){this.defaultSettings={force:Tl().force("charge",Cl().strength(-150)).force("collide",gl(5)),forceLink:bl().id(r=>r.id).distance(()=>100)},this.settings={},this.outputGraph$=new $i.xQ}run(r){return this.inputGraph=r,this.d3Graph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign({},e))],edges:[...this.inputGraph.edges.map(e=>Object.assign({},e))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(r,e){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(r){return this.outputGraph.nodes=this.d3Graph.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||mr(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(e=>Object.assign(Object.assign({},e),{source:Qr(e.source).id,target:Qr(e.target).id,points:[{x:Qr(e.source).x,y:Qr(e.source).y},{x:Qr(e.target).x,y:Qr(e.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(r,e){this.settings.force.alphaTarget(.3).restart();const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(this.draggingStart={x:e.x-i.x,y:e.y-i.y},i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDrag(r,e){if(!r)return;const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDragEnd(r,e){if(!r)return;const i=this.d3Graph.nodes.find(a=>a.id===r.id);!i||(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}},colaForceDirected:class Om{constructor(){this.defaultSettings={force:(0,Jp.d3adaptor)(Object.assign(Object.assign(Object.assign({},x),c),v)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new $i.xQ}run(r){return this.inputGraph=r,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(e=>Object.assign(Object.assign({},e),{width:e.dimension?e.dimension.width:20,height:e.dimension?e.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(e=>({padding:5,groups:e.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(a=>a.id===i)).filter(i=>i>=0),leaves:e.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(a=>a.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(e=>{const i=this.inputGraph.nodes.findIndex(o=>e.source===o.id),a=this.inputGraph.nodes.findIndex(o=>e.target===o.id);if(-1!==i&&-1!==a)return Object.assign(Object.assign({},e),{source:i,target:a})}).filter(e=>!!e)],groupLinks:[...this.inputGraph.edges.map(e=>{const i=this.inputGraph.nodes.findIndex(o=>e.source===o.id),a=this.inputGraph.nodes.findIndex(o=>e.target===o.id);if(!(i>=0&&a>=0))return e}).filter(e=>!!e)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(r,e){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(r){return this.outputGraph.nodes=r.nodes.map(e=>Object.assign(Object.assign({},e),{id:e.id||mr(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=r.links.map(e=>{const i=El(r.nodes,e.source),a=El(r.nodes,e.target);return Object.assign(Object.assign({},e),{source:i.id,target:a.id,points:[i.bounds.rayIntersection(a.bounds.cx(),a.bounds.cy()),a.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]})}).concat(r.groupLinks.map(e=>{const i=r.nodes.find(y=>y.id===e.source),a=r.nodes.find(y=>y.id===e.target),o=i||r.groups.find(y=>y.id===e.source),d=a||r.groups.find(y=>y.id===e.target);return Object.assign(Object.assign({},e),{source:o.id,target:d.id,points:[o.bounds.rayIntersection(d.bounds.cx(),d.bounds.cy()),d.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy())]})})),this.outputGraph.clusters=r.groups.map((e,i)=>Object.assign(Object.assign({},this.inputGraph.clusters[i]),{dimension:{width:e.bounds?e.bounds.width():20,height:e.bounds?e.bounds.height():20},position:{x:e.bounds?e.bounds.x+e.bounds.width()/2:0,y:e.bounds?e.bounds.y+e.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(r,e){const i=this.outputGraph.nodes.findIndex(o=>o.id===r.id),a=this.internalGraph.nodes[i];!a||(this.draggingStart={x:a.x-e.x,y:a.y-e.y},a.fixed=1,this.settings.force.start())}onDrag(r,e){if(!r)return;const i=this.outputGraph.nodes.findIndex(o=>o.id===r.id),a=this.internalGraph.nodes[i];!a||(a.x=this.draggingStart.x+e.x,a.y=this.draggingStart.y+e.y)}onDragEnd(r,e){if(!r)return;const i=this.outputGraph.nodes.findIndex(o=>o.id===r.id),a=this.internalGraph.nodes[i];!a||(a.fixed=0)}}};let Ll=(()=>{class n{getLayout(e){if(Dl[e])return new Dl[e];throw new Error(`Unknown layout type '${e}'`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Nm=(()=>{class n{constructor(){this.mouseWheelUp=new t.vpe,this.mouseWheelDown=new t.vpe}onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onWheel(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){window.event&&(e=window.event);const i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY||e.deltaX)),o=e.wheelDelta?i<0:i>0;(e.wheelDelta?i>0:i<0)?this.mouseWheelUp.emit(e):o&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","mouseWheel",""]],hostBindings:function(e,i){1&e&&t.NdJ("mousewheel",function(o){return i.onMouseWheelChrome(o)})("DOMMouseScroll",function(o){return i.onMouseWheelFirefox(o)})("wheel",function(o){return i.onWheel(o)})("onmousewheel",function(o){return i.onMouseWheelIE(o)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),n})(),Pm=(()=>{class n{constructor(e,i,a,o){this.el=e,this.zone=i,this.cd=a,this.layoutService=o,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=Xr.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=Wr.UpperRight,this.scheme="cool",this.animations=!0,this.select=new t.vpe,this.activate=new t.vpe,this.deactivate=new t.vpe,this.zoomChange=new t.vpe,this.clickHandler=new t.vpe,this.isMouseMoveCalled=!1,this.graphSubscription=new ol.w,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=d=>d.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(e){this.zoomTo(Number(e))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(e){this.panTo(Number(e),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(e){this.panTo(null,Number(e))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(e=>{this.panToNodeId(e)})),this.minimapClipPathId=`minimapClip${mr()}`}ngOnChanges(e){this.basicUpdate();const{layoutSettings:a}=e;this.setLayout(this.layout),a&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(e){this.initialized=!1,e||(e="dagre"),"string"==typeof e&&(this.layout=this.layoutService.getLayout(e),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(e){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=e)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const e of this.subscriptions)e.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Em(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=Ah.beta(1)),this.zone.run(()=>{this.dims=function Sm({width:n,height:r}){let e=n,i=r;return e=Math.max(0,e),i=Math.max(0,i),{width:Math.floor(e),height:Math.floor(i)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new ol.w;const e=i=>(i.meta||(i.meta={}),i.id||(i.id=mr()),i.dimension?i.meta.forceDimensions=void 0===i.meta.forceDimensions||i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position={x:0,y:0},i.data=i.data?i.data:{},i);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(e):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(e):[],edges:this.links.length>0?[...this.links].map(i=>(i.id||(i.id=mr()),i)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const e=this.layout.run(this.graph),i=e instanceof ll.y?e:(0,ve.of)(e);this.graphSubscription.add(i.subscribe(a=>{this.graph=a,this.tick()})),0!==this.graph.nodes.length&&i.pipe((0,ap.P)()).subscribe(()=>this.applyNodeDimensions())}tick(){const e=new Set;this.graph.nodes.map(o=>{o.transform=`translate(${o.position.x-o.dimension.width/2||0}, ${o.position.y-o.dimension.height/2||0})`,o.data||(o.data={}),o.data.color=this.colors.getColor(this.groupResultsBy(o)),e.add(o.id)});const i=new Set;(this.graph.clusters||[]).map(o=>{o.transform=`translate(${o.position.x-o.dimension.width/2||0}, ${o.position.y-o.dimension.height/2||0})`,o.data||(o.data={}),o.data.color=this.colors.getColor(this.groupResultsBy(o)),i.add(o.id)}),setTimeout(()=>{this.oldNodes=e,this.oldClusters=i},500);const a=[];for(const o in this.graph.edgeLabels){const d=this.graph.edgeLabels[o],y=o.replace(/[^\w-]*/g,""),S=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let F=this._oldLinks.find(S?Zt=>`${Zt.source}${Zt.target}${Zt.id}`===y:Zt=>`${Zt.source}${Zt.target}`===y);const H=this.graph.edges.find(S?Zt=>`${Zt.source}${Zt.target}${Zt.id}`===y:Zt=>`${Zt.source}${Zt.target}`===y);F?F.data&&H&&H.data&&JSON.stringify(F.data)!==JSON.stringify(H.data)&&(F.data=H.data):F=H||d,F.oldLine=F.line;const lt=d.points,ot=this.generateLine(lt),_t=Object.assign({},F);_t.line=ot,_t.points=lt,this.updateMidpointOnEdge(_t,lt);const It=lt[Math.floor(lt.length/2)];It&&(_t.textTransform=`translate(${It.x||0},${It.y||0})`),_t.textAngle=0,_t.oldLine||(_t.oldLine=_t.line),this.calcDominantBaseline(_t),a.push(_t)}this.graph.edges=a,this.graph.edges&&(this._oldLinks=this.graph.edges.map(o=>{const d=Object.assign({},o);return d.oldLine=o.line,d})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case Wr.UpperLeft:return"";case Wr.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let e=1/0,i=-1/0,a=1/0,o=-1/0;for(let d=0;d<this.graph.nodes.length;d++){const y=this.graph.nodes[d];e=y.position.x<e?y.position.x:e,a=y.position.y<a?y.position.y:a,i=y.position.x+y.dimension.width>i?y.position.x+y.dimension.width:i,o=y.position.y+y.dimension.height>o?y.position.y+y.dimension.height:o}e-=100,a-=100,i+=100,o+=100,this.graphDims.width=i-e,this.graphDims.height=o-a,this.minimapOffsetX=e,this.minimapOffsetY=a}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(e=>{const i=e.nativeElement,a=this.graph.nodes.find(d=>d.id===i.id);if(!a)return;let o;try{if(o=i.getBBox(),!o.width||!o.height)return}catch(d){return}if(a.dimension.height=this.nodeHeight?a.dimension.height&&a.meta.forceDimensions?a.dimension.height:this.nodeHeight:a.dimension.height&&a.meta.forceDimensions?a.dimension.height:o.height,this.nodeMaxHeight&&(a.dimension.height=Math.max(a.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(a.dimension.height=Math.min(a.dimension.height,this.nodeMinHeight)),this.nodeWidth)a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let d;try{for(const y of i.getElementsByTagName("text")){const S=y.getBBox();d?(S.width>d.width&&(d.width=S.width),S.height>d.height&&(d.height=S.height)):d=S}}catch(y){return}a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:d.width+20}else a.dimension.width=a.dimension.width&&a.meta.forceDimensions?a.dimension.width:o.width;this.nodeMaxWidth&&(a.dimension.width=Math.max(a.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(a.dimension.width=Math.min(a.dimension.width,this.nodeMinWidth))})}redrawLines(e=this.animate){this.linkElements.map(i=>{const a=this.graph.edges.find(o=>o.id===i.nativeElement.id);a&&(Lo(i.nativeElement).select(".line").attr("d",a.oldLine).transition().ease(Fo).duration(e?500:0).attr("d",a.line),Lo(this.el.nativeElement).select(`#${a.id}`).attr("d",a.oldTextPath).transition().ease(Fo).duration(e?500:0).attr("d",a.textPath),this.updateMidpointOnEdge(a,a.points))})}calcDominantBaseline(e){const i=e.points[0],a=e.points[e.points.length-1];e.oldTextPath=e.textPath,a.x<i.x?(e.dominantBaseline="text-before-edge",e.textPath=this.generateLine([...e.points].reverse())):(e.dominantBaseline="text-after-edge",e.textPath=e.line)}generateLine(e){return function Ih(){var n=Lh,r=kh,e=Da(!0),i=null,a=Dh,o=null;function d(y){var S,H,ot,F=y.length,lt=!1;for(null==i&&(o=a(ot=Eh())),S=0;S<=F;++S)!(S<F&&e(H=y[S],S,y))===lt&&((lt=!lt)?o.lineStart():o.lineEnd()),lt&&o.point(+n(H,S,y),+r(H,S,y));if(ot)return o=null,ot+""||null}return d.x=function(y){return arguments.length?(n="function"==typeof y?y:Da(+y),d):n},d.y=function(y){return arguments.length?(r="function"==typeof y?y:Da(+y),d):r},d.defined=function(y){return arguments.length?(e="function"==typeof y?y:Da(!!y),d):e},d.curve=function(y){return arguments.length?(a=y,null!=i&&(o=a(i)),d):a},d.context=function(y){return arguments.length?(null==y?i=o=null:o=a(i=y),d):i},d}().x(a=>a.x).y(a=>a.y).curve(this.curve)(e)}onZoom(e,i){if(this.enableTrackpadSupport&&!e.ctrlKey)return void this.pan(-1*e.deltaX,-1*e.deltaY);const a=1+("in"===i?this.zoomSpeed:-this.zoomSpeed),o=this.zoomLevel*a;if(!(o<=this.minZoomLevel||o>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&e){const d=e.clientX,y=e.clientY,S=this.el.nativeElement.querySelector("svg"),F=S.querySelector("g.chart"),H=S.createSVGPoint();H.x=d,H.y=y;const lt=H.matrixTransform(F.getScreenCTM().inverse());this.pan(lt.x,lt.y,!0),this.zoom(a),this.pan(-lt.x,-lt.y,!0)}else this.zoom(a)}pan(e,i,a=!1){const o=a?1:this.zoomLevel;this.transformationMatrix=ua(this.transformationMatrix,dl(e/o,i/o)),this.updateTransform()}panTo(e,i){null==e||isNaN(e)||null==i||isNaN(i)||(this.transformationMatrix=ua(this.transformationMatrix,dl((-this.panOffsetX-e*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-i*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(e){this.transformationMatrix=ua(this.transformationMatrix,function pp(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return fp(r)&&(r=n),{a:n,c:0,e:0,b:0,d:r,f:0}}(e,e)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(e){this.transformationMatrix.a=isNaN(e)?this.transformationMatrix.a:Number(e),this.transformationMatrix.d=isNaN(e)?this.transformationMatrix.d:Number(e),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(e){if(!this.draggingEnabled)return;const i=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(i,e),i.position.x+=e.movementX/this.zoomLevel,i.position.y+=e.movementY/this.zoomLevel,i.transform=`translate(${i.position.x-i.dimension.width/2}, ${i.position.y-i.dimension.height/2})`;for(const d of this.graph.edges)if((d.target===i.id||d.source===i.id||d.target.id===i.id||d.source.id===i.id)&&this.layout&&"string"!=typeof this.layout){const y=this.layout.updateEdge(this.graph,d),S=y instanceof ll.y?y:(0,ve.of)(y);this.graphSubscription.add(S.subscribe(F=>{this.graph=F,this.redrawEdge(d)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(e){const i=this.generateLine(e.points);this.calcDominantBaseline(e),e.oldLine=e.line,e.line=i}updateTransform(){this.transform=function gp(n){return function hl(n){return"matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")"}(n)}(function xp(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(n.a*r)/r,b:Math.round(n.b*r)/r,c:Math.round(n.c*r)/r,d:Math.round(n.d*r)/r,e:Math.round(n.e*r)/r,f:Math.round(n.f*r)/r}}(this.transformationMatrix,100))}onClick(e){this.select.emit(e)}onActivate(e){this.activeEntries.indexOf(e)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const i=this.activeEntries.indexOf(e);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(e=>this.groupResultsBy(e)).reduce((e,i)=>-1!==e.indexOf(i)?e:e.concat([i]),[]).sort()}trackLinkBy(e,i){return i.id}trackNodeBy(e,i){return i.id}setColors(){this.colors=new Am(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(e){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,e):this.isDragging&&this.draggingEnabled&&this.onDrag(e)}onMouseDown(e){this.isMouseMoveCalled=!1}graphClick(e){this.isMouseMoveCalled||this.clickHandler.emit(e)}onTouchStart(e){this._touchLastX=e.changedTouches[0].clientX,this._touchLastY=e.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(e){if(this.isPanning&&this.panningEnabled){const i=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY,o=i-this._touchLastX,d=a-this._touchLastY;this._touchLastX=i,this._touchLastY=a,this.pan(o,d)}}onTouchEnd(e){this.isPanning=!1}onMouseUp(e){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,e)}onNodeMouseDown(e,i){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=i,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(i,e))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(e){this.panTo((e.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(e.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let a=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);a<this.minZoomLevel&&(a=this.minZoomLevel),a>this.maxZoomLevel&&(a=this.maxZoomLevel),a!==this.zoomLevel&&(this.zoomLevel=a,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(e){const i=this.graph.nodes.find(a=>a.id===e);!i||this.panTo(i.position.x,i.position.y)}panWithConstraints(e,i){let a=i.movementX,o=i.movementY;switch(this.isMinimapPanning&&(a=-this.minimapScaleCoefficient*a*this.zoomLevel,o=-this.minimapScaleCoefficient*o*this.zoomLevel),e){case Xr.Horizontal:this.pan(a,0);break;case Xr.Vertical:this.pan(0,o);break;default:this.pan(a,o)}}updateMidpointOnEdge(e,i){if(e&&i)if(i.length%2==1)e.midPoint=i[Math.floor(i.length/2)];else{const a=i[i.length/2],o=i[i.length/2-1];e.midPoint={x:(a.x+o.x)/2,y:(a.y+o.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const a=this.el.nativeElement;if(null!==a.parentNode){const o=a.parentNode.getBoundingClientRect();e=o.width,i=o.height}return e&&i?{width:e,height:i}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const i=(0,cl.R)(window,"resize").pipe((0,at.b)(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Ll))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-graph"]],contentQueries:function(e,i,a){if(1&e&&(t.Suo(a,qp,5),t.Suo(a,Kp,5),t.Suo(a,tm,5),t.Suo(a,em,5),t.Suo(a,nm,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.linkTemplate=o.first),t.iGM(o=t.CRH())&&(i.nodeTemplate=o.first),t.iGM(o=t.CRH())&&(i.clusterTemplate=o.first),t.iGM(o=t.CRH())&&(i.defsTemplate=o.first),t.iGM(o=t.CRH())&&(i.miniMapNodeTemplate=o.first)}},viewQuery:function(e,i){if(1&e&&(t.Gf(im,5),t.Gf(rm,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.nodeElements=a),t.iGM(a=t.CRH())&&(i.linkElements=a)}},hostBindings:function(e,i){1&e&&t.NdJ("mousemove",function(o){return i.onMouseMove(o)},!1,t.evT)("mousedown",function(o){return i.onMouseDown(o)},!1,t.evT)("click",function(o){return i.graphClick(o)},!1,t.evT)("touchmove",function(o){return i.onTouchMove(o)},!1,t.evT)("mouseup",function(o){return i.onMouseUp(o)},!1,t.evT)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[t.TTD],ngContentSelectors:Tm,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("mouseWheelUp",function(o){return i.onZoom(o,"in")})("mouseWheelDown",function(o){return i.onZoom(o,"out")}),t.O4$(),t.TgZ(1,"svg",1),t.YNc(2,gm,12,12,"g",2),t.TgZ(3,"clipPath"),t._UZ(4,"rect"),t.qZA(),t.YNc(5,bm,6,15,"g",3),t.qZA(),t.qZA()),2&e&&(t.Udp("width",i.width,"px"),t.Q6J("@animationState","active")("@.disabled",!i.animations),t.xp6(1),t.uIk("width",i.width)("height",i.height),t.xp6(1),t.Q6J("ngIf",i.initialized&&i.graph),t.xp6(1),t.uIk("id",i.minimapClipPathId),t.xp6(1),t.uIk("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),t.xp6(1),t.Q6J("ngIf",i.showMiniMap))},directives:[Nm,_.O5,_.tP,_.sg],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,vn.X$)("animationState",[(0,vn.eR)(":enter",[(0,vn.oB)({opacity:0}),(0,vn.jt)("500ms 100ms",(0,vn.oB)({opacity:1}))])])]},changeDetection:0}),(0,Ei.gn)([wm(500)],n.prototype,"updateMinimap",null),n})(),Fm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Ll],imports:[[_.ez]]}),n})(),Rm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez],Fm]}),n})();var kl=s(47429);function As(n,r,e){n.prototype=r.prototype=e,e.constructor=n}function Il(n,r){var e=Object.create(n.prototype);for(var i in r)e[i]=r[i];return e}function da(){}s(52016);var Ua=1/.7,Jr="\\s*([+-]?\\d+)\\s*",pa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Um=/^#([0-9a-f]{3,8})$/,Gm=new RegExp("^rgb\\("+[Jr,Jr,Jr]+"\\)$"),Vm=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),zm=new RegExp("^rgba\\("+[Jr,Jr,Jr,pa]+"\\)$"),Ym=new RegExp("^rgba\\("+[sr,sr,sr,pa]+"\\)$"),Hm=new RegExp("^hsl\\("+[pa,sr,sr]+"\\)$"),Xm=new RegExp("^hsla\\("+[pa,sr,sr,pa]+"\\)$"),Ml={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ol(){return this.rgb().formatHex()}function Nl(){return this.rgb().formatRgb()}function Nr(n){var r,e;return n=(n+"").trim().toLowerCase(),(r=Um.exec(n))?(e=r[1].length,r=parseInt(r[1],16),6===e?Pl(r):3===e?new Xi(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===e?Ga(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===e?Ga(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=Gm.exec(n))?new Xi(r[1],r[2],r[3],1):(r=Vm.exec(n))?new Xi(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=zm.exec(n))?Ga(r[1],r[2],r[3],r[4]):(r=Ym.exec(n))?Ga(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=Hm.exec(n))?Zl(r[1],r[2]/100,r[3]/100,1):(r=Xm.exec(n))?Zl(r[1],r[2]/100,r[3]/100,r[4]):Ml.hasOwnProperty(n)?Pl(Ml[n]):"transparent"===n?new Xi(NaN,NaN,NaN,0):null}function Pl(n){return new Xi(n>>16&255,n>>8&255,255&n,1)}function Ga(n,r,e,i){return i<=0&&(n=r=e=NaN),new Xi(n,r,e,i)}function $m(n){return n instanceof da||(n=Nr(n)),n?new Xi((n=n.rgb()).r,n.g,n.b,n.opacity):new Xi}function Va(n,r,e,i){return 1===arguments.length?$m(n):new Xi(n,r,e,null==i?1:i)}function Xi(n,r,e,i){this.r=+n,this.g=+r,this.b=+e,this.opacity=+i}function Fl(){return"#"+Ss(this.r)+Ss(this.g)+Ss(this.b)}function Rl(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function Ss(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function Zl(n,r,e,i){return i<=0?n=r=e=NaN:e<=0||e>=1?n=r=NaN:r<=0&&(n=NaN),new or(n,r,e,i)}function Bl(n){if(n instanceof or)return new or(n.h,n.s,n.l,n.opacity);if(n instanceof da||(n=Nr(n)),!n)return new or;if(n instanceof or)return n;var r=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,a=Math.min(r,e,i),o=Math.max(r,e,i),d=NaN,y=o-a,S=(o+a)/2;return y?(d=r===o?(e-i)/y+6*(e<i):e===o?(i-r)/y+2:(r-e)/y+4,y/=S<.5?o+a:2-o-a,d*=60):y=S>0&&S<1?0:d,new or(d,y,S,n.opacity)}function or(n,r,e,i){this.h=+n,this.s=+r,this.l=+e,this.opacity=+i}function Es(n,r,e){return 255*(n<60?r+(e-r)*n/60:n<180?e:n<240?r+(e-r)*(240-n)/60:r)}function Ul(n,r,e,i,a){var o=n*n,d=o*n;return((1-3*n+3*o-d)*r+(4-6*o+3*d)*e+(1+3*n+3*o-3*d)*i+d*a)/6}As(da,Nr,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:Ol,formatHex:Ol,formatHsl:function Wm(){return Bl(this).formatHsl()},formatRgb:Nl,toString:Nl}),As(Xi,Va,Il(da,{brighter:function(n){return n=null==n?Ua:Math.pow(Ua,n),new Xi(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Xi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fl,formatHex:Fl,formatRgb:Rl,toString:Rl})),As(or,function Qm(n,r,e,i){return 1===arguments.length?Bl(n):new or(n,r,e,null==i?1:i)},Il(da,{brighter:function(n){return n=null==n?Ua:Math.pow(Ua,n),new or(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new or(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),r=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*r,a=2*e-i;return new Xi(Es(n>=240?n-240:n+120,a,i),Es(n,a,i),Es(n<120?n+240:n-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const Ds=n=>()=>n;function Vl(n,r){var e=r-n;return e?function Gl(n,r){return function(e){return n+e*r}}(n,e):Ds(isNaN(n)?r:n)}const za=function n(r){var e=function Km(n){return 1==(n=+n)?Vl:function(r,e){return e-r?function qm(n,r,e){return n=Math.pow(n,e),r=Math.pow(r,e)-n,e=1/e,function(i){return Math.pow(n+i*r,e)}}(r,e,n):Ds(isNaN(r)?e:r)}}(r);function i(a,o){var d=e((a=Va(a)).r,(o=Va(o)).r),y=e(a.g,o.g),S=e(a.b,o.b),F=Vl(a.opacity,o.opacity);return function(H){return a.r=d(H),a.g=y(H),a.b=S(H),a.opacity=F(H),a+""}}return i.gamma=n,i}(1);function zl(n){return function(r){var d,y,e=r.length,i=new Array(e),a=new Array(e),o=new Array(e);for(d=0;d<e;++d)y=Va(r[d]),i[d]=y.r||0,a[d]=y.g||0,o[d]=y.b||0;return i=n(i),a=n(a),o=n(o),y.opacity=1,function(S){return y.r=i(S),y.g=a(S),y.b=o(S),y+""}}}function lr(n,r){return n=+n,r=+r,function(e){return n*(1-e)+r*e}}zl(function Jm(n){var r=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),a=n[i],o=n[i+1];return Ul((e-i/r)*r,i>0?n[i-1]:2*a-o,a,o,i<r-1?n[i+2]:2*o-a)}}),zl(function jm(n){var r=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*r);return Ul((e-i/r)*r,n[(i+r-1)%r],n[i%r],n[(i+1)%r],n[(i+2)%r])}});var Ls=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ks=new RegExp(Ls.source,"g");function Hl(n,r){var i,a,o,e=Ls.lastIndex=ks.lastIndex=0,d=-1,y=[],S=[];for(n+="",r+="";(i=Ls.exec(n))&&(a=ks.exec(r));)(o=a.index)>e&&(o=r.slice(e,o),y[d]?y[d]+=o:y[++d]=o),(i=i[0])===(a=a[0])?y[d]?y[d]+=a:y[++d]=a:(y[++d]=null,S.push({i:d,x:lr(i,a)})),e=ks.lastIndex;return e<r.length&&(o=r.slice(e),y[d]?y[d]+=o:y[++d]=o),y.length<2?S[0]?function ig(n){return function(r){return n(r)+""}}(S[0].x):function ng(n){return function(){return n}}(r):(r=S.length,function(F){for(var lt,H=0;H<r;++H)y[(lt=S[H]).i]=lt.x(F);return y.join("")})}s(29132);var ma=s(37853),sg=(0,la.Z)("start","end","cancel","interrupt"),og=[];function Xa(n,r,e,i,a,o){var d=n.__transition;if(d){if(e in d)return}else n.__transition={};!function lg(n,r,e){var a,i=n.__transition;function d(F){var H,lt,ot,_t;if(1!==e.state)return S();for(H in i)if((_t=i[H]).name===e.name){if(3===_t.state)return(0,ca.Z)(d);4===_t.state?(_t.state=6,_t.timer.stop(),_t.on.call("interrupt",n,n.__data__,_t.index,_t.group),delete i[H]):+H<r&&(_t.state=6,_t.timer.stop(),_t.on.call("cancel",n,n.__data__,_t.index,_t.group),delete i[H])}if((0,ca.Z)(function(){3===e.state&&(e.state=4,e.timer.restart(y,e.delay,e.time),y(F))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(ot=e.tween.length),H=0,lt=-1;H<ot;++H)(_t=e.tween[H].value.call(n,n.__data__,e.index,e.group))&&(a[++lt]=_t);a.length=lt+1}}function y(F){for(var H=F<e.duration?e.ease.call(null,F/e.duration):(e.timer.restart(S),e.state=5,1),lt=-1,ot=a.length;++lt<ot;)a[lt].call(n,H);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),S())}function S(){for(var F in e.state=6,e.timer.stop(),delete i[r],i)return;delete n.__transition}i[r]=e,e.timer=(0,er.HT)(function o(F){e.state=1,e.timer.restart(d,e.delay,e.time),e.delay<=F&&d(F-e.delay)},0,e.time)}(n,e,{name:r,index:i,group:a,on:sg,tween:og,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ns(n,r){var e=rr(n,r);if(e.state>0)throw new Error("too late; already scheduled");return e}function cr(n,r){var e=rr(n,r);if(e.state>3)throw new Error("too late; already running");return e}function rr(n,r){var e=n.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}var Wa,Jl=180/Math.PI,Fs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jl(n,r,e,i,a,o){var d,y,S;return(d=Math.sqrt(n*n+r*r))&&(n/=d,r/=d),(S=n*e+r*i)&&(e-=n*S,i-=r*S),(y=Math.sqrt(e*e+i*i))&&(e/=y,i/=y,S/=y),n*i<r*e&&(n=-n,r=-r,S=-S,d=-d),{translateX:a,translateY:o,rotate:Math.atan2(r,n)*Jl,skewX:Math.atan(S)*Jl,scaleX:d,scaleY:y}}function ql(n,r,e,i){function a(F){return F.length?F.pop()+" ":""}return function(F,H){var lt=[],ot=[];return F=n(F),H=n(H),function o(F,H,lt,ot,_t,It){if(F!==lt||H!==ot){var Zt=_t.push("translate(",null,r,null,e);It.push({i:Zt-4,x:lr(F,lt)},{i:Zt-2,x:lr(H,ot)})}else(lt||ot)&&_t.push("translate("+lt+r+ot+e)}(F.translateX,F.translateY,H.translateX,H.translateY,lt,ot),function d(F,H,lt,ot){F!==H?(F-H>180?H+=360:H-F>180&&(F+=360),ot.push({i:lt.push(a(lt)+"rotate(",null,i)-2,x:lr(F,H)})):H&&lt.push(a(lt)+"rotate("+H+i)}(F.rotate,H.rotate,lt,ot),function y(F,H,lt,ot){F!==H?ot.push({i:lt.push(a(lt)+"skewX(",null,i)-2,x:lr(F,H)}):H&&lt.push(a(lt)+"skewX("+H+i)}(F.skewX,H.skewX,lt,ot),function S(F,H,lt,ot,_t,It){if(F!==lt||H!==ot){var Zt=_t.push(a(_t)+"scale(",null,",",null,")");It.push({i:Zt-4,x:lr(F,lt)},{i:Zt-2,x:lr(H,ot)})}else(1!==lt||1!==ot)&&_t.push(a(_t)+"scale("+lt+","+ot+")")}(F.scaleX,F.scaleY,H.scaleX,H.scaleY,lt,ot),F=H=null,function(_t){for(var bt,It=-1,Zt=ot.length;++It<Zt;)lt[(bt=ot[It]).i]=bt.x(_t);return lt.join("")}}}var dg=ql(function ug(n){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return r.isIdentity?Fs:jl(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),fg=ql(function hg(n){return null!=n&&(Wa||(Wa=document.createElementNS("http://www.w3.org/2000/svg","g")),Wa.setAttribute("transform",n),n=Wa.transform.baseVal.consolidate())?jl((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Fs},", ",")",")"),Kl=s(36175);function pg(n,r){var e,i;return function(){var a=cr(this,n),o=a.tween;if(o!==e)for(var d=0,y=(i=e=o).length;d<y;++d)if(i[d].name===r){(i=i.slice()).splice(d,1);break}a.tween=i}}function mg(n,r,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var o=cr(this,n),d=o.tween;if(d!==i){a=(i=d).slice();for(var y={name:r,value:e},S=0,F=a.length;S<F;++S)if(a[S].name===r){a[S]=y;break}S===F&&a.push(y)}o.tween=a}}function Rs(n,r,e){var i=n._id;return n.each(function(){var a=cr(this,i);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return rr(a,i).value[r]}}function tc(n,r){var e;return("number"==typeof r?lr:r instanceof Nr?za:(e=Nr(r))?(r=e,za):Hl)(n,r)}function _g(n){return function(){this.removeAttribute(n)}}function vg(n){return function(){this.removeAttributeNS(n.space,n.local)}}function xg(n,r,e){var i,o,a=e+"";return function(){var d=this.getAttribute(n);return d===a?null:d===i?o:o=r(i=d,e)}}function yg(n,r,e){var i,o,a=e+"";return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===i?o:o=r(i=d,e)}}function bg(n,r,e){var i,a,o;return function(){var d,S,y=e(this);return null==y?void this.removeAttribute(n):(d=this.getAttribute(n))===(S=y+"")?null:d===i&&S===a?o:(a=S,o=r(i=d,y))}}function Tg(n,r,e){var i,a,o;return function(){var d,S,y=e(this);return null==y?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local))===(S=y+"")?null:d===i&&S===a?o:(a=S,o=r(i=d,y))}}function wg(n,r){return function(e){this.setAttribute(n,r.call(this,e))}}function Ag(n,r){return function(e){this.setAttributeNS(n.space,n.local,r.call(this,e))}}function Sg(n,r){var e,i;function a(){var o=r.apply(this,arguments);return o!==i&&(e=(i=o)&&Ag(n,o)),e}return a._value=r,a}function Eg(n,r){var e,i;function a(){var o=r.apply(this,arguments);return o!==i&&(e=(i=o)&&wg(n,o)),e}return a._value=r,a}function Lg(n,r){return function(){Ns(this,n).delay=+r.apply(this,arguments)}}function kg(n,r){return r=+r,function(){Ns(this,n).delay=r}}function Mg(n,r){return function(){cr(this,n).duration=+r.apply(this,arguments)}}function Og(n,r){return r=+r,function(){cr(this,n).duration=r}}function Pg(n,r){if("function"!=typeof r)throw new Error;return function(){cr(this,n).ease=r}}var Bg=s(97905);function zg(n,r,e){var i,a,o=function Vg(n){return(n+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||"start"===r})}(r)?Ns:cr;return function(){var d=o(this,n),y=d.on;y!==i&&(a=(i=y).copy()).on(r,e),d.on=a}}var Wg=s(29742),Qg=s(32037),jg=ma.ZP.prototype.constructor,ga=s(24476);function ec(n){return function(){this.style.removeProperty(n)}}function r_(n,r,e){return function(i){this.style.setProperty(n,r.call(this,i),e)}}function a_(n,r,e){var i,a;function o(){var d=r.apply(this,arguments);return d!==a&&(i=(a=d)&&r_(n,d,e)),i}return o._value=r,o}function u_(n){return function(r){this.textContent=n.call(this,r)}}function h_(n){var r,e;function i(){var a=n.apply(this,arguments);return a!==e&&(r=(e=a)&&u_(a)),r}return i._value=n,i}var m_=0;function gr(n,r,e,i){this._groups=n,this._parents=r,this._name=e,this._id=i}function nc(){return++m_}var Pr=ma.ZP.prototype;gr.prototype=function g_(n){return(0,ma.ZP)().transition(n)}.prototype={constructor:gr,select:function $g(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=(0,Wg.Z)(n));for(var i=this._groups,a=i.length,o=new Array(a),d=0;d<a;++d)for(var H,lt,y=i[d],S=y.length,F=o[d]=new Array(S),ot=0;ot<S;++ot)(H=y[ot])&&(lt=n.call(H,H.__data__,ot,y))&&("__data__"in H&&(lt.__data__=H.__data__),F[ot]=lt,Xa(F[ot],r,e,ot,F,rr(H,e)));return new gr(o,this._parents,r,e)},selectAll:function Jg(n){var r=this._name,e=this._id;"function"!=typeof n&&(n=(0,Qg.Z)(n));for(var i=this._groups,a=i.length,o=[],d=[],y=0;y<a;++y)for(var H,S=i[y],F=S.length,lt=0;lt<F;++lt)if(H=S[lt]){for(var _t,ot=n.call(H,H.__data__,lt,S),It=rr(H,e),Zt=0,bt=ot.length;Zt<bt;++Zt)(_t=ot[Zt])&&Xa(_t,r,e,Zt,ot,It);o.push(ot),d.push(H)}return new gr(o,d,r,e)},filter:function Ug(n){"function"!=typeof n&&(n=(0,Bg.Z)(n));for(var r=this._groups,e=r.length,i=new Array(e),a=0;a<e;++a)for(var S,o=r[a],d=o.length,y=i[a]=[],F=0;F<d;++F)(S=o[F])&&n.call(S,S.__data__,F,o)&&y.push(S);return new gr(i,this._parents,this._name,this._id)},merge:function Gg(n){if(n._id!==this._id)throw new Error;for(var r=this._groups,e=n._groups,i=r.length,o=Math.min(i,e.length),d=new Array(i),y=0;y<o;++y)for(var ot,S=r[y],F=e[y],H=S.length,lt=d[y]=new Array(H),_t=0;_t<H;++_t)(ot=S[_t]||F[_t])&&(lt[_t]=ot);for(;y<i;++y)d[y]=r[y];return new gr(d,this._parents,this._name,this._id)},selection:function qg(){return new jg(this._groups,this._parents)},transition:function f_(){for(var n=this._name,r=this._id,e=nc(),i=this._groups,a=i.length,o=0;o<a;++o)for(var S,d=i[o],y=d.length,F=0;F<y;++F)if(S=d[F]){var H=rr(S,r);Xa(S,n,e,F,d,{time:H.time+H.delay+H.duration,delay:0,duration:H.duration,ease:H.ease})}return new gr(i,this._parents,n,e)},call:Pr.call,nodes:Pr.nodes,node:Pr.node,size:Pr.size,empty:Pr.empty,each:Pr.each,on:function Yg(n,r){var e=this._id;return arguments.length<2?rr(this.node(),e).on.on(n):this.each(zg(e,n,r))},attr:function Cg(n,r){var e=(0,Kl.Z)(n),i="transform"===e?fg:tc;return this.attrTween(n,"function"==typeof r?(e.local?Tg:bg)(e,i,Rs(this,"attr."+n,r)):null==r?(e.local?vg:_g)(e):(e.local?yg:xg)(e,i,r))},attrTween:function Dg(n,r){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==r)return this.tween(e,null);if("function"!=typeof r)throw new Error;var i=(0,Kl.Z)(n);return this.tween(e,(i.local?Sg:Eg)(i,r))},style:function i_(n,r,e){var i="transform"==(n+="")?dg:tc;return null==r?this.styleTween(n,function Kg(n,r){var e,i,a;return function(){var o=(0,ga.S)(this,n),d=(this.style.removeProperty(n),(0,ga.S)(this,n));return o===d?null:o===e&&d===i?a:a=r(e=o,i=d)}}(n,i)).on("end.style."+n,ec(n)):"function"==typeof r?this.styleTween(n,function e_(n,r,e){var i,a,o;return function(){var d=(0,ga.S)(this,n),y=e(this),S=y+"";return null==y&&(this.style.removeProperty(n),S=y=(0,ga.S)(this,n)),d===S?null:d===i&&S===a?o:(a=S,o=r(i=d,y))}}(n,i,Rs(this,"style."+n,r))).each(function n_(n,r){var e,i,a,y,o="style."+r,d="end."+o;return function(){var S=cr(this,n),F=S.on,H=null==S.value[o]?y||(y=ec(r)):void 0;(F!==e||a!==H)&&(i=(e=F).copy()).on(d,a=H),S.on=i}}(this._id,n)):this.styleTween(n,function t_(n,r,e){var i,o,a=e+"";return function(){var d=(0,ga.S)(this,n);return d===a?null:d===i?o:o=r(i=d,e)}}(n,i,r),e).on("end.style."+n,null)},styleTween:function s_(n,r,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;return this.tween(i,a_(n,r,null==e?"":e))},text:function c_(n){return this.tween("text","function"==typeof n?function l_(n){return function(){var r=n(this);this.textContent=null==r?"":r}}(Rs(this,"text",n)):function o_(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function d_(n){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,h_(n))},remove:function Xg(){return this.on("end.remove",function Hg(n){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==n)return;r&&r.removeChild(this)}}(this._id))},tween:function gg(n,r){var e=this._id;if(n+="",arguments.length<2){for(var d,i=rr(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((d=i[a]).name===n)return d.value;return null}return this.each((null==r?pg:mg)(e,n,r))},delay:function Ig(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Lg:kg)(r,n)):rr(this.node(),r).delay},duration:function Ng(n){var r=this._id;return arguments.length?this.each(("function"==typeof n?Mg:Og)(r,n)):rr(this.node(),r).duration},ease:function Fg(n){var r=this._id;return arguments.length?this.each(Pg(r,n)):rr(this.node(),r).ease},easeVarying:function Zg(n){if("function"!=typeof n)throw new Error;return this.each(function Rg(n,r){return function(){var e=r.apply(this,arguments);if("function"!=typeof e)throw new Error;cr(this,n).ease=e}}(this._id,n))},end:function p_(){var n,r,e=this,i=e._id,a=e.size();return new Promise(function(o,d){var y={value:d},S={value:function(){0==--a&&o()}};e.each(function(){var F=cr(this,i),H=F.on;H!==n&&((r=(n=H).copy())._.cancel.push(y),r._.interrupt.push(y),r._.end.push(S)),F.on=r}),0===a&&o()})},[Symbol.iterator]:Pr[Symbol.iterator]};var __={time:null,delay:0,duration:250,ease:sl.tw};function v_(n,r){for(var e;!(e=n.__transition)||!(e=e[r]);)if(!(n=n.parentNode))throw new Error(`transition ${r} not found`);return e}ma.ZP.prototype.interrupt=function cg(n){return this.each(function(){!function Ps(n,r){var i,a,d,e=n.__transition,o=!0;if(e){for(d in r=null==r?null:r+"",e)(i=e[d]).name===r?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[d]):o=!1;o&&delete n.__transition}}(this,n)})},ma.ZP.prototype.transition=function x_(n){var r,e;n instanceof gr?(r=n._id,n=n._name):(r=nc(),(e=__).time=(0,er.zO)(),n=null==n?null:n+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var S,d=i[o],y=d.length,F=0;F<y;++F)(S=d[F])&&Xa(S,n,r,F,d,e||v_(S,r));return new gr(i,this._parents,n,r)};Math;function _a(n){return{type:n}}function lc(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function Ys(n){let r=n,e=n;function i(d,y,S,F){for(null==S&&(S=0),null==F&&(F=d.length);S<F;){const H=S+F>>>1;e(d[H],y)<0?S=H+1:F=H}return S}return 1===n.length&&(r=(d,y)=>n(d)-y,e=function I_(n){return(r,e)=>lc(n(r),e)}(n)),{left:i,center:function o(d,y,S,F){null==S&&(S=0),null==F&&(F=d.length);const H=i(d,y,S,F-1);return H>S&&r(d[H-1],y)>-r(d[H],y)?H-1:H},right:function a(d,y,S,F){for(null==S&&(S=0),null==F&&(F=d.length);S<F;){const H=S+F>>>1;e(d[H],y)>0?F=H:S=H+1}return S}}}["w","e"].map(_a),["n","s"].map(_a),["n","w","e","s","nw","ne","sw","se"].map(_a);var Hs=Math.sqrt(50),Xs=Math.sqrt(10),Ws=Math.sqrt(2);function $s(n,r,e){var i=Math.abs(r-n)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/a;return o>=Hs?a*=10:o>=Xs?a*=5:o>=Ws&&(a*=2),r<n?-a:a}const vr=1e3,ji=6e4,xr=60*ji,Fr=24*xr,Qs=7*Fr,uc=30*Fr,Js=365*Fr;var js=new Date,qs=new Date;function Li(n,r,e,i){function a(o){return n(o=0===arguments.length?new Date:new Date(+o)),o}return a.floor=function(o){return n(o=new Date(+o)),o},a.ceil=function(o){return n(o=new Date(o-1)),r(o,1),n(o),o},a.round=function(o){var d=a(o),y=a.ceil(o);return o-d<y-o?d:y},a.offset=function(o,d){return r(o=new Date(+o),null==d?1:Math.floor(d)),o},a.range=function(o,d,y){var F,S=[];if(o=a.ceil(o),y=null==y?1:Math.floor(y),!(o<d&&y>0))return S;do{S.push(F=new Date(+o)),r(o,y),n(o)}while(F<o&&o<d);return S},a.filter=function(o){return Li(function(d){if(d>=d)for(;n(d),!o(d);)d.setTime(d-1)},function(d,y){if(d>=d)if(y<0)for(;++y<=0;)for(;r(d,-1),!o(d););else for(;--y>=0;)for(;r(d,1),!o(d););})},e&&(a.count=function(o,d){return js.setTime(+o),qs.setTime(+d),n(js),n(qs),Math.floor(e(js,qs))},a.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?a.filter(i?function(d){return i(d)%o==0}:function(d){return a.count(0,d)%o==0}):a:null}),a}var Ja=Li(function(){},function(n,r){n.setTime(+n+r)},function(n,r){return r-n});Ja.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Li(function(r){r.setTime(Math.floor(r/n)*n)},function(r,e){r.setTime(+r+e*n)},function(r,e){return(e-r)/n}):Ja:null};const O_=Ja;const va=Li(function(n){n.setTime(n-n.getMilliseconds())},function(n,r){n.setTime(+n+r*vr)},function(n,r){return(r-n)/vr},function(n){return n.getUTCSeconds()});const fc=Li(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*vr)},function(n,r){n.setTime(+n+r*ji)},function(n,r){return(r-n)/ji},function(n){return n.getMinutes()});const mc=Li(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*vr-n.getMinutes()*ji)},function(n,r){n.setTime(+n+r*xr)},function(n,r){return(r-n)/xr},function(n){return n.getHours()});const _c=Li(n=>n.setHours(0,0,0,0),(n,r)=>n.setDate(n.getDate()+r),(n,r)=>(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*ji)/Fr,n=>n.getDate()-1);function Rr(n){return Li(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,e){r.setDate(r.getDate()+7*e)},function(r,e){return(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*ji)/Qs})}var Ks=Rr(0);const xc=(Rr(1),Rr(2),Rr(3),Rr(4),Rr(5),Rr(6),Li(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,r){n.setMonth(n.getMonth()+r)},function(n,r){return r.getMonth()-n.getMonth()+12*(r.getFullYear()-n.getFullYear())},function(n){return n.getMonth()}));var to=Li(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});to.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Li(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,e){r.setFullYear(r.getFullYear()+e*n)}):null};const yc=to;const U_=Li(function(n){n.setUTCSeconds(0,0)},function(n,r){n.setTime(+n+r*ji)},function(n,r){return(r-n)/ji},function(n){return n.getUTCMinutes()});const G_=Li(function(n){n.setUTCMinutes(0,0,0)},function(n,r){n.setTime(+n+r*xr)},function(n,r){return(r-n)/xr},function(n){return n.getUTCHours()});const V_=Li(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/Fr},function(n){return n.getUTCDate()-1});function Zr(n){return Li(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCDate(r.getUTCDate()+7*e)},function(r,e){return(e-r)/Qs})}var wc=Zr(0);const Q_=(Zr(1),Zr(2),Zr(3),Zr(4),Zr(5),Zr(6),Li(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCMonth(n.getUTCMonth()+r)},function(n,r){return r.getUTCMonth()-n.getUTCMonth()+12*(r.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()}));var eo=Li(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});eo.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Li(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCFullYear(r.getUTCFullYear()+e*n)}):null};const J_=eo;function Sc(n,r,e,i,a,o){const d=[[va,1,vr],[va,5,5e3],[va,15,15e3],[va,30,3e4],[o,1,ji],[o,5,5*ji],[o,15,15*ji],[o,30,30*ji],[a,1,xr],[a,3,3*xr],[a,6,6*xr],[a,12,12*xr],[i,1,Fr],[i,2,2*Fr],[e,1,Qs],[r,1,uc],[r,3,3*uc],[n,1,Js]];function S(F,H,lt){const ot=Math.abs(H-F)/lt,_t=Ys(([,,bt])=>bt).right(d,ot);if(_t===d.length)return n.every($s(F/Js,H/Js,lt));if(0===_t)return O_.every(Math.max($s(F,H,lt),1));const[It,Zt]=d[ot/d[_t-1][2]<d[_t][2]/ot?_t-1:_t];return It.every(Zt)}return[function y(F,H,lt){const ot=H<F;ot&&([F,H]=[H,F]);const _t=lt&&"function"==typeof lt.range?lt:S(F,H,lt),It=_t?_t.range(F,+H+1):[];return ot?It.reverse():It},S]}const[hw,dw]=Sc(J_,Q_,wc,V_,G_,U_),[j_,q_]=Sc(yc,xc,Ks,_c,mc,fc);var no=new Date,io=new Date;function yr(n,r,e,i){function a(o){return n(o=0===arguments.length?new Date:new Date(+o)),o}return a.floor=function(o){return n(o=new Date(+o)),o},a.ceil=function(o){return n(o=new Date(o-1)),r(o,1),n(o),o},a.round=function(o){var d=a(o),y=a.ceil(o);return o-d<y-o?d:y},a.offset=function(o,d){return r(o=new Date(+o),null==d?1:Math.floor(d)),o},a.range=function(o,d,y){var F,S=[];if(o=a.ceil(o),y=null==y?1:Math.floor(y),!(o<d&&y>0))return S;do{S.push(F=new Date(+o)),r(o,y),n(o)}while(F<o&&o<d);return S},a.filter=function(o){return yr(function(d){if(d>=d)for(;n(d),!o(d);)d.setTime(d-1)},function(d,y){if(d>=d)if(y<0)for(;++y<=0;)for(;r(d,-1),!o(d););else for(;--y>=0;)for(;r(d,1),!o(d););})},e&&(a.count=function(o,d){return no.setTime(+o),io.setTime(+d),n(no),n(io),Math.floor(e(no,io))},a.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?a.filter(i?function(d){return i(d)%o==0}:function(d){return a.count(0,d)%o==0}):a:null}),a}var Lc=6048e5;function Br(n){return yr(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-n)%7),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCDate(r.getUTCDate()+7*e)},function(r,e){return(e-r)/Lc})}var kc=Br(0),ja=Br(1),qa=(Br(2),Br(3),Br(4));const Mc=(Br(5),Br(6),yr(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/864e5},function(n){return n.getUTCDate()-1}));function Ur(n){return yr(function(r){r.setDate(r.getDate()-(r.getDay()+7-n)%7),r.setHours(0,0,0,0)},function(r,e){r.setDate(r.getDate()+7*e)},function(r,e){return(e-r-6e4*(e.getTimezoneOffset()-r.getTimezoneOffset()))/Lc})}var Oc=Ur(0),Ka=Ur(1),ts=(Ur(2),Ur(3),Ur(4));const Pc=(Ur(5),Ur(6),yr(function(n){n.setHours(0,0,0,0)},function(n,r){n.setDate(n.getDate()+r)},function(n,r){return(r-n-6e4*(r.getTimezoneOffset()-n.getTimezoneOffset()))/864e5},function(n){return n.getDate()-1}));var ro=yr(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r)},function(n,r){return r.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});ro.every=function(n){return isFinite(n=Math.floor(n))&&n>0?yr(function(r){r.setFullYear(Math.floor(r.getFullYear()/n)*n),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,e){r.setFullYear(r.getFullYear()+e*n)}):null};const xa=ro;var ao=yr(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r)},function(n,r){return r.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});ao.every=function(n){return isFinite(n=Math.floor(n))&&n>0?yr(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/n)*n),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,e){r.setUTCFullYear(r.getUTCFullYear()+e*n)}):null};const ya=ao;function so(n){if(0<=n.y&&n.y<100){var r=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return r.setFullYear(n.y),r}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function oo(n){if(0<=n.y&&n.y<100){var r=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return r.setUTCFullYear(n.y),r}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ba(n,r,e){return{y:n,m:r,d:e,H:0,M:0,S:0,L:0}}var Fc={"-":"",_:" ",0:"0"},ki=/^\s*\d+/,lv=/^%/,cv=/[\\^$*+?|[\]().{}]/g;function Gn(n,r,e){var i=n<0?"-":"",a=(i?-n:n)+"",o=a.length;return i+(o<e?new Array(e-o+1).join(r)+a:a)}function uv(n){return n.replace(cv,"\\$&")}function Ta(n){return new RegExp("^(?:"+n.map(uv).join("|")+")","i")}function Ca(n){for(var r={},e=-1,i=n.length;++e<i;)r[n[e].toLowerCase()]=e;return r}function hv(n,r,e){var i=ki.exec(r.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function dv(n,r,e){var i=ki.exec(r.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function fv(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function pv(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function mv(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function gv(n,r,e){var i=ki.exec(r.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function _v(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function vv(n,r,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function xv(n,r,e){var i=ki.exec(r.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function yv(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function Rc(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function bv(n,r,e){var i=ki.exec(r.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function Zc(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function Tv(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function Cv(n,r,e){var i=ki.exec(r.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function wv(n,r,e){var i=ki.exec(r.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function Av(n,r,e){var i=ki.exec(r.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Sv(n,r,e){var i=lv.exec(r.slice(e,e+1));return i?e+i[0].length:-1}function Ev(n,r,e){var i=ki.exec(r.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Dv(n,r,e){var i=ki.exec(r.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function Bc(n,r){return Gn(n.getDate(),r,2)}function Lv(n,r){return Gn(n.getHours(),r,2)}function kv(n,r){return Gn(n.getHours()%12||12,r,2)}function Iv(n,r){return Gn(1+Pc.count(xa(n),n),r,3)}function Uc(n,r){return Gn(n.getMilliseconds(),r,3)}function Mv(n,r){return Uc(n,r)+"000"}function Ov(n,r){return Gn(n.getMonth()+1,r,2)}function Nv(n,r){return Gn(n.getMinutes(),r,2)}function Pv(n,r){return Gn(n.getSeconds(),r,2)}function Fv(n){var r=n.getDay();return 0===r?7:r}function Rv(n,r){return Gn(Oc.count(xa(n)-1,n),r,2)}function Zv(n,r){var e=n.getDay();return n=e>=4||0===e?ts(n):ts.ceil(n),Gn(ts.count(xa(n),n)+(4===xa(n).getDay()),r,2)}function Bv(n){return n.getDay()}function Uv(n,r){return Gn(Ka.count(xa(n)-1,n),r,2)}function Gv(n,r){return Gn(n.getFullYear()%100,r,2)}function Vv(n,r){return Gn(n.getFullYear()%1e4,r,4)}function zv(n){var r=n.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Gn(r/60|0,"0",2)+Gn(r%60,"0",2)}function Gc(n,r){return Gn(n.getUTCDate(),r,2)}function Yv(n,r){return Gn(n.getUTCHours(),r,2)}function Hv(n,r){return Gn(n.getUTCHours()%12||12,r,2)}function Xv(n,r){return Gn(1+Mc.count(ya(n),n),r,3)}function Vc(n,r){return Gn(n.getUTCMilliseconds(),r,3)}function Wv(n,r){return Vc(n,r)+"000"}function $v(n,r){return Gn(n.getUTCMonth()+1,r,2)}function Qv(n,r){return Gn(n.getUTCMinutes(),r,2)}function Jv(n,r){return Gn(n.getUTCSeconds(),r,2)}function jv(n){var r=n.getUTCDay();return 0===r?7:r}function qv(n,r){return Gn(kc.count(ya(n)-1,n),r,2)}function Kv(n,r){var e=n.getUTCDay();return n=e>=4||0===e?qa(n):qa.ceil(n),Gn(qa.count(ya(n),n)+(4===ya(n).getUTCDay()),r,2)}function t0(n){return n.getUTCDay()}function e0(n,r){return Gn(ja.count(ya(n)-1,n),r,2)}function n0(n,r){return Gn(n.getUTCFullYear()%100,r,2)}function r0(n,r){return Gn(n.getUTCFullYear()%1e4,r,4)}function a0(){return"+0000"}function zc(){return"%"}function Yc(n){return+n}function Hc(n){return Math.floor(+n/1e3)}!function c0(n){(function ov(n){var r=n.dateTime,e=n.date,i=n.time,a=n.periods,o=n.days,d=n.shortDays,y=n.months,S=n.shortMonths,F=Ta(a),H=Ca(a),lt=Ta(o),ot=Ca(o),_t=Ta(d),It=Ca(d),Zt=Ta(y),bt=Ca(y),$t=Ta(S),ne=Ca(S),Kt={a:function Ti(Ae){return d[Ae.getDay()]},A:function dr(Ae){return o[Ae.getDay()]},b:function Ci(Ae){return S[Ae.getMonth()]},B:function wi(Ae){return y[Ae.getMonth()]},c:null,d:Bc,e:Bc,f:Mv,H:Lv,I:kv,j:Iv,L:Uc,m:Ov,M:Nv,p:function ui(Ae){return a[+(Ae.getHours()>=12)]},q:function hi(Ae){return 1+~~(Ae.getMonth()/3)},Q:Yc,s:Hc,S:Pv,u:Fv,U:Rv,V:Zv,w:Bv,W:Uv,x:null,X:null,y:Gv,Y:Vv,Z:zv,"%":zc},Se={a:function Aa(Ae){return d[Ae.getUTCDay()]},A:function ra(Ae){return o[Ae.getUTCDay()]},b:function aa(Ae){return S[Ae.getUTCMonth()]},B:function sa(Ae){return y[Ae.getUTCMonth()]},c:null,d:Gc,e:Gc,f:Wv,H:Yv,I:Hv,j:Xv,L:Vc,m:$v,M:Qv,p:function Fi(Ae){return a[+(Ae.getUTCHours()>=12)]},q:function rs(Ae){return 1+~~(Ae.getUTCMonth()/3)},Q:Yc,s:Hc,S:Jv,u:jv,U:qv,V:Kv,w:t0,W:e0,x:null,X:null,y:n0,Y:r0,Z:a0,"%":zc},Ze={a:function Vn(Ae,cn,Tn){var ue=_t.exec(cn.slice(Tn));return ue?(Ae.w=It[ue[0].toLowerCase()],Tn+ue[0].length):-1},A:function zn(Ae,cn,Tn){var ue=lt.exec(cn.slice(Tn));return ue?(Ae.w=ot[ue[0].toLowerCase()],Tn+ue[0].length):-1},b:function pi(Ae,cn,Tn){var ue=$t.exec(cn.slice(Tn));return ue?(Ae.m=ne[ue[0].toLowerCase()],Tn+ue[0].length):-1},B:function xi(Ae,cn,Tn){var ue=Zt.exec(cn.slice(Tn));return ue?(Ae.m=bt[ue[0].toLowerCase()],Tn+ue[0].length):-1},c:function yi(Ae,cn,Tn){return xn(Ae,r,cn,Tn)},d:Rc,e:Rc,f:Av,H:Zc,I:Zc,j:bv,L:wv,m:yv,M:Tv,p:function Sn(Ae,cn,Tn){var ue=F.exec(cn.slice(Tn));return ue?(Ae.p=H[ue[0].toLowerCase()],Tn+ue[0].length):-1},q:xv,Q:Ev,s:Dv,S:Cv,u:dv,U:fv,V:pv,w:hv,W:mv,x:function hr(Ae,cn,Tn){return xn(Ae,e,cn,Tn)},X:function bi(Ae,cn,Tn){return xn(Ae,i,cn,Tn)},y:_v,Y:gv,Z:vv,"%":Sv};function Te(Ae,cn){return function(Tn){var Gi,rn,li,ue=[],oi=-1,Rn=0,Ui=Ae.length;for(Tn instanceof Date||(Tn=new Date(+Tn));++oi<Ui;)37===Ae.charCodeAt(oi)&&(ue.push(Ae.slice(Rn,oi)),null!=(rn=Fc[Gi=Ae.charAt(++oi)])?Gi=Ae.charAt(++oi):rn="e"===Gi?" ":"0",(li=cn[Gi])&&(Gi=li(Tn,rn)),ue.push(Gi),Rn=oi+1);return ue.push(Ae.slice(Rn,oi)),ue.join("")}}function dn(Ae,cn){return function(Tn){var Rn,Ui,ue=ba(1900,void 0,1);if(xn(ue,Ae,Tn+="",0)!=Tn.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(1e3*ue.s+("L"in ue?ue.L:0));if(cn&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+12*ue.p),void 0===ue.m&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ui=(Rn=oo(ba(ue.y,0,1))).getUTCDay(),Rn=Ui>4||0===Ui?ja.ceil(Rn):ja(Rn),Rn=Mc.offset(Rn,7*(ue.V-1)),ue.y=Rn.getUTCFullYear(),ue.m=Rn.getUTCMonth(),ue.d=Rn.getUTCDate()+(ue.w+6)%7):(Ui=(Rn=so(ba(ue.y,0,1))).getDay(),Rn=Ui>4||0===Ui?Ka.ceil(Rn):Ka(Rn),Rn=Pc.offset(Rn,7*(ue.V-1)),ue.y=Rn.getFullYear(),ue.m=Rn.getMonth(),ue.d=Rn.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ui="Z"in ue?oo(ba(ue.y,0,1)).getUTCDay():so(ba(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+7*ue.W-(Ui+5)%7:ue.w+7*ue.U-(Ui+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,oo(ue)):so(ue)}}function xn(Ae,cn,Tn,ue){for(var Gi,rn,oi=0,Rn=cn.length,Ui=Tn.length;oi<Rn;){if(ue>=Ui)return-1;if(37===(Gi=cn.charCodeAt(oi++))){if(Gi=cn.charAt(oi++),!(rn=Ze[Gi in Fc?cn.charAt(oi++):Gi])||(ue=rn(Ae,Tn,ue))<0)return-1}else if(Gi!=Tn.charCodeAt(ue++))return-1}return ue}return Kt.x=Te(e,Kt),Kt.X=Te(i,Kt),Kt.c=Te(r,Kt),Se.x=Te(e,Se),Se.X=Te(i,Se),Se.c=Te(r,Se),{format:function(Ae){var cn=Te(Ae+="",Kt);return cn.toString=function(){return Ae},cn},parse:function(Ae){var cn=dn(Ae+="",!1);return cn.toString=function(){return Ae},cn},utcFormat:function(Ae){var cn=Te(Ae+="",Se);return cn.toString=function(){return Ae},cn},utcParse:function(Ae){var cn=dn(Ae+="",!0);return cn.toString=function(){return Ae},cn}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ys(lc),Ys(function u0(n){return null===n?NaN:+n}),s(47927),s(32517),s(38914),s(22910),s(65142),s(78986),s(16087);const R0=["caretElm"];function Z0(n,r){}const B0=function(n){return{model:n}};function U0(n,r){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Z0,0,0,"ng-template",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.VKq(2,B0,e.context))}}function G0(n,r){if(1&n&&t._UZ(0,"span",6),2&n){const e=t.oxw();t.Q6J("innerHTML",e.title,t.oJD)}}function Xx(n,r,e){e=e||{};let i,a,o,d=null,y=0;function S(){y=!1===e.leading?0:+new Date,d=null,o=n.apply(i,a)}return function(){const F=+new Date;!y&&!1===e.leading&&(y=F);const H=r-(F-y);return i=this,a=arguments,H<=0?(clearTimeout(d),d=null,y=F,o=n.apply(i,a)):!d&&!1!==e.trailing&&(d=setTimeout(S,H)),o}}function Wx(n,r){return function(i,a,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:o.enumerable,value:Xx(o.value,n,r)}),this[a]}}}}var mn=(()=>{return(n=mn||(mn={})).Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",mn;var n})();function ru(n,r,e){return e===mn.Top?n.top-7:e===mn.Bottom?n.top+n.height-r.height+7:e===mn.Center?n.top+n.height/2-r.height/2:void 0}function au(n,r,e){return e===mn.Left?n.left-7:e===mn.Right?n.left+n.width-r.width+7:e===mn.Center?n.left+n.width/2-r.width/2:void 0}class Wi{static calculateVerticalAlignment(r,e,i){let a=ru(r,e,i);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(r,e,i,a){let o;a===mn.Top&&(o=r.height/2-i.height/2+7),a===mn.Bottom&&(o=e.height-r.height/2-i.height/2-7),a===mn.Center&&(o=e.height/2-i.height/2);const d=ru(r,e,a);return d+e.height>window.innerHeight&&(o+=d+e.height-window.innerHeight),o}static calculateHorizontalAlignment(r,e,i){let a=au(r,e,i);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(r,e,i,a){let o;a===mn.Left&&(o=r.width/2-i.width/2+7),a===mn.Right&&(o=e.width-r.width/2-i.width/2-7),a===mn.Center&&(o=e.width/2-i.width/2);const d=au(r,e,a);return d+e.width>window.innerWidth&&(o+=d+e.width-window.innerWidth),o}static shouldFlip(r,e,i,a){let o=!1;return i===mn.Right&&r.left+r.width+e.width+a>window.innerWidth&&(o=!0),i===mn.Left&&r.left-e.width-a<0&&(o=!0),i===mn.Top&&r.top-e.height-a<0&&(o=!0),i===mn.Bottom&&r.top+r.height+e.height+a>window.innerHeight&&(o=!0),o}static positionCaret(r,e,i,a,o){let d=0,y=0;return r===mn.Right?(y=-7,d=Wi.calculateVerticalCaret(i,e,a,o)):r===mn.Left?(y=e.width,d=Wi.calculateVerticalCaret(i,e,a,o)):r===mn.Top?(d=e.height,y=Wi.calculateHorizontalCaret(i,e,a,o)):r===mn.Bottom&&(d=-7,y=Wi.calculateHorizontalCaret(i,e,a,o)),{top:d,left:y}}static positionContent(r,e,i,a,o){let d=0,y=0;return r===mn.Right?(y=i.left+i.width+a,d=Wi.calculateVerticalAlignment(i,e,o)):r===mn.Left?(y=i.left-e.width-a,d=Wi.calculateVerticalAlignment(i,e,o)):r===mn.Top?(d=i.top-e.height-a,y=Wi.calculateHorizontalAlignment(i,e,o)):r===mn.Bottom&&(d=i.top+i.height+a,y=Wi.calculateHorizontalAlignment(i,e,o)),{top:d,left:y}}static determinePlacement(r,e,i,a){if(Wi.shouldFlip(i,e,r,a)){if(r===mn.Right)return mn.Left;if(r===mn.Left)return mn.Right;if(r===mn.Top)return mn.Bottom;if(r===mn.Bottom)return mn.Top}return r}}let $x=(()=>{class n{constructor(e,i,a){this.element=e,this.renderer=i,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,_.NF)(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=e.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(e,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,a){const{top:o,left:d}=Wi.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${o}px`),this.renderer.setStyle(e,"left",`${d}px`)}positionCaret(e,i){const a=this.caretElm.nativeElement,o=a.getBoundingClientRect(),{top:d,left:y}=Wi.positionCaret(this.placement,i,e,o,this.alignment);this.renderer.setStyle(a,"top",`${d}px`),this.renderer.setStyle(a,"left",`${y}px`)}checkFlip(e,i){this.placement=Wi.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&t.Gf(R0,5),2&e){let a;t.iGM(a=t.CRH())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("resize",function(){return i.onWindowResize()},!1,t.Jf7),2&e&&t.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t._UZ(1,"span",0,1),t.TgZ(3,"div",2),t.YNc(4,U0,2,4,"span",3),t.YNc(5,G0,1,1,"span",4),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Gre("tooltip-caret position-",i.placement,""),t.Q6J("hidden",!i.showCaret),t.xp6(3),t.Q6J("ngIf",!i.title),t.xp6(1),t.Q6J("ngIf",i.title))},directives:[_.O5,_.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,Ei.gn)([Wx(100)],n.prototype,"onWindowResize",null),n})(),su=(()=>{class n{constructor(e,i,a){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Jx(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const o of a)e.instance[o]=i.inputs[o]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const o of a)e.instance[o]=i.outputs[o]}}return e}appendComponent(e,i={},a){a||(a=this.getRootViewContainer());const o=this.getComponentRootNode(a),d=new kl.u0(o,this.componentFactoryResolver,this.applicationRef,this.injector),y=new kl.C5(e),S=d.attach(y);return this.projectComponentBindings(S,i),S}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t._Vd),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),uo=(()=>{class n extends class Qx{constructor(r){this.injectionService=r,this.defaults={},this.components=new Map}getByType(r=this.type){return this.components.get(r)}create(r){return this.createByType(this.type,r)}createByType(r,e){e=this.assignDefaults(e);const i=this.injectComponent(r,e);return this.register(r,i),i}destroy(r){const e=this.components.get(r.componentType);if(e&&e.length){const i=e.indexOf(r);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(r){const e=this.components.get(r);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(r,e){return this.injectionService.appendComponent(r,e)}assignDefaults(r){const e=Object.assign({},this.defaults.inputs),i=Object.assign({},this.defaults.outputs);return!r.inputs&&!r.outputs&&(r={inputs:r}),e&&(r.inputs=Object.assign(Object.assign({},e),r.inputs)),i&&(r.outputs=Object.assign(Object.assign({},i),r.outputs)),r}register(r,e){this.components.has(r)||this.components.set(r,[]),this.components.get(r).push(e)}}{constructor(e){super(e),this.type=$x}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(su))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),du=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez]]}),n})();var ea=(()=>{return(n=ea||(ea={})).popover="popover",n.tooltip="tooltip",ea;var n})(),Dr=(()=>{return(n=Dr||(Dr={}))[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",Dr;var n})();let mo,fo=(()=>{class n{constructor(e,i,a){this.tooltipService=e,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=mn.Top,this.tooltipAlignment=mn.Center,this.tooltipType=ea.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Dr.all,this.tooltipImmediateExit=!1,this.show=new t.vpe,this.hide=new t.vpe}get listensForFocus(){return this.tooltipShowEvent===Dr.all||this.tooltipShowEvent===Dr.focus}get listensForHover(){return this.tooltipShowEvent===Dr.all||this.tooltipShowEvent===Dr.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(uo),t.Y36(t.s_b),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&t.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(o){return i.onMouseLeave(o.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[su,uo],imports:[[_.ez]]}),n})();"undefined"!=typeof window?mo=window:"undefined"!=typeof global&&(mo=global);let qi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,du,fu],_.ez,du,fu]}),n})(),ly=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),bu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),Tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})();Math;let _o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),py=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi,_o,Tu]]}),n})(),gy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi]]}),n})(),vy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[qi,_o,bu]]}),n})(),yy=(()=>{class n{constructor(){!function xy(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[qi,ly,bu,cy,uy,hy,Tu,py,gy,_o,_y,vy]}),n})();function by(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner",3),t.qZA())}function Ty(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_3")," "),t.xp6(3),t.Oqu(e.service)}}function Cy(n,r){1&n&&(t.O4$(),t.TgZ(0,"marker",10),t._UZ(1,"path",11),t.qZA())}function wy(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",12),t._UZ(1,"rect"),t.TgZ(2,"text",13),t._uU(3),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.Q6J("tooltipTitle",e.tooltip)("tooltipPlacement","top")("tooltipType","tooltip"),t.xp6(1),t.uIk("fill",e.color)("height",e.dimension.height)("width",e.dimension.width),t.xp6(1),t.uIk("y",e.dimension.height/2)("x",10),t.xp6(1),t.hij(" ",e.label," ")}}function Ay(n,r){if(1&n&&(t.O4$(),t.TgZ(0,"g",14),t._UZ(1,"path",15),t.TgZ(2,"text",16),t.TgZ(3,"textPath",17),t._uU(4),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(3),t.uIk("href","#"+e.id),t.xp6(1),t.hij(" ",e.label," ")}}const Sy=function(n,r){return[n,r]};function Ey(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"strong"),t._uU(8),t.qZA(),t.YNc(9,Ty,5,4,"span",4),t.TgZ(10,"div",5),t.TgZ(11,"ngx-graph",6),t.YNc(12,Cy,2,0,"ng-template",null,7,t.W1O),t.YNc(14,wy,4,9,"ng-template",null,8,t.W1O),t.YNc(16,Ay,5,2,"ng-template",null,9,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,12,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_1")," "),t.xp6(3),t.AsE("",e.user.firstName," ",e.user.lastName,""),t.xp6(1),t.hij(" ",t.lcZ(6,14,"ADMIN.VISUALIZER.USER_DESTINATION.FOUND_2")," "),t.xp6(3),t.Oqu(e.destination),t.xp6(1),t.Q6J("ngIf","noService"!==e.service),t.xp6(2),t.Q6J("links",e.hierarchialGraph.links)("nodes",e.hierarchialGraph.nodes)("view",t.WLB(16,Sy,e.innerWidth,e.innerHeight))("curve",e.curve)("draggingEnabled",!1)("zoomToFit$",e.zoomToFit$)}}function Dy(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_3")," "),t.xp6(3),t.Oqu(e.service)}}function Ly(n,r){if(1&n&&(t._uU(0),t.ALo(1,"translate"),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"strong"),t._uU(7),t.qZA(),t.YNc(8,Dy,5,4,"span",4),t._uU(9),t.ALo(10,"translate")),2&n){const e=t.oxw(2);t.hij(" ",t.lcZ(1,7,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_1")," "),t.xp6(3),t.AsE("",e.user.firstName," ",e.user.lastName,""),t.xp6(1),t.hij(" ",t.lcZ(5,9,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_2")," "),t.xp6(3),t.Oqu(e.destination),t.xp6(1),t.Q6J("ngIf","noService"!==e.service),t.xp6(1),t.hij(" ",t.lcZ(10,11,"ADMIN.VISUALIZER.USER_DESTINATION.NOT_FOUND_4")," ")}}function ky(n,r){if(1&n&&(t.YNc(0,Ey,18,19,"div",1),t.YNc(1,Ly,11,13,"ng-template",null,2,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.isConnected)("ngIfElse",e)}}let Iy=(()=>{class n{constructor(e,i,a,o,d,y,S,F,H){this.route=e,this.facilityManager=i,this.userService=a,this.membersService=o,this.serviceService=d,this.resourceManager=y,this.groupService=S,this.voService=F,this.translate=H,this.isConnected=!1,this.loading=!0,this.hierarchialGraph={nodes:[],links:[]},this.curve=gi,this.zoomToFit$=new $i.xQ,this.idCounter=0}static findConnectedGroups(e,i){const a=[];for(const o of e)for(const d of i)o.id===d.id&&a.push(o);return a}static findConnectedResources(e,i){const a=[];for(const o of e)for(const d of i)o.id===d.id&&a.push(o);return a}onResize(){this.innerWidth=window.innerWidth<600?window.innerWidth:window.innerWidth-420,this.innerHeight=window.innerHeight}ngOnInit(){this.innerWidth=window.innerWidth<600?window.innerWidth:window.innerWidth-420,this.innerHeight=window.innerHeight,this.getLocalizedNames(),this.route.queryParams.subscribe(e=>{this.destination=String(e.destination),this.service=String(e.service),this.userService.getUserById(Number(e.user)).subscribe(i=>{this.user=i,this.facilityManager.getFacilitiesByDestination(this.destination).subscribe(a=>{this.facilities=a,this.membersService.getMembersByUser(this.user.id).subscribe(o=>{if(this.membership=o,0===this.membership.length||0===this.facilities.length)return this.loading=!1,void(this.isConnected=!1);this.showGraph()})})})})}showGraph(){var e,i;const a=""+this.id().toString(),o=null!==(i=null!==(e=this.user.firstName)&&void 0!==e?e:" "+this.user.lastName)&&void 0!==i?i:"",d=this.localUser,y="user: "+this.user.id.toString();this.hierarchialGraph.nodes.push({id:a,label:o,tooltip:d,color:"#FFFFCC",tip:y});const F=""+this.id().toString(),H="destination no id";this.hierarchialGraph.nodes.push("noService"===this.service?{id:F,label:this.destination,tooltip:this.localDestination+": "+this.destination,color:"#E0E0E0",tip:H}:{id:F,label:this.service+": "+this.destination,tooltip:this.localService+": "+this.service+", "+this.localDestination+": "+this.destination,color:"#E0E0E0",tip:H});for(const lt of this.facilities)this.serviceService.getAllRichDestinationsForFacility(lt.id).subscribe(ot=>{this.connectToService(lt,ot),setTimeout(()=>{this.zoomToFit$.next(!0),this.loading=!1},2e3)})}connectToService(e,i){this.isConnectedToService(i)&&this.facilityManager.getAssignedResourcesForFacility(e.id).subscribe(a=>{for(const o of this.membership)this.connectToGroups(e,o,a)})}connectToGroups(e,i,a){this.facilityManager.getAllowedGroups(e.id,i.voId).subscribe(o=>{0!==o.length&&this.groupService.getMemberGroups(i.id).subscribe(d=>{const y=n.findConnectedGroups(o,d);if(0!==y.length)for(const S of y)this.connectToResource(e,S,a)})})}haveService(e){if("noService"===this.service)return!0;for(const i of e)if(this.service===i.name)return!0;return!1}connectToResource(e,i,a){this.resourceManager.getAssignedResourcesWithGroup(i.id).subscribe(o=>{const d=n.findConnectedResources(o,a);for(const y of d)this.resourceManager.getAssignedServicesToResource(y.id).subscribe(S=>{this.haveService(S)&&(this.isConnected=!0,this.addNodesToGraph(i.voId,i,y,e))})})}addNodesToGraph(e,i,a,o){if(-1===this.findEntityInGraph("Facility: "+o.id.toString())){const d=""+this.id().toString(),y=this.localFacility+": "+o.name,S=o.description,F="Facility: "+o.id.toString();this.hierarchialGraph.nodes.push({id:d,label:y,tooltip:S,color:"#FFCCFF",tip:F});const lt={source:d,target:this.hierarchialGraph.nodes[this.findEntityInGraph("destination no id")].id};this.hierarchialGraph.links.push(lt)}this.voService.getVoById(e).subscribe(d=>{if(-1===this.findEntityInGraph("Vo: "+d.id.toString())){const S=this.id().toString(),F=this.localVo+": "+d.shortName,H=d.name,lt="Vo: "+d.id.toString();this.hierarchialGraph.nodes.push({id:S,label:F,tooltip:H,color:"#E5FFCC",tip:lt});const _t={source:this.hierarchialGraph.nodes[this.findEntityInGraph("user: "+this.user.id.toString())].id,target:S};this.hierarchialGraph.links.push(_t)}if(-1===this.findEntityInGraph("Group: "+i.id.toString())){const S=this.id().toString(),F=this.localGroup+": "+i.name,H=i.description,lt="Group: "+i.id.toString();this.hierarchialGraph.nodes.push({id:S,label:F,tooltip:H,color:"#CCE5FF",tip:lt});const _t={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Vo: "+d.id.toString())].id,target:S};this.hierarchialGraph.links.push(_t)}const y=this.findEntityInGraph("Resource: "+a.id.toString());if(-1!==y){const S={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Group: "+i.id.toString())].id,target:this.hierarchialGraph.nodes[y].id};this.hierarchialGraph.links.push(S)}else{const S=this.id().toString(),F=this.localResource+": "+a.name,H=a.description,lt="Resource: "+a.id.toString();this.hierarchialGraph.nodes.push({id:S,label:F,tooltip:H,color:"#FFCCCC",tip:lt});const _t={source:this.hierarchialGraph.nodes[this.findEntityInGraph("Group: "+i.id.toString())].id,target:S};this.hierarchialGraph.links.push(_t);const It={source:S,target:this.hierarchialGraph.nodes[this.findEntityInGraph("Facility: "+o.id.toString())].id};this.hierarchialGraph.links.push(It)}})}findEntityInGraph(e){for(let i=0;i<this.hierarchialGraph.nodes.length;i++)if(this.hierarchialGraph.nodes[i].tip===e)return i;return-1}isConnectedToService(e){for(const i of e)if(i.destination===this.destination&&(i.service.name===this.service||"noService"===this.service))return!0;return!1}id(){return this.idCounter++,this.idCounter}getLocalizedNames(){this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.USER").subscribe(e=>{this.localUser=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.VO").subscribe(e=>{this.localVo=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.GROUP").subscribe(e=>{this.localGroup=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.RESOURCE").subscribe(e=>{this.localResource=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.FACILITY").subscribe(e=>{this.localFacility=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.SERVICE").subscribe(e=>{this.localService=e}),this.translate.get("ADMIN.VISUALIZER.USER_DESTINATION.DESTINATION").subscribe(e=>{this.localDestination=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(z.IQ),t.Y36(z.Fv),t.Y36(z.uq),t.Y36(z.KK),t.Y36(z.xk),t.Y36(z.ff),t.Y36(z.YF),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-destination-graph"]],hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("resize",function(o){return i.onResize(o)},!1,t.Jf7),2&e&&t.ekj("router-component",i.true)},decls:6,vars:5,consts:[[1,"page-subtitle"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"ml-auto","mr-auto"],[4,"ngIf"],[1,"card","w-100","h-100"],[1,"chart-container",3,"links","nodes","view","curve","draggingEnabled","zoomToFit$"],["defsTemplate",""],["nodeTemplate",""],["linkTemplate",""],["id","arrow","markerHeight","4","refX","8","refY","0","markerWidth","4","orient","auto","viewBox","0 -5 10 10"],["d","M0,-5L10,0L0,5",1,"arrow-head"],["ngx-tooltip","",1,"node",3,"tooltipTitle","tooltipPlacement","tooltipType"],["alignment-baseline","central"],[1,"edge"],["marker-end","url(#arrow)","stroke-width","2",1,"line"],["text-anchor","end",1,"edge-label"],["startOffset","60%",2,"fill","#000"]],template:function(e,i){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,by,2,0,"div",1),t.YNc(4,ky,3,2,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(5);t.xp6(1),t.hij(" ",t.lcZ(2,3,"ADMIN.VISUALIZER.USER_DESTINATION.TITLE"),"\n"),t.xp6(2),t.Q6J("ngIf",i.loading)("ngIfElse",a)}},directives:[_.O5,X.$g,Pm,fo],pipes:[u.X$],styles:[""]}),n})();var My=s(25828),Cu=s(69024),Oy=s(29862),wa=s(16074),Ny=s(31359);function Py(n,r){1&n&&t._UZ(0,"mat-spinner",3)}function Fy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editUser()}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).anonymizeUser()}),t.TgZ(5,"mat-icon"),t._uU(6,"no_accounts"),t.qZA(),t.qZA(),t.qZA()}}const Ry=function(){return{color:"black"}},Zy=function(n){return["/admin/users",n]};function By(n,r){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"mat-icon",5),t.ALo(2,"translate"),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"a",8),t._uU(6),t.ALo(7,"userFullName"),t.qZA(),t.TgZ(8,"span",9),t._uU(9),t.qZA(),t.YNc(10,Fy,7,0,"span",10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"span",11),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",t.lcZ(2,12,"ADMIN_USER.ENTITY")),t.Q6J("ngStyle",t.DdM(22,Ry))("svgIcon",e.svgIcon),t.xp6(4),t.Q6J("routerLink",t.VKq(23,Zy,e.user.id)),t.xp6(1),t.hij(" ",t.lcZ(7,14,e.user)," "),t.xp6(3),t.hij(" \xa0#",e.user.id," "),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(2),t.AsE("",t.lcZ(13,16,"ADMIN_USER.UUID"),": ",e.user.uuid,""),t.xp6(3),t.lnq(" ",t.lcZ(16,18,"ADMIN_USER.ENTITY"),", ",t.lcZ(17,20,"ADMIN_USER.USER_TYPE"),": ",e.getUserType()," ")}}let Uy=(()=>{class n{constructor(e,i,a,o,d,y,S,F){this.route=e,this.usersService=i,this.sideMenuService=a,this.sideMenuItemService=o,this.dialog=d,this.authResolver=y,this.entityStorageService=S,this.router=F,this.loading=!1,this.svgIcon="perun-user-dark"}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{const i=Number(e.userId);this.entityStorageService.setEntity({id:Number(i),beanName:"User"}),this.path=`/admin/users/${i}`,this.regex="/admin/users/\\d+",this.usersService.getUserById(i).subscribe(a=>{this.user=a,this.user.serviceUser&&(this.svgIcon="perun-service-identity");const o=this.sideMenuItemService.parseUser(a,this.path,this.regex);this.sideMenuService.setAdminItems([o]),this.loading=!1},()=>this.loading=!1)})}editUser(){const e=(0,_e.kZ)();e.width="450px",e.data={theme:"admin-theme",user:this.user},this.dialog.open(Oy.x,e).afterClosed().subscribe(a=>{a&&this.usersService.getUserById(this.user.id).subscribe(o=>{this.user=o})})}getUserType(){return this.user.serviceUser?"Service":"Person"}anonymizeUser(){const e=(0,_e.kZ)();e.width="550px",e.data={theme:"admin-theme",user:this.user},this.dialog.open(wa.GI,e).afterClosed().subscribe(a=>{a&&this.router.navigate(["/admin","users"],{queryParamsHandling:"merge"})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(z.Fv),t.Y36(p.D),t.Y36(Cu.V),t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.fb),t.Y36(f.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-user-detail-page"]],decls:5,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","user-theme"],["class","mr-auto ml-auto",4,"ngIf"],["class","d-flex page-title-headtitle",4,"ngIf"],[1,"mr-auto","ml-auto"],[1,"d-flex","page-title-headtitle"],[1,"perun-icon","perun-icon-detail",3,"ngStyle","svgIcon","matTooltip"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"user-link",3,"routerLink"],[1,"text-muted"],[4,"ngIf"],[1,"mt-1","entity-info"],["mat-icon-button","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.YNc(2,Py,1,0,"mat-spinner",1),t.YNc(3,By,18,25,"div",2),t._UZ(4,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading&&void 0!==i.user))},directives:[l.W,_.O5,X.$g,h.Hw,_.PC,ke.gM,f.yS,nt.lW,m.A],pipes:[u.X$,Ny.d],styles:[""]}),n})();var Gy=s(17755),Vy=s(74837),zy=s(85985),Yy=s(98973),Hy=s(15935);function Xy(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().onLoad()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.EXT_SOURCES.LOAD")," "))}function Wy(n,r){1&n&&t._UZ(0,"mat-spinner",6)}const $y=function(){return["id","name","type"]};function Qy(n,r){if(1&n&&t._UZ(0,"app-ext-sources-list",7),2&n){const e=t.oxw();t.Q6J("extSources",e.extSources)("filterValue",e.filterValue)("displayedColumns",t.DdM(4,$y))("tableId",e.tableId)}}let Jy=(()=>{class n{constructor(e,i,a,o){this.extSourceService=e,this.notificator=i,this.translate=a,this.authResolver=o,this.extSources=[],this.filterValue="",this.loading=!1,this.tableId=en.qy,this.translate.get("ADMIN.EXT_SOURCES.LOAD_SUCCESS").subscribe(d=>this.loadSuccess=d)}ngOnInit(){this.refreshTable()}applyFilter(e){this.filterValue=e}onLoad(){this.extSourceService.loadExtSourcesDefinitions().subscribe(()=>{this.notificator.showSuccess(this.loadSuccess),this.refreshTable()})}refreshTable(){this.loading=!0,this.extSourceService.getExtSources().subscribe(e=>{this.extSources=e,this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.KG),t.Y36(U.V6),t.Y36(u.sK),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-ext-sources"]],decls:8,vars:7,consts:[[1,"page-subtitle"],["class","mr-2","mat-stroked-button","",3,"click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"extSources","filterValue","displayedColumns","tableId",4,"ngIf"],["mat-stroked-button","",1,"mr-2",3,"click"],[1,"ml-auto","mr-auto"],[3,"extSources","filterValue","displayedColumns","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Xy,3,3,"button",1),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(6,Wy,1,0,"mat-spinner",3),t.YNc(7,Qy,1,5,"app-ext-sources-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.EXT_SOURCES.TITLE")),t.xp6(2),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.EXT_SOURCES.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[_.O5,nt.lW,jn.L,X.$g,Hy.D],pipes:[u.X$],styles:[""]}),n})();var jy=s(6097),qy=s(97453),is=s(24850);function Ky(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function t1(n,r){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function e1(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"mat-form-field",8),t._UZ(2,"input",9),t.ALo(3,"translate"),t.TgZ(4,"mat-error"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",8),t._UZ(8,"input",10),t.ALo(9,"translate"),t.TgZ(10,"mat-error"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"mat-autocomplete",11,12),t.YNc(15,t1,2,2,"mat-option",13),t.ALo(16,"async"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.MAs(14),i=t.oxw();t.xp6(2),t.s9C("placeholder",t.lcZ(3,9,"DIALOGS.ADD_USER_EXT_SOURCE.LOGIN")),t.Q6J("formControl",i.loginControl),t.xp6(3),t.hij(" ",t.lcZ(6,11,"DIALOGS.ADD_USER_EXT_SOURCE.EMPTY_LOGIN")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(9,13,"DIALOGS.ADD_USER_EXT_SOURCE.EXT_SOURCE")),t.Q6J("formControl",i.extSourcesControl)("matAutocomplete",e),t.xp6(3),t.hij(" ",t.lcZ(12,15,"DIALOGS.ADD_USER_EXT_SOURCE.EMPTY_EXT_SOURCE")," "),t.xp6(2),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(16,17,i.filteredExtSources))}}let n1=(()=>{class n{constructor(e,i,a,o,d,y){this.dialogRef=e,this.data=i,this.extSourcesManagerService=a,this.usersManagerService=o,this.translate=d,this.notificator=y,this.extSources=[],d.get("DIALOGS.ADD_USER_EXT_SOURCE.SUCCESS").subscribe(S=>this.successMessage=S)}ngOnInit(){this.loading=!0,this.loginControl=new rt.NI("",[rt.kI.required,rt.kI.pattern(".*[\\S]+.*")]),this.extSourcesControl=new rt.NI("",[rt.kI.required]),this.loginControl.markAllAsTouched(),this.extSourcesControl.markAllAsTouched(),this.filteredExtSources=this.extSourcesControl.valueChanges.pipe((0,G.O)(""),(0,is.U)(e=>this._filter(e))),this.extSourcesManagerService.getExtSources().subscribe(e=>{this.extSources=e,this.filteredExtSources=this.extSourcesControl.valueChanges.pipe((0,G.O)(""),(0,is.U)(i=>this._filter(i))),this.loading=!1},()=>this.loading=!1)}displayFn(e){return e?e.name:null}onCancel(){this.dialogRef.close(!1)}onAdd(){this.loading=!0,this.usersManagerService.addUserExtSource({user:this.data.userId,userExtSource:{beanName:"",extSource:this.extSourcesControl.value,id:0,login:this.loginControl.value,userId:this.data.userId}}).subscribe(()=>{this.loading=!1,this.notificator.showSuccess(this.successMessage),this.dialogRef.close(!0)},()=>this.loading=!1)}_filter(e){const i="string"==typeof e?e.toLowerCase():e.name.toLowerCase();return this.extSources.filter(a=>a.name.toLowerCase().includes(i))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(z.KG),t.Y36(z.Fv),t.Y36(u.sK),t.Y36(U.V6))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-user-ext-source-dialog"]],decls:13,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-container","user-theme"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[1,"center-self","w-100"],["matInput","","required","",3,"formControl","placeholder"],["matInput","","required","","type","text",3,"formControl","matAutocomplete","placeholder"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,Ky,1,0,"mat-spinner",2),t.YNc(5,e1,17,19,"div",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return i.onAdd()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"DIALOGS.ADD_USER_EXT_SOURCE.TITLE")),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,8,"DIALOGS.ADD_USER_EXT_SOURCE.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loginControl.invalid||i.extSourcesControl.invalid||i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,10,"DIALOGS.ADD_USER_EXT_SOURCE.ADD")," "))},directives:[O.uh,O.xY,_.O5,X.$g,qe.KE,De.Nt,rt.Fj,rt.Q7,rt.JJ,rt.oH,qe.TO,B.ZL,B.XC,_.sg,Cn.ey,O.H8,nt.lW],pipes:[u.X$,_.Ov],styles:[".column-size[_ngcontent-%COMP%]{width:10rem!important;font-weight:700}.center-self[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.auto-width[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto!important}.auto-width[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{max-width:100%;width:auto}.pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),n})();var i1=s(80275);function r1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addIdentity()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"USER_DETAIL.IDENTITIES.ADD"),"\n"))}function a1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeIdentity()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"USER_DETAIL.IDENTITIES.REMOVE"),"\n")}}function s1(n,r){1&n&&t._UZ(0,"mat-spinner",10)}function o1(n,r){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"perun-web-apps-user-ext-sources-list",11),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("displayedColumns",e.displayedColumns)("filterValue",e.filterValue)("selection",e.selection)("tableId",e.tableId)("userExtSources",e.userExtSources)}}let l1=(()=>{class n{constructor(e,i,a,o,d,y){this.usersManagerService=e,this.storage=i,this.registrarManagerService=a,this.dialog=o,this.route=d,this.authResolver=y,this.userExtSources=[],this.selection=new P.Ov(!1,[]),this.displayedColumns=["select","id","extSourceName","login","lastAccess"],this.tableId=en.gG,this.filterValue=""}ngOnInit(){this.route.parent.params.subscribe(e=>{this.userId=Number(e.userId)}),this.refreshTable()}refreshTable(){this.loading=!0,this.selection.clear(),this.usersManagerService.getRichUserExtSources(this.userId).subscribe(e=>{this.userExtSources=e,this.loading=!1},()=>this.loading=!1)}addIdentity(){const e=(0,_e.kZ)();e.width="1000px",e.data={userId:this.userId},this.dialog.open(n1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}removeIdentity(){const e=(0,_e.kZ)();e.width="450px",e.data={showSuccess:!0,theme:"user-theme",userId:this.userId,extSources:this.selection.selected},this.dialog.open(wa.Lc,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Fv),t.Y36(U.d6),t.Y36(z.tk),t.Y36(O.uw),t.Y36(f.gz),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-identities"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["class","mr-2 action-button","color","accent","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],[1,"admin-theme"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","filterValue","selection","tableId","userExtSources"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(4,r1,3,3,"button",2),t.YNc(5,a1,3,4,"button",3),t.TgZ(6,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,s1,1,0,"mat-spinner",6),t.qZA(),t.YNc(9,o1,2,5,"div",7)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"USER_DETAIL.IDENTITIES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","USER_DETAIL.IDENTITIES.FILTER_PLACEHOLDER"),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,_.O5,nt.lW,jn.L,X.$g,i1.j],pipes:[u.X$],styles:[""]}),n})();var c1=s(80774),u1=s(62109);function h1(n,r){1&n&&t._UZ(0,"mat-spinner",5)}const d1=function(){return["id","name","vo","facility","description"]};function f1(n,r){if(1&n&&t._UZ(0,"perun-web-apps-resources-list",6),2&n){const e=t.oxw();t.Q6J("displayedColumns",t.DdM(4,d1))("resources",e.resources)("filterValue",e.filterValue)("tableId",e.tableId)}}let p1=(()=>{class n{constructor(e,i){this.userManager=e,this.route=i,this.resources=[],this.tableId=en.kO,this.filterValue=""}ngOnInit(){this.refreshTable()}refreshTable(){this.loading=!0,this.route.parent.params.subscribe(e=>{const i=Number(e.userId);this.userManager.getAssignedRichResourcesForUser(i).subscribe(a=>{this.resources=a,this.loading=!1})})}resourceFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Fv),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-user-resources"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"displayedColumns","resources","filterValue","tableId",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","resources","filterValue","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(o){return i.resourceFilter(o)}),t.qZA(),t.YNc(6,h1,1,0,"mat-spinner",3),t.YNc(7,f1,1,5,"perun-web-apps-resources-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"USER_DETAIL.RESOURCES.TITLE")),t.xp6(3),t.Q6J("placeholder","SHARED_LIB.PERUN.COMPONENTS.RESOURCES_LIST.TABLE_SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,jn.L,_.O5,X.$g,u1.C],pipes:[u.X$],styles:[""]}),n})();var m1=s(61365),g1=s(71103),_1=s(53984);const v1=["list"];function x1(n,r){1&n&&t._UZ(0,"mat-spinner",8)}function y1(n,r){if(1&n&&t._UZ(0,"perun-web-apps-attributes-list",9,10),2&n){const e=t.oxw();t.Q6J("selection",e.selection)("attributes",e.attributes)("tableId",e.tableId)}}let b1=(()=>{class n{constructor(e,i,a,o){this.dialog=e,this.attributesManager=i,this.userService=a,this.route=o,this.loading=!1,this.selection=new P.Ov(!0,[]),this.tableId=en.rF,this.attributes=[]}ngOnInit(){this.route.params.subscribe(e=>{const i=Number(e.identityId);this.userService.getUserExtSourceById(i).subscribe(a=>{this.userExtSource=a,this.refreshTable()})})}refreshTable(){this.loading=!0,this.attributesManager.getUserExtSourceAttributes(this.userExtSource.id).subscribe(e=>{this.attributes=(0,_e.MX)(e),this.selection.clear(),this.loading=!1})}onAdd(){const e=(0,_e.kZ)();e.width="1050px",e.data={entityId:this.userExtSource.id,entity:"ues",notEmptyAttributes:this.attributes,style:"user-theme"},this.dialog.open(g1.n,e).afterClosed().subscribe(a=>{"saved"===a&&this.refreshTable()})}onSave(){this.list.updateMapAttributes();const e=(0,_e.kZ)();e.width="450px",e.data={entityId:this.userExtSource.id,entity:"ues",attributes:this.selection.selected},this.dialog.open(wa.wA,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onRemove(){const e=(0,_e.kZ)();e.width="450px",e.data={entityId:this.userExtSource.id,entity:"ues",attributes:this.selection.selected},this.dialog.open(m1.k,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(z.H8),t.Y36(z.Fv),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-identity-detail"]],viewQuery:function(e,i){if(1&e&&t.Gf(v1,5),2&e){let a;t.iGM(a=t.CRH())&&(i.list=a.first)}},decls:26,vars:32,consts:[[1,"page-subtitle"],[1,"mb-2"],[3,"refresh"],["color","accent","mat-flat-button","",1,"mr-2",3,"disabled","click"],["color","accent","mat-flat-button","",1,"mr-2",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],["class","ml-auto mr-auto",4,"ngIf"],[3,"selection","attributes","tableId",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"selection","attributes","tableId"],["list",""]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",1),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"perun-web-apps-refresh-button",2),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(15,"button",3),t.NdJ("click",function(){return i.onSave()}),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",4),t.NdJ("click",function(){return i.onAdd()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",5),t.NdJ("click",function(){return i.onRemove()}),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.YNc(24,x1,1,0,"mat-spinner",6),t.YNc(25,y1,2,3,"perun-web-apps-attributes-list",7),t.qZA()),2&e&&(t.xp6(2),t.AsE(" ",t.lcZ(3,15,"SHARED.IDENTITY_DETAIL.TITLE")," - ",i.userExtSource?i.userExtSource.extSource.name:""," "),t.xp6(3),t.AsE(" ",t.lcZ(6,17,"SHARED.IDENTITY_DETAIL.TYPE"),": ",i.userExtSource?i.userExtSource.extSource.type:""," "),t.xp6(3),t.AsE(" ",t.lcZ(9,19,"SHARED.IDENTITY_DETAIL.LOGIN"),": ",i.userExtSource?i.userExtSource.login:""," "),t.xp6(3),t.AsE(" ",t.lcZ(12,21,"SHARED.IDENTITY_DETAIL.LAST_ACCESS"),": ",i.userExtSource?t.xi3(13,23,i.userExtSource.lastAccess,"d.M.y H:mm:ss"):""," "),t.xp6(4),t.Q6J("disabled",0===i.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(17,26,"SHARED.IDENTITY_DETAIL.SAVE")," "),t.xp6(3),t.hij(" ",t.lcZ(20,28,"SHARED.IDENTITY_DETAIL.ADD")," "),t.xp6(2),t.Q6J("disabled",0===i.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(23,30,"SHARED.IDENTITY_DETAIL.REMOVE")," "),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,nt.lW,_.O5,X.$g,_1.p],pipes:[u.X$,_.uU],styles:[""]}),n})();var T1=s(40009),C1=s(90719);function w1(n,r){1&n&&t._UZ(0,"mat-spinner",3)}function A1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).editService()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}function S1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).removeService()}),t.TgZ(1,"mat-icon"),t._uU(2,"delete_forever"),t.qZA(),t.qZA()}}function E1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).evaluateConsents()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SERVICE_DETAIL.EVALUATE_CONSENTS")," "))}const D1=function(){return{color:"black"}},L1=function(n){return["/admin/services",n]};function k1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t._UZ(1,"mat-icon",5),t.ALo(2,"translate"),t.TgZ(3,"div",6),t.TgZ(4,"div",7),t.TgZ(5,"div",8),t.TgZ(6,"div",9),t.TgZ(7,"a",10),t._uU(8),t.qZA(),t.TgZ(9,"span",11),t._uU(10),t.qZA(),t.YNc(11,A1,3,0,"button",12),t.YNc(12,S1,3,0,"button",13),t.qZA(),t.TgZ(13,"span",14),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",15),t.TgZ(17,"mat-slide-toggle",16),t.NdJ("toggleChange",function(){return t.CHM(e),t.oxw().changeServiceStatus()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"mat-slide-toggle",16),t.NdJ("toggleChange",function(){return t.CHM(e),t.oxw().propagationChange()}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.YNc(23,E1,3,3,"button",17),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",t.lcZ(2,14,"SERVICE_DETAIL.ENTITY")),t.Q6J("ngStyle",t.DdM(22,D1)),t.xp6(6),t.Q6J("routerLink",t.VKq(23,L1,e.service.id)),t.xp6(1),t.hij(" ",e.service.name," "),t.xp6(2),t.hij(" \xa0 #",e.service.id," "),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",e.authResolver.isPerunAdmin()),t.xp6(2),t.AsE(" ",t.lcZ(15,16,"SERVICE_DETAIL.DESCRIPTION"),": ",e.service.description," "),t.xp6(3),t.Q6J("checked",e.service.enabled),t.xp6(1),t.hij(" ",t.lcZ(19,18,"SERVICE_DETAIL.ENABLE")," "),t.xp6(2),t.Q6J("checked",e.service.useExpiredMembers),t.xp6(1),t.hij(" ",t.lcZ(22,20,"SERVICE_DETAIL.PROPAGATE")," "),t.xp6(2),t.Q6J("ngIf",e.authResolver.isPerunAdmin())}}let I1=(()=>{class n{constructor(e,i,a,o,d,y,S,F,H,lt,ot){this.route=e,this.router=i,this.consentsManager=a,this.serviceManager=o,this.sideMenuService=d,this.sideMenuItemService=y,this.dialog=S,this.authResolver=F,this.translate=H,this.notificator=lt,this.entityStorageService=ot,this.loading=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.serviceId=Number(e.serviceId),this.refresh()})}editService(){const e=(0,_e.kZ)();e.width="600px",e.data={theme:"service-theme",service:this.service},this.dialog.open(T1.R,e).afterClosed().subscribe(a=>{a&&this.refresh()})}removeService(){const e=(0,_e.kZ)();e.width="600px",e.data={theme:"service-theme",services:[this.service]},this.dialog.open(C1.m,e).afterClosed().subscribe(a=>{a&&this.router.navigate(["/admin/services"])})}changeServiceStatus(){this.service.enabled=!this.service.enabled,this.serviceManager.updateService({service:this.service}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.STATUS_CHANGE_SUCCESS"))},()=>this.service.enabled=!this.service.enabled)}propagationChange(){this.service.useExpiredMembers=!this.service.useExpiredMembers,this.serviceManager.updateService({service:this.service}).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.PROPAGATION_CHANGE_SUCCESS"))},()=>this.service.useExpiredMembers=!this.service.useExpiredMembers)}evaluateConsents(){const e=(0,_e.kZ)();e.width="500px",e.data={title:this.translate.instant("SERVICE_DETAIL.CONFIRM_DIALOG_TITLE"),theme:"service-theme",description:this.translate.instant("SERVICE_DETAIL.CONFIRM_DIALOG_DESCRIPTION"),items:[this.service.name],type:"confirmation",showAsk:!1},this.dialog.open(wa.Ts,e).afterClosed().subscribe(a=>{a&&this.consentsManager.evaluateConsentsForService(this.service.id).subscribe(()=>this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.EVALUATION_FINISH")))})}refresh(){this.serviceManager.getServiceById(this.serviceId).subscribe(e=>{this.service=e,this.entityStorageService.setEntity({id:e.id,beanName:e.beanName});const i=this.sideMenuItemService.parseService(this.service);this.sideMenuService.setAdminItems([i]),this.loading=!1},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(f.F0),t.Y36(z.WY),t.Y36(z.KK),t.Y36(p.D),t.Y36(Cu.V),t.Y36(O.uw),t.Y36(U.x4),t.Y36(u.sK),t.Y36(U.V6),t.Y36(U.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-detail-page"]],decls:5,vars:2,consts:[[1,"container-fluid","pl-xl-5","pr-xl-5","service-theme"],["class","ml-auto mr-auto",4,"ngIf"],["class","page-title-headtitle detail-layout",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"page-title-headtitle","detail-layout"],["svgIcon","perun-service",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"wrap-container"],[1,"detail-info"],[1,"flex-column"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"service-link",3,"routerLink"],[1,"text-muted"],["aria-label","Edit service","mat-icon-button","",3,"click",4,"ngIf"],["aria-label","Remove service","mat-icon-button","",3,"click",4,"ngIf"],[1,"mt-1","entity-info"],[1,"detail-actions"],["labelPosition","before",3,"checked","toggleChange"],["class","action-button evaluate-button","mat-stroked-button","",3,"click",4,"ngIf"],["aria-label","Edit service","mat-icon-button","",3,"click"],["aria-label","Remove service","mat-icon-button","",3,"click"],["mat-stroked-button","",1,"action-button","evaluate-button",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"perun-web-apps-back-button"),t.YNc(2,w1,1,0,"mat-spinner",1),t.YNc(3,k1,24,25,"div",2),t._UZ(4,"app-animated-router-outlet"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[l.W,_.O5,X.$g,h.Hw,ke.gM,_.PC,f.yS,nt.lW,Zn.Rr,m.A],pipes:[u.X$],styles:[".detail-layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1.2em}.detail-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:1.2em}.wrap-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:.3em}.detail-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-left:1px solid rgba(0,0,0,.2);padding-left:.5em}.evaluate-button[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}"],data:{animation:[ln.Ji]}}),n})(),M1=(()=>{class n{constructor(){this.navItems=[]}ngOnInit(){this.initNavItems()}initNavItems(){this.navItems=[{cssIcon:"perun-attributes",url:"required-attributes",label:"MENU_ITEMS.SERVICE.REQUIRED_ATTRIBUTES",style:"service-btn"},{cssIcon:"perun-service_destination",url:"destinations",label:"MENU_ITEMS.SERVICE.DESTINATIONS",style:"service-btn"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-overview"]],decls:1,vars:2,consts:[[3,"items","size"]],template:function(e,i){1&e&&t._UZ(0,"perun-web-apps-menu-buttons-field",0),2&e&&t.Q6J("items",i.navItems)("size","small")},directives:[A.L],styles:[""]}),n})();var O1=s(5254),N1=s(21406);class F1{constructor(r,e){this.keySelector=r,this.flushes=e}call(r,e){return e.subscribe(new R1(r,this.keySelector,this.flushes))}}class R1 extends Ht.L{constructor(r,e,i){super(r),this.keySelector=e,this.values=new Set,i&&this.add((0,ie.D)(this,i))}notifyNext(r,e,i,a,o){this.values.clear()}notifyError(r,e){this._error(r)}_next(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)}_useKeySelector(r){let e;const{destination:i}=this;try{e=this.keySelector(r)}catch(a){return void i.error(a)}this._finalizeNext(e,r)}_finalizeNext(r,e){const{values:i}=this;i.has(r)||(i.add(r),this.destination.next(e))}}var Z1=s(61709),wu=s(92014),Au=s(92821),B1=s(47314),Su=s(4843);function G1(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function V1(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",9),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.Q6J("alert_type","warn"),t.xp6(1),t.Oqu(t.lcZ(2,2,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.ACTIVE_WARN")))}function z1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.YNc(1,V1,3,4,"perun-web-apps-alert",6),t.ALo(2,"async"),t.TgZ(3,"perun-web-apps-immediate-filter",7),t.NdJ("filter",function(a){return t.CHM(e),t.oxw().applyFilter(a)}),t.qZA(),t._UZ(4,"app-attr-def-list",8),t.ALo(5,"async"),t.ALo(6,"async"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,8,e.serviceEnabled$)),t.xp6(2),t.Q6J("placeholder","DIALOGS.ADD_REQUIRED_ATTRIBUTES.FILTER"),t.xp6(1),t.Q6J("selection",e.selection)("definitions",e.attrDefinitions)("disableRouting",!0)("filterValue",e.filterValue)("serviceEnabled",t.lcZ(5,10,e.serviceEnabled$))("consentRequired",t.lcZ(6,12,e.consentRequired$))}}function Y1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.CANCEL")," "),t.xp6(2),t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(6,5,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.ADD")," ")}}let H1=(()=>{class n{constructor(e,i,a,o,d,y,S,F){this.dialogRef=e,this.data=i,this.serviceManager=a,this.attributesManager=o,this.facilitiesService=d,this.consentHubService=y,this.notificator=S,this.translate=F,this.consentRequired$=this.facilitiesService.getAssignedFacilitiesByService(this.data.serviceId).pipe((0,N1.b)(O1.D),(0,is.U)(H=>H.id),function P1(n,r){return e=>e.lift(new F1(n,r))}(),(0,Z1.zg)(H=>this.consentHubService.getConsentHubByFacility(H)),function U1(n,r){return arguments.length>=2?function(i){return(0,Su.z)((0,wu.R)(n,r),(0,Au.h)(1),(0,B1.d)(r))(i)}:function(i){return(0,Su.z)((0,wu.R)((a,o,d)=>n(a,o,d+1)),(0,Au.h)(1))(i)}}((H,lt)=>H||lt.enforceConsents,!1),(0,G.O)(!0)),this.serviceEnabled$=this.serviceManager.getServiceById(this.data.serviceId).pipe((0,is.U)(H=>H.enabled),(0,G.O)(!0)),this.attrDefinitions=[],this.selection=new P.Ov(!0,[]),this.filterValue="",this.loading=!1}ngOnInit(){this.loading=!0,this.theme=this.data.theme,this.serviceId=this.data.serviceId,this.attributesManager.getAllAttributeDefinitions().subscribe(e=>{this.attrDefinitions=e,this.loading=!1})}onAdd(){this.loading=!0;const e=this.selection.selected.map(i=>i.id);this.serviceManager.addRequiredAttributes(this.serviceId,e).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.ADD_REQUIRED_ATTRIBUTES.SUCCESS")),this.dialogRef.close(!0),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(z.KK),t.Y36(z.H8),t.Y36(z.IQ),t.Y36(z.WY),t.Y36(U.V6),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-required-attributes"]],decls:7,vars:9,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","","class","dialog-container",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"mr-auto","ml-auto"],["mat-dialog-content","",1,"dialog-container"],[3,"alert_type",4,"ngIf"],[3,"placeholder","filter"],[3,"selection","definitions","disableRouting","filterValue","serviceEnabled","consentRequired"],[3,"alert_type"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,G1,1,0,"mat-spinner",1),t.YNc(5,z1,7,14,"div",2),t.YNc(6,Y1,7,7,"div",3),t.qZA()),2&e&&(t.Tol(i.theme),t.xp6(2),t.Oqu(t.lcZ(3,7,"DIALOGS.ADD_REQUIRED_ATTRIBUTES.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[O.uh,_.O5,X.$g,O.xY,it.w,jn.L,on,O.H8,nt.lW],pipes:[u.X$,_.Ov],styles:[""]}),n})();function X1(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function W1(n,r){1&n&&t._UZ(0,"th",15)}function $1(n,r){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.friendlyName)}}function Q1(n,r){1&n&&t._UZ(0,"tr",17)}function J1(n,r){1&n&&t._UZ(0,"tr",18)}function j1(n,r){if(1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",9),t.ynx(8,10),t.YNc(9,W1,1,0,"th",11),t.YNc(10,$1,2,1,"td",12),t.BQk(),t.YNc(11,Q1,1,0,"tr",13),t.YNc(12,J1,1,0,"tr",14),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.DESCRIPTION")),t.xp6(3),t.hij(" ",t.lcZ(6,7,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.ASK")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}let q1=(()=>{class n{constructor(e,i,a,o,d){this.dialogRef=e,this.data=i,this.serviceManager=a,this.notificator=o,this.translate=d,this.displayedColumns=["name"],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.serviceId=this.data.serviceId,this.dataSource=new R.by(this.data.attrDefinitions)}onConfirm(){this.loading=!0;const e=this.dataSource.data.map(i=>i.id);this.serviceManager.removeRequiredAttributes(this.serviceId,e).subscribe(()=>{this.notificator.showSuccess(this.translate.instant("DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.SUCCESS")),this.dialogRef.close(!0),this.loading=!1},()=>this.loading=!1)}onCancel(){this.dialogRef.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(z.KK),t.Y36(U.V6),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-remove-required-attributes"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","font-weight-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div"),t.YNc(4,X1,1,0,"mat-spinner",1),t.YNc(5,j1,13,9,"div",2),t.TgZ(6,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.onCancel()}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.onConfirm()}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,9,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.TITLE")),t.xp6(2),t.Tol(i.theme),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(3),t.hij(" ",t.lcZ(9,11,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.CANCEL")," "),t.xp6(2),t.Q6J("disabled",i.loading),t.xp6(1),t.hij(" ",t.lcZ(12,13,"DIALOGS.REMOVE_REQUIRED_ATTRIBUTES.REMOVE")," "))},directives:[O.uh,_.O5,X.$g,O.xY,R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();function K1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAdd()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.ADD")," "))}function tb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemove()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.REMOVE")," ")}}function eb(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function nb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-attr-def-list",10),t.NdJ("refreshEvent",function(){return t.CHM(e),t.oxw().refreshTable()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("definitions",e.attrDefinitions)("filterValue",e.filterValue)("selection",e.selection)("disableRouting",!e.authResolver.isPerunAdmin())("tableId",e.tableId)}}let ib=(()=>{class n{constructor(e,i,a,o){this.attributeManager=e,this.dialog=i,this.authResolver=a,this.entityStorageService=o,this.loading=!1,this.filterValue="",this.selection=new P.Ov(!0,[]),this.attrDefinitions=[],this.tableId=en.JO}ngOnInit(){this.loading=!0,this.service=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.attributeManager.getRequiredAttributesDefinition(this.service.id).subscribe(e=>{this.selection.clear(),this.attrDefinitions=e,this.loading=!1})}onAdd(){const e=(0,_e.kZ)();e.width="950px",e.data={serviceId:this.service.id,theme:"service-theme"},this.dialog.open(H1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}onRemove(){const e=(0,_e.kZ)();e.width="650px",e.data={serviceId:this.service.id,attrDefinitions:this.selection.selected,theme:"service-theme"},this.dialog.open(q1,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.H8),t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-required-attributes"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","mr-2 action-button","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"definitions","filterValue","selection","disableRouting","tableId","refreshEvent",4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"definitions","filterValue","selection","disableRouting","tableId","refreshEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,K1,3,3,"button",2),t.YNc(6,tb,3,4,"button",3),t.TgZ(7,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(8,eb,1,0,"mat-spinner",5),t.YNc(9,nb,1,5,"app-attr-def-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"SERVICE_DETAIL.REQUIRED_ATTRIBUTES.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","SERVICE_DETAIL.REQUIRED_ATTRIBUTES.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,_.O5,nt.lW,jn.L,X.$g,on],pipes:[u.X$],styles:[""]}),n})();var rb=s(46597),ab=s(89466),sb=s(70242);function ob(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRemove()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.REMOVE")," ")}}function lb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAllow()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.ALLOW")," ")}}function cb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onBlock()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SERVICE_DETAIL.DESTINATIONS.BLOCK")," ")}}function ub(n,r){1&n&&t._UZ(0,"mat-spinner",10)}const hb=function(){return["select","destinationId","facility","destination","type","status","propagationType"]};function db(n,r){if(1&n&&t._UZ(0,"app-perun-web-apps-destination-list",11),2&n){const e=t.oxw();t.Q6J("destinations",e.destinations)("filterValue",e.filterValue)("selection",e.selection)("displayedColumns",t.DdM(5,hb))("tableId",e.tableId)}}let fb=(()=>{class n{constructor(e,i,a,o,d,y){this.serviceManager=e,this.notificator=i,this.translate=a,this.dialog=o,this.authResolver=d,this.entityStorageService=y,this.loading=!1,this.filterValue="",this.destinations=[],this.selection=new P.Ov(!0,[]),this.tableId=en.Cf}ngOnInit(){this.loading=!0,this.service=this.entityStorageService.getEntity(),this.refreshTable()}refreshTable(){this.loading=!0,this.serviceManager.getAllRichDestinationsForService(this.service.id).subscribe(e=>{this.selection.clear(),this.filterValue="",this.destinations=e,this.loading=!1})}onBlock(){this.loading=!0,this.blockServiceOnDestinations(this.selection.selected)}onAllow(){this.loading=!0,this.allowServiceOnDestinations(this.selection.selected)}onRemove(){const e=(0,_e.kZ)();e.width="500px",e.data={destinations:this.selection.selected,theme:"admin-theme"},this.dialog.open(ab.u,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}applyFilter(e){this.filterValue=e}blockServiceOnDestinations(e){if(0===e.length)return this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.DESTINATIONS.BLOCK_SUCCESS")),void this.refreshTable();const i=e.pop();this.serviceManager.blockServiceOnDestination(this.service.id,i.id).subscribe(()=>{this.blockServiceOnDestinations(e)},()=>this.loading=!1)}allowServiceOnDestinations(e){if(0===e.length)return this.notificator.showSuccess(this.translate.instant("SERVICE_DETAIL.DESTINATIONS.ALLOW_SUCCESS")),void this.refreshTable();const i=e.pop();this.serviceManager.unblockServiceOnDestinationById(this.service.id,i.id).subscribe(()=>{this.allowServiceOnDestinations(e)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.KK),t.Y36(U.V6),t.Y36(u.sK),t.Y36(O.uw),t.Y36(U.x4),t.Y36(U.fb))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-service-destinations"]],decls:11,vars:9,consts:[[1,"page-subtitle"],[3,"refresh"],["color","warn","class","mr-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],["class","mr-2","color","accent","mat-flat-button","",3,"disabled","click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"destinations","filterValue","selection","displayedColumns","tableId",4,"ngIf"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],["color","accent","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"destinations","filterValue","selection","displayedColumns","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,ob,3,4,"button",2),t.YNc(6,lb,3,4,"button",3),t.YNc(7,cb,3,4,"button",4),t.TgZ(8,"perun-web-apps-immediate-filter",5),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(9,ub,1,0,"mat-spinner",6),t.YNc(10,db,1,6,"app-perun-web-apps-destination-list",7),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"SERVICE_DETAIL.DESTINATIONS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","SERVICE_DETAIL.DESTINATIONS.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,_.O5,nt.lW,jn.L,X.$g,sb.q],pipes:[u.X$],styles:[""]}),n})();function pb(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function mb(n,r){1&n&&t._UZ(0,"th",13)}function gb(n,r){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.name)}}function _b(n,r){1&n&&t._UZ(0,"tr",15)}function vb(n,r){1&n&&t._UZ(0,"tr",16)}function xb(n,r){if(1&n&&(t.TgZ(0,"div",5),t.TgZ(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table",7),t.ynx(8,8),t.YNc(9,mb,1,0,"th",9),t.YNc(10,gb,2,1,"td",10),t.BQk(),t.YNc(11,_b,1,0,"tr",11),t.YNc(12,vb,1,0,"tr",12),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,5,"DIALOGS.DELETE_OWNER.DESCRIPTION")," "),t.xp6(3),t.hij(" ",t.lcZ(6,7,"DIALOGS.DELETE_OWNER.ASK")," "),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(4),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function yb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"DIALOGS.DELETE_OWNER.CANCEL")," "),t.xp6(2),t.Q6J("disabled",e.loading),t.xp6(1),t.hij(" ",t.lcZ(6,5,"DIALOGS.DELETE_OWNER.DELETE")," ")}}let bb=(()=>{class n{constructor(e,i,a,o,d){this.dialogRef=e,this.data=i,this.notificator=a,this.translate=o,this.ownersManagerService=d,this.displayedColumns=["name"],this.owners=[]}ngOnInit(){this.dataSource=new R.by(this.data),this.owners=this.data}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0,this.owners.length?this.ownersManagerService.deleteOwner(this.owners.pop().id).subscribe(()=>{this.onSubmit()},()=>this.loading=!1):this.translate.get("DIALOGS.DELETE_OWNER.SUCCESS").subscribe(e=>{this.loading=!1,this.notificator.showSuccess(e),this.dialogRef.close(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(U.V6),t.Y36(u.sK),t.Y36(z.aC))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-owner-dialog"]],decls:6,vars:6,consts:[["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],[1,"ml-auto","mr-auto"],["mat-dialog-content",""],[1,"font-weight-bold"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["class","font-weight-bolder","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"font-weight-bolder"],["mat-row",""],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,pb,1,0,"mat-spinner",1),t.YNc(4,xb,13,9,"div",2),t.YNc(5,yb,7,7,"div",3)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,4,"DIALOGS.DELETE_OWNER.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[O.uh,_.O5,X.$g,O.xY,R.BZ,R.w1,R.fO,R.ge,R.Dz,R.ev,R.as,R.XQ,R.nj,R.Gk,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();function Tb(n,r){1&n&&t._UZ(0,"mat-spinner",4)}function Cb(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.ADD_OWNER.FILL_CONTACT")," "))}function wb(n,r){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DIALOGS.ADD_OWNER.CONTACT_FORMAT")," "))}function Ab(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"mat-form-field"),t._UZ(3,"input",6),t.ALo(4,"translate"),t.TgZ(5,"mat-error"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"mat-form-field"),t._UZ(9,"input",6),t.ALo(10,"translate"),t.YNc(11,Cb,3,3,"mat-error",3),t.YNc(12,wb,3,3,"mat-error",3),t.qZA(),t.TgZ(13,"mat-form-field"),t.TgZ(14,"mat-select",7),t.NdJ("valueChange",function(a){return t.CHM(e),t.oxw().type=a}),t.TgZ(15,"mat-option",8),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-option",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",10),t.TgZ(22,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",12),t.ALo(26,"translate"),t.TgZ(27,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("placeholder",t.lcZ(4,15,"DIALOGS.ADD_OWNER.NAME")),t.Q6J("formControl",e.nameCtrl),t.xp6(3),t.hij(" ",t.lcZ(7,17,"DIALOGS.ADD_OWNER.FILL_NAME")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(10,19,"DIALOGS.ADD_OWNER.CONTACT")),t.Q6J("formControl",e.contactCtrl),t.xp6(2),t.Q6J("ngIf",e.contactCtrl.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.contactCtrl.invalid&&!e.contactCtrl.hasError("required")),t.xp6(2),t.Q6J("value",e.type),t.xp6(2),t.Oqu(t.lcZ(17,21,"DIALOGS.ADD_OWNER.TYPE1")),t.xp6(3),t.Oqu(t.lcZ(20,23,"DIALOGS.ADD_OWNER.TYPE2")),t.xp6(4),t.hij(" ",t.lcZ(24,25,"DIALOGS.ADD_OWNER.CANCEL")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(26,27,"DIALOGS.ADD_OWNER.TOOLTIP")),t.Q6J("matTooltipDisabled",e.nameCtrl.valid&&e.contactCtrl.valid),t.xp6(2),t.Q6J("disabled",e.nameCtrl.invalid||e.contactCtrl.invalid),t.xp6(1),t.hij(" ",t.lcZ(29,29,"DIALOGS.ADD_OWNER.CREATE")," ")}}let Sb=(()=>{class n{constructor(e,i,a,o){this.dialogRef=e,this.notificator=i,this.ownersManagerService=a,this.translate=o,this.type="1",o.get("DIALOGS.ADD_OWNER.SUCCESS").subscribe(d=>this.successMessage=d)}ngOnInit(){this.nameCtrl=new rt.NI(null,[rt.kI.required,rt.kI.pattern("^[\\w.-]+( [\\w.-]+)*$")]),this.contactCtrl=new rt.NI(null,[rt.kI.required,rt.kI.pattern(_e.B2)])}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.loading=!0,this.ownersManagerService.createOwner({name:this.nameCtrl.value,contact:this.contactCtrl.value,ownerType:Number(this.type)}).subscribe(()=>{this.notificator.showSuccess(this.successMessage),this.loading=!1,this.dialogRef.close(!0)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(U.V6),t.Y36(z.aC),t.Y36(u.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-owner-dialog"]],decls:6,vars:5,consts:[[1,"admin-theme"],["mat-dialog-title",""],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],["mat-dialog-content","",1,"dialog-container"],["matInput","","required","",3,"formControl","placeholder"],[3,"value","valueChange"],["value","1"],["value","0"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["matTooltipPosition","above",3,"matTooltip","matTooltipDisabled"],["color","accent","mat-flat-button","",1,"ml-2",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Tb,1,0,"mat-spinner",2),t.YNc(5,Ab,30,31,"div",3),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"DIALOGS.ADD_OWNER.TITLE")),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[O.uh,_.O5,X.$g,O.xY,qe.KE,De.Nt,rt.Fj,rt.Q7,rt.JJ,rt.oH,qe.TO,Be.gD,Cn.ey,O.H8,nt.lW,ke.gM],pipes:[u.X$],styles:[""]}),n})();var Eb=s(23256);function Db(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().addOwner()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ADMIN.OWNERS.ADD")," "))}function Lb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeOwner()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",!e.selected.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.OWNERS.DELETE")," ")}}function kb(n,r){1&n&&t._UZ(0,"mat-spinner",9)}function Ib(n,r){if(1&n&&t._UZ(0,"perun-web-apps-owners-list",10),2&n){const e=t.oxw();t.Q6J("selection",e.selected)("filterValue",e.filterValue)("owners",e.owners)("tableId",e.tableId)}}let Mb=(()=>{class n{constructor(e,i,a){this.ownersManagerService=e,this.dialog=i,this.guiAuthResolver=a,this.owners=[],this.selected=new P.Ov(!0,[]),this.filterValue="",this.tableId=en.v1}ngOnInit(){this.setAuth(),this.refreshTable()}setAuth(){this.removeAuth=this.guiAuthResolver.isAuthorized("deleteOwner_Owner_policy",[]),this.addAuth=this.guiAuthResolver.isAuthorized("createOwner_Owner_policy",[])}refreshTable(){this.loading=!0,this.ownersManagerService.getAllOwners().subscribe(e=>{this.owners=e,this.selected.clear(),this.loading=!1})}applyFilter(e){this.filterValue=e}addOwner(){const e=(0,_e.kZ)();e.width="400px",e.data={},this.dialog.open(Sb,e).afterClosed().subscribe(a=>{a&&this.refreshTable()})}removeOwner(){const e=(0,_e.kZ)();e.width="400px",e.data=this.selected.selected,this.dialog.open(bb,e).afterClosed().subscribe(a=>{a&&(this.selected.clear(),this.refreshTable())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.aC),t.Y36(O.uw),t.Y36(U.x4))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-owners"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","mr-2 action-button","mat-flat-button","",3,"click",4,"ngIf"],["class","mr-2","color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"selection","filterValue","owners","tableId",4,"ngIf"],["color","accent","mat-flat-button","",1,"mr-2","action-button",3,"click"],["color","warn","mat-flat-button","",1,"mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"selection","filterValue","owners","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,Db,3,3,"button",2),t.YNc(6,Lb,3,4,"button",3),t.TgZ(7,"perun-web-apps-immediate-filter",4),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(8,kb,1,0,"mat-spinner",5),t.YNc(9,Ib,1,4,"perun-web-apps-owners-list",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"ADMIN.OWNERS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.addAuth),t.xp6(1),t.Q6J("ngIf",i.removeAuth),t.xp6(1),t.Q6J("placeholder","ADMIN.OWNERS.FILTER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,_.O5,nt.lW,jn.L,X.$g,Eb.Q],pipes:[u.X$],styles:[""]}),n})();var Ob=s(74010);function Nb(n,r){1&n&&t._UZ(0,"mat-spinner",5)}function Pb(n,r){if(1&n&&t._UZ(0,"perun-web-apps-facilities-list",6),2&n){const e=t.oxw();t.Q6J("displayedColumns",e.displayedColumns)("filterValue",e.filterValue)("facilities",e.facilities)("tableId",e.tableId)}}let Fb=(()=>{class n{constructor(e,i){this.facilityManager=e,this.route=i,this.facilities=[],this.filterValue="",this.tableId=en.zW,this.displayedColumns=["id","name","description"]}ngOnInit(){this.loading=!0,this.route.parent.params.subscribe(e=>{this.userId=Number(e.userId),this.refreshTable()})}refreshTable(){this.loading=!0,this.facilityManager.getAssignedFacilitiesByUser(this.userId).subscribe(e=>{this.facilities=e.map(i=>({facility:i})),this.loading=!1})}applyFilter(e){this.filterValue=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.IQ),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-facilities"]],decls:8,vars:6,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"displayedColumns","filterValue","facilities","tableId",4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"displayedColumns","filterValue","facilities","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.TgZ(5,"perun-web-apps-immediate-filter",2),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(6,Nb,1,0,"mat-spinner",3),t.YNc(7,Pb,1,4,"perun-web-apps-facilities-list",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"USER_DETAIL.FACILITIES.TITLE")),t.xp6(3),t.Q6J("placeholder","USER_DETAIL.FACILITIES.FILTER_PLACEHOLDER"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,jn.L,_.O5,X.$g,Ob.X],pipes:[u.X$],styles:[""]}),n})();var Eu=s(64080),Rb=s(62707),Zb=s(60526),Bb=s(24179),Ub=s(12651),Gb=s(19191);function Vb(n,r){1&n&&t._UZ(0,"mat-spinner",6)}function zb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"perun-web-apps-vo-search-select",7),t.NdJ("voSelected",function(a){return t.CHM(e),t.oxw().loadMember(a)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("vos",e.vos)}}function Yb(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.STATUS")," ")}function Hb(n,r){1&n&&t._UZ(0,"mat-spinner",6)}const Xb=function(){return["id","recent","name","description","expiration","groupStatus"]};function Wb(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"perun-web-apps-groups-list",16),t.NdJ("refreshTable",function(){t.CHM(e);const a=t.oxw(4);return a.loadMember(a.selectedVo)}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("groups",e.groups)("memberId",e.member.id)("memberGroupStatus",e.member.groupStatus)("displayedColumns",t.DdM(4,Xb))}}const $b=function(n,r){return["/organizations",n,"members",r]};function Qb(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",10),t.TgZ(2,"span",11),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"a",12),t._uU(6),t.qZA(),t.qZA(),t._UZ(7,"app-member-overview-membership",13),t.TgZ(8,"p",14),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Wb,1,5,"perun-web-apps-groups-list",15),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,7,"USER_DETAIL.ACCOUNTS.MEMBER"),":"),t.xp6(2),t.Q6J("routerLink",t.WLB(11,$b,e.selectedVo.id,e.member.id)),t.xp6(1),t.hij("",e.member.id," "),t.xp6(1),t.Q6J("member",e.member)("vo",e.selectedVo),t.xp6(2),t.Oqu(t.lcZ(10,9,"USER_DETAIL.ACCOUNTS.GROUPS")),t.xp6(2),t.Q6J("ngIf",!e.loading)}}function Jb(n,r){if(1&n&&(t.YNc(0,Hb,1,0,"mat-spinner",1),t.YNc(1,Qb,12,14,"div",4)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function jb(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_ATT")," ")}function qb(n,r){1&n&&t._UZ(0,"mat-spinner")}function Kb(n,r){if(1&n&&t._UZ(0,"app-one-entity-attribute-page",18),2&n){const e=t.oxw(3);t.Q6J("entity","member")("entityId",e.member.id)}}function tT(n,r){if(1&n&&(t.YNc(0,qb,1,0,"mat-spinner",4),t.YNc(1,Kb,1,2,"app-one-entity-attribute-page",17)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function eT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_GROUP_ATT")," ")}function nT(n,r){1&n&&t._UZ(0,"mat-spinner")}function iT(n,r){if(1&n&&t._UZ(0,"app-two-entity-attribute-page",20),2&n){const e=t.oxw(3);t.Q6J("firstEntity","member")("firstEntityId",e.member.id)("secondEntity","group")}}function rT(n,r){if(1&n&&(t.YNc(0,nT,1,0,"mat-spinner",4),t.YNc(1,iT,1,3,"app-two-entity-attribute-page",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function aT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"USER_DETAIL.ACCOUNTS.MEMBER_RESOURCE_ATT")," ")}function sT(n,r){1&n&&t._UZ(0,"mat-spinner")}function oT(n,r){if(1&n&&t._UZ(0,"app-two-entity-attribute-page",20),2&n){const e=t.oxw(3);t.Q6J("firstEntity","member")("firstEntityId",e.member.id)("secondEntity","resource")}}function lT(n,r){if(1&n&&(t.YNc(0,sT,1,0,"mat-spinner",4),t.YNc(1,oT,1,3,"app-two-entity-attribute-page",19)),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading)}}function cT(n,r){1&n&&(t.TgZ(0,"mat-tab-group"),t.TgZ(1,"mat-tab"),t.YNc(2,Yb,2,3,"ng-template",8),t.YNc(3,Jb,2,2,"ng-template",9),t.qZA(),t.TgZ(4,"mat-tab"),t.YNc(5,jb,2,3,"ng-template",8),t.YNc(6,tT,2,2,"ng-template",9),t.qZA(),t.TgZ(7,"mat-tab"),t.YNc(8,eT,2,3,"ng-template",8),t.YNc(9,rT,2,2,"ng-template",9),t.qZA(),t.TgZ(10,"mat-tab"),t.YNc(11,aT,2,3,"ng-template",8),t.YNc(12,lT,2,2,"ng-template",9),t.qZA(),t.qZA())}function uT(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"USER_DETAIL.ACCOUNTS.NO_VOS")))}let hT=(()=>{class n{constructor(e,i,a,o){this.route=e,this.usersService=i,this.membersService=a,this.groupService=o,this.initLoading=!1,this.loading=!1,this.vos=[],this.selectedVo=null,this.member=null,this.groups=[]}ngOnInit(){this.initLoading=!0,this.route.parent.params.subscribe(e=>{this.userId=Number(e.userId),this.usersService.getVosWhereUserIsMember(this.userId).subscribe(i=>{this.vos=i,this.initLoading=!1},()=>this.initLoading=!1)})}loadMember(e){this.loading=!0,this.selectedVo=e,this.membersService.getMemberByUser(this.selectedVo.id,this.userId).subscribe(i=>{this.member=i,this.groupService.getMemberRichGroupsWithAttributesByNames(this.member.id,[Eu.r.MEMBER_DEF_GROUP_EXPIRATION,Eu.r.MEMBER_GROUP_STATUS]).subscribe(a=>{this.groups=a,this.loading=!1},()=>this.loading=!1)},()=>this.loading=!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(z.Fv),t.Y36(z.uq),t.Y36(z.ff))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-user-accounts"]],decls:8,vars:7,consts:[[1,"page-title"],["class","ml-auto mr-auto",4,"ngIf"],[1,"d-flex"],["class","w-50",3,"vos","voSelected",4,"ngIf"],[4,"ngIf"],["alert_type","warn",4,"ngIf"],[1,"ml-auto","mr-auto"],[1,"w-50",3,"vos","voSelected"],["matTabLabel",""],["matTabContent",""],[1,"mt-4","mb-4"],[1,"subtitle","mr-2"],["queryParamsHandling","merge",1,"member-link",3,"routerLink"],[3,"member","vo"],[1,"mt-4","subtitle"],[3,"groups","memberId","memberGroupStatus","displayedColumns","refreshTable",4,"ngIf"],[3,"groups","memberId","memberGroupStatus","displayedColumns","refreshTable"],[3,"entity","entityId",4,"ngIf"],[3,"entity","entityId"],[3,"firstEntity","firstEntityId","secondEntity",4,"ngIf"],[3,"firstEntity","firstEntityId","secondEntity"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,Vb,1,0,"mat-spinner",1),t.TgZ(4,"div",2),t.YNc(5,zb,1,1,"perun-web-apps-vo-search-select",3),t.qZA(),t.YNc(6,cT,13,0,"mat-tab-group",4),t.YNc(7,uT,3,3,"perun-web-apps-alert",5)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,5,"USER_DETAIL.ACCOUNTS.TITLE")),t.xp6(2),t.Q6J("ngIf",i.initLoading),t.xp6(2),t.Q6J("ngIf",!(i.initLoading||0===i.vos.length)),t.xp6(1),t.Q6J("ngIf",!(i.initLoading||0===i.vos.length)),t.xp6(1),t.Q6J("ngIf",!i.initLoading&&0===i.vos.length))},directives:[_.O5,X.$g,Rb.M,Ke.SP,Ke.uX,Ke.uD,Ke.Vc,f.yS,Zb.b,Bb.W,Ub.t,Gb.Y,it.w],pipes:[u.X$],styles:[".subtitle[_ngcontent-%COMP%]{font-size:1.2rem}"]}),n})(),Du=(()=>{class n{transform(e){if(e)return e.split(".").pop()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"parseEventName",type:n,pure:!0}),n})();function dT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"DIALOGS.AUDIT_MESSAGE_DETAIL.OBJECTS")," ")}function fT(n,r){if(1&n&&t._UZ(0,"pre",9),2&n){const e=t.oxw();t.Q6J("innerHTML",e.syntaxHighlight(e.eventData),t.oJD)}}function pT(n,r){1&n&&(t._uU(0),t.ALo(1,"translate")),2&n&&t.hij(" ",t.lcZ(1,1,"DIALOGS.AUDIT_MESSAGE_DETAIL.MESSAGE")," ")}function mT(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.message)}}let gT=(()=>{class n{constructor(e,i,a){this.dialogRef=e,this.data=i,this.clipboard=a,this.tabIndex=0,this.eventData={}}ngOnInit(){const e=this.data.message.event;this.actor=this.data.message.actor,this.createdAt=this.data.message.createdAt,e.message&&(this.message=e.message,delete e.message),e.name&&(this.title=e.name,delete e.name),this.eventData=e}tabChanged(e){this.tabIndex=e.index}copyObjects(){this.clipboard.copy(JSON.stringify(this.eventData,null,2))}copyMessage(){this.clipboard.copy(this.message)}syntaxHighlight(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(i){let a="number";return i.startsWith('"')?a=i.endsWith(":")?"key":"string":/true|false/.test(i)?a="boolean":i.includes("null")&&(a="null"),'<span class="'+a+'">'+i+"</span>"})}onClose(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(W.TU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-message-detail-dialog"]],decls:26,vars:19,consts:[[1,"admin-theme"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"selectedTabChange"],["matTabLabel",""],["matTabContent",""],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-button","",3,"click"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"parseEventName"),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-tab-group",3),t.NdJ("selectedTabChange",function(o){return i.tabChanged(o)}),t.TgZ(11,"mat-tab"),t.YNc(12,dT,2,3,"ng-template",4),t.YNc(13,fT,1,1,"ng-template",5),t.qZA(),t.TgZ(14,"mat-tab"),t.YNc(15,pT,2,3,"ng-template",4),t.YNc(16,mT,2,1,"ng-template",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"button",7),t.NdJ("click",function(){return i.onClose()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",8),t.NdJ("click",function(){return 0===i.tabIndex?i.copyObjects():i.copyMessage()}),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"mat-icon"),t._uU(25,"content_copy"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let a;t.xp6(2),t.hij(" ",t.lcZ(3,7,null!==(a=t.lcZ(4,9,i.title))&&void 0!==a?a:"DIALOGS.AUDIT_MESSAGE_DETAIL.TITLE")," "),t.xp6(5),t.HOy(" ",t.lcZ(8,11,"DIALOGS.AUDIT_MESSAGE_DETAIL.ACTOR"),": ",i.actor,", ",t.lcZ(9,13,"DIALOGS.AUDIT_MESSAGE_DETAIL.CREATED_AT"),": ",i.createdAt," "),t.xp6(12),t.hij(" ",t.lcZ(20,15,"DIALOGS.AUDIT_MESSAGE_DETAIL.CLOSE")," "),t.xp6(3),t.hij(" ",t.lcZ(23,17,"DIALOGS.AUDIT_MESSAGE_DETAIL.COPY")," ")}},directives:[O.uh,O.xY,Ke.SP,Ke.uX,Ke.uD,Ke.Vc,O.H8,nt.lW,h.Hw],pipes:[u.X$,Du],styles:[".key{color:brown}.string{color:green}.number{color:#ff8c00}.boolean{color:#00f}.null{color:#f0f}\n"],encapsulation:2}),n})();var _T=s(86087),vT=s(36787),xT=s(62383);function yT(n,r){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner",17),t.qZA())}function bT(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AUDIT_MESSAGES_LIST.ID")," "))}function TT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function CT(n,r){1&n&&(t.TgZ(0,"th",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AUDIT_MESSAGES_LIST.TIMESTAMP")," "))}function wT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"parseDate"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdAt,!0)," ")}}function AT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.EVENT_NAME")))}function ST(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"parseEventName"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.event.name)," ")}}function ET(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.ACTOR")))}function DT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.actor," ")}}function LT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AUDIT_MESSAGES_LIST.MESSAGE")))}function kT(n,r){if(1&n&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.event.message," ")}}function IT(n,r){1&n&&t._UZ(0,"th",20)}function MT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"button",21),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().viewDetails(o)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"AUDIT_MESSAGES_LIST.VIEW_DETAIL")," "))}function OT(n,r){1&n&&t._UZ(0,"tr",22)}function NT(n,r){1&n&&t._UZ(0,"tr",23)}function PT(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_AUDIT_MESSAGES"),"\n"))}let FT=(()=>{class n{constructor(e,i,a){this.dialog=e,this.dynamicPaginatingService=i,this.tableConfigService=a,this.displayedColumns=["id","timestamp","name","actor","event.message","detail"],this.pageSizeOptions=_e.f7}static getExportDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"timestamp":return(0,_.p6)(e.createdAt,"d.M.y H.mm.ss","en");case"name":return e.event.name.split(".").pop();case"actor":return e.actor;case"event.message":return e.event.message;default:return""}}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.child.paginator.pageIndex=0),(0,vT.T)(this.sort.sortChange,this.child.paginator.page).pipe((0,T.b)(()=>this.loadAuditMessagesPage())).subscribe()}ngOnInit(){this.dataSource=new U.Hy(this.dynamicPaginatingService,null),this.dataSource.loadAuditMessages(this.tableConfigService.getTablePageSize(this.tableId),0,"DESCENDING")}ngOnChanges(){this.dataSource&&(this.child.paginator.pageIndex=0,this.loadAuditMessagesPage())}loadAuditMessagesPage(){this.dataSource.loadAuditMessages(this.child.paginator.pageSize,this.child.paginator.pageIndex,"asc"===this.sort.direction?"ASCENDING":"DESCENDING")}viewDetails(e){const i=(0,_e.kZ)(),a=JSON.parse(JSON.stringify(e));i.minWidth="700px",i.maxWidth="1000px",i.data={message:a},this.dialog.open(gT,i)}exportData(e){(0,_e.O6)((0,_e.Xn)(this.dataSource.getData(),this.displayedColumns.filter(i=>"detail"!==i),n.getExportDataForColumn),e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw),t.Y36(U.ly),t.Y36(en.dB))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-audit-messages-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(_e.l9,7),t.Gf(pn.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},inputs:{tableId:"tableId",refresh:"refresh",displayedColumns:"displayedColumns",searchString:"searchString"},features:[t._Bn([{provide:_T.ye,useClass:U.Be}]),t.TTD],decls:28,vars:15,consts:[[1,"card","mt-2",3,"hidden"],[3,"dataLength","pageSizeOptions","tableId","exportData"],["class","spinner-container",4,"ngIf"],["mat-table","","matSort","","matSortActive","id","matSortDirection","desc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actor"],["matColumnDef","event.message"],["matColumnDef","detail"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],[1,"spinner-container"],[1,"ml-auto","mr-auto"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-header-cell",""],["color","accent","mat-flat-button","",3,"click"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(o){return i.exportData(o)}),t.YNc(3,yT,2,0,"div",2),t.ALo(4,"async"),t.TgZ(5,"table",3),t.ynx(6,4),t.YNc(7,bT,3,3,"th",5),t.YNc(8,TT,2,1,"td",6),t.BQk(),t.ynx(9,7),t.YNc(10,CT,3,3,"th",5),t.YNc(11,wT,3,4,"td",6),t.BQk(),t.ynx(12,8),t.YNc(13,AT,3,3,"th",9),t.YNc(14,ST,3,3,"td",6),t.BQk(),t.ynx(15,10),t.YNc(16,ET,3,3,"th",9),t.YNc(17,DT,2,1,"td",6),t.BQk(),t.ynx(18,11),t.YNc(19,LT,3,3,"th",9),t.YNc(20,kT,2,1,"td",6),t.BQk(),t.ynx(21,12),t.YNc(22,IT,1,0,"th",9),t.YNc(23,MT,4,3,"td",6),t.BQk(),t.YNc(24,OT,1,0,"tr",13),t.YNc(25,NT,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,PT,3,3,"perun-web-apps-alert",15),t.ALo(27,"async")),2&e&&(t.Q6J("hidden",0===i.dataSource.allObjectCount&&!1===t.lcZ(1,9,i.dataSource.loading$)),t.xp6(2),t.Q6J("dataLength",i.dataSource.allObjectCount)("pageSizeOptions",i.pageSizeOptions)("tableId",i.tableId),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,11,i.dataSource.loading$)),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.allObjectCount&&!1===t.lcZ(27,13,i.dataSource.loading$)))},directives:[Ot.l,_.O5,X.$g,R.BZ,pn.YE,R.w1,R.fO,R.ge,pn.nU,R.Dz,R.ev,nt.lW,R.as,R.XQ,R.nj,R.Gk,it.w],pipes:[_.Ov,u.X$,xT.M,Du],styles:[""]}),n})(),RT=(()=>{class n{constructor(){this.tableId=en.yW,this.refresh=!1}refreshTable(){this.refresh=!this.refresh}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-audit-log"]],decls:5,vars:5,consts:[[1,"page-subtitle"],[3,"refresh"],[3,"refresh","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t._UZ(4,"app-audit-messages-list",2)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,3,"ADMIN.AUDIT_LOG.TITLE")),t.xp6(3),t.Q6J("refresh",i.refresh)("tableId",i.tableId))},directives:[we.t,FT],pipes:[u.X$],styles:[""]}),n})();var ZT=s(4834);let BT=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}onCancel(){this.dialogRef.close(!1)}onSubmit(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-edit-enforce-consents-dialog"]],decls:26,vars:27,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"mt-2","mb-2"],["alert_type","warn"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["mat-flat-button","","color","accent",1,"ml-2",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"mat-divider"),t.TgZ(11,"p",2),t._uU(12),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"perun-web-apps-alert",3),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"button",5),t.NdJ("click",function(){return i.onCancel()}),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"button",6),t.NdJ("click",function(){return i.onSubmit()}),t._uU(23),t.ALo(24,"translate"),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Tol(i.data.theme),t.xp6(2),t.hij(" ",i.data.enforceConsents?t.lcZ(3,9,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_TITLE"):t.lcZ(4,11,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_TITLE")," "),t.xp6(5),t.hij(" ",i.data.enforceConsents?t.lcZ(8,13,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_DESCRIPTION"):t.lcZ(9,15,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_DESCRIPTION")," "),t.xp6(5),t.Oqu(i.data.consentHubName),t.xp6(3),t.hij(" ",i.data.enforceConsents?t.lcZ(16,17,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_BOLD_DESCRIPTION"):t.lcZ(17,19,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_BOLD_DESCRIPTION")," "),t.xp6(5),t.hij(" ",t.lcZ(21,21,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.CANCEL_BUTTON")," "),t.xp6(3),t.hij(" ",i.data.enforceConsents?t.lcZ(24,23,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.DISABLE_BUTTON"):t.lcZ(25,25,"DIALOGS.EDIT_ENFORCE_CONSENTS_FLAG.ENFORCE_BUTTON")," "))},directives:[O.uh,O.xY,ZT.d,it.w,O.H8,nt.lW],pipes:[u.X$],styles:[""]}),n})();function UT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"th",16),t.TgZ(1,"mat-checkbox",17),t.NdJ("change",function(a){t.CHM(e);const o=t.oxw();return a?o.masterToggle():null}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("aria-label",e.checkboxLabel())("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function GT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",18),t.TgZ(1,"mat-checkbox",19),t.NdJ("change",function(a){const d=t.CHM(e).$implicit,y=t.oxw();return a?y.selection.toggle(d):null})("click",function(a){return a.stopPropagation()}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("aria-label",i.checkboxLabel(e))("checked",i.selection.isSelected(e))}}function VT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.ID")," "))}function zT(n,r){if(1&n&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.id)}}function YT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.NAME")," "))}function HT(n,r){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.name)}}function XT(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.ENFORCE_CONSENTS")," "))}function WT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",22),t.TgZ(1,"mat-slide-toggle",23),t.NdJ("change",function(a){const d=t.CHM(e).$implicit;return t.oxw().changeEnforceFlag(d,a)}),t.qZA(),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("checked",e.enforceConsents)}}function $T(n,r){1&n&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.FACILITIES")," "))}function QT(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.TgZ(2,"span",25),t._uU(3),t.qZA(),t._UZ(4,"br"),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" #",e.id,"")}}function JT(n,r){if(1&n&&(t.TgZ(0,"td",22),t.YNc(1,QT,5,2,"span",24),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e.facilities)}}function jT(n,r){1&n&&t._UZ(0,"tr",26)}function qT(n,r){1&n&&t._UZ(0,"tr",27)}function KT(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.NO_CONSENT_HUBS"),"\n"))}function tC(n,r){1&n&&(t.TgZ(0,"perun-web-apps-alert",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.CONSENT_HUBS_LIST.NO_FILTER_RESULTS"),"\n"))}let eC=(()=>{class n{constructor(e,i,a,o,d){this.tableCheckbox=e,this.dialog=i,this.notificator=a,this.translate=o,this.consentsManager=d,this.filterValue="",this.displayedColumns=["select","id","name","enforceConsents","facilities"],this.selection=new P.Ov(!0,[]),this.exporting=!1,this.pageSizeOptions=_e.f7}set matSort(e){this.sort=e,this.setDataSource()}static getDataForColumn(e,i){switch(i){case"id":return e.id.toString();case"name":return e.name;case"enforceConsents":return e.enforceConsents?"true":"false";case"facilities":{let a="";return e.facilities.forEach(o=>a+=o.name+" #"+String(o.id)+";"),a.slice(0,-1)}default:return""}}ngOnChanges(){this.dataSource=new R.by(this.consentHubs),this.setDataSource()}exportData(e){(0,_e.O6)((0,_e.Xn)(this.dataSource.filteredData,this.displayedColumns,n.getDataForColumn),e)}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}setDataSource(){this.dataSource&&(this.dataSource.filterPredicate=(e,i)=>(0,_e.Sd)(e,i,this.displayedColumns,n.getDataForColumn),this.dataSource.sortData=(e,i)=>(0,_e.pR)(e,i,n.getDataForColumn),this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator,this.dataSource.filter=this.filterValue)}changeEnforceFlag(e,i){i.source.checked=e.enforceConsents;const a=(0,_e.kZ)();a.width="550px",a.data={theme:"admin-theme",enforceConsents:e.enforceConsents,consentHubName:e.name},this.dialog.open(BT,a).afterClosed().subscribe(d=>{d&&(e.enforceConsents=!e.enforceConsents,this.consentsManager.updateConsentHub({consentHub:e}).subscribe(y=>{i.source.checked=y.enforceConsents,e.enforceConsents=y.enforceConsents,this.translate.get("SHARED.COMPONENTS.CONSENT_HUBS_LIST.CHANGE_ENFORCE_CONSENTS_SUCCESS").subscribe(S=>{this.notificator.showSuccess(S)})},()=>e.enforceConsents=!e.enforceConsents))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.UA),t.Y36(O.uw),t.Y36(U.V6),t.Y36(u.sK),t.Y36(z.WY))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-consent-hubs-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(_e.l9,7),t.Gf(pn.YE,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.child=a.first),t.iGM(a=t.CRH())&&(i.matSort=a.first)}},inputs:{consentHubs:"consentHubs",filterValue:"filterValue",displayedColumns:"displayedColumns",tableId:"tableId",selection:"selection"},features:[t.TTD],decls:22,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","enforceConsents"],["matColumnDef","facilities"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],[3,"checked","change"],[4,"ngFor","ngForOf"],[1,"text-muted"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(o){return i.exportData(o)}),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,UT,2,3,"th",4),t.YNc(5,GT,2,2,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,VT,3,3,"th",7),t.YNc(8,zT,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,YT,3,3,"th",7),t.YNc(11,HT,2,1,"td",10),t.BQk(),t.ynx(12,11),t.YNc(13,XT,3,3,"th",7),t.YNc(14,WT,2,1,"td",10),t.BQk(),t.ynx(15,12),t.YNc(16,$T,3,3,"th",7),t.YNc(17,JT,2,1,"td",10),t.BQk(),t.YNc(18,jT,1,0,"tr",13),t.YNc(19,qT,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,KT,3,3,"perun-web-apps-alert",15),t.YNc(21,tC,3,3,"perun-web-apps-alert",15)),2&e&&(t.Q6J("hidden",0===i.consentHubs.length||0===i.dataSource.filteredData.length),t.xp6(1),t.Q6J("tableId",i.tableId)("dataLength",i.dataSource.filteredData.length)("pageSizeOptions",i.pageSizeOptions),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===i.consentHubs.length),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.filteredData.length&&0!==i.consentHubs.length))},directives:[Ot.l,R.BZ,pn.YE,R.w1,R.fO,R.ge,Rt.oG,R.Dz,R.ev,pn.nU,Zn.Rr,_.sg,R.as,R.XQ,R.nj,R.Gk,_.O5,it.w],pipes:[u.X$],styles:[""]}),n})();function nC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().evaluateConsents()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",0===e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(2,2,"ADMIN.CONSENT_HUBS.EVALUATE_CONSENTS")," ")}}function iC(n,r){1&n&&t._UZ(0,"mat-spinner",7)}function rC(n,r){if(1&n&&t._UZ(0,"app-perun-web-apps-consent-hubs-list",8),2&n){const e=t.oxw();t.Q6J("consentHubs",e.consentHubs)("selection",e.selection)("filterValue",e.filterValue)("tableId",e.tableId)}}let aC=(()=>{class n{constructor(e,i,a,o,d){this.consentsManager=e,this.authResolver=i,this.notificator=a,this.translate=o,this.dialog=d,this.loading=!1,this.tableId=en.HE,this.selection=new P.Ov(!0,[]),this.filterValue="",this.consentHubs=[]}ngOnInit(){this.refreshTable()}applyFilter(e){this.filterValue=e}refreshTable(){this.loading=!0,this.consentsManager.getAllConsentHubs().subscribe(e=>{this.consentHubs=e,this.loading=!1})}evaluateConsents(){const e=(0,_e.kZ)();e.width="500px",e.data={title:this.translate.instant("ADMIN.CONSENT_HUBS.CONFIRM_DIALOG_TITLE"),theme:"admin-theme",description:this.translate.instant("ADMIN.CONSENT_HUBS.CONFIRM_DIALOG_DESCRIPTION"),items:this.selection.selected.map(a=>a.name),type:"confirmation",showAsk:!1},this.dialog.open(wa.Ts,e).afterClosed().subscribe(a=>{a&&this.evaluateConsentsForConsentHub(0)})}evaluateConsentsForConsentHub(e){if(e===this.selection.selected.length)return this.notificator.showSuccess(this.translate.instant("ADMIN.CONSENT_HUBS.EVALUATION_FINISH")),void this.selection.clear();this.consentsManager.evaluateConsentsForConsentHub(this.selection.selected[e].id).subscribe(()=>{this.evaluateConsentsForConsentHub(++e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.WY),t.Y36(U.x4),t.Y36(U.V6),t.Y36(u.sK),t.Y36(O.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perun-web-apps-admin-consent-hubs"]],decls:9,vars:7,consts:[[1,"page-subtitle"],[3,"refresh"],["color","accent","class","action-button mr-2","mat-flat-button","",3,"disabled","click",4,"ngIf"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"consentHubs","selection","filterValue","tableId",4,"ngIf"],["color","accent","mat-flat-button","",1,"action-button","mr-2",3,"disabled","click"],[1,"ml-auto","mr-auto"],[3,"consentHubs","selection","filterValue","tableId"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"h1",0),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"perun-web-apps-refresh-button",1),t.NdJ("refresh",function(){return i.refreshTable()}),t.qZA(),t.YNc(5,nC,3,4,"button",2),t.TgZ(6,"perun-web-apps-immediate-filter",3),t.NdJ("filter",function(o){return i.applyFilter(o)}),t.qZA(),t.YNc(7,iC,1,0,"mat-spinner",4),t.YNc(8,rC,1,4,"app-perun-web-apps-consent-hubs-list",5),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"ADMIN.CONSENT_HUBS.TITLE")),t.xp6(3),t.Q6J("ngIf",i.authResolver.isPerunAdmin()),t.xp6(1),t.Q6J("placeholder","ADMIN.CONSENT_HUBS.SEARCH"),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},directives:[we.t,_.O5,nt.lW,jn.L,X.$g,eC],pipes:[u.X$],styles:[""]}),n})();var sC=s(57788),vo=s(71992);const oC=[{path:"",component:C,canActivateChild:[vo.a],children:[{path:"",component:L,data:{animation:"AdminOverviewPage"}},{path:"attributes",component:Si,data:{animation:"AdminAttributesPage"}},{path:"users",component:My.t,data:{animation:"AdminUsersPage"}},{path:"owners",component:Mb,data:{animation:"AdminOwnersPage"}},{path:"services",component:c1.F,data:{animation:"AdminServicesPage"}},{path:"audit_log",component:RT,data:{animation:"AdminAuditLogPage"}},{path:"visualizer",component:_n,children:[{path:"",component:Ce,data:{animation:"VisualizerOverviewPage"}},{path:"attrDependencies",component:Pt,data:{animation:"VisualizerAttrModulesPage"}},{path:"userDestinationRelationship",component:Ge,data:{animation:"UserDestinationRelationshipPage"}},{path:"userDestinationRelationship/graph",component:Iy,data:{animation:"UserDestinationGraphPage"}}]},{path:"ext_sources",component:Jy,data:{animation:"AdminExtSourcesPage"}},{path:"consent_hubs",component:aC,data:{animation:"AdminConsentHubsPage"}},{path:"searcher",component:sC.g,data:{animation:"AdminSearcherPage"}}]},{path:"users/:userId",component:Uy,canActivateChild:[vo.a],children:[{path:"",component:Gy.Z,data:{animation:"UserOverviewPage"}},{path:"accounts",component:hT,data:{animation:"UserAccountsPage"}},{path:"attributes",component:Yy.u,data:{animation:"UserAttributesPage"}},{path:"organizations",component:Vy.j,data:{animation:"UserOrganizationsPage",showPrincipal:!1}},{path:"groups",component:zy.u,data:{animation:"UserGroupsPage",showPrincipal:!1}},{path:"identities",component:l1,data:{animation:"UserIdentitiesPage"}},{path:"facilities",component:Fb,data:{animation:"UserFacilitiesPage"}},{path:"resources",component:p1,data:{animation:"UserRoles"}},{path:"identities/:identityId",component:b1,data:{animation:"UserIdentityDetailPage"}},{path:"roles",component:jy.t,data:{animation:"UserRolesPage"}},{path:"service-identities",component:qy.R,data:{animation:"UserServiceIdentities"}},{path:"associated-users",component:rb.d,data:{animation:"AssociatedUsersPage"}}]},{path:"services/:serviceId",component:I1,canActivateChild:[vo.a],children:[{path:"",component:M1,data:{animation:"ServiceOverviewPage"}},{path:"required-attributes",component:ib,data:{animation:"ServiceRequiredAttributesPage"}},{path:"destinations",component:fb,data:{animation:"ServiceDestinationsPage"}}]}];let lC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.Bz.forChild(oC)],f.Bz]}),n})();var cC=s(14264),uC=s(63189),hC=s(46142);let dC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Rm,yy,_.ez,lC,cC.m,uC.r,wt.ez,Fe.d4,hC.UsersModule]]}),n})()},70242:(w,k,s)=>{"use strict";s.d(k,{q:()=>ie});var c=s(84847),x=s(20449),v=s(32075),_=s(9244),f=s(32080),t=s(5e3),p=s(18750),l=s(77446),h=s(69808),m=s(25245),u=s(29772),g=s(98380),C=s(51062);function A(Ut,vt){if(1&Ut){const ft=t.EpF();t.TgZ(0,"th",21),t.TgZ(1,"mat-checkbox",22),t.NdJ("change",function(Qt){t.CHM(ft);const me=t.oxw();return Qt?me.masterToggle():null}),t.qZA(),t.qZA()}if(2&Ut){const ft=t.oxw();t.xp6(1),t.Q6J("aria-label",ft.checkboxLabel())("checked",ft.selection.hasValue()&&ft.isAllSelected())("indeterminate",ft.selection.hasValue()&&!ft.isAllSelected())}}function L(Ut,vt){if(1&Ut){const ft=t.EpF();t.TgZ(0,"td",23),t.TgZ(1,"mat-checkbox",24),t.NdJ("change",function(Qt){const ge=t.CHM(ft).$implicit,ve=t.oxw();return Qt?ve.selection.toggle(ge):null})("click",function(Qt){return Qt.stopPropagation()}),t.qZA(),t.qZA()}if(2&Ut){const ft=vt.$implicit,Nt=t.oxw();t.xp6(1),t.Q6J("aria-label",Nt.checkboxLabel(ft))("checked",Nt.selection.isSelected(ft))}}function P(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.DESTINATION_ID")," "))}function O(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.hij(" ",ft.id," ")}}function R(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.SERVICE")," "))}function U(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.service.name)}}function z(Ut,vt){1&Ut&&t._UZ(0,"th",28)}function X(Ut,vt){1&Ut&&(t.TgZ(0,"mat-icon",30),t.ALo(1,"translate"),t._uU(2," warning "),t.qZA()),2&Ut&&t.s9C("matTooltip",t.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.WARN"))}function it(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t.YNc(1,X,3,3,"mat-icon",29),t.qZA()),2&Ut){const ft=vt.$implicit,Nt=t.oxw();t.xp6(1),t.Q6J("ngIf",!Nt.services.has(ft.service.id))}}function nt(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.FACILITY")," "))}function ut(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.facility.name)}}function J(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.DESTINATION")," "))}function tt(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.destination)}}function $(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.TYPE")," "))}function st(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.type.toUpperCase())}}function Y(Ut,vt){1&Ut&&t._UZ(0,"th",28)}function K(Ut,vt){1&Ut&&(t.TgZ(0,"mat-icon",32),t.ALo(1,"translate"),t._uU(2," check_circle_outline "),t.qZA()),2&Ut&&t.s9C("matTooltip",t.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.ALLOWED"))}function rt(Ut,vt){1&Ut&&(t.TgZ(0,"mat-icon",32),t.ALo(1,"translate"),t._uU(2," block "),t.qZA()),2&Ut&&t.s9C("matTooltip",t.lcZ(1,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.BLOCKED"))}function at(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t.YNc(1,K,3,3,"mat-icon",31),t.YNc(2,rt,3,3,"mat-icon",31),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Q6J("ngIf",!ft.blocked),t.xp6(1),t.Q6J("ngIf",ft.blocked)}}function V(Ut,vt){1&Ut&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.PROPAGATION_TYPE")," "))}function M(Ut,vt){if(1&Ut&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&Ut){const ft=vt.$implicit;t.xp6(1),t.Oqu(ft.propagationType)}}function Ct(Ut,vt){1&Ut&&t._UZ(0,"tr",33)}function Mt(Ut,vt){1&Ut&&t._UZ(0,"tr",34)}function Bt(Ut,vt){1&Ut&&(t.TgZ(0,"perun-web-apps-alert",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.UI.ALERTS.NO_FILTER_RESULTS_ALERT"),"\n"))}function Ht(Ut,vt){1&Ut&&(t.TgZ(0,"perun-web-apps-alert",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Ut&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED.COMPONENTS.DESTINATIONS_LIST.NO_DESTINATIONS"),"\n"))}let ie=(()=>{class Ut{constructor(ft,Nt){this.authResolver=ft,this.tableCheckbox=Nt,this.destinations=[],this.selection=new x.Ov(!0,[]),this.filterValue="",this.pageSizeOptions=_.f7}set matSort(ft){this.sort=ft,this.setDataSource()}static getDataForColumn(ft,Nt){switch(Nt){case"destinationId":return ft.id.toString();case"service":return ft.service.name;case"facility":return ft.facility.name;case"destination":return ft.destination;case"type":return ft.type;case"status":return ft.blocked?"blocked":"allowed";case"propagationType":return ft.propagationType;default:return""}}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(ft=>"destinationId"!==ft)),this.dataSource=new v.by(this.destinations),this.setDataSource(),this.dataSource.filter=this.filterValue.toLowerCase()}exportData(ft){(0,_.O6)((0,_.Xn)(this.dataSource.filteredData,this.displayedColumns,Ut.getDataForColumn),ft)}setDataSource(){this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(ft,Nt)=>(0,_.Sd)(ft,Nt,this.displayedColumns,Ut.getDataForColumn),this.dataSource.sortData=(ft,Nt)=>(0,_.pR)(ft,Nt,Ut.getDataForColumn),this.dataSource.paginator=this.child.paginator)}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(ft){return ft?`${this.selection.isSelected(ft)?"deselect":"select"} row ${ft.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}ngAfterViewInit(){this.dataSource.paginator=this.child.paginator}}return Ut.\u0275fac=function(ft){return new(ft||Ut)(t.Y36(f.x4),t.Y36(f.UA))},Ut.\u0275cmp=t.Xpm({type:Ut,selectors:[["app-perun-web-apps-destination-list"]],viewQuery:function(ft,Nt){if(1&ft&&(t.Gf(_.l9,7),t.Gf(c.YE,7)),2&ft){let Qt;t.iGM(Qt=t.CRH())&&(Nt.child=Qt.first),t.iGM(Qt=t.CRH())&&(Nt.matSort=Qt.first)}},inputs:{destinations:"destinations",selection:"selection",filterValue:"filterValue",tableId:"tableId",displayedColumns:"displayedColumns",services:"services"},features:[t.TTD],decls:34,vars:9,consts:[[1,"card","mt-3",3,"hidden"],[3,"pageSizeOptions","dataLength","tableId","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["class","align-checkbox","mat-header-cell","",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","destinationId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","service"],["mat-cell","",4,"matCellDef"],["matColumnDef","warn"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","facility"],["matColumnDef","destination"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","propagationType"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-cell",""],["class","warn","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"warn",3,"matTooltip"],["class","align-bottom",3,"matTooltip",4,"ngIf"],[1,"align-bottom",3,"matTooltip"],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(ft,Nt){1&ft&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(me){return Nt.exportData(me)}),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,A,2,3,"th",4),t.YNc(5,L,2,2,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,P,3,3,"th",7),t.YNc(8,O,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,R,3,3,"th",7),t.YNc(11,U,2,1,"td",10),t.BQk(),t.ynx(12,11),t.YNc(13,z,1,0,"th",12),t.YNc(14,it,2,1,"td",10),t.BQk(),t.ynx(15,13),t.YNc(16,nt,3,3,"th",7),t.YNc(17,ut,2,1,"td",10),t.BQk(),t.ynx(18,14),t.YNc(19,J,3,3,"th",7),t.YNc(20,tt,2,1,"td",10),t.BQk(),t.ynx(21,15),t.YNc(22,$,3,3,"th",7),t.YNc(23,st,2,1,"td",10),t.BQk(),t.ynx(24,16),t.YNc(25,Y,1,0,"th",12),t.YNc(26,at,3,2,"td",10),t.BQk(),t.ynx(27,17),t.YNc(28,V,3,3,"th",7),t.YNc(29,M,2,1,"td",10),t.BQk(),t.YNc(30,Ct,1,0,"tr",18),t.YNc(31,Mt,1,0,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(32,Bt,3,3,"perun-web-apps-alert",20),t.YNc(33,Ht,3,3,"perun-web-apps-alert",20)),2&ft&&(t.Q6J("hidden",0===Nt.dataSource.filteredData.length||0===Nt.destinations.length),t.xp6(1),t.Q6J("pageSizeOptions",Nt.pageSizeOptions)("dataLength",Nt.dataSource.filteredData.length)("tableId",Nt.tableId),t.xp6(1),t.Q6J("dataSource",Nt.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",Nt.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",Nt.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===Nt.dataSource.filteredData.length&&0!==Nt.destinations.length),t.xp6(1),t.Q6J("ngIf",0===Nt.destinations.length))},directives:[p.l,v.BZ,c.YE,v.w1,v.fO,v.ge,l.oG,v.Dz,v.ev,c.nU,h.O5,m.Hw,u.gM,v.as,v.XQ,v.nj,v.Gk,g.w],pipes:[C.X$],styles:[".warn[_ngcontent-%COMP%]{color:#ebe134}"]}),Ut})()},89466:(w,k,s)=>{"use strict";s.d(k,{u:()=>L});var c=s(32105),x=s(48966),v=s(32075),_=s(32080),f=s(5e3),t=s(51062),p=s(69808),l=s(20773),h=s(98380),m=s(70242),u=s(47423);function g(P,O){1&P&&f._UZ(0,"mat-spinner",6)}function C(P,O){if(1&P&&f._UZ(0,"app-perun-web-apps-destination-list",11),2&P){const R=f.oxw(2);f.Q6J("destinations",R.destinations)("displayedColumns",R.displayedColumns)}}function A(P,O){if(1&P&&(f.TgZ(0,"div",7),f.TgZ(1,"perun-web-apps-alert",8),f._uU(2),f.ALo(3,"translate"),f.qZA(),f.TgZ(4,"p"),f._uU(5),f.ALo(6,"translate"),f.qZA(),f.TgZ(7,"div",9),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.YNc(10,C,1,2,"app-perun-web-apps-destination-list",10),f.qZA()),2&P){const R=f.oxw();f.xp6(2),f.Oqu(f.lcZ(3,4,"DIALOGS.REMOVE_DESTINATIONS.WARNING")),f.xp6(3),f.Oqu(f.lcZ(6,6,"DIALOGS.REMOVE_DESTINATIONS.DESCRIPTION")),f.xp6(3),f.hij(" ",f.lcZ(9,8,"DIALOGS.REMOVE_DESTINATIONS.ASK")," "),f.xp6(2),f.Q6J("ngIf",!R.loading)}}let L=(()=>{class P{constructor(R,U,z,X,it){this.dialogRef=R,this.data=U,this.notificator=z,this.translate=X,this.serviceManager=it,this.displayedColumns=[],this.loading=!1}ngOnInit(){this.theme=this.data.theme,this.destinations=this.data.destinations,this.displayedColumns="admin-theme"===this.theme?["destinationId","facility","destination","type","propagationType"]:["destinationId","service","destination","type","propagationType"],this.dataSource=new v.by(this.data.destinations)}onCancel(){this.dialogRef.close(!1)}deleteDestinations(){if(0===this.destinations.length)return this.notificator.showSuccess(this.translate.instant("DIALOGS.REMOVE_DESTINATIONS.SUCCESS")),void this.dialogRef.close(!0);const R=this.destinations.pop();this.serviceManager.removeDestination(R.service.id,R.facility.id,R.destination,R.type).subscribe(()=>{this.deleteDestinations()},()=>this.loading=!1)}onConfirm(){this.loading=!0,this.deleteDestinations()}}return P.\u0275fac=function(R){return new(R||P)(f.Y36(x.so),f.Y36(x.WI),f.Y36(_.V6),f.Y36(t.sK),f.Y36(c.KK))},P.\u0275cmp=f.Xpm({type:P,selectors:[["app-perun-web-apps-remove-destination-dialog"]],decls:13,vars:15,consts:[["mat-dialog-title",""],["class","mr-auto ml-auto",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","",1,"ml-auto",3,"click"],["color","warn","mat-flat-button","",1,"ml-2",3,"disabled","click"],[1,"mr-auto","ml-auto"],["mat-dialog-content",""],["alert_type","warn"],[1,"font-weight-bold"],[3,"destinations","displayedColumns",4,"ngIf"],[3,"destinations","displayedColumns"]],template:function(R,U){1&R&&(f.TgZ(0,"h1",0),f._uU(1),f.ALo(2,"translate"),f.qZA(),f.TgZ(3,"div"),f.YNc(4,g,1,0,"mat-spinner",1),f.YNc(5,A,11,10,"div",2),f.TgZ(6,"div",3),f.TgZ(7,"button",4),f.NdJ("click",function(){return U.onCancel()}),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.TgZ(10,"button",5),f.NdJ("click",function(){return U.onConfirm()}),f._uU(11),f.ALo(12,"translate"),f.qZA(),f.qZA(),f.qZA()),2&R&&(f.xp6(1),f.Oqu(f.lcZ(2,9,"DIALOGS.REMOVE_DESTINATIONS.TITLE")),f.xp6(2),f.Tol(U.theme),f.xp6(1),f.Q6J("ngIf",U.loading),f.xp6(1),f.Q6J("ngIf",!U.loading),f.xp6(3),f.hij(" ",f.lcZ(9,11,"DIALOGS.REMOVE_DESTINATIONS.CANCEL")," "),f.xp6(2),f.Q6J("disabled",U.loading),f.xp6(1),f.hij(" ",f.lcZ(12,13,"DIALOGS.REMOVE_DESTINATIONS.CONFIRM")," "))},directives:[x.uh,p.O5,l.$g,x.xY,h.w,m.q,x.H8,u.lW],pipes:[t.X$],styles:[""]}),P})()},23256:(w,k,s)=>{"use strict";s.d(k,{Q:()=>tt});var c=s(84847),x=s(20449),v=s(32075),_=s(9244),f=s(32080),t=s(5e3),p=s(18750),l=s(77446),h=s(69808),m=s(98380),u=s(51062);function g($,st){if(1&$){const Y=t.EpF();t.TgZ(0,"th",16),t.TgZ(1,"mat-checkbox",17),t.NdJ("change",function(rt){t.CHM(Y);const at=t.oxw();return rt?at.masterToggle():null}),t.qZA(),t.qZA()}if(2&$){const Y=t.oxw();t.xp6(1),t.Q6J("aria-label",Y.checkboxLabel())("checked",Y.selection.hasValue()&&Y.isAllSelected())("indeterminate",Y.selection.hasValue()&&!Y.isAllSelected())}}function C($,st){if(1&$){const Y=t.EpF();t.TgZ(0,"td",18),t.TgZ(1,"mat-checkbox",19),t.NdJ("change",function(rt){const V=t.CHM(Y).$implicit,M=t.oxw();return rt?M.selection.toggle(V):null})("click",function(rt){return rt.stopPropagation()}),t.qZA(),t.qZA()}if(2&$){const Y=st.$implicit,K=t.oxw();t.xp6(1),t.Q6J("aria-label",K.checkboxLabel(Y))("checked",K.selection.isSelected(Y))}}function A($,st){1&$&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.ID")," "))}function L($,st){if(1&$&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&$){const Y=st.$implicit;t.xp6(1),t.hij(" ",Y.id," ")}}function P($,st){1&$&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NAME")," "))}function O($,st){if(1&$&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&$){const Y=st.$implicit;t.xp6(1),t.Oqu(Y.name)}}function R($,st){1&$&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.CONTACT")," "))}function U($,st){if(1&$&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&$){const Y=st.$implicit;t.xp6(1),t.Oqu(Y.contact)}}function z($,st){1&$&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.TYPE")," "))}function X($,st){if(1&$&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&$){const Y=st.$implicit;t.xp6(1),t.Oqu(Y.type)}}function it($,st){1&$&&t._UZ(0,"tr",23)}function nt($,st){1&$&&t._UZ(0,"tr",24)}function ut($,st){1&$&&(t.TgZ(0,"perun-web-apps-alert",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NO_OWNERS"),"\n"))}function J($,st){1&$&&(t.TgZ(0,"perun-web-apps-alert",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"SHARED_LIB.PERUN.COMPONENTS.OWNERS_LIST.NO_FILTER_OWNERS"),"\n"))}let tt=(()=>{class ${constructor(Y,K){this.authResolver=Y,this.tableCheckbox=K,this.owners=[],this.selection=new x.Ov(!0,[]),this.filterValue="",this.displayedColumns=["select","id","name","contact","type"],this.pageSizeOptions=_.f7}set matSort(Y){this.sort=Y,this.setDataSource()}static getDataForColumn(Y,K){switch(K){case"id":return Y.id.toString();case"name":return Y.name;case"contact":return Y.contact;case"type":return Y.type;default:return""}}ngAfterViewInit(){this.setDataSource()}exportData(Y){(0,_.O6)((0,_.Xn)(this.dataSource.filteredData,this.displayedColumns,$.getDataForColumn),Y)}setDataSource(){this.dataSource&&(this.dataSource.filterPredicate=(Y,K)=>(0,_.Sd)(Y,K,this.displayedColumns,$.getDataForColumn),this.dataSource.sortData=(Y,K)=>(0,_.pR)(Y,K,$.getDataForColumn),this.dataSource.sort=this.sort,this.dataSource.paginator=this.child.paginator,this.dataSource.filter=this.filterValue)}ngOnChanges(){this.authResolver.isPerunAdminOrObserver()||(this.displayedColumns=this.displayedColumns.filter(Y=>"id"!==Y)),this.dataSource=new v.by(this.owners),this.setDataSource()}isAllSelected(){return this.tableCheckbox.isAllSelected(this.selection.selected.length,this.filterValue,this.child.paginator.pageSize,this.child.paginator.hasNextPage(),this.dataSource)}masterToggle(){this.tableCheckbox.masterToggle(this.isAllSelected(),this.selection,this.filterValue,this.dataSource,this.sort,this.child.paginator.pageSize,this.child.paginator.pageIndex,!1)}checkboxLabel(Y){return Y?`${this.selection.isSelected(Y)?"deselect":"select"} row ${Y.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return $.\u0275fac=function(Y){return new(Y||$)(t.Y36(f.x4),t.Y36(f.UA))},$.\u0275cmp=t.Xpm({type:$,selectors:[["perun-web-apps-owners-list"]],viewQuery:function(Y,K){if(1&Y&&(t.Gf(_.l9,7),t.Gf(c.YE,7)),2&Y){let rt;t.iGM(rt=t.CRH())&&(K.child=rt.first),t.iGM(rt=t.CRH())&&(K.matSort=rt.first)}},inputs:{owners:"owners",selection:"selection",tableId:"tableId",filterValue:"filterValue",displayedColumns:"displayedColumns"},features:[t.TTD],decls:22,vars:9,consts:[[1,"card","mt-2",3,"hidden"],[3,"tableId","dataLength","pageSizeOptions","exportData"],["mat-table","","matSort","","matSortActive","id","matSortDirection","asc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","align-checkbox",4,"matHeaderCellDef"],["class","static-column-size align-checkbox","mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","static-column-size","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","contact"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["class","dark-hover-list-item","mat-row","",4,"matRowDef","matRowDefColumns"],["alert_type","warn",4,"ngIf"],["mat-header-cell","",1,"align-checkbox"],["color","primary",3,"aria-label","checked","indeterminate","change"],["mat-cell","",1,"static-column-size","align-checkbox"],["color","primary",3,"aria-label","checked","change","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"static-column-size"],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"dark-hover-list-item"],["alert_type","warn"]],template:function(Y,K){1&Y&&(t.TgZ(0,"div",0),t.TgZ(1,"perun-web-apps-table-wrapper",1),t.NdJ("exportData",function(at){return K.exportData(at)}),t.TgZ(2,"table",2),t.ynx(3,3),t.YNc(4,g,2,3,"th",4),t.YNc(5,C,2,2,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,A,3,3,"th",7),t.YNc(8,L,2,1,"td",8),t.BQk(),t.ynx(9,9),t.YNc(10,P,3,3,"th",7),t.YNc(11,O,2,1,"td",10),t.BQk(),t.ynx(12,11),t.YNc(13,R,3,3,"th",7),t.YNc(14,U,2,1,"td",10),t.BQk(),t.ynx(15,12),t.YNc(16,z,3,3,"th",7),t.YNc(17,X,2,1,"td",10),t.BQk(),t.YNc(18,it,1,0,"tr",13),t.YNc(19,nt,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,ut,3,3,"perun-web-apps-alert",15),t.YNc(21,J,3,3,"perun-web-apps-alert",15)),2&Y&&(t.Q6J("hidden",0===K.owners.length||0===K.dataSource.filteredData.length),t.xp6(1),t.Q6J("tableId",K.tableId)("dataLength",K.dataSource.filteredData.length)("pageSizeOptions",K.pageSizeOptions),t.xp6(1),t.Q6J("dataSource",K.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",K.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",K.displayedColumns),t.xp6(1),t.Q6J("ngIf",!K.owners.length),t.xp6(1),t.Q6J("ngIf",!K.dataSource.filteredData.length&&K.owners.length))},directives:[p.l,v.BZ,c.YE,v.w1,v.fO,v.ge,l.oG,v.Dz,v.ev,c.nU,v.as,v.XQ,v.nj,v.Gk,h.O5,m.w],pipes:[u.X$],styles:[""]}),$})()},16087:(w,k,s)=>{"use strict";const c=s(34315),x=s(52872),v=s(40717);w.exports=function _(p,l){switch(x(p)){case"object":return function f(p,l){if("function"==typeof l)return l(p);if(l||v(p)){const h=new p.constructor;for(let m in p)h[m]=_(p[m],l);return h}return p}(p,l);case"array":return function t(p,l){const h=new p.constructor(p.length);for(let m=0;m<p.length;m++)h[m]=_(p[m],l);return h}(p,l);default:return c(p)}}},52786:(w,k,s)=>{"use strict";s.d(k,{Il:()=>x,xV:()=>v,J5:()=>_,ZP:()=>U,SU:()=>it,B8:()=>nt,Ss:()=>ut,Ym:()=>K});var c=s(68884);function x(){}var v=.7,_=1/v,f="\\s*([+-]?\\d+)\\s*",t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",p="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),m=new RegExp("^rgb\\("+[p,p,p]+"\\)$"),u=new RegExp("^rgba\\("+[f,f,f,t]+"\\)$"),g=new RegExp("^rgba\\("+[p,p,p,t]+"\\)$"),C=new RegExp("^hsl\\("+[t,p,p]+"\\)$"),A=new RegExp("^hsla\\("+[t,p,p,t]+"\\)$"),L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function P(){return this.rgb().formatHex()}function R(){return this.rgb().formatRgb()}function U(V){var M,Ct;return V=(V+"").trim().toLowerCase(),(M=l.exec(V))?(Ct=M[1].length,M=parseInt(M[1],16),6===Ct?z(M):3===Ct?new ut(M>>8&15|M>>4&240,M>>4&15|240&M,(15&M)<<4|15&M,1):8===Ct?X(M>>24&255,M>>16&255,M>>8&255,(255&M)/255):4===Ct?X(M>>12&15|M>>8&240,M>>8&15|M>>4&240,M>>4&15|240&M,((15&M)<<4|15&M)/255):null):(M=h.exec(V))?new ut(M[1],M[2],M[3],1):(M=m.exec(V))?new ut(255*M[1]/100,255*M[2]/100,255*M[3]/100,1):(M=u.exec(V))?X(M[1],M[2],M[3],M[4]):(M=g.exec(V))?X(255*M[1]/100,255*M[2]/100,255*M[3]/100,M[4]):(M=C.exec(V))?st(M[1],M[2]/100,M[3]/100,1):(M=A.exec(V))?st(M[1],M[2]/100,M[3]/100,M[4]):L.hasOwnProperty(V)?z(L[V]):"transparent"===V?new ut(NaN,NaN,NaN,0):null}function z(V){return new ut(V>>16&255,V>>8&255,255&V,1)}function X(V,M,Ct,Mt){return Mt<=0&&(V=M=Ct=NaN),new ut(V,M,Ct,Mt)}function it(V){return V instanceof x||(V=U(V)),V?new ut((V=V.rgb()).r,V.g,V.b,V.opacity):new ut}function nt(V,M,Ct,Mt){return 1===arguments.length?it(V):new ut(V,M,Ct,null==Mt?1:Mt)}function ut(V,M,Ct,Mt){this.r=+V,this.g=+M,this.b=+Ct,this.opacity=+Mt}function J(){return"#"+$(this.r)+$(this.g)+$(this.b)}function tt(){var V=this.opacity;return(1===(V=isNaN(V)?1:Math.max(0,Math.min(1,V)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===V?")":", "+V+")")}function $(V){return((V=Math.max(0,Math.min(255,Math.round(V)||0)))<16?"0":"")+V.toString(16)}function st(V,M,Ct,Mt){return Mt<=0?V=M=Ct=NaN:Ct<=0||Ct>=1?V=M=NaN:M<=0&&(V=NaN),new rt(V,M,Ct,Mt)}function Y(V){if(V instanceof rt)return new rt(V.h,V.s,V.l,V.opacity);if(V instanceof x||(V=U(V)),!V)return new rt;if(V instanceof rt)return V;var M=(V=V.rgb()).r/255,Ct=V.g/255,Mt=V.b/255,Bt=Math.min(M,Ct,Mt),Ht=Math.max(M,Ct,Mt),ie=NaN,Ut=Ht-Bt,vt=(Ht+Bt)/2;return Ut?(ie=M===Ht?(Ct-Mt)/Ut+6*(Ct<Mt):Ct===Ht?(Mt-M)/Ut+2:(M-Ct)/Ut+4,Ut/=vt<.5?Ht+Bt:2-Ht-Bt,ie*=60):Ut=vt>0&&vt<1?0:ie,new rt(ie,Ut,vt,V.opacity)}function K(V,M,Ct,Mt){return 1===arguments.length?Y(V):new rt(V,M,Ct,null==Mt?1:Mt)}function rt(V,M,Ct,Mt){this.h=+V,this.s=+M,this.l=+Ct,this.opacity=+Mt}function at(V,M,Ct){return 255*(V<60?M+(Ct-M)*V/60:V<180?Ct:V<240?M+(Ct-M)*(240-V)/60:M)}(0,c.Z)(x,U,{copy:function(V){return Object.assign(new this.constructor,this,V)},displayable:function(){return this.rgb().displayable()},hex:P,formatHex:P,formatHsl:function O(){return Y(this).formatHsl()},formatRgb:R,toString:R}),(0,c.Z)(ut,nt,(0,c.l)(x,{brighter:function(V){return V=null==V?_:Math.pow(_,V),new ut(this.r*V,this.g*V,this.b*V,this.opacity)},darker:function(V){return V=null==V?v:Math.pow(v,V),new ut(this.r*V,this.g*V,this.b*V,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J,formatHex:J,formatRgb:tt,toString:tt})),(0,c.Z)(rt,K,(0,c.l)(x,{brighter:function(V){return V=null==V?_:Math.pow(_,V),new rt(this.h,this.s,this.l*V,this.opacity)},darker:function(V){return V=null==V?v:Math.pow(v,V),new rt(this.h,this.s,this.l*V,this.opacity)},rgb:function(){var V=this.h%360+360*(this.h<0),M=isNaN(V)||isNaN(this.s)?0:this.s,Ct=this.l,Mt=Ct+(Ct<.5?Ct:1-Ct)*M,Bt=2*Ct-Mt;return new ut(at(V>=240?V-240:V+120,Bt,Mt),at(V,Bt,Mt),at(V<120?V+240:V-120,Bt,Mt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var V=this.opacity;return(1===(V=isNaN(V)?1:Math.max(0,Math.min(1,V)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===V?")":", "+V+")")}}))},68884:(w,k,s)=>{"use strict";function c(v,_,f){v.prototype=_.prototype=f,f.constructor=v}function x(v,_){var f=Object.create(v.prototype);for(var t in _)f[t]=_[t];return f}s.d(k,{Z:()=>c,l:()=>x})},25922:(w,k,s)=>{"use strict";s.d(k,{Z:()=>p});var c={value:function(){}};function x(){for(var u,l=0,h=arguments.length,m={};l<h;++l){if(!(u=arguments[l]+"")||u in m||/[\s.]/.test(u))throw new Error("illegal type: "+u);m[u]=[]}return new v(m)}function v(l){this._=l}function _(l,h){return l.trim().split(/^|\s+/).map(function(m){var u="",g=m.indexOf(".");if(g>=0&&(u=m.slice(g+1),m=m.slice(0,g)),m&&!h.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:u}})}function f(l,h){for(var g,m=0,u=l.length;m<u;++m)if((g=l[m]).name===h)return g.value}function t(l,h,m){for(var u=0,g=l.length;u<g;++u)if(l[u].name===h){l[u]=c,l=l.slice(0,u).concat(l.slice(u+1));break}return null!=m&&l.push({name:h,value:m}),l}v.prototype=x.prototype={constructor:v,on:function(l,h){var g,m=this._,u=_(l+"",m),C=-1,A=u.length;if(!(arguments.length<2)){if(null!=h&&"function"!=typeof h)throw new Error("invalid callback: "+h);for(;++C<A;)if(g=(l=u[C]).type)m[g]=t(m[g],l.name,h);else if(null==h)for(g in m)m[g]=t(m[g],l.name,null);return this}for(;++C<A;)if((g=(l=u[C]).type)&&(g=f(m[g],l.name)))return g},copy:function(){var l={},h=this._;for(var m in h)l[m]=h[m].slice();return new v(l)},call:function(l,h){if((g=arguments.length-2)>0)for(var g,C,m=new Array(g),u=0;u<g;++u)m[u]=arguments[u+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(u=0,g=(C=this._[l]).length;u<g;++u)C[u].value.apply(h,m)},apply:function(l,h,m){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var u=this._[l],g=0,C=u.length;g<C;++g)u[g].value.apply(h,m)}};const p=x},27065:(w,k,s)=>{"use strict";function v(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}s.d(k,{tw:()=>v})},22910:(w,k,s)=>{"use strict";s.d(k,{WU:()=>v,jH:()=>_,ZP:()=>f});var x,v,_,c=s(4753);function f(t){return x=(0,c.Z)(t),v=x.format,_=x.formatPrefix,x}f({thousands:",",grouping:[3],currency:["$",""]})},68520:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(5326);function x(v){return(v=(0,c.V)(Math.abs(v)))?v[1]:NaN}},5326:(w,k,s)=>{"use strict";function c(v){return Math.abs(v=Math.round(v))>=1e21?v.toLocaleString("en").replace(/,/g,""):v.toString(10)}function x(v,_){if((f=(v=_?v.toExponential(_-1):v.toExponential()).indexOf("e"))<0)return null;var f,t=v.slice(0,f);return[t.length>1?t[0]+t.slice(2):t,+v.slice(f+1)]}s.d(k,{Z:()=>c,V:()=>x})},32517:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x,v:()=>v});var c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x(_){if(!(f=c.exec(_)))throw new Error("invalid format: "+_);var f;return new v({fill:f[1],align:f[2],sign:f[3],symbol:f[4],zero:f[5],width:f[6],comma:f[7],precision:f[8]&&f[8].slice(1),trim:f[9],type:f[10]})}function v(_){this.fill=void 0===_.fill?" ":_.fill+"",this.align=void 0===_.align?">":_.align+"",this.sign=void 0===_.sign?"-":_.sign+"",this.symbol=void 0===_.symbol?"":_.symbol+"",this.zero=!!_.zero,this.width=void 0===_.width?void 0:+_.width,this.comma=!!_.comma,this.precision=void 0===_.precision?void 0:+_.precision,this.trim=!!_.trim,this.type=void 0===_.type?"":_.type+""}x.prototype=v.prototype,v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},41129:(w,k,s)=>{"use strict";s.r(k),s.d(k,{formatDefaultLocale:()=>c.ZP,format:()=>c.WU,formatPrefix:()=>c.jH,formatLocale:()=>x.Z,formatSpecifier:()=>v.Z,FormatSpecifier:()=>v.v,precisionFixed:()=>_.Z,precisionPrefix:()=>f.Z,precisionRound:()=>t.Z});var c=s(22910),x=s(4753),v=s(32517),_=s(78986),f=s(38914),t=s(65142)},4753:(w,k,s)=>{"use strict";s.d(k,{Z:()=>A});var p,c=s(68520),_=s(32517),t=s(5326);function h(L,P){var O=(0,t.V)(L,P);if(!O)return L+"";var R=O[0],U=O[1];return U<0?"0."+new Array(-U).join("0")+R:R.length>U+1?R.slice(0,U+1)+"."+R.slice(U+1):R+new Array(U-R.length+2).join("0")}const m={"%":(L,P)=>(100*L).toFixed(P),b:L=>Math.round(L).toString(2),c:L=>L+"",d:t.Z,e:(L,P)=>L.toExponential(P),f:(L,P)=>L.toFixed(P),g:(L,P)=>L.toPrecision(P),o:L=>Math.round(L).toString(8),p:(L,P)=>h(100*L,P),r:h,s:function l(L,P){var O=(0,t.V)(L,P);if(!O)return L+"";var R=O[0],U=O[1],z=U-(p=3*Math.max(-8,Math.min(8,Math.floor(U/3))))+1,X=R.length;return z===X?R:z>X?R+new Array(z-X+1).join("0"):z>0?R.slice(0,z)+"."+R.slice(z):"0."+new Array(1-z).join("0")+(0,t.V)(L,Math.max(0,P+z-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)};function u(L){return L}var g=Array.prototype.map,C=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function A(L){var P=void 0===L.grouping||void 0===L.thousands?u:function x(L,P){return function(O,R){for(var U=O.length,z=[],X=0,it=L[0],nt=0;U>0&&it>0&&(nt+it+1>R&&(it=Math.max(1,R-nt)),z.push(O.substring(U-=it,U+it)),!((nt+=it+1)>R));)it=L[X=(X+1)%L.length];return z.reverse().join(P)}}(g.call(L.grouping,Number),L.thousands+""),O=void 0===L.currency?"":L.currency[0]+"",R=void 0===L.currency?"":L.currency[1]+"",U=void 0===L.decimal?".":L.decimal+"",z=void 0===L.numerals?u:function v(L){return function(P){return P.replace(/[0-9]/g,function(O){return L[+O]})}}(g.call(L.numerals,String)),X=void 0===L.percent?"%":L.percent+"",it=void 0===L.minus?"\u2212":L.minus+"",nt=void 0===L.nan?"NaN":L.nan+"";function ut(tt){var $=(tt=(0,_.Z)(tt)).fill,st=tt.align,Y=tt.sign,K=tt.symbol,rt=tt.zero,at=tt.width,V=tt.comma,M=tt.precision,Ct=tt.trim,Mt=tt.type;"n"===Mt?(V=!0,Mt="g"):m[Mt]||(void 0===M&&(M=12),Ct=!0,Mt="g"),(rt||"0"===$&&"="===st)&&(rt=!0,$="0",st="=");var Bt="$"===K?O:"#"===K&&/[boxX]/.test(Mt)?"0"+Mt.toLowerCase():"",Ht="$"===K?R:/[%p]/.test(Mt)?X:"",ie=m[Mt],Ut=/[defgprs%]/.test(Mt);function vt(ft){var me,ge,ve,Nt=Bt,Qt=Ht;if("c"===Mt)Qt=ie(ft)+Qt,ft="";else{var Fe=(ft=+ft)<0||1/ft<0;if(ft=isNaN(ft)?nt:ie(Math.abs(ft),M),Ct&&(ft=function f(L){t:for(var U,P=L.length,O=1,R=-1;O<P;++O)switch(L[O]){case".":R=U=O;break;case"0":0===R&&(R=O),U=O;break;default:if(!+L[O])break t;R>0&&(R=0)}return R>0?L.slice(0,R)+L.slice(U+1):L}(ft)),Fe&&0==+ft&&"+"!==Y&&(Fe=!1),Nt=(Fe?"("===Y?Y:it:"-"===Y||"("===Y?"":Y)+Nt,Qt=("s"===Mt?C[8+p/3]:"")+Qt+(Fe&&"("===Y?")":""),Ut)for(me=-1,ge=ft.length;++me<ge;)if(48>(ve=ft.charCodeAt(me))||ve>57){Qt=(46===ve?U+ft.slice(me+1):ft.slice(me))+Qt,ft=ft.slice(0,me);break}}V&&!rt&&(ft=P(ft,1/0));var qe=Nt.length+ft.length+Qt.length,De=qe<at?new Array(at-qe+1).join($):"";switch(V&&rt&&(ft=P(De+ft,De.length?at-Qt.length:1/0),De=""),st){case"<":ft=Nt+ft+Qt+De;break;case"=":ft=Nt+De+ft+Qt;break;case"^":ft=De.slice(0,qe=De.length>>1)+Nt+ft+Qt+De.slice(qe);break;default:ft=De+Nt+ft+Qt}return z(ft)}return M=void 0===M?6:/[gprs]/.test(Mt)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),vt.toString=function(){return tt+""},vt}return{format:ut,formatPrefix:function J(tt,$){var st=ut(((tt=(0,_.Z)(tt)).type="f",tt)),Y=3*Math.max(-8,Math.min(8,Math.floor((0,c.Z)($)/3))),K=Math.pow(10,-Y),rt=C[8+Y/3];return function(at){return st(K*at)+rt}}}}},78986:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(68520);function x(v){return Math.max(0,-(0,c.Z)(Math.abs(v)))}},38914:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(68520);function x(v,_){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,c.Z)(_)/3)))-(0,c.Z)(Math.abs(v)))}},65142:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(68520);function x(v,_){return v=Math.abs(v),_=Math.abs(_)-v,Math.max(0,(0,c.Z)(_)-(0,c.Z)(v))+1}},9921:function(w,k,s){!function(c,x,v,_,f,t,p,l,h,m){"use strict";function u(q){if(q&&q.__esModule)return q;var pt=Object.create(null);return q&&Object.keys(q).forEach(function(Tt){if("default"!==Tt){var At=Object.getOwnPropertyDescriptor(q,Tt);Object.defineProperty(pt,Tt,At.get?At:{enumerable:!0,get:function(){return q[Tt]}})}}),pt.default=q,Object.freeze(pt)}var Ot,g=u(x);function C(q,pt,Tt){return pt in q?Object.defineProperty(q,pt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):q[pt]=Tt,q}function A(q){return function L(q){if(Array.isArray(q))return R(q)}(q)||function P(q){if("undefined"!=typeof Symbol&&null!=q[Symbol.iterator]||null!=q["@@iterator"])return Array.from(q)}(q)||function O(q,pt){if(q){if("string"==typeof q)return R(q,pt);var Tt=Object.prototype.toString.call(q).slice(8,-1);if("Object"===Tt&&q.constructor&&(Tt=q.constructor.name),"Map"===Tt||"Set"===Tt)return Array.from(q);if("Arguments"===Tt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return R(q,pt)}}(q)||function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(q,pt){(null==pt||pt>q.length)&&(pt=q.length);for(var Tt=0,At=new Array(pt);Tt<pt;Tt++)At[Tt]=q[Tt];return At}function z(q){var pt={},Tt=q.node().nodeName;pt.tag=Tt,"#text"==Tt?pt.text=q.text():"#comment"==Tt&&(pt.comment=q.text()),pt.attributes={};var At=q.node().attributes;if(At)for(var Wt=0;Wt<At.length;Wt++){var te=At[Wt];pt.attributes[te.name]=te.value}var Ie,N=q.node().transform;if(N&&0!=N.baseVal.numberOfItems){var oe=N.baseVal.consolidate().matrix;pt.translation={x:oe.e,y:oe.f},pt.scale=oe.a}if("ellipse"==Tt&&(pt.center={x:pt.attributes.cx,y:pt.attributes.cy}),"polygon"==Tt){var Me=(Ie=q.attr("points").split(" ")).map(function(gt){return gt.split(",")[0]}),sn=Ie.map(function(gt){return gt.split(",")[1]}),ze=Math.min.apply(null,Me),Qe=Math.max.apply(null,Me),fe=Math.min.apply(null,sn),be=Math.max.apply(null,sn);pt.bbox={x:ze,y:fe,width:Qe-ze,height:be-fe},pt.center={x:(ze+Qe)/2,y:(fe+be)/2}}return"path"==Tt&&((Ie=q.attr("d").split(/[A-Z ]/)).shift(),Me=Ie.map(function(Xt){return+Xt.split(",")[0]}),sn=Ie.map(function(Xt){return+Xt.split(",")[1]}),ze=Math.min.apply(null,Me),Qe=Math.max.apply(null,Me),fe=Math.min.apply(null,sn),be=Math.max.apply(null,sn),pt.bbox={x:ze,y:fe,width:Qe-ze,height:be-fe},pt.center={x:(ze+Qe)/2,y:(fe+be)/2},pt.totalLength=q.node().getTotalLength()),"text"==Tt&&(pt.center={x:q.attr("x"),y:q.attr("y")}),"#text"==Tt?pt.text=q.text():"#comment"==Tt&&(pt.comment=q.text()),pt}function X(q){var pt=z(q);return pt.children=[],g.selectAll(q.node().childNodes).each(function(){var At=X(g.select(this));At.parent=pt,pt.children.push(At)}),pt}function it(q){return"#text"==q.tag?document.createTextNode(""):"#comment"==q.tag?document.createComment(q.comment):document.createElementNS("http://www.w3.org/2000/svg",q.tag)}function nt(q){for(var pt=it(q),Tt=g.select(pt),At=q.attributes,Wt=0,te=Object.keys(At);Wt<te.length;Wt++){var Dt=te[Wt];Tt.attr(Dt,At[Dt])}return pt}function ut(q,pt){var Tt=g.select(q.node().parentNode),At=nt(pt),Wt=Tt.insert(function(){return At},function(){return q.node()});return q.remove(),Wt}function tt(q,pt){(function J(q,pt){q.datum(pt),q.data([pt],function(Tt){return Tt.key})})(q,pt),g.selectAll(q.node().childNodes).each(function(At,Wt){tt(g.select(this),pt.children[Wt])})}function $(q,pt){var Tt=q.selectAll(function(){return q.node().childNodes}),At=(Tt=Tt.data(function(Dt){return Dt.children},function(Dt){return Dt.tag+"-"+pt})).enter().append(function(Dt){return it(Dt)}),Wt=Tt.exit();Wt=Wt.remove(),Tt=At.merge(Tt);var te={};Tt.each(function(Dt){var he=Dt.tag;null==te[he]&&(te[he]=0);var N=te[he]++;st.call(this,Dt,N)})}function st(q){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Tt=g.select(this),At=q.attributes,Wt=Tt.node().attributes;if(Wt)for(var te=0;te<Wt.length;te++){var Dt=Wt[te],he=Dt.name;if("xmlns"!=he.split(":")[0]&&Dt.namespaceURI){var N=Dt.namespaceURI.split("/");he=N[N.length-1]+":"+he}he in At||(At[he]=null)}for(var Ie=0,Me=Object.keys(At);Ie<Me.length;Ie++){var sn=Me[Ie];Tt.attr(sn,At[sn])}q.text&&Tt.text(q.text),$(Tt,pt)}function Y(q){return Object.assign({},q)}function K(q){return Math.round(100*q)/100}function at(){var q=this;var At=g.select(this._selection.node().querySelector("svg"));if(0==At.size())return this;this._zoomSelection=At;var Wt=p.zoom().scaleExtent(this._options.zoomScaleExtent).translateExtent(this._options.zoomTranslateExtent).interpolate(t.interpolate).on("zoom",function pt(Dt){g.select(At.node().querySelector("g")).attr("transform",Dt.transform),q._dispatch.call("zoom",q)});this._zoomBehavior=Wt;var te=g.select(At.node().querySelector("g"));return At.call(Wt),this._active||M.call(this,te),this._originalTransform=p.zoomTransform(At.node()),this}function V(q){var pt=this._translation,Tt=this._scale,At=q.datum().translation,Wt=q.datum().scale,te=p.zoomTransform(this._zoomSelection.node());return pt&&(te=(te=te.scale(1/Tt)).translate(-pt.x,-pt.y)),(te=te.translate(At.x,At.y)).scale(Wt)}function M(q){this._zoomBehavior.transform(this._zoomSelection,V.call(this,q)),this._translation=q.datum().translation,this._scale=q.datum().scale,this._originalTransform=p.zoomIdentity.translate(q.datum().translation.x,q.datum().translation.y).scale(q.datum().scale)}function Ut(q,pt){return function(){var Tt=q.map(function(At){return t.interpolate([At[0][0],At[0][1]],[At[1][0],At[1][1]])});return function(At){return At<1?"M"+Tt.map(function(Wt){return Wt(At)}).join("L"):pt}}}function Nt(q){return"edge"==q.attributes.class||"a"==q.tag&&"g"==q.parent.tag&&"edge"==q.parent.parent.attributes.class}function Qt(q){return q.parent&&Nt(q.parent)}function Fe(q){var pt=this._transition,Tt=this._options.fade&&null!=pt,At=this._options.tweenPaths,Wt=this._options.tweenShapes,te=this._options.convertEqualSidedPolygons,Dt=this._options.growEnteringEdges&&null!=pt,he=this._attributer,N=this;function Ie(fe){var be=g.select(this);if("svg"==fe.tag){var We=N._options;if(null!=We.width||null!=We.height){var et=We.width,gt=We.height;null==et?et=4*fe.attributes.width.replace("pt","")/3:(be.attr("width",et),fe.attributes.width=et),null==gt?gt=4*fe.attributes.height.replace("pt","")/3:(be.attr("height",gt),fe.attributes.height=gt),We.fit||(be.attr("viewBox","0 0 ".concat(3*et/4/We.scale," ").concat(3*gt/4/We.scale)),fe.attributes.viewBox="0 0 ".concat(3*et/4/We.scale," ").concat(3*gt/4/We.scale))}1!=We.scale&&(We.fit||null==We.width&&null==We.height)&&(et=fe.attributes.viewBox.split(" ")[2],gt=fe.attributes.viewBox.split(" ")[3],be.attr("viewBox","0 0 ".concat(et/We.scale," ").concat(gt/We.scale)),fe.attributes.viewBox="0 0 ".concat(et/We.scale," ").concat(gt/We.scale))}he&&be.each(he);var mt=fe.tag,Et=fe.attributes,zt=be.node().attributes;if(zt)for(var ee=0;ee<zt.length;ee++){var Jt=zt[ee],pe=Jt.name;if("xmlns"!=pe.split(":")[0]&&Jt.namespaceURI){var ye=Jt.namespaceURI.split("/");pe=ye[ye.length-1]+":"+pe}pe in Et||(Et[pe]=null)}var le=!1,Pe=!1;if(Wt&&pt){if(("polygon"==this.nodeName||"ellipse"==this.nodeName)&&fe.alternativeOld&&(Pe=!0),("polygon"==mt||"ellipse"==mt)&&fe.alternativeNew&&(le=!0),"polygon"==this.nodeName&&"polygon"==mt&&fe.alternativeOld){var Le=z(be);if(!te){var Qn=Le.attributes.points.split(" ").length;(On=fe.attributes.points).split(" ").length==Qn&&(le=!1,Pe=!1)}}if(Pe){var Nn=ut(be,fe.alternativeOld);Nn.data([fe],function(){return fe.key}),be=Nn}le&&(mt="path",Et=fe.alternativeNew.attributes)}var un=be;if(pt&&(un=un.transition(pt),Tt&&un.filter(function(ct){return"#"==ct.tag[0]?null:this}).style("opacity",1),un.filter(function(ct){return"#"==ct.tag[0]?null:this}).on("end",function(ct){g.select(this).attr("style",ct&&ct.attributes&&ct.attributes.style||null)})),Dt&&"path"==mt&&fe.offset){var Un=fe.totalLength;be.attr("stroke-dasharray",Un+" "+Un).attr("stroke-dashoffset",Un).attr("transform","translate("+fe.offset.x+","+fe.offset.y+")"),Et["stroke-dashoffset"]=0,Et.transform="translate(0,0)",un.attr("stroke-dashoffset",Et["stroke-dashoffset"]).attr("transform",Et.transform).on("start",function(){g.select(this).style("opacity",null)}).on("end",function(){g.select(this).attr("stroke-dashoffset",null).attr("stroke-dasharray",null).attr("transform",null)})}if(Dt&&"polygon"==mt&&Qt(fe)&&fe.offset&&"path"==fe.parent.children[3].tag){var fi=g.select(be.node().parentNode.querySelector("path")),zi=fi.node().getPointAtLength(0),Kn=fi.node().getPointAtLength(fe.totalLength),Si=fi.node().getPointAtLength(fe.totalLength-1),_n=180*Math.atan2(Kn.y-Si.y,Kn.x-Si.x)/Math.PI,Yi=zi.x-Kn.x+fe.offset.x,Pt=zi.y-Kn.y+fe.offset.y;be.attr("transform","translate("+Yi+","+Pt+")"),un.attrTween("transform",function(){return function(ct){var xt=fi.node().getPointAtLength(fe.totalLength*ct),kt=fi.node().getPointAtLength(fe.totalLength*ct+1),Ft=180*Math.atan2(kt.y-xt.y,kt.x-xt.x)/Math.PI-_n;return"translate("+(Yi=xt.x-Kn.x+fe.offset.x*(1-ct))+","+(Pt=xt.y-Kn.y+fe.offset.y*(1-ct))+") rotate("+Ft+" "+Kn.x+" "+Kn.y+")"}}).on("start",function(){g.select(this).style("opacity",null)}).on("end",function(){g.select(this).attr("transform",null)})}for(var Ce=At&&pt&&"path"==mt&&null!=be.attr("d"),jt=0,T=Object.keys(Et);jt<T.length;jt++){var I=T[jt],B=Et[I];if(Ce&&"d"==I){var On;(On=(fe.alternativeOld||fe).points)&&un.attrTween("d",Ut(On,B))}else{if("transform"==I&&fe.translation)if(pt){var j=un.on("end");un.on("start",function(){N._zoomBehavior&&un.tween("attr.transform",function(){var ct=this;return function(xt){ct.setAttribute("transform",t.interpolateTransformSvg(p.zoomTransform(N._zoomSelection.node()).toString(),V.call(N,be).toString())(xt))}})}).on("end",function(){j.call(this),N._zoomBehavior&&M.call(N,be)})}else N._zoomBehavior&&(M.call(N,be),B=V.call(N,be).toString());un.attr(I,B)}}le&&un.on("end",function(ct,xt,kt){ut(Nn=g.select(this),ct).data([ct],function(){return ct.key})}),fe.text&&un.text(fe.text),function oe(fe){var be=fe.selectAll(function(){return fe.node().childNodes}),We=(be=be.data(function(mt){return mt.children},function(mt){return mt.key})).enter().append(function(mt){var Et=it(mt);return"#text"==mt.tag&&Tt&&(Et.nodeValue=mt.text),Et});(Tt||Dt&&Nt(fe.datum()))&&We.filter(function(mt){return"#"==mt.tag[0]?null:this}).each(function(mt){for(var Et=g.select(this),zt=0,ee=Object.keys(mt.attributes);zt<ee.length;zt++){var Jt=ee[zt];Et.attr(Jt,mt.attributes[Jt])}}).filter(function(mt){return"svg"==mt.tag||"g"==mt.tag?null:this}).style("opacity",0);var gt=be.exit();he&&gt.each(he),pt&&(gt=gt.transition(pt),Tt&&gt.filter(function(mt){return"#"==mt.tag[0]?null:this}).style("opacity",0)),gt=gt.remove(),(be=We.merge(be)).each(Ie)}(be)}var Me=this._selection;if(null!=pt){var sn=this._jobs;if(N._active)return sn.push(null),this;Me.transition(pt).transition().duration(0).on("end",function(){N._active=!1,0!=sn.length&&(sn.shift(),N.render())}),this._active=!0}null!=pt&&Me.transition(pt).on("start",function(){N._dispatch.call("transitionStart",N)}).on("end",function(){N._dispatch.call("transitionEnd",N)}).transition().duration(0).on("start",function(){N._dispatch.call("restoreEnd",N),N._dispatch.call("end",N),q&&q.call(N)});var ze=this._data,Qe=Me.selectAll("svg").data([ze],function(fe){return fe.key});return Qe=Qe.enter().append("svg").merge(Qe),Ie.call(Qe.node(),ze),this._options.zoom&&!this._zoomBehavior&&at.call(this),N._dispatch.call("renderEnd",N),null==pt&&(this._dispatch.call("end",this),q&&q.call(this)),this}function De(q,pt){if("polygon"==q.tag){(Tt=Y(q)).tag="path";var Wt=Y(At=q.attributes),te=At.points;if("polygon"==pt.tag){(Dt=q.bbox).cx=Dt.x+Dt.width/2,Dt.cy=Dt.y+Dt.height/2;for(var N=At.points.split(" "),oe=N.map(function(Le){var He=Le.split(",");return[He[0]-Dt.cx,He[1]-Dt.cy]}),Ie=oe[oe.length-1][0],Me=oe[oe.length-1][1],sn=0;sn<oe.length;sn++,Ie=ze,Me=Qe){var fe=(ze=oe[sn][0])-Ie;if(0!=(be=(Qe=oe[sn][1])-Me)&&0<=(We=Ie-Me*fe/be)&&We<1/0&&(Ie<=We&&We<=ze||ze<=We&&We<=Ie))break}var et=[[Dt.cx+We,Dt.cy+0].join(",")];te=(et=(et=et.concat(N.slice(sn))).concat(N.slice(0,sn))).join(" ")}Wt.d="M"+te+"z",delete Wt.points,Tt.attributes=Wt}else{var Tt;(Tt=Y(q)).tag="path",Wt=Y(At=q.attributes);var At,ze,Qe,We,gt=At.cx,mt=At.cy,Et=At.rx,zt=At.ry;if("polygon"==pt.tag){var Dt;(Dt=pt.bbox).cx=Dt.x+Dt.width/2,Dt.cy=Dt.y+Dt.height/2;var ee=pt.attributes.points.split(" ")[0].split(","),be=(fe=ee[0]-Dt.cx,ee[1]-Dt.cy),ye=Math.sqrt(Math.pow(fe,2)+Math.pow(be,2)),Xt=fe/ye,le=-be/ye}else Xt=1,le=0;Wt.d="M "+gt+" "+mt+" m "+(ze=Et*Xt)+","+(Qe=-zt*le)+" a "+Et+","+zt+" 0 1,0 "+(fe=(We=Et*-Xt)-ze)+","+(be=-zt*-le-Qe)+" a "+Et+","+zt+" 0 1,0 "+-fe+","+-be+"z",delete Wt.cx,delete Wt.cy,delete Wt.rx,delete Wt.ry,Tt.attributes=Wt}return Tt}function Cn(){var q=this;try{l.graphviz.layout("","svg","dot").then(function(){l.graphvizSync().then(function(At){q.layoutSync=At.layout.bind(At),null==q._worker&&q._dispatch.call("initEnd",q),q._afterInit&&q._afterInit()})})}catch(At){}if(null!=this._worker){var pt=this._vizURL,Tt=this;this._workerPort.onmessage=function(At){Tt._workerCallbacks.shift().call(Tt,At)},pt.match(/^https?:\/\/|^\/\//i)||(pt=new window.URL(pt,document.location.href).href),ke.call(this,{dot:"",engine:"dot",vizURL:pt},function(At){"init"===At.data.type&&Tt._dispatch.call("initEnd",this)})}}function ke(q,pt){this._workerCallbacks.push(pt),this._workerPort.postMessage(q)}function ai(q,pt){var Tt=this._options.keyMode,At=this._options.tweenPaths,Wt=this._options.tweenShapes;if("string"==typeof this._options.tweenPrecision&&this._options.tweenPrecision.includes("%"))var te=+this._options.tweenPrecision.split("%")[0]/100,Dt=this._options.tweenPrecision.includes("%");else te=this._options.tweenPrecision,Dt=!1;var he=this._options.growEnteringEdges,N={},oe=this._dictionary||{},Ie={},Me=this._nodeDictionary||{};function sn(Xt,le){var Pe=Xt.tag;if("index"==Tt)Xt.key=le;else if("#"!=Pe[0])if("id"==Tt)Xt.key=Xt.attributes.id;else if("title"==Tt){var Le=Xt.children.find(function(He){return"title"==He.tag});Le&&(Xt.key=Le.children.length>0?Le.children[0].text:"")}null==Xt.key&&(Wt&&("ellipse"==Pe||"polygon"==Pe)&&(Pe="path"),Xt.key=Pe+"-"+le)}function ze(Xt,le){Xt.id=(le?le.id+".":"")+Xt.key}function Qe(Xt){N[Xt.id]=Xt}function fe(Xt,le){Wt&&Xt.id in oe&&("polygon"==le.tag||"ellipse"==le.tag||"path"==le.tag)&&(le.tag!=Xt.tag||"polygon"==Xt.tag)&&("path"!=le.tag&&(Xt.alternativeOld=De(le,Xt)),"path"!=Xt.tag&&(Xt.alternativeNew=De(Xt,le)))}function be(Xt,le){if(At&&le&&("path"==le.tag||Xt.alternativeOld&&"path"==Xt.alternativeOld.tag)){var Pe=(Xt.alternativeNew||Xt).attributes.d;if(Xt.alternativeOld)var Le=nt(Xt.alternativeOld);else Le=nt(le);(Xt.alternativeOld||(Xt.alternativeOld={})).points=function vt(q,pt,Tt,At){for(var Wt=q,te=Wt.cloneNode(),Dt=Wt.getTotalLength(),he=(te.setAttribute("d",pt),te).getTotalLength(),N=[0],oe=0,Ie=At?Tt:Tt/Math.max(Dt,he);(oe+=Ie)<1;)N.push(oe);return N.push(1),N.map(function(sn){var ze=Wt.getPointAtLength(sn*Dt),Qe=te.getPointAtLength(sn*he);return[[ze.x,ze.y],[Qe.x,Qe.y]]})}(Le,Pe,te,Dt)}}function We(Xt){var Pe=arguments.length>2?arguments[2]:void 0;sn(Xt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),ze(Xt,Pe);var He=oe[Xt.id];Qe(Xt),fe(Xt,He),be(Xt,He);var Qn={};Xt.children.forEach(function(On){var Ln=On.tag;("ellipse"==Ln||"polygon"==Ln)&&(Ln="path"),null==Qn[Ln]&&(Qn[Ln]=0),We(On,Qn[Ln]++,Xt)})}function mt(Xt){(function et(Xt){if(he&&Xt.parent&&"node"==Xt.parent.attributes.class&&"title"==Xt.tag){if(Xt.children.length>0)var Le=Xt.children[0].text;else Le="";Ie[Le]=Xt.parent}})(Xt),function gt(Xt){var Pe=Xt.tag;if(he&&!oe[Xt.id]&&Xt.parent&&Qt(Xt)&&("path"==Pe||"polygon"==Pe)){if("polygon"==Pe){var He=Xt.parent.children.find(function(Kn){return"path"==Kn.tag});He&&(Xt.totalLength=He.totalLength)}var On=function ge(q){return function me(q){return"edge"==q.parent.attributes.class?q.parent:q.parent.parent.parent}(q).children.find(function(pt){return"title"==pt.tag})}(Xt).children[0],Ln=On.text.split("->");2!=Ln.length&&(Ln=On.text.split("--"));var Xe=Ln[0],Nn=Ie[Xe],qn=Me[Xe];if(qn){if((on=Nn.children.findIndex(function(Kn,Si){return"g"==Kn.tag}))>=0){var un=Nn.children[on].children.findIndex(function(Kn,Si){return"a"==Kn.tag});Nn=Nn.children[on].children[un]}(on=qn.children.findIndex(function(Kn,Si){return"g"==Kn.tag}))>=0&&(un=qn.children[on].children.findIndex(function(Si,_n){return"a"==Si.tag}),qn=qn.children[on].children[un]);for(var Un=Nn.children,on=0;on<Un.length;on++)if("polygon"==Un[on].tag||"ellipse"==Un[on].tag||"path"==Un[on].tag||"text"==Un[on].tag){var Vi=Un[on];break}var fi=qn.children;for(on=0;on<fi.length;on++)if("polygon"==fi[on].tag||"ellipse"==fi[on].tag||"path"==fi[on].tag||"text"==fi[on].tag){var zi=fi[on];break}Xt.offset=zi&&Vi?{x:zi.center.x-Vi.center.x,y:zi.center.y-Vi.center.y}:{x:0,y:0}}}}(Xt),Xt.children.forEach(function(le){mt(le)})}this._dispatch.call("layoutEnd",this);var Et=g.select(document.createDocumentFragment()).append("div"),ee=(new window.DOMParser).parseFromString(q,"image/svg+xml");Et.append(function(){return ee.documentElement});var pe=X(Et.select("svg"));this._dispatch.call("dataExtractEnd",this),We(pe),this._dispatch.call("dataProcessPass1End",this),mt(pe),this._dispatch.call("dataProcessPass2End",this),this._data=pe,this._dictionary=N,this._nodeDictionary=Ie,this._extractData=function(Xt,le,Pe){var Le=X(Xt);return We(Le,le,Pe),mt(Le),Le},this._busy=!1,this._dispatch.call("dataProcessEnd",this),pt&&pt.call(this),this._queue.length>0&&this._queue.shift().call(this)}function Bn(q,pt,Tt,At){var Wt=[q*Tt-(pt=-pt)*(At=-At),q*At+pt*Tt];return[q=Wt[0],pt=-(pt=Wt[1])]}function Ii(q,pt,Tt,At,Wt,te,Dt){var N=X(en.call(this,te));q.data([N]),st.call(q.node(),N),gn(q,pt,Tt,At,Wt,te,Dt)}function gn(q,pt,Tt,At,Wt,te,Dt){var he=Dt.shortening||0,Me=[[0,-3.5],[10,0],[0,3.5],[0,-3.5]],sn=At-pt,ze=Wt-Tt,Qe=Math.sqrt(sn*sn+ze*ze);if(0==Qe)var fe=1,be=0;else fe=sn/Qe,be=ze/Qe;if(At=pt+(Qe-he-10-.1)*fe,Wt=Tt+(Qe-he-10-.1)*be,te.URL||te.tooltip)var We=q.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a"),et=We.selectWithoutDataPropagation("path"),gt=We.selectWithoutDataPropagation("polygon");else et=q.selectWithoutDataPropagation("path"),gt=q.selectWithoutDataPropagation("polygon");var mt=m.path();mt.moveTo(pt,Tt),mt.lineTo(At,Wt),et.attr("d",mt),At=pt+(Qe-he-10)*fe,Wt=Tt+(Qe-he-10)*be;for(var Et=0;Et<Me.length;Et++)Me[Et]=Bn((zt=Me[Et])[0],zt[1],fe,be);for(Et=0;Et<Me.length;Et++)Me[Et]=[At+(zt=Me[Et])[0],Wt+zt[1]];var ee=[];for(Et=0;Et<Me.length;Et++){var zt;ee.push((zt=Me[Et]).join(","))}var Jt=ee.join(" ");return gt.attr("points",Jt),this}function Ai(){return this._drawnEdge?(this._drawnEdge.g.remove(),this._drawnEdge=null,this):this}function _e(){return this._drawnEdge?this._drawnEdge.g:g.select(null)}function en(q){for(var pt="",Tt=0,At=Object.keys(q);Tt<At.length;Tt++){var Wt=At[Tt];null!=q[Wt]&&(pt+=' "'+Wt+'"="'+q[Wt]+'"')}var Dt=this.layoutSync("digraph {a -> b ["+pt+"]}","svg","dot"),N=(new window.DOMParser).parseFromString(Dt,"image/svg+xml");return g.select(document.createDocumentFragment()).append(function(){return N.documentElement}).select(".edge")}function Mn(q,pt,Tt,At,Wt,te){var he=X(W.call(this,At,Wt));return q.data([he]),st.call(q.node(),he),we(q,pt,Tt,Wt),this}function we(q,pt,Tt,At,Wt){if(At.URL||At.tooltip)var te=q.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");else te=q;var Dt=te.selectAll("ellipse,polygon,path,polyline"),he=q.selectWithoutDataPropagation("text");if(0!=Dt.size()){var N=Dt.node().getBBox();N.cx=N.x+N.width/2,N.cy=N.y+N.height/2}else 0!=he.size()&&(N={x:+he.attr("x"),y:+he.attr("y"),width:0,height:0,cx:+he.attr("x"),cy:+he.attr("y")});return Dt.each(function(oe,Ie){var Me=g.select(this);if(Me.attr("cx"))Me.attr("cx",K(pt)).attr("cy",K(Tt));else if(Me.attr("points")){var sn=Me.attr("points").trim();Me.attr("points",function fn(te,pt,Tt){var Wt,At=(Wt=te.split(" ")).map(function(Dt){return Dt.split(",")});return At=Wt.map(function(Dt){return[K(+pt+ +Dt.split(",")[0]),K(+Tt+ +Dt.split(",")[1])]}),(Wt=At.map(function(Dt){return Dt.join(",")})).join(" ")}(sn,pt-N.cx,Tt-N.cy))}else{var ze=Me.attr("d");Me.attr("d",function Be(q,pt,Tt){(te=q.split(/[A-Z ]/)).shift();var At=q.split(/[^[A-Z ]+/),te=(te.map(function(Dt){return Dt.split(",")}),te.map(function(Dt){return[K(+pt+ +Dt.split(",")[0]),K(+Tt+ +Dt.split(",")[1])]}).map(function(Dt){return Dt.join(",")}));return At.reduce(function(Dt,he,N){return Dt.concat(he,te[N])},[]).join("")}(ze,pt-N.cx,Tt-N.cy))}}),0!=he.size()&&he.attr("x",K(+he.attr("x")+pt-N.cx)).attr("y",K(+he.attr("y")+Tt-N.cy)),this}function pn(){if(!this._drawnNode)return this;var q=this._drawnNode.g;return q.empty()||q.remove(),this._drawnNode=null,this}function G(){return this._drawnNode?this._drawnNode.g:g.select(null)}function W(q,pt){for(var Tt="",At=0,Wt=Object.keys(pt);At<Wt.length;At++){var te=Wt[At];null!=pt[te]&&(Tt+=' "'+te+'"="'+pt[te]+'"')}var he=this.layoutSync('graph {"'+q+'" ['+Tt+"]}","svg","dot"),oe=(new window.DOMParser).parseFromString(he,"image/svg+xml");return g.select(document.createDocumentFragment()).append(function(){return oe.documentElement}).select(".node")}function ht(q){self.document={},q.addEventListener("message",function(pt){var Tt=self["@hpcc-js/wasm"];null==Tt&&pt.data.vizURL&&(importScripts(pt.data.vizURL),(Tt=self["@hpcc-js/wasm"]).wasmFolder(pt.data.vizURL.match(/.*\//)[0])),Tt.graphviz.layout(pt.data.dot,"svg",pt.data.engine,pt.data.options).then(function(At){q.postMessage(At?{type:"done",svg:At}:pt.data.vizURL?{type:"init"}:{type:"skip"})}).catch(function(At){q.postMessage({type:"error",error:At.message})})})}function E(){ht(self)}function wt(){self.onconnect=function(q){var pt=q.ports[0];ht(pt),pt.start()}}function Rt(q,pt){var Tt=this;if(this._options={useWorker:!0,useSharedWorker:!1,engine:"dot",keyMode:"title",fade:!0,tweenPaths:!0,tweenShapes:!0,convertEqualSidedPolygons:!0,tweenPrecision:1,growEnteringEdges:!0,zoom:!0,zoomScaleExtent:[.1,10],zoomTranslateExtent:[[-1/0,-1/0],[1/0,1/0]],width:null,height:null,scale:1,fit:!1},pt instanceof Object)for(var At=0,Wt=Object.keys(pt);At<Wt.length;At++){var te=Wt[At];this._options[te]=pt[te]}else"boolean"==typeof pt&&(this._options.useWorker=pt);var Dt=this._options.useWorker,he=this._options.useSharedWorker;if("undefined"==typeof Worker&&(Dt=!1),"undefined"==typeof SharedWorker&&(he=!1),Dt||he){var oe=g.selectAll("script").filter(function(){return"javascript/worker"==g.select(this).attr("type")||g.select(this).attr("src")&&g.select(this).attr("src").match(/.*\/@hpcc-js\/wasm/)});0==oe.size()?(console.warn('No script tag of type "javascript/worker" was found and "useWorker" is true. Not using web worker.'),Dt=!1,he=!1):(this._vizURL=oe.attr("src"),this._vizURL||(console.warn('No "src" attribute of was found on the "javascript/worker" script tag and "useWorker" is true. Not using web worker.'),Dt=!1,he=!1))}if(he){var Ie="data:application/javascript;base64,"+btoa(ht.toString()+"("+wt.toString()+")()");this._worker=this._worker=new SharedWorker(Ie),this._workerPort=this._worker.port,this._workerPortClose=this._worker.port.close.bind(this._workerPort),this._worker.port.start(),this._workerCallbacks=[]}else if(Dt){var Me=new Blob([ht.toString()+"("+E.toString()+")()"]),sn=window.URL.createObjectURL(Me);this._worker=new Worker(sn),this._workerPort=this._worker,this._workerPortClose=this._worker.terminate.bind(this._worker),this._workerCallbacks=[]}l.graphvizVersion().then(function(ze){Tt._graphvizVersion=ze}.bind(this)),this._selection=q,this._active=!1,this._busy=!1,this._jobs=[],this._queue=[],this._keyModes=new Set(["title","id","tag-index","index"]),this._images=[],this._translation=void 0,this._scale=void 0,this._eventTypes=["initEnd","start","layoutStart","layoutEnd","dataExtractEnd","dataProcessPass1End","dataProcessPass2End","dataProcessEnd","renderStart","renderEnd","transitionStart","transitionEnd","restoreEnd","end","zoom"],this._dispatch=v.dispatch.apply(void 0,A(this._eventTypes)),Cn.call(this),q.node().__graphviz__=this}function Yt(q,pt){return g.select(q).graphviz(pt)}Rt.prototype=Yt.prototype=(C(Ot={constructor:Rt,engine:function Xn(q){return this._options.engine=q,this},addImage:function ei(q,pt,Tt){return this._images.push({path:q,width:pt,height:Tt}),this},keyMode:function Oe(q){if(!this._keyModes.has(q))throw Error("Illegal keyMode: "+q);if(q!=this._options.keyMode&&null!=this._data)throw Error("Too late to change keyMode");return this._options.keyMode=q,this},fade:function $n(q){return this._options.fade=q,this},tweenPaths:function Jn(q){return this._options.tweenPaths=q,this},tweenShapes:function yt(q){return this._options.tweenShapes=q,q&&(this._options.tweenPaths=!0),this},convertEqualSidedPolygons:function Gt(q){return this._options.convertEqualSidedPolygons=q,this},tweenPrecision:function se(q){return this._options.tweenPrecision=q,this},growEnteringEdges:function de(q){return this._options.growEnteringEdges=q,this},zoom:function rt(q){return this._options.zoom=q,this._options.zoom&&!this._zoomBehavior?at.call(this):!this._options.zoom&&this._zoomBehavior&&(this._zoomSelection.on(".zoom",null),this._zoomBehavior=null),this},resetZoom:function Ct(q){var pt=this._zoomSelection;return q&&(pt=pt.transition(q)),pt.call(this._zoomBehavior.transform,this._originalTransform),this},zoomBehavior:function Ht(){return this._zoomBehavior||null},zoomSelection:function ie(){return this._zoomSelection||null},zoomScaleExtent:function Mt(q){return this._options.zoomScaleExtent=q,this},zoomTranslateExtent:function Bt(q){return this._options.zoomTranslateExtent=q,this},render:function ve(q){return this._busy?(this._queue.push(this.render.bind(this,q)),this):(this._dispatch.call("renderStart",this),this._transitionFactory?f.timeout(function(){this._transition=_.transition(this._transitionFactory()),Fe.call(this,q)}.bind(this),0):Fe.call(this,q),this)},layout:function Zn(q,pt,Tt,At){if(this._worker)ke.call(this,{dot:q,engine:pt,options:Tt},function(te){At.call(this,te.data)});else try{var Wt=this.layoutSync(q,"svg",pt,Tt);At.call(this,{type:"done",svg:Wt})}catch(te){At.call(this,{type:"error",error:te.message})}},dot:function Wn(q,pt){var Tt=this,At=this._options.engine,Wt=this._images;return this._dispatch.call("start",this),this._busy=!0,this._dispatch.call("layoutStart",this),this._worker||null!=this.layoutSync?(this.layout(q,At,{images:Wt},function(Dt){switch(Dt.type){case"error":if(!Tt._onerror)throw Dt.error.message;Tt._onerror(Dt.error);break;case"done":ai.call(this,Dt.svg,pt)}}),this):(this._afterInit=this.dot.bind(this,q,pt),this)},data:function ft(){return this._data||null},renderDot:function Yn(q,pt){var Tt=this;return this.dot(q,function At(){Tt.render(pt)}),this},transition:function An(q){return q instanceof Function?this._transitionFactory=q:this._transition=_.transition(q),this},active:function Ke(q){var Tt=this._selection.selectWithoutDataPropagation("svg");return 0!=Tt.size()?_.active(Tt.node(),q):null},options:function En(q){if(void 0===q)return Object.assign({},this._options);for(var pt=0,Tt=Object.keys(q);pt<Tt.length;pt++){var At=Tt[pt];this._options[At]=q[At]}return this},width:function Pn(q){return this._options.width=q,this},height:function Ve(q){return this._options.height=q,this},scale:function mi(q){return this._options.scale=q,this},fit:function Hn(q){return this._options.fit=q,this},attributer:function yn(q){return this._attributer=q,this},on:function xe(q,pt){return this._dispatch.on(q,pt),this},onerror:function Ue(q){return this._onerror=q,this},logEvents:function Re(q){for(var pt=this,Tt=Date.now(),At={},Wt=this._eventTypes,te=Math.max.apply(Math,A(Wt.map(function(Me){return Me.length}))),Dt=function(sn){var ze=Wt[sn];At[ze]=[],N=pt,pt.on(ze+".log",q?function(){var Qe=Date.now(),fe=At[ze].length;At[ze].push(Qe);var be="";if(be+="Event ",be+=h.format(" >2")(sn)+" ",be+=ze+" ".repeat(te-ze.length),be+=h.format(" >5")(Qe-Tt)+" ","initEnd"!=ze&&(be+=h.format(" >5")(Qe-At.start[fe])),"dataProcessEnd"==ze&&(be+=" prepare                 "+h.format(" >5")(Qe-At.layoutEnd[fe])),"renderEnd"==ze&&N._transition&&(be+=" transition start margin "+h.format(" >5")(N._transition.delay()-(Qe-At.renderStart[fe])),oe=N._transition.delay(),Ie=N._transition.duration()),"transitionStart"==ze){var We=Qe-At.renderStart[fe];be+=" transition delay        "+h.format(" >5")(Qe-At.renderStart[fe]),be+=" expected "+h.format(" >5")(oe),be+=" diff "+h.format(" >5")(We-oe)}if("transitionEnd"==ze){var et=Qe-At.transitionStart[fe];be+=" transition duration     "+h.format(" >5")(et),be+=" expected "+h.format(" >5")(Ie),be+=" diff "+h.format(" >5")(et-Ie)}console.log(be),Tt=Qe}:null)},he=0;he<Wt.length;he++){var N,oe,Ie;Dt(he)}return this},destroy:function an(){return delete this._selection.node().__graphviz__,this._worker&&this._workerPortClose(),this},drawEdge:function Dn(q,pt,Tt,At,Wt){var te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if((Wt=Object.assign({},Wt)).style&&Wt.style.includes("invis"))var Dt=g.select(null);else{var oe=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Me=X(en.call(this,Wt));Dt=oe.append("g").data([Me]),st.call(Dt.node(),Me),Ii.call(this,Dt,q,pt,Tt,At,Wt,te)}return this._drawnEdge={g:Dt,x1:q,y1:pt,x2:Tt,y2:At,attributes:Wt},this},updateDrawnEdge:function ti(q,pt,Tt,At){var Wt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!this._drawnEdge)throw Error("No edge has been drawn");var Dt=this._drawnEdge.g;return Wt=Object.assign(this._drawnEdge.attributes,Wt),this._drawnEdge.x1=q,this._drawnEdge.y1=pt,this._drawnEdge.x2=Tt,this._drawnEdge.y2=At,!Dt.empty()||Wt.style&&Wt.style.includes("invis")||(Dt=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g").append("g"),this._drawnEdge.g=Dt),Dt.empty()||Ii.call(this,Dt,q,pt,Tt,At,Wt,te),this},moveDrawnEdgeEndPoint:function ni(q,pt){var Tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._drawnEdge)throw Error("No edge has been drawn");var At=this._drawnEdge.g,Wt=this._drawnEdge.x1,te=this._drawnEdge.y1,Dt=this._drawnEdge.attributes;return this._drawnEdge.x2=q,this._drawnEdge.y2=pt,gn(At,Wt,te,q,pt,Dt,Tt),this},insertDrawnEdge:function In(q){if(!this._drawnEdge)throw Error("No edge has been drawn");var pt=this._drawnEdge.g;if(pt.empty())return this;pt.selectWithoutDataPropagation("title").text(q);var te=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Dt=te.datum(),he=this._extractData(pt,Dt.children.length,te.datum());return Dt.children.push(he),tt(pt,he),this._drawnEdge=null,this},removeDrawnEdge:Ai},"removeDrawnEdge",Ai),C(Ot,"drawnEdgeSelection",_e),C(Ot,"drawnEdgeSelection",_e),C(Ot,"drawNode",function ii(q,pt,Tt){var At=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Wt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if((At=Object.assign({},At)).style&&At.style.includes("invis"))var te=g.select(null);else{var N=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Ie=X(W.call(this,Tt,At));te=N.append("g").data([Ie]),st.call(te.node(),Ie),Mn.call(this,te,q,pt,Tt,At,Wt)}return this._drawnNode={g:te,nodeId:Tt,x:q,y:pt,attributes:At},this}),C(Ot,"updateDrawnNode",function di(q,pt,Tt){var At=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Wt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this._drawnNode)throw Error("No node has been drawn");var te=this._drawnNode.g;return null==Tt&&(Tt=this._drawnNode.nodeId),At=Object.assign(this._drawnNode.attributes,At),this._drawnNode.nodeId=Tt,this._drawnNode.x=q,this._drawnNode.y=pt,!te.empty()||At.style&&At.style.includes("invis")||(te=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g").append("g"),this._drawnNode.g=te),te.empty()||Mn.call(this,te,q,pt,Tt,At,Wt),this}),C(Ot,"moveDrawnNode",function jn(q,pt){if(!this._drawnNode)throw Error("No node has been drawn");var Tt=this._drawnNode.g,At=this._drawnNode.attributes;return this._drawnNode.x=q,this._drawnNode.y=pt,Tt.empty()||we(Tt,q,pt,At),this}),C(Ot,"insertDrawnNode",function ln(q){if(!this._drawnNode)throw Error("No node has been drawn");null==q&&(q=this._drawnNode.nodeId);var pt=this._drawnNode.g;if(pt.empty())return this;var Tt=this._drawnNode.attributes;if(pt.selectWithoutDataPropagation("title").text(q),Tt.URL||Tt.tooltip){var te=pt.selectWithoutDataPropagation("g").selectWithoutDataPropagation("a");te.selectWithoutDataPropagation("ellipse,polygon,path,polyline");var Dt=te.selectWithoutDataPropagation("text")}else pt.selectWithoutDataPropagation("ellipse,polygon,path,polyline"),Dt=pt.selectWithoutDataPropagation("text");Dt.text(Tt.label||q);var oe=this._selection.selectWithoutDataPropagation("svg").selectWithoutDataPropagation("g"),Ie=oe.datum(),Me=this._extractData(pt,Ie.children.length,oe.datum());return Ie.children.push(Me),tt(pt,Me),this._drawnNode=null,this}),C(Ot,"removeDrawnNode",pn),C(Ot,"removeDrawnNode",pn),C(Ot,"drawnNodeSelection",G),C(Ot,"drawnNodeSelection",G),C(Ot,"graphvizVersion",function qe(){return this._graphvizVersion}),Ot),x.selection.prototype.graphviz=function re(q){var pt=this.node().__graphviz__;return pt?(pt.options(q),f.timeout(function(){pt._dispatch.call("initEnd",this)}.bind(this),0)):pt=new Rt(this,q),pt},x.selection.prototype.selectWithoutDataPropagation=function qt(q){return g.select(this.size()>0?this.node().querySelector(q):null)},c.graphviz=Yt,Object.defineProperty(c,"__esModule",{value:!0})}(k,s(68557),s(18140),s(35011),s(31566),s(82683),s(60128),s(89397),s(41129),s(12218))},92940:(w,k,s)=>{"use strict";s.d(k,{Z:()=>p});var c={value:()=>{}};function x(){for(var u,l=0,h=arguments.length,m={};l<h;++l){if(!(u=arguments[l]+"")||u in m||/[\s.]/.test(u))throw new Error("illegal type: "+u);m[u]=[]}return new v(m)}function v(l){this._=l}function _(l,h){return l.trim().split(/^|\s+/).map(function(m){var u="",g=m.indexOf(".");if(g>=0&&(u=m.slice(g+1),m=m.slice(0,g)),m&&!h.hasOwnProperty(m))throw new Error("unknown type: "+m);return{type:m,name:u}})}function f(l,h){for(var g,m=0,u=l.length;m<u;++m)if((g=l[m]).name===h)return g.value}function t(l,h,m){for(var u=0,g=l.length;u<g;++u)if(l[u].name===h){l[u]=c,l=l.slice(0,u).concat(l.slice(u+1));break}return null!=m&&l.push({name:h,value:m}),l}v.prototype=x.prototype={constructor:v,on:function(l,h){var g,m=this._,u=_(l+"",m),C=-1,A=u.length;if(!(arguments.length<2)){if(null!=h&&"function"!=typeof h)throw new Error("invalid callback: "+h);for(;++C<A;)if(g=(l=u[C]).type)m[g]=t(m[g],l.name,h);else if(null==h)for(g in m)m[g]=t(m[g],l.name,null);return this}for(;++C<A;)if((g=(l=u[C]).type)&&(g=f(m[g],l.name)))return g},copy:function(){var l={},h=this._;for(var m in h)l[m]=h[m].slice();return new v(l)},call:function(l,h){if((g=arguments.length-2)>0)for(var g,C,m=new Array(g),u=0;u<g;++u)m[u]=arguments[u+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(u=0,g=(C=this._[l]).length;u<g;++u)C[u].value.apply(h,m)},apply:function(l,h,m){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var u=this._[l],g=0,C=u.length;g<C;++g)u[g].value.apply(h,m)}};const p=x},18140:(w,k,s)=>{"use strict";s.r(k),s.d(k,{dispatch:()=>c.Z});var c=s(92940)},97907:(w,k,s)=>{"use strict";function c(v,_,f,t,p){var l=v*v,h=l*v;return((1-3*v+3*l-h)*_+(4-6*l+3*h)*f+(1+3*v+3*l-3*h)*t+h*p)/6}function x(v){var _=v.length-1;return function(f){var t=f<=0?f=0:f>=1?(f=1,_-1):Math.floor(f*_),p=v[t],l=v[t+1];return c((f-t/_)*_,t>0?v[t-1]:2*p-l,p,l,t<_-1?v[t+2]:2*l-p)}}s.d(k,{t:()=>c,Z:()=>x})},77296:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(97907);function x(v){var _=v.length;return function(f){var t=Math.floor(((f%=1)<0?++f:f)*_);return(0,c.t)((f-t/_)*_,v[(t+_-1)%_],v[t%_],v[(t+1)%_],v[(t+2)%_])}}},87237:(w,k,s)=>{"use strict";s.d(k,{wx:()=>_,yi:()=>f,ZP:()=>t});var c=s(89783);function x(p,l){return function(h){return p+h*l}}function _(p,l){var h=l-p;return h?x(p,h>180||h<-180?h-360*Math.round(h/360):h):(0,c.Z)(isNaN(p)?l:p)}function f(p){return 1==(p=+p)?t:function(l,h){return h-l?function v(p,l,h){return p=Math.pow(p,h),l=Math.pow(l,h)-p,h=1/h,function(m){return Math.pow(p+m*l,h)}}(l,h,p):(0,c.Z)(isNaN(l)?h:l)}}function t(p,l){var h=l-p;return h?x(p,h):(0,c.Z)(isNaN(p)?l:p)}},89783:(w,k,s)=>{"use strict";s.d(k,{Z:()=>c});const c=x=>()=>x},82683:(w,k,s)=>{"use strict";s.r(k),s.d(k,{interpolate:()=>g,interpolateArray:()=>f,interpolateBasis:()=>C.Z,interpolateBasisClosed:()=>A.Z,interpolateCubehelix:()=>ei,interpolateCubehelixLong:()=>Oe,interpolateDate:()=>p,interpolateDiscrete:()=>L,interpolateHcl:()=>ke,interpolateHclLong:()=>Zn,interpolateHsl:()=>tt,interpolateHslLong:()=>$,interpolateHue:()=>O,interpolateLab:()=>Be,interpolateNumber:()=>l.Z,interpolateNumberArray:()=>v,interpolateObject:()=>h,interpolateRgb:()=>x.ZP,interpolateRgbBasis:()=>x.hD,interpolateRgbBasisClosed:()=>x.YD,interpolateRound:()=>R,interpolateString:()=>m.Z,interpolateTransformCss:()=>U.Y,interpolateTransformSvg:()=>U.w,interpolateZoom:()=>ut,piecewise:()=>$n,quantize:()=>Jn});var c=s(52786),x=s(8200);function v(yt,Gt){Gt||(Gt=[]);var xe,se=yt?Math.min(Gt.length,yt.length):0,de=Gt.slice();return function(Ue){for(xe=0;xe<se;++xe)de[xe]=yt[xe]*(1-Ue)+Gt[xe]*Ue;return de}}function _(yt){return ArrayBuffer.isView(yt)&&!(yt instanceof DataView)}function f(yt,Gt){return(_(Gt)?v:t)(yt,Gt)}function t(yt,Gt){var Re,se=Gt?Gt.length:0,de=yt?Math.min(se,yt.length):0,xe=new Array(de),Ue=new Array(se);for(Re=0;Re<de;++Re)xe[Re]=g(yt[Re],Gt[Re]);for(;Re<se;++Re)Ue[Re]=Gt[Re];return function(an){for(Re=0;Re<de;++Re)Ue[Re]=xe[Re](an);return Ue}}function p(yt,Gt){var se=new Date;return yt=+yt,Gt=+Gt,function(de){return se.setTime(yt*(1-de)+Gt*de),se}}var l=s(37815);function h(yt,Gt){var xe,se={},de={};for(xe in(null===yt||"object"!=typeof yt)&&(yt={}),(null===Gt||"object"!=typeof Gt)&&(Gt={}),Gt)xe in yt?se[xe]=g(yt[xe],Gt[xe]):de[xe]=Gt[xe];return function(Ue){for(xe in se)de[xe]=se[xe](Ue);return de}}var m=s(42142),u=s(89783);function g(yt,Gt){var de,se=typeof Gt;return null==Gt||"boolean"===se?(0,u.Z)(Gt):("number"===se?l.Z:"string"===se?(de=(0,c.ZP)(Gt))?(Gt=de,x.ZP):m.Z:Gt instanceof c.ZP?x.ZP:Gt instanceof Date?p:_(Gt)?v:Array.isArray(Gt)?t:"function"!=typeof Gt.valueOf&&"function"!=typeof Gt.toString||isNaN(Gt)?h:l.Z)(yt,Gt)}var C=s(97907),A=s(77296);function L(yt){var Gt=yt.length;return function(se){return yt[Math.max(0,Math.min(Gt-1,Math.floor(se*Gt)))]}}var P=s(87237);function O(yt,Gt){var se=(0,P.wx)(+yt,+Gt);return function(de){var xe=se(de);return xe-360*Math.floor(xe/360)}}function R(yt,Gt){return yt=+yt,Gt=+Gt,function(se){return Math.round(yt*(1-se)+Gt*se)}}var U=s(43349);function X(yt){return((yt=Math.exp(yt))+1/yt)/2}const ut=function yt(Gt,se,de){function xe(Ue,Re){var _e,en,an=Ue[0],Bn=Ue[1],Dn=Ue[2],gn=Re[2],ni=Re[0]-an,Ai=Re[1]-Bn,In=ni*ni+Ai*Ai;if(In<1e-12)en=Math.log(gn/Dn)/Gt,_e=function(pn){return[an+pn*ni,Bn+pn*Ai,Dn*Math.exp(Gt*pn*en)]};else{var ii=Math.sqrt(In),di=(gn*gn-Dn*Dn+de*In)/(2*Dn*se*ii),Mn=(gn*gn-Dn*Dn-de*In)/(2*gn*se*ii),we=Math.log(Math.sqrt(di*di+1)-di),jn=Math.log(Math.sqrt(Mn*Mn+1)-Mn);en=(jn-we)/Gt,_e=function(pn){var ln=pn*en,G=X(we),W=Dn/(se*ii)*(G*function nt(yt){return((yt=Math.exp(2*yt))-1)/(yt+1)}(Gt*ln+we)-function it(yt){return((yt=Math.exp(yt))-1/yt)/2}(we));return[an+W*ni,Bn+W*Ai,Dn*G/X(Gt*ln+we)]}}return _e.duration=1e3*en*Gt/Math.SQRT2,_e}return xe.rho=function(Ue){var Re=Math.max(.001,+Ue),an=Re*Re;return yt(Re,an,an*an)},xe}(Math.SQRT2,2,4);function J(yt){return function(Gt,se){var de=yt((Gt=(0,c.Ym)(Gt)).h,(se=(0,c.Ym)(se)).h),xe=(0,P.ZP)(Gt.s,se.s),Ue=(0,P.ZP)(Gt.l,se.l),Re=(0,P.ZP)(Gt.opacity,se.opacity);return function(an){return Gt.h=de(an),Gt.s=xe(an),Gt.l=Ue(an),Gt.opacity=Re(an),Gt+""}}}const tt=J(P.wx);var $=J(P.ZP),st=s(68884),Y=Math.PI/180,K=180/Math.PI,M=.82521,Ct=4/29,Mt=6/29,Bt=3*Mt*Mt;function ie(yt){if(yt instanceof ft)return new ft(yt.l,yt.a,yt.b,yt.opacity);if(yt instanceof De)return fn(yt);yt instanceof c.Ss||(yt=(0,c.SU)(yt));var Ue,Re,Gt=ge(yt.r),se=ge(yt.g),de=ge(yt.b),xe=Nt((.2225045*Gt+.7168786*se+.0606169*de)/1);return Gt===se&&se===de?Ue=Re=xe:(Ue=Nt((.4360747*Gt+.3850649*se+.1430804*de)/.96422),Re=Nt((.0139322*Gt+.0971045*se+.7141733*de)/M)),new ft(116*xe-16,500*(Ue-xe),200*(xe-Re),yt.opacity)}function vt(yt,Gt,se,de){return 1===arguments.length?ie(yt):new ft(yt,Gt,se,null==de?1:de)}function ft(yt,Gt,se,de){this.l=+yt,this.a=+Gt,this.b=+se,this.opacity=+de}function Nt(yt){return yt>.008856451679035631?Math.pow(yt,1/3):yt/Bt+Ct}function Qt(yt){return yt>Mt?yt*yt*yt:Bt*(yt-Ct)}function me(yt){return 255*(yt<=.0031308?12.92*yt:1.055*Math.pow(yt,1/2.4)-.055)}function ge(yt){return(yt/=255)<=.04045?yt/12.92:Math.pow((yt+.055)/1.055,2.4)}function ve(yt){if(yt instanceof De)return new De(yt.h,yt.c,yt.l,yt.opacity);if(yt instanceof ft||(yt=ie(yt)),0===yt.a&&0===yt.b)return new De(NaN,0<yt.l&&yt.l<100?0:NaN,yt.l,yt.opacity);var Gt=Math.atan2(yt.b,yt.a)*K;return new De(Gt<0?Gt+360:Gt,Math.sqrt(yt.a*yt.a+yt.b*yt.b),yt.l,yt.opacity)}function qe(yt,Gt,se,de){return 1===arguments.length?ve(yt):new De(yt,Gt,se,null==de?1:de)}function De(yt,Gt,se,de){this.h=+yt,this.c=+Gt,this.l=+se,this.opacity=+de}function fn(yt){if(isNaN(yt.h))return new ft(yt.l,0,0,yt.opacity);var Gt=yt.h*Y;return new ft(yt.l,Math.cos(Gt)*yt.c,Math.sin(Gt)*yt.c,yt.opacity)}function Be(yt,Gt){var se=(0,P.ZP)((yt=vt(yt)).l,(Gt=vt(Gt)).l),de=(0,P.ZP)(yt.a,Gt.a),xe=(0,P.ZP)(yt.b,Gt.b),Ue=(0,P.ZP)(yt.opacity,Gt.opacity);return function(Re){return yt.l=se(Re),yt.a=de(Re),yt.b=xe(Re),yt.opacity=Ue(Re),yt+""}}function Cn(yt){return function(Gt,se){var de=yt((Gt=qe(Gt)).h,(se=qe(se)).h),xe=(0,P.ZP)(Gt.c,se.c),Ue=(0,P.ZP)(Gt.l,se.l),Re=(0,P.ZP)(Gt.opacity,se.opacity);return function(an){return Gt.h=de(an),Gt.c=xe(an),Gt.l=Ue(an),Gt.opacity=Re(an),Gt+""}}}(0,st.Z)(ft,vt,(0,st.l)(c.Il,{brighter:function(yt){return new ft(this.l+18*(null==yt?1:yt),this.a,this.b,this.opacity)},darker:function(yt){return new ft(this.l-18*(null==yt?1:yt),this.a,this.b,this.opacity)},rgb:function(){var yt=(this.l+16)/116,Gt=isNaN(this.a)?yt:yt+this.a/500,se=isNaN(this.b)?yt:yt-this.b/200;return Gt=.96422*Qt(Gt),yt=1*Qt(yt),se=M*Qt(se),new c.Ss(me(3.1338561*Gt-1.6168667*yt-.4906146*se),me(-.9787684*Gt+1.9161415*yt+.033454*se),me(.0719453*Gt-.2289914*yt+1.4052427*se),this.opacity)}})),(0,st.Z)(De,qe,(0,st.l)(c.Il,{brighter:function(yt){return new De(this.h,this.c,this.l+18*(null==yt?1:yt),this.opacity)},darker:function(yt){return new De(this.h,this.c,this.l-18*(null==yt?1:yt),this.opacity)},rgb:function(){return fn(this).rgb()}}));const ke=Cn(P.wx);var Zn=Cn(P.ZP),ai=1.78277,Yn=-.29227,An=-.90649,Ke=1.97294,En=Ke*An,Pn=Ke*ai,Ve=ai*Yn- -.14861*An;function mi(yt){if(yt instanceof yn)return new yn(yt.h,yt.s,yt.l,yt.opacity);yt instanceof c.Ss||(yt=(0,c.SU)(yt));var se=yt.g/255,de=yt.b/255,xe=(Ve*de+En*(yt.r/255)-Pn*se)/(Ve+En-Pn),Ue=de-xe,Re=(Ke*(se-xe)-Yn*Ue)/An,an=Math.sqrt(Re*Re+Ue*Ue)/(Ke*xe*(1-xe)),Bn=an?Math.atan2(Re,Ue)*K-120:NaN;return new yn(Bn<0?Bn+360:Bn,an,xe,yt.opacity)}function Hn(yt,Gt,se,de){return 1===arguments.length?mi(yt):new yn(yt,Gt,se,null==de?1:de)}function yn(yt,Gt,se,de){this.h=+yt,this.s=+Gt,this.l=+se,this.opacity=+de}function Xn(yt){return function Gt(se){function de(xe,Ue){var Re=yt((xe=Hn(xe)).h,(Ue=Hn(Ue)).h),an=(0,P.ZP)(xe.s,Ue.s),Bn=(0,P.ZP)(xe.l,Ue.l),Dn=(0,P.ZP)(xe.opacity,Ue.opacity);return function(ti){return xe.h=Re(ti),xe.s=an(ti),xe.l=Bn(Math.pow(ti,se)),xe.opacity=Dn(ti),xe+""}}return se=+se,de.gamma=Gt,de}(1)}(0,st.Z)(yn,Hn,(0,st.l)(c.Il,{brighter:function(yt){return yt=null==yt?c.J5:Math.pow(c.J5,yt),new yn(this.h,this.s,this.l*yt,this.opacity)},darker:function(yt){return yt=null==yt?c.xV:Math.pow(c.xV,yt),new yn(this.h,this.s,this.l*yt,this.opacity)},rgb:function(){var yt=isNaN(this.h)?0:(this.h+120)*Y,Gt=+this.l,se=isNaN(this.s)?0:this.s*Gt*(1-Gt),de=Math.cos(yt),xe=Math.sin(yt);return new c.Ss(255*(Gt+se*(-.14861*de+ai*xe)),255*(Gt+se*(Yn*de+An*xe)),255*(Gt+se*(Ke*de)),this.opacity)}}));const ei=Xn(P.wx);var Oe=Xn(P.ZP);function $n(yt,Gt){void 0===Gt&&(Gt=yt,yt=g);for(var se=0,de=Gt.length-1,xe=Gt[0],Ue=new Array(de<0?0:de);se<de;)Ue[se]=yt(xe,xe=Gt[++se]);return function(Re){var an=Math.max(0,Math.min(de-1,Math.floor(Re*=de)));return Ue[an](Re-an)}}function Jn(yt,Gt){for(var se=new Array(Gt),de=0;de<Gt;++de)se[de]=yt(de/(Gt-1));return se}},37815:(w,k,s)=>{"use strict";function c(x,v){return x=+x,v=+v,function(_){return x*(1-_)+v*_}}s.d(k,{Z:()=>c})},8200:(w,k,s)=>{"use strict";s.d(k,{ZP:()=>f,hD:()=>p,YD:()=>l});var c=s(52786),x=s(97907),v=s(77296),_=s(87237);const f=function h(m){var u=(0,_.yi)(m);function g(C,A){var L=u((C=(0,c.B8)(C)).r,(A=(0,c.B8)(A)).r),P=u(C.g,A.g),O=u(C.b,A.b),R=(0,_.ZP)(C.opacity,A.opacity);return function(U){return C.r=L(U),C.g=P(U),C.b=O(U),C.opacity=R(U),C+""}}return g.gamma=h,g}(1);function t(h){return function(m){var L,P,u=m.length,g=new Array(u),C=new Array(u),A=new Array(u);for(L=0;L<u;++L)P=(0,c.B8)(m[L]),g[L]=P.r||0,C[L]=P.g||0,A[L]=P.b||0;return g=h(g),C=h(C),A=h(A),P.opacity=1,function(O){return P.r=g(O),P.g=C(O),P.b=A(O),P+""}}}var p=t(x.Z),l=t(v.Z)},42142:(w,k,s)=>{"use strict";s.d(k,{Z:()=>t});var c=s(37815),x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(x.source,"g");function t(p,l){var m,u,g,h=x.lastIndex=v.lastIndex=0,C=-1,A=[],L=[];for(p+="",l+="";(m=x.exec(p))&&(u=v.exec(l));)(g=u.index)>h&&(g=l.slice(h,g),A[C]?A[C]+=g:A[++C]=g),(m=m[0])===(u=u[0])?A[C]?A[C]+=u:A[++C]=u:(A[++C]=null,L.push({i:C,x:(0,c.Z)(m,u)})),h=v.lastIndex;return h<l.length&&(g=l.slice(h),A[C]?A[C]+=g:A[++C]=g),A.length<2?L[0]?function f(p){return function(l){return p(l)+""}}(L[0].x):function _(p){return function(){return p}}(l):(l=L.length,function(P){for(var R,O=0;O<l;++O)A[(R=L[O]).i]=R.x(P);return A.join("")})}},43349:(w,k,s)=>{"use strict";s.d(k,{Y:()=>h,w:()=>m});var f,c=s(37815),x=180/Math.PI,v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _(u,g,C,A,L,P){var O,R,U;return(O=Math.sqrt(u*u+g*g))&&(u/=O,g/=O),(U=u*C+g*A)&&(C-=u*U,A-=g*U),(R=Math.sqrt(C*C+A*A))&&(C/=R,A/=R,U/=R),u*A<g*C&&(u=-u,g=-g,U=-U,O=-O),{translateX:L,translateY:P,rotate:Math.atan2(g,u)*x,skewX:Math.atan(U)*x,scaleX:O,scaleY:R}}function l(u,g,C,A){function L(z){return z.length?z.pop()+" ":""}return function(z,X){var it=[],nt=[];return z=u(z),X=u(X),function P(z,X,it,nt,ut,J){if(z!==it||X!==nt){var tt=ut.push("translate(",null,g,null,C);J.push({i:tt-4,x:(0,c.Z)(z,it)},{i:tt-2,x:(0,c.Z)(X,nt)})}else(it||nt)&&ut.push("translate("+it+g+nt+C)}(z.translateX,z.translateY,X.translateX,X.translateY,it,nt),function O(z,X,it,nt){z!==X?(z-X>180?X+=360:X-z>180&&(z+=360),nt.push({i:it.push(L(it)+"rotate(",null,A)-2,x:(0,c.Z)(z,X)})):X&&it.push(L(it)+"rotate("+X+A)}(z.rotate,X.rotate,it,nt),function R(z,X,it,nt){z!==X?nt.push({i:it.push(L(it)+"skewX(",null,A)-2,x:(0,c.Z)(z,X)}):X&&it.push(L(it)+"skewX("+X+A)}(z.skewX,X.skewX,it,nt),function U(z,X,it,nt,ut,J){if(z!==it||X!==nt){var tt=ut.push(L(ut)+"scale(",null,",",null,")");J.push({i:tt-4,x:(0,c.Z)(z,it)},{i:tt-2,x:(0,c.Z)(X,nt)})}else(1!==it||1!==nt)&&ut.push(L(ut)+"scale("+it+","+nt+")")}(z.scaleX,z.scaleY,X.scaleX,X.scaleY,it,nt),z=X=null,function(ut){for(var $,J=-1,tt=nt.length;++J<tt;)it[($=nt[J]).i]=$.x(ut);return it.join("")}}}var h=l(function t(u){const g=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(u+"");return g.isIdentity?v:_(g.a,g.b,g.c,g.d,g.e,g.f)},"px, ","px)","deg)"),m=l(function p(u){return null!=u&&(f||(f=document.createElementNS("http://www.w3.org/2000/svg","g")),f.setAttribute("transform",u),u=f.transform.baseVal.consolidate())?_((u=u.matrix).a,u.b,u.c,u.d,u.e,u.f):v},", ",")",")")},12218:(w,k,s)=>{"use strict";s.r(k),s.d(k,{path:()=>p});const c=Math.PI,x=2*c,v=1e-6,_=x-v;function f(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function t(){return new f}f.prototype=t.prototype={constructor:f,moveTo:function(l,h){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+h)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(l,h){this._+="L"+(this._x1=+l)+","+(this._y1=+h)},quadraticCurveTo:function(l,h,m,u){this._+="Q"+ +l+","+ +h+","+(this._x1=+m)+","+(this._y1=+u)},bezierCurveTo:function(l,h,m,u,g,C){this._+="C"+ +l+","+ +h+","+ +m+","+ +u+","+(this._x1=+g)+","+(this._y1=+C)},arcTo:function(l,h,m,u,g){var C=this._x1,A=this._y1,L=(m=+m)-(l=+l),P=(u=+u)-(h=+h),O=C-l,R=A-h,U=O*O+R*R;if((g=+g)<0)throw new Error("negative radius: "+g);if(null===this._x1)this._+="M"+(this._x1=l)+","+(this._y1=h);else if(U>v)if(Math.abs(R*L-P*O)>v&&g){var z=m-C,X=u-A,it=L*L+P*P,nt=z*z+X*X,ut=Math.sqrt(it),J=Math.sqrt(U),tt=g*Math.tan((c-Math.acos((it+U-nt)/(2*ut*J)))/2),$=tt/J,st=tt/ut;Math.abs($-1)>v&&(this._+="L"+(l+$*O)+","+(h+$*R)),this._+="A"+g+","+g+",0,0,"+ +(R*z>O*X)+","+(this._x1=l+st*L)+","+(this._y1=h+st*P)}else this._+="L"+(this._x1=l)+","+(this._y1=h)},arc:function(l,h,m,u,g,C){l=+l,h=+h,C=!!C;var A=(m=+m)*Math.cos(u),L=m*Math.sin(u),P=l+A,O=h+L,R=1^C,U=C?u-g:g-u;if(m<0)throw new Error("negative radius: "+m);null===this._x1?this._+="M"+P+","+O:(Math.abs(this._x1-P)>v||Math.abs(this._y1-O)>v)&&(this._+="L"+P+","+O),m&&(U<0&&(U=U%x+x),U>_?this._+="A"+m+","+m+",0,1,"+R+","+(l-A)+","+(h-L)+"A"+m+","+m+",0,1,"+R+","+(this._x1=P)+","+(this._y1=O):U>v&&(this._+="A"+m+","+m+",0,"+ +(U>=c)+","+R+","+(this._x1=l+m*Math.cos(g))+","+(this._y1=h+m*Math.sin(g))))},rect:function(l,h,m,u){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+h)+"h"+ +m+"v"+ +u+"h"+-m+"Z"},toString:function(){return this._}};const p=t},31566:(w,k,s)=>{"use strict";s.r(k),s.d(k,{interval:()=>v,now:()=>c.zO,timeout:()=>x.Z,timer:()=>c.HT,timerFlush:()=>c.R8});var c=s(78562),x=s(30406);function v(_,f,t){var p=new c.B7,l=f;return null==f?(p.restart(_,f,t),p):(p._restart=p.restart,p.restart=function(h,m,u){m=+m,u=null==u?(0,c.zO)():+u,p._restart(function g(C){C+=l,p._restart(g,l+=m,u),h(C)},m,u)},p.restart(_,f,t),p)}},30406:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(78562);function x(v,_,f){var t=new c.B7;return t.restart(p=>{t.stop(),v(p+_)},_=null==_?0:+_,f),t}},78562:(w,k,s)=>{"use strict";s.d(k,{zO:()=>g,B7:()=>A,HT:()=>L,R8:()=>P});var f,t,c=0,x=0,v=0,p=0,l=0,h=0,m="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(X){setTimeout(X,17)};function g(){return l||(u(C),l=m.now()+h)}function C(){l=0}function A(){this._call=this._time=this._next=null}function L(X,it,nt){var ut=new A;return ut.restart(X,it,nt),ut}function P(){g(),++c;for(var it,X=f;X;)(it=l-X._time)>=0&&X._call.call(null,it),X=X._next;--c}function O(){l=(p=m.now())+h,c=x=0;try{P()}finally{c=0,function U(){for(var X,nt,it=f,ut=1/0;it;)it._call?(ut>it._time&&(ut=it._time),X=it,it=it._next):(nt=it._next,it._next=null,it=X?X._next=nt:f=nt);t=X,z(ut)}(),l=0}}function R(){var X=m.now(),it=X-p;it>1e3&&(h-=it,p=X)}function z(X){c||(x&&(x=clearTimeout(x)),X-l>24?(X<1/0&&(x=setTimeout(O,X-m.now()-h)),v&&(v=clearInterval(v))):(v||(p=m.now(),v=setInterval(R,1e3)),c=1,u(O)))}A.prototype=L.prototype={constructor:A,restart:function(X,it,nt){if("function"!=typeof X)throw new TypeError("callback is not a function");nt=(null==nt?g():+nt)+(null==it?0:+it),!this._next&&t!==this&&(t?t._next=this:f=this,t=this),this._call=X,this._time=nt,z()},stop:function(){this._call&&(this._call=null,this._time=1/0,z())}}},35011:(w,k,s)=>{"use strict";s.r(k),s.d(k,{active:()=>ln,interrupt:()=>U,transition:()=>_e});var c=s(37853),x=s(92940),v=s(78562),_=s(30406),f=(0,x.Z)("start","end","cancel","interrupt"),t=[];function A(G,W,ht,E,wt,Ot){var Rt=G.__transition;if(Rt){if(ht in Rt)return}else G.__transition={};!function R(G,W,ht){var wt,E=G.__transition;function Rt(qt){var q,pt,Tt,At;if(1!==ht.state)return re();for(q in E)if((At=E[q]).name===ht.name){if(3===At.state)return(0,_.Z)(Rt);4===At.state?(At.state=6,At.timer.stop(),At.on.call("interrupt",G,G.__data__,At.index,At.group),delete E[q]):+q<W&&(At.state=6,At.timer.stop(),At.on.call("cancel",G,G.__data__,At.index,At.group),delete E[q])}if((0,_.Z)(function(){3===ht.state&&(ht.state=4,ht.timer.restart(Yt,ht.delay,ht.time),Yt(qt))}),ht.state=2,ht.on.call("start",G,G.__data__,ht.index,ht.group),2===ht.state){for(ht.state=3,wt=new Array(Tt=ht.tween.length),q=0,pt=-1;q<Tt;++q)(At=ht.tween[q].value.call(G,G.__data__,ht.index,ht.group))&&(wt[++pt]=At);wt.length=pt+1}}function Yt(qt){for(var q=qt<ht.duration?ht.ease.call(null,qt/ht.duration):(ht.timer.restart(re),ht.state=5,1),pt=-1,Tt=wt.length;++pt<Tt;)wt[pt].call(G,q);5===ht.state&&(ht.on.call("end",G,G.__data__,ht.index,ht.group),re())}function re(){for(var qt in ht.state=6,ht.timer.stop(),delete E[W],E)return;delete G.__transition}E[W]=ht,ht.timer=(0,v.HT)(function Ot(qt){ht.state=1,ht.timer.restart(Rt,ht.delay,ht.time),ht.delay<=qt&&Rt(qt-ht.delay)},0,ht.time)}(G,ht,{name:W,index:E,group:wt,on:f,tween:t,time:Ot.time,delay:Ot.delay,duration:Ot.duration,ease:Ot.ease,timer:null,state:0})}function L(G,W){var ht=O(G,W);if(ht.state>0)throw new Error("too late; already scheduled");return ht}function P(G,W){var ht=O(G,W);if(ht.state>3)throw new Error("too late; already running");return ht}function O(G,W){var ht=G.__transition;if(!ht||!(ht=ht[W]))throw new Error("transition not found");return ht}function U(G,W){var E,wt,Rt,ht=G.__transition,Ot=!0;if(ht){for(Rt in W=null==W?null:W+"",ht)(E=ht[Rt]).name===W?(wt=E.state>2&&E.state<5,E.state=6,E.timer.stop(),E.on.call(wt?"interrupt":"cancel",G,G.__data__,E.index,E.group),delete ht[Rt]):Ot=!1;Ot&&delete G.__transition}}var X=s(43349),it=s(36175);function nt(G,W){var ht,E;return function(){var wt=P(this,G),Ot=wt.tween;if(Ot!==ht)for(var Rt=0,Yt=(E=ht=Ot).length;Rt<Yt;++Rt)if(E[Rt].name===W){(E=E.slice()).splice(Rt,1);break}wt.tween=E}}function ut(G,W,ht){var E,wt;if("function"!=typeof ht)throw new Error;return function(){var Ot=P(this,G),Rt=Ot.tween;if(Rt!==E){wt=(E=Rt).slice();for(var Yt={name:W,value:ht},re=0,qt=wt.length;re<qt;++re)if(wt[re].name===W){wt[re]=Yt;break}re===qt&&wt.push(Yt)}Ot.tween=wt}}function tt(G,W,ht){var E=G._id;return G.each(function(){var wt=P(this,E);(wt.value||(wt.value={}))[W]=ht.apply(this,arguments)}),function(wt){return O(wt,E).value[W]}}var $=s(52786),st=s(37815),Y=s(8200),K=s(42142);function rt(G,W){var ht;return("number"==typeof W?st.Z:W instanceof $.ZP?Y.ZP:(ht=(0,$.ZP)(W))?(W=ht,Y.ZP):K.Z)(G,W)}function at(G){return function(){this.removeAttribute(G)}}function V(G){return function(){this.removeAttributeNS(G.space,G.local)}}function M(G,W,ht){var E,Ot,wt=ht+"";return function(){var Rt=this.getAttribute(G);return Rt===wt?null:Rt===E?Ot:Ot=W(E=Rt,ht)}}function Ct(G,W,ht){var E,Ot,wt=ht+"";return function(){var Rt=this.getAttributeNS(G.space,G.local);return Rt===wt?null:Rt===E?Ot:Ot=W(E=Rt,ht)}}function Mt(G,W,ht){var E,wt,Ot;return function(){var Rt,re,Yt=ht(this);return null==Yt?void this.removeAttribute(G):(Rt=this.getAttribute(G))===(re=Yt+"")?null:Rt===E&&re===wt?Ot:(wt=re,Ot=W(E=Rt,Yt))}}function Bt(G,W,ht){var E,wt,Ot;return function(){var Rt,re,Yt=ht(this);return null==Yt?void this.removeAttributeNS(G.space,G.local):(Rt=this.getAttributeNS(G.space,G.local))===(re=Yt+"")?null:Rt===E&&re===wt?Ot:(wt=re,Ot=W(E=Rt,Yt))}}function ie(G,W){return function(ht){this.setAttribute(G,W.call(this,ht))}}function Ut(G,W){return function(ht){this.setAttributeNS(G.space,G.local,W.call(this,ht))}}function vt(G,W){var ht,E;function wt(){var Ot=W.apply(this,arguments);return Ot!==E&&(ht=(E=Ot)&&Ut(G,Ot)),ht}return wt._value=W,wt}function ft(G,W){var ht,E;function wt(){var Ot=W.apply(this,arguments);return Ot!==E&&(ht=(E=Ot)&&ie(G,Ot)),ht}return wt._value=W,wt}function Qt(G,W){return function(){L(this,G).delay=+W.apply(this,arguments)}}function me(G,W){return W=+W,function(){L(this,G).delay=W}}function ve(G,W){return function(){P(this,G).duration=+W.apply(this,arguments)}}function Fe(G,W){return W=+W,function(){P(this,G).duration=W}}function De(G,W){if("function"!=typeof W)throw new Error;return function(){P(this,G).ease=W}}var ke=s(97905);function Yn(G,W,ht){var E,wt,Ot=function ai(G){return(G+"").trim().split(/^|\s+/).every(function(W){var ht=W.indexOf(".");return ht>=0&&(W=W.slice(0,ht)),!W||"start"===W})}(W)?L:P;return function(){var Rt=Ot(this,G),Yt=Rt.on;Yt!==E&&(wt=(E=Yt).copy()).on(W,ht),Rt.on=wt}}var Pn=s(29742),mi=s(32037),yn=c.ZP.prototype.constructor,ei=s(24476);function $n(G){return function(){this.style.removeProperty(G)}}function de(G,W,ht){return function(E){this.style.setProperty(G,W.call(this,E),ht)}}function xe(G,W,ht){var E,wt;function Ot(){var Rt=W.apply(this,arguments);return Rt!==wt&&(E=(wt=Rt)&&de(G,Rt,ht)),E}return Ot._value=W,Ot}function Dn(G){return function(W){this.textContent=G.call(this,W)}}function ti(G){var W,ht;function E(){var wt=G.apply(this,arguments);return wt!==ht&&(W=(ht=wt)&&Dn(wt)),W}return E._value=G,E}var Ai=0;function In(G,W,ht,E){this._groups=G,this._parents=W,this._name=ht,this._id=E}function _e(G){return(0,c.ZP)().transition(G)}function en(){return++Ai}var ii=c.ZP.prototype;In.prototype=_e.prototype={constructor:In,select:function Ve(G){var W=this._name,ht=this._id;"function"!=typeof G&&(G=(0,Pn.Z)(G));for(var E=this._groups,wt=E.length,Ot=new Array(wt),Rt=0;Rt<wt;++Rt)for(var q,pt,Yt=E[Rt],re=Yt.length,qt=Ot[Rt]=new Array(re),Tt=0;Tt<re;++Tt)(q=Yt[Tt])&&(pt=G.call(q,q.__data__,Tt,Yt))&&("__data__"in q&&(pt.__data__=q.__data__),qt[Tt]=pt,A(qt[Tt],W,ht,Tt,qt,O(q,ht)));return new In(Ot,this._parents,W,ht)},selectAll:function Hn(G){var W=this._name,ht=this._id;"function"!=typeof G&&(G=(0,mi.Z)(G));for(var E=this._groups,wt=E.length,Ot=[],Rt=[],Yt=0;Yt<wt;++Yt)for(var q,re=E[Yt],qt=re.length,pt=0;pt<qt;++pt)if(q=re[pt]){for(var At,Tt=G.call(q,q.__data__,pt,re),Wt=O(q,ht),te=0,Dt=Tt.length;te<Dt;++te)(At=Tt[te])&&A(At,W,ht,te,Tt,Wt);Ot.push(Tt),Rt.push(q)}return new In(Ot,Rt,W,ht)},filter:function Zn(G){"function"!=typeof G&&(G=(0,ke.Z)(G));for(var W=this._groups,ht=W.length,E=new Array(ht),wt=0;wt<ht;++wt)for(var re,Ot=W[wt],Rt=Ot.length,Yt=E[wt]=[],qt=0;qt<Rt;++qt)(re=Ot[qt])&&G.call(re,re.__data__,qt,Ot)&&Yt.push(re);return new In(E,this._parents,this._name,this._id)},merge:function Wn(G){if(G._id!==this._id)throw new Error;for(var W=this._groups,ht=G._groups,E=W.length,Ot=Math.min(E,ht.length),Rt=new Array(E),Yt=0;Yt<Ot;++Yt)for(var Tt,re=W[Yt],qt=ht[Yt],q=re.length,pt=Rt[Yt]=new Array(q),At=0;At<q;++At)(Tt=re[At]||qt[At])&&(pt[At]=Tt);for(;Yt<E;++Yt)Rt[Yt]=W[Yt];return new In(Rt,this._parents,this._name,this._id)},selection:function Xn(){return new yn(this._groups,this._parents)},transition:function gn(){for(var G=this._name,W=this._id,ht=en(),E=this._groups,wt=E.length,Ot=0;Ot<wt;++Ot)for(var re,Rt=E[Ot],Yt=Rt.length,qt=0;qt<Yt;++qt)if(re=Rt[qt]){var q=O(re,W);A(re,G,ht,qt,Rt,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new In(E,this._parents,G,ht)},call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:function An(G,W){var ht=this._id;return arguments.length<2?O(this.node(),ht).on.on(G):this.each(Yn(ht,G,W))},attr:function Ht(G,W){var ht=(0,it.Z)(G),E="transform"===ht?X.w:rt;return this.attrTween(G,"function"==typeof W?(ht.local?Bt:Mt)(ht,E,tt(this,"attr."+G,W)):null==W?(ht.local?V:at)(ht):(ht.local?Ct:M)(ht,E,W))},attrTween:function Nt(G,W){var ht="attr."+G;if(arguments.length<2)return(ht=this.tween(ht))&&ht._value;if(null==W)return this.tween(ht,null);if("function"!=typeof W)throw new Error;var E=(0,it.Z)(G);return this.tween(ht,(E.local?vt:ft)(E,W))},style:function se(G,W,ht){var E="transform"==(G+="")?X.Y:rt;return null==W?this.styleTween(G,function Oe(G,W){var ht,E,wt;return function(){var Ot=(0,ei.S)(this,G),Rt=(this.style.removeProperty(G),(0,ei.S)(this,G));return Ot===Rt?null:Ot===ht&&Rt===E?wt:wt=W(ht=Ot,E=Rt)}}(G,E)).on("end.style."+G,$n(G)):"function"==typeof W?this.styleTween(G,function yt(G,W,ht){var E,wt,Ot;return function(){var Rt=(0,ei.S)(this,G),Yt=ht(this),re=Yt+"";return null==Yt&&(this.style.removeProperty(G),re=Yt=(0,ei.S)(this,G)),Rt===re?null:Rt===E&&re===wt?Ot:(wt=re,Ot=W(E=Rt,Yt))}}(G,E,tt(this,"style."+G,W))).each(function Gt(G,W){var ht,E,wt,Yt,Ot="style."+W,Rt="end."+Ot;return function(){var re=P(this,G),qt=re.on,q=null==re.value[Ot]?Yt||(Yt=$n(W)):void 0;(qt!==ht||wt!==q)&&(E=(ht=qt).copy()).on(Rt,wt=q),re.on=E}}(this._id,G)):this.styleTween(G,function Jn(G,W,ht){var E,Ot,wt=ht+"";return function(){var Rt=(0,ei.S)(this,G);return Rt===wt?null:Rt===E?Ot:Ot=W(E=Rt,ht)}}(G,E,W),ht).on("end.style."+G,null)},styleTween:function Ue(G,W,ht){var E="style."+(G+="");if(arguments.length<2)return(E=this.tween(E))&&E._value;if(null==W)return this.tween(E,null);if("function"!=typeof W)throw new Error;return this.tween(E,xe(G,W,null==ht?"":ht))},text:function Bn(G){return this.tween("text","function"==typeof G?function an(G){return function(){var W=G(this);this.textContent=null==W?"":W}}(tt(this,"text",G)):function Re(G){return function(){this.textContent=G}}(null==G?"":G+""))},textTween:function Ii(G){var W="text";if(arguments.length<1)return(W=this.tween(W))&&W._value;if(null==G)return this.tween(W,null);if("function"!=typeof G)throw new Error;return this.tween(W,ti(G))},remove:function En(){return this.on("end.remove",function Ke(G){return function(){var W=this.parentNode;for(var ht in this.__transition)if(+ht!==G)return;W&&W.removeChild(this)}}(this._id))},tween:function J(G,W){var ht=this._id;if(G+="",arguments.length<2){for(var Rt,E=O(this.node(),ht).tween,wt=0,Ot=E.length;wt<Ot;++wt)if((Rt=E[wt]).name===G)return Rt.value;return null}return this.each((null==W?nt:ut)(ht,G,W))},delay:function ge(G){var W=this._id;return arguments.length?this.each(("function"==typeof G?Qt:me)(W,G)):O(this.node(),W).delay},duration:function qe(G){var W=this._id;return arguments.length?this.each(("function"==typeof G?ve:Fe)(W,G)):O(this.node(),W).duration},ease:function fn(G){var W=this._id;return arguments.length?this.each(De(W,G)):O(this.node(),W).ease},easeVarying:function Cn(G){if("function"!=typeof G)throw new Error;return this.each(function Be(G,W){return function(){var ht=W.apply(this,arguments);if("function"!=typeof ht)throw new Error;P(this,G).ease=ht}}(this._id,G))},end:function ni(){var G,W,ht=this,E=ht._id,wt=ht.size();return new Promise(function(Ot,Rt){var Yt={value:Rt},re={value:function(){0==--wt&&Ot()}};ht.each(function(){var qt=P(this,E),q=qt.on;q!==G&&((W=(G=q).copy())._.cancel.push(Yt),W._.interrupt.push(Yt),W._.end.push(re)),qt.on=W}),0===wt&&Ot()})},[Symbol.iterator]:ii[Symbol.iterator]};var Mn={time:null,delay:0,duration:250,ease:s(27065).tw};function we(G,W){for(var ht;!(ht=G.__transition)||!(ht=ht[W]);)if(!(G=G.parentNode))throw new Error(`transition ${W} not found`);return ht}c.ZP.prototype.interrupt=function z(G){return this.each(function(){U(this,G)})},c.ZP.prototype.transition=function jn(G){var W,ht;G instanceof In?(W=G._id,G=G._name):(W=en(),(ht=Mn).time=(0,v.zO)(),G=null==G?null:G+"");for(var E=this._groups,wt=E.length,Ot=0;Ot<wt;++Ot)for(var re,Rt=E[Ot],Yt=Rt.length,qt=0;qt<Yt;++qt)(re=Rt[qt])&&A(re,G,W,qt,Rt,ht||we(re,W));return new In(E,this._parents,G,W)};var pn=[null];function ln(G,W){var E,wt,ht=G.__transition;if(ht)for(wt in W=null==W?null:W+"",ht)if((E=ht[wt]).state>1&&E.name===W)return new In([[G]],pn,W,+wt);return null}},47927:(w,k,s)=>{"use strict";function c(x){return function(){return x}}s.d(k,{Z:()=>c})},6738:(w,k,s)=>{"use strict";function c(x,v){return x=+x,v=+v,function(_){return x*(1-_)+v*_}}s.d(k,{Z:()=>c})},23534:(w,k,s)=>{"use strict";s.d(k,{ZP:()=>u});var c=s(52786);function x(L,P,O,R,U){var z=L*L,X=z*L;return((1-3*L+3*z-X)*P+(4-6*z+3*X)*O+(1+3*L+3*z-3*X)*R+X*U)/6}var f=s(47927);function m(L,P){var O=P-L;return O?function t(L,P){return function(O){return L+O*P}}(L,O):(0,f.Z)(isNaN(L)?P:L)}const u=function L(P){var O=function h(L){return 1==(L=+L)?m:function(P,O){return O-P?function p(L,P,O){return L=Math.pow(L,O),P=Math.pow(P,O)-L,O=1/O,function(R){return Math.pow(L+R*P,O)}}(P,O,L):(0,f.Z)(isNaN(P)?O:P)}}(P);function R(U,z){var X=O((U=(0,c.B8)(U)).r,(z=(0,c.B8)(z)).r),it=O(U.g,z.g),nt=O(U.b,z.b),ut=m(U.opacity,z.opacity);return function(J){return U.r=X(J),U.g=it(J),U.b=nt(J),U.opacity=ut(J),U+""}}return R.gamma=L,R}(1);function g(L){return function(P){var X,it,O=P.length,R=new Array(O),U=new Array(O),z=new Array(O);for(X=0;X<O;++X)it=(0,c.B8)(P[X]),R[X]=it.r||0,U[X]=it.g||0,z[X]=it.b||0;return R=L(R),U=L(U),z=L(z),it.opacity=1,function(nt){return it.r=R(nt),it.g=U(nt),it.b=z(nt),it+""}}}g(function v(L){var P=L.length-1;return function(O){var R=O<=0?O=0:O>=1?(O=1,P-1):Math.floor(O*P),U=L[R],z=L[R+1];return x((O-R/P)*P,R>0?L[R-1]:2*U-z,U,z,R<P-1?L[R+2]:2*z-U)}}),g(function _(L){var P=L.length;return function(O){var R=Math.floor(((O%=1)<0?++O:O)*P);return x((O-R/P)*P,L[(R+P-1)%P],L[R%P],L[(R+1)%P],L[(R+2)%P])}})},23096:(w,k,s)=>{"use strict";s.d(k,{Z:()=>t});var c=s(6738),x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(x.source,"g");function t(p,l){var m,u,g,h=x.lastIndex=v.lastIndex=0,C=-1,A=[],L=[];for(p+="",l+="";(m=x.exec(p))&&(u=v.exec(l));)(g=u.index)>h&&(g=l.slice(h,g),A[C]?A[C]+=g:A[++C]=g),(m=m[0])===(u=u[0])?A[C]?A[C]+=u:A[++C]=u:(A[++C]=null,L.push({i:C,x:(0,c.Z)(m,u)})),h=v.lastIndex;return h<l.length&&(g=l.slice(h),A[C]?A[C]+=g:A[++C]=g),A.length<2?L[0]?function f(p){return function(l){return p(l)+""}}(L[0].x):function _(p){return function(){return p}}(l):(l=L.length,function(P){for(var R,O=0;O<l;++O)A[(R=L[O]).i]=R.x(P);return A.join("")})}},75349:(w,k,s)=>{"use strict";s.d(k,{Y:()=>g,w:()=>C});var f,t,p,l,c=s(6738),x=180/Math.PI,v={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _(A,L,P,O,R,U){var z,X,it;return(z=Math.sqrt(A*A+L*L))&&(A/=z,L/=z),(it=A*P+L*O)&&(P-=A*it,O-=L*it),(X=Math.sqrt(P*P+O*O))&&(P/=X,O/=X,it/=X),A*O<L*P&&(A=-A,L=-L,it=-it,z=-z),{translateX:R,translateY:U,rotate:Math.atan2(L,A)*x,skewX:Math.atan(it)*x,scaleX:z,scaleY:X}}function u(A,L,P,O){function R(nt){return nt.length?nt.pop()+" ":""}return function(nt,ut){var J=[],tt=[];return nt=A(nt),ut=A(ut),function U(nt,ut,J,tt,$,st){if(nt!==J||ut!==tt){var Y=$.push("translate(",null,L,null,P);st.push({i:Y-4,x:(0,c.Z)(nt,J)},{i:Y-2,x:(0,c.Z)(ut,tt)})}else(J||tt)&&$.push("translate("+J+L+tt+P)}(nt.translateX,nt.translateY,ut.translateX,ut.translateY,J,tt),function z(nt,ut,J,tt){nt!==ut?(nt-ut>180?ut+=360:ut-nt>180&&(nt+=360),tt.push({i:J.push(R(J)+"rotate(",null,O)-2,x:(0,c.Z)(nt,ut)})):ut&&J.push(R(J)+"rotate("+ut+O)}(nt.rotate,ut.rotate,J,tt),function X(nt,ut,J,tt){nt!==ut?tt.push({i:J.push(R(J)+"skewX(",null,O)-2,x:(0,c.Z)(nt,ut)}):ut&&J.push(R(J)+"skewX("+ut+O)}(nt.skewX,ut.skewX,J,tt),function it(nt,ut,J,tt,$,st){if(nt!==J||ut!==tt){var Y=$.push(R($)+"scale(",null,",",null,")");st.push({i:Y-4,x:(0,c.Z)(nt,J)},{i:Y-2,x:(0,c.Z)(ut,tt)})}else(1!==J||1!==tt)&&$.push(R($)+"scale("+J+","+tt+")")}(nt.scaleX,nt.scaleY,ut.scaleX,ut.scaleY,J,tt),nt=ut=null,function($){for(var K,st=-1,Y=tt.length;++st<Y;)J[(K=tt[st]).i]=K.x($);return J.join("")}}}var g=u(function h(A){return"none"===A?v:(f||(f=document.createElement("DIV"),t=document.documentElement,p=document.defaultView),f.style.transform=A,A=p.getComputedStyle(t.appendChild(f),null).getPropertyValue("transform"),t.removeChild(f),_(+(A=A.slice(7,-1).split(","))[0],+A[1],+A[2],+A[3],+A[4],+A[5]))},"px, ","px)","deg)"),C=u(function m(A){return null!=A&&(l||(l=document.createElementNS("http://www.w3.org/2000/svg","g")),l.setAttribute("transform",A),A=l.transform.baseVal.consolidate())?_((A=A.matrix).a,A.b,A.c,A.d,A.e,A.f):v},", ",")",")")},34638:(w,k,s)=>{"use strict";function c(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}s.d(k,{Z:()=>c})},7500:(w,k,s)=>{"use strict";s.d(k,{Z:()=>f});var c=s(36175),x=s(53517);function v(t){return function(){var p=this.ownerDocument,l=this.namespaceURI;return l===x.P&&p.documentElement.namespaceURI===x.P?p.createElement(t):p.createElementNS(l,t)}}function _(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function f(t){var p=(0,c.Z)(t);return(p.local?_:v)(p)}},68557:(w,k,s)=>{"use strict";s.r(k),s.d(k,{create:()=>v,creator:()=>c.Z,local:()=>f,matcher:()=>p.Z,namespace:()=>l.Z,namespaces:()=>h.Z,pointer:()=>m.Z,pointers:()=>g,select:()=>x.Z,selectAll:()=>L,selection:()=>A.ZP,selector:()=>P.Z,selectorAll:()=>O.Z,style:()=>R.S,window:()=>U.Z});var c=s(7500),x=s(52016);function v(z){return(0,x.Z)((0,c.Z)(z).call(document.documentElement))}var _=0;function f(){return new t}function t(){this._="@"+(++_).toString(36)}t.prototype=f.prototype={constructor:t,get:function(z){for(var X=this._;!(X in z);)if(!(z=z.parentNode))return;return z[X]},set:function(z,X){return z[this._]=X},remove:function(z){return this._ in z&&delete z[this._]},toString:function(){return this._}};var p=s(97905),l=s(36175),h=s(53517),m=s(29132),u=s(75819);function g(z,X){return z.target&&(z=(0,u.Z)(z),void 0===X&&(X=z.currentTarget),z=z.touches||[z]),Array.from(z,it=>(0,m.Z)(it,X))}var C=s(34638),A=s(37853);function L(z){return"string"==typeof z?new A.Y1([document.querySelectorAll(z)],[document.documentElement]):new A.Y1([null==z?[]:(0,C.Z)(z)],A.Jz)}var P=s(29742),O=s(32037),R=s(24476),U=s(2442)},97905:(w,k,s)=>{"use strict";function c(v){return function(){return this.matches(v)}}function x(v){return function(_){return _.matches(v)}}s.d(k,{Z:()=>c,P:()=>x})},36175:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(53517);function x(v){var _=v+="",f=_.indexOf(":");return f>=0&&"xmlns"!==(_=v.slice(0,f))&&(v=v.slice(f+1)),c.Z.hasOwnProperty(_)?{space:c.Z[_],local:v}:v}},53517:(w,k,s)=>{"use strict";s.d(k,{P:()=>c,Z:()=>x});var c="http://www.w3.org/1999/xhtml";const x={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},29132:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(75819);function x(v,_){if(v=(0,c.Z)(v),void 0===_&&(_=v.currentTarget),_){var f=_.ownerSVGElement||_;if(f.createSVGPoint){var t=f.createSVGPoint();return t.x=v.clientX,t.y=v.clientY,[(t=t.matrixTransform(_.getScreenCTM().inverse())).x,t.y]}if(_.getBoundingClientRect){var p=_.getBoundingClientRect();return[v.clientX-p.left-_.clientLeft,v.clientY-p.top-_.clientTop]}}return[v.pageX,v.pageY]}},52016:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(37853);function x(v){return"string"==typeof v?new c.Y1([[document.querySelector(v)]],[document.documentElement]):new c.Y1([[v]],c.Jz)}},37853:(w,k,s)=>{"use strict";s.d(k,{Y1:()=>we,ZP:()=>ln,Jz:()=>Mn});var c=s(29742),v=s(34638),_=s(32037),p=s(97905),l=Array.prototype.find;function m(){return this.firstElementChild}var g=Array.prototype.filter;function C(){return this.children}function O(G){return new Array(G.length)}function U(G,W){this.ownerDocument=G.ownerDocument,this.namespaceURI=G.namespaceURI,this._next=null,this._parent=G,this.__data__=W}function z(G){return function(){return G}}function X(G,W,ht,E,wt,Ot){for(var Yt,Rt=0,re=W.length,qt=Ot.length;Rt<qt;++Rt)(Yt=W[Rt])?(Yt.__data__=Ot[Rt],E[Rt]=Yt):ht[Rt]=new U(G,Ot[Rt]);for(;Rt<re;++Rt)(Yt=W[Rt])&&(wt[Rt]=Yt)}function it(G,W,ht,E,wt,Ot,Rt){var Yt,re,At,qt=new Map,q=W.length,pt=Ot.length,Tt=new Array(q);for(Yt=0;Yt<q;++Yt)(re=W[Yt])&&(Tt[Yt]=At=Rt.call(re,re.__data__,Yt,W)+"",qt.has(At)?wt[Yt]=re:qt.set(At,re));for(Yt=0;Yt<pt;++Yt)At=Rt.call(G,Ot[Yt],Yt,Ot)+"",(re=qt.get(At))?(E[Yt]=re,re.__data__=Ot[Yt],qt.delete(At)):ht[Yt]=new U(G,Ot[Yt]);for(Yt=0;Yt<q;++Yt)(re=W[Yt])&&qt.get(Tt[Yt])===re&&(wt[Yt]=re)}function nt(G){return G.__data__}function K(G,W){return G<W?-1:G>W?1:G>=W?0:NaN}U.prototype={constructor:U,appendChild:function(G){return this._parent.insertBefore(G,this._next)},insertBefore:function(G,W){return this._parent.insertBefore(G,W)},querySelector:function(G){return this._parent.querySelector(G)},querySelectorAll:function(G){return this._parent.querySelectorAll(G)}};var Bt=s(36175);function Ht(G){return function(){this.removeAttribute(G)}}function ie(G){return function(){this.removeAttributeNS(G.space,G.local)}}function Ut(G,W){return function(){this.setAttribute(G,W)}}function vt(G,W){return function(){this.setAttributeNS(G.space,G.local,W)}}function ft(G,W){return function(){var ht=W.apply(this,arguments);null==ht?this.removeAttribute(G):this.setAttribute(G,ht)}}function Nt(G,W){return function(){var ht=W.apply(this,arguments);null==ht?this.removeAttributeNS(G.space,G.local):this.setAttributeNS(G.space,G.local,ht)}}var me=s(24476);function ge(G){return function(){delete this[G]}}function ve(G,W){return function(){this[G]=W}}function Fe(G,W){return function(){var ht=W.apply(this,arguments);null==ht?delete this[G]:this[G]=ht}}function De(G){return G.trim().split(/^|\s+/)}function fn(G){return G.classList||new Be(G)}function Be(G){this._node=G,this._names=De(G.getAttribute("class")||"")}function Cn(G,W){for(var ht=fn(G),E=-1,wt=W.length;++E<wt;)ht.add(W[E])}function ke(G,W){for(var ht=fn(G),E=-1,wt=W.length;++E<wt;)ht.remove(W[E])}function Zn(G){return function(){Cn(this,G)}}function Wn(G){return function(){ke(this,G)}}function ai(G,W){return function(){(W.apply(this,arguments)?Cn:ke)(this,G)}}function An(){this.textContent=""}function Ke(G){return function(){this.textContent=G}}function En(G){return function(){var W=G.apply(this,arguments);this.textContent=null==W?"":W}}function Ve(){this.innerHTML=""}function mi(G){return function(){this.innerHTML=G}}function Hn(G){return function(){var W=G.apply(this,arguments);this.innerHTML=null==W?"":W}}function Xn(){this.nextSibling&&this.parentNode.appendChild(this)}function Oe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Be.prototype={add:function(G){this._names.indexOf(G)<0&&(this._names.push(G),this._node.setAttribute("class",this._names.join(" ")))},remove:function(G){var W=this._names.indexOf(G);W>=0&&(this._names.splice(W,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(G){return this._names.indexOf(G)>=0}};var Jn=s(7500);function Gt(){return null}function de(){var G=this.parentNode;G&&G.removeChild(this)}function Ue(){var G=this.cloneNode(!1),W=this.parentNode;return W?W.insertBefore(G,this.nextSibling):G}function Re(){var G=this.cloneNode(!0),W=this.parentNode;return W?W.insertBefore(G,this.nextSibling):G}function ti(G){return G.trim().split(/^|\s+/).map(function(W){var ht="",E=W.indexOf(".");return E>=0&&(ht=W.slice(E+1),W=W.slice(0,E)),{type:W,name:ht}})}function Ii(G){return function(){var W=this.__on;if(W){for(var Ot,ht=0,E=-1,wt=W.length;ht<wt;++ht)Ot=W[ht],G.type&&Ot.type!==G.type||Ot.name!==G.name?W[++E]=Ot:this.removeEventListener(Ot.type,Ot.listener,Ot.options);++E?W.length=E:delete this.__on}}}function gn(G,W,ht){return function(){var wt,E=this.__on,Ot=function Dn(G){return function(W){G.call(this,W,this.__data__)}}(W);if(E)for(var Rt=0,Yt=E.length;Rt<Yt;++Rt)if((wt=E[Rt]).type===G.type&&wt.name===G.name)return this.removeEventListener(wt.type,wt.listener,wt.options),this.addEventListener(wt.type,wt.listener=Ot,wt.options=ht),void(wt.value=W);this.addEventListener(G.type,Ot,ht),wt={type:G.type,name:G.name,value:W,listener:Ot,options:ht},E?E.push(wt):this.__on=[wt]}}var Ai=s(2442);function In(G,W,ht){var E=(0,Ai.Z)(G),wt=E.CustomEvent;"function"==typeof wt?wt=new wt(W,ht):(wt=E.document.createEvent("Event"),ht?(wt.initEvent(W,ht.bubbles,ht.cancelable),wt.detail=ht.detail):wt.initEvent(W,!1,!1)),G.dispatchEvent(wt)}function _e(G,W){return function(){return In(this,G,W)}}function en(G,W){return function(){return In(this,G,W.apply(this,arguments))}}var Mn=[null];function we(G,W){this._groups=G,this._parents=W}function jn(){return new we([[document.documentElement]],Mn)}we.prototype=jn.prototype={constructor:we,select:function x(G){"function"!=typeof G&&(G=(0,c.Z)(G));for(var W=this._groups,ht=W.length,E=new Array(ht),wt=0;wt<ht;++wt)for(var re,qt,Ot=W[wt],Rt=Ot.length,Yt=E[wt]=new Array(Rt),q=0;q<Rt;++q)(re=Ot[q])&&(qt=G.call(re,re.__data__,q,Ot))&&("__data__"in re&&(qt.__data__=re.__data__),Yt[q]=qt);return new we(E,this._parents)},selectAll:function t(G){G="function"==typeof G?function f(G){return function(){var W=G.apply(this,arguments);return null==W?[]:(0,v.Z)(W)}}(G):(0,_.Z)(G);for(var W=this._groups,ht=W.length,E=[],wt=[],Ot=0;Ot<ht;++Ot)for(var re,Rt=W[Ot],Yt=Rt.length,qt=0;qt<Yt;++qt)(re=Rt[qt])&&(E.push(G.call(re,re.__data__,qt,Rt)),wt.push(re));return new we(E,wt)},selectChild:function u(G){return this.select(null==G?m:function h(G){return function(){return l.call(this.children,G)}}("function"==typeof G?G:(0,p.P)(G)))},selectChildren:function L(G){return this.selectAll(null==G?C:function A(G){return function(){return g.call(this.children,G)}}("function"==typeof G?G:(0,p.P)(G)))},filter:function P(G){"function"!=typeof G&&(G=(0,p.Z)(G));for(var W=this._groups,ht=W.length,E=new Array(ht),wt=0;wt<ht;++wt)for(var re,Ot=W[wt],Rt=Ot.length,Yt=E[wt]=[],qt=0;qt<Rt;++qt)(re=Ot[qt])&&G.call(re,re.__data__,qt,Ot)&&Yt.push(re);return new we(E,this._parents)},data:function ut(G,W){if(!arguments.length)return Array.from(this,nt);var ht=W?it:X,E=this._parents,wt=this._groups;"function"!=typeof G&&(G=z(G));for(var Ot=wt.length,Rt=new Array(Ot),Yt=new Array(Ot),re=new Array(Ot),qt=0;qt<Ot;++qt){var q=E[qt],pt=wt[qt],Tt=pt.length,At=(0,v.Z)(G.call(q,q&&q.__data__,qt,E)),Wt=At.length,te=Yt[qt]=new Array(Wt),Dt=Rt[qt]=new Array(Wt),he=re[qt]=new Array(Tt);ht(q,pt,te,Dt,he,At,W);for(var Ie,Me,N=0,oe=0;N<Wt;++N)if(Ie=te[N]){for(N>=oe&&(oe=N+1);!(Me=Dt[oe])&&++oe<Wt;);Ie._next=Me||null}}return(Rt=new we(Rt,E))._enter=Yt,Rt._exit=re,Rt},enter:function R(){return new we(this._enter||this._groups.map(O),this._parents)},exit:function J(){return new we(this._exit||this._groups.map(O),this._parents)},join:function tt(G,W,ht){var E=this.enter(),wt=this,Ot=this.exit();return E="function"==typeof G?G(E):E.append(G+""),null!=W&&(wt=W(wt)),null==ht?Ot.remove():ht(Ot),E&&wt?E.merge(wt).order():wt},merge:function $(G){if(!(G instanceof we))throw new Error("invalid merge");for(var W=this._groups,ht=G._groups,E=W.length,Ot=Math.min(E,ht.length),Rt=new Array(E),Yt=0;Yt<Ot;++Yt)for(var Tt,re=W[Yt],qt=ht[Yt],q=re.length,pt=Rt[Yt]=new Array(q),At=0;At<q;++At)(Tt=re[At]||qt[At])&&(pt[At]=Tt);for(;Yt<E;++Yt)Rt[Yt]=W[Yt];return new we(Rt,this._parents)},selection:function pn(){return this},order:function st(){for(var G=this._groups,W=-1,ht=G.length;++W<ht;)for(var Rt,E=G[W],wt=E.length-1,Ot=E[wt];--wt>=0;)(Rt=E[wt])&&(Ot&&4^Rt.compareDocumentPosition(Ot)&&Ot.parentNode.insertBefore(Rt,Ot),Ot=Rt);return this},sort:function Y(G){function W(pt,Tt){return pt&&Tt?G(pt.__data__,Tt.__data__):!pt-!Tt}G||(G=K);for(var ht=this._groups,E=ht.length,wt=new Array(E),Ot=0;Ot<E;++Ot){for(var qt,Rt=ht[Ot],Yt=Rt.length,re=wt[Ot]=new Array(Yt),q=0;q<Yt;++q)(qt=Rt[q])&&(re[q]=qt);re.sort(W)}return new we(wt,this._parents).order()},call:function rt(){var G=arguments[0];return arguments[0]=this,G.apply(null,arguments),this},nodes:function at(){return Array.from(this)},node:function V(){for(var G=this._groups,W=0,ht=G.length;W<ht;++W)for(var E=G[W],wt=0,Ot=E.length;wt<Ot;++wt){var Rt=E[wt];if(Rt)return Rt}return null},size:function M(){let G=0;for(const W of this)++G;return G},empty:function Ct(){return!this.node()},each:function Mt(G){for(var W=this._groups,ht=0,E=W.length;ht<E;++ht)for(var Yt,wt=W[ht],Ot=0,Rt=wt.length;Ot<Rt;++Ot)(Yt=wt[Ot])&&G.call(Yt,Yt.__data__,Ot,wt);return this},attr:function Qt(G,W){var ht=(0,Bt.Z)(G);if(arguments.length<2){var E=this.node();return ht.local?E.getAttributeNS(ht.space,ht.local):E.getAttribute(ht)}return this.each((null==W?ht.local?ie:Ht:"function"==typeof W?ht.local?Nt:ft:ht.local?vt:Ut)(ht,W))},style:me.Z,property:function qe(G,W){return arguments.length>1?this.each((null==W?ge:"function"==typeof W?Fe:ve)(G,W)):this.node()[G]},classed:function Yn(G,W){var ht=De(G+"");if(arguments.length<2){for(var E=fn(this.node()),wt=-1,Ot=ht.length;++wt<Ot;)if(!E.contains(ht[wt]))return!1;return!0}return this.each(("function"==typeof W?ai:W?Zn:Wn)(ht,W))},text:function Pn(G){return arguments.length?this.each(null==G?An:("function"==typeof G?En:Ke)(G)):this.node().textContent},html:function yn(G){return arguments.length?this.each(null==G?Ve:("function"==typeof G?Hn:mi)(G)):this.node().innerHTML},raise:function ei(){return this.each(Xn)},lower:function $n(){return this.each(Oe)},append:function yt(G){var W="function"==typeof G?G:(0,Jn.Z)(G);return this.select(function(){return this.appendChild(W.apply(this,arguments))})},insert:function se(G,W){var ht="function"==typeof G?G:(0,Jn.Z)(G),E=null==W?Gt:"function"==typeof W?W:(0,c.Z)(W);return this.select(function(){return this.insertBefore(ht.apply(this,arguments),E.apply(this,arguments)||null)})},remove:function xe(){return this.each(de)},clone:function an(G){return this.select(G?Re:Ue)},datum:function Bn(G){return arguments.length?this.property("__data__",G):this.node().__data__},on:function ni(G,W,ht){var wt,Rt,E=ti(G+""),Ot=E.length;if(!(arguments.length<2)){for(Yt=W?gn:Ii,wt=0;wt<Ot;++wt)this.each(Yt(E[wt],W,ht));return this}var Yt=this.node().__on;if(Yt)for(var q,re=0,qt=Yt.length;re<qt;++re)for(wt=0,q=Yt[re];wt<Ot;++wt)if((Rt=E[wt]).type===q.type&&Rt.name===q.name)return q.value},dispatch:function ii(G,W){return this.each(("function"==typeof W?en:_e)(G,W))},[Symbol.iterator]:function*di(){for(var G=this._groups,W=0,ht=G.length;W<ht;++W)for(var Rt,E=G[W],wt=0,Ot=E.length;wt<Ot;++wt)(Rt=E[wt])&&(yield Rt)}};const ln=jn},24476:(w,k,s)=>{"use strict";s.d(k,{Z:()=>f,S:()=>t});var c=s(2442);function x(p){return function(){this.style.removeProperty(p)}}function v(p,l,h){return function(){this.style.setProperty(p,l,h)}}function _(p,l,h){return function(){var m=l.apply(this,arguments);null==m?this.style.removeProperty(p):this.style.setProperty(p,m,h)}}function f(p,l,h){return arguments.length>1?this.each((null==l?x:"function"==typeof l?_:v)(p,l,null==h?"":h)):t(this.node(),p)}function t(p,l){return p.style.getPropertyValue(l)||(0,c.Z)(p).getComputedStyle(p,null).getPropertyValue(l)}},29742:(w,k,s)=>{"use strict";function c(){}function x(v){return null==v?c:function(){return this.querySelector(v)}}s.d(k,{Z:()=>x})},32037:(w,k,s)=>{"use strict";function c(){return[]}function x(v){return null==v?c:function(){return this.querySelectorAll(v)}}s.d(k,{Z:()=>x})},75819:(w,k,s)=>{"use strict";function c(x){let v;for(;v=x.sourceEvent;)x=v;return x}s.d(k,{Z:()=>c})},2442:(w,k,s)=>{"use strict";function c(x){return x.ownerDocument&&x.ownerDocument.defaultView||x.document&&x||x.defaultView}s.d(k,{Z:()=>c})},73339:(w,k,s)=>{"use strict";s.d(k,{Z:()=>x});var c=s(49194);function x(v,_,f){var t=new c.B7;return t.restart(function(p){t.stop(),v(p+_)},_=null==_?0:+_,f),t}},49194:(w,k,s)=>{"use strict";s.d(k,{zO:()=>g,B7:()=>A,HT:()=>L,R8:()=>P});var f,t,c=0,x=0,v=0,p=0,l=0,h=0,m="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(X){setTimeout(X,17)};function g(){return l||(u(C),l=m.now()+h)}function C(){l=0}function A(){this._call=this._time=this._next=null}function L(X,it,nt){var ut=new A;return ut.restart(X,it,nt),ut}function P(){g(),++c;for(var it,X=f;X;)(it=l-X._time)>=0&&X._call.call(null,it),X=X._next;--c}function O(){l=(p=m.now())+h,c=x=0;try{P()}finally{c=0,function U(){for(var X,nt,it=f,ut=1/0;it;)it._call?(ut>it._time&&(ut=it._time),X=it,it=it._next):(nt=it._next,it._next=null,it=X?X._next=nt:f=nt);t=X,z(ut)}(),l=0}}function R(){var X=m.now(),it=X-p;it>1e3&&(h-=it,p=X)}function z(X){c||(x&&(x=clearTimeout(x)),X-l>24?(X<1/0&&(x=setTimeout(O,X-m.now()-h)),v&&(v=clearInterval(v))):(v||(p=m.now(),v=setInterval(R,1e3)),c=1,u(O)))}A.prototype=L.prototype={constructor:A,restart:function(X,it,nt){if("function"!=typeof X)throw new TypeError("callback is not a function");nt=(null==nt?g():+nt)+(null==it?0:+it),!this._next&&t!==this&&(t?t._next=this:f=this,t=this),this._call=X,this._time=nt,z()},stop:function(){this._call&&(this._call=null,this._time=1/0,z())}}},60128:(w,k,s)=>{"use strict";s.r(k),s.d(k,{zoom:()=>We,zoomIdentity:()=>he,zoomTransform:()=>N});var c=s(25922),x=s(52016);function _(et){et.preventDefault(),et.stopImmediatePropagation()}function f(et){var gt=et.document.documentElement,mt=(0,x.Z)(et).on("dragstart.drag",_,!0);"onselectstart"in gt?mt.on("selectstart.drag",_,!0):(gt.__noselect=gt.style.MozUserSelect,gt.style.MozUserSelect="none")}function t(et,gt){var mt=et.document.documentElement,Et=(0,x.Z)(et).on("dragstart.drag",null);gt&&(Et.on("click.drag",_,!0),setTimeout(function(){Et.on("click.drag",null)},0)),"onselectstart"in mt?Et.on("selectstart.drag",null):(mt.style.MozUserSelect=mt.__noselect,delete mt.__noselect)}var p=Math.SQRT2;function u(et){return((et=Math.exp(et))+1/et)/2}function A(et,gt){var Pe,Le,mt=et[0],Et=et[1],zt=et[2],pe=gt[2],ye=gt[0]-mt,Xt=gt[1]-Et,le=ye*ye+Xt*Xt;if(le<1e-12)Le=Math.log(pe/zt)/p,Pe=function(Nn){return[mt+Nn*ye,Et+Nn*Xt,zt*Math.exp(p*Nn*Le)]};else{var He=Math.sqrt(le),Qn=(pe*pe-zt*zt+4*le)/(2*zt*2*He),On=(pe*pe-zt*zt-4*le)/(2*pe*2*He),Ln=Math.log(Math.sqrt(Qn*Qn+1)-Qn),Xe=Math.log(Math.sqrt(On*On+1)-On);Le=(Xe-Ln)/p,Pe=function(Nn){var qn=Nn*Le,un=u(Ln),on=zt/(2*He)*(un*function C(et){return((et=Math.exp(2*et))-1)/(et+1)}(p*qn+Ln)-function g(et){return((et=Math.exp(et))-1/et)/2}(Ln));return[mt+on*ye,Et+on*Xt,zt*un/u(p*qn+Ln)]}}return Pe.duration=1e3*Le,Pe}var L=s(29132),P=s(37853),O=s(49194),R=s(73339),U=(0,c.Z)("start","end","cancel","interrupt"),z=[];function st(et,gt,mt,Et,zt,ee){var Jt=et.__transition;if(Jt){if(mt in Jt)return}else et.__transition={};!function at(et,gt,mt){var zt,Et=et.__transition;function Jt(Xt){var le,Pe,Le,He;if(1!==mt.state)return ye();for(le in Et)if((He=Et[le]).name===mt.name){if(3===He.state)return(0,R.Z)(Jt);4===He.state?(He.state=6,He.timer.stop(),He.on.call("interrupt",et,et.__data__,He.index,He.group),delete Et[le]):+le<gt&&(He.state=6,He.timer.stop(),He.on.call("cancel",et,et.__data__,He.index,He.group),delete Et[le])}if((0,R.Z)(function(){3===mt.state&&(mt.state=4,mt.timer.restart(pe,mt.delay,mt.time),pe(Xt))}),mt.state=2,mt.on.call("start",et,et.__data__,mt.index,mt.group),2===mt.state){for(mt.state=3,zt=new Array(Le=mt.tween.length),le=0,Pe=-1;le<Le;++le)(He=mt.tween[le].value.call(et,et.__data__,mt.index,mt.group))&&(zt[++Pe]=He);zt.length=Pe+1}}function pe(Xt){for(var le=Xt<mt.duration?mt.ease.call(null,Xt/mt.duration):(mt.timer.restart(ye),mt.state=5,1),Pe=-1,Le=zt.length;++Pe<Le;)zt[Pe].call(et,le);5===mt.state&&(mt.on.call("end",et,et.__data__,mt.index,mt.group),ye())}function ye(){for(var Xt in mt.state=6,mt.timer.stop(),delete Et[gt],Et)return;delete et.__transition}Et[gt]=mt,mt.timer=(0,O.HT)(function ee(Xt){mt.state=1,mt.timer.restart(Jt,mt.delay,mt.time),mt.delay<=Xt&&Jt(Xt-mt.delay)},0,mt.time)}(et,mt,{name:gt,index:Et,group:zt,on:U,tween:z,time:ee.time,delay:ee.delay,duration:ee.duration,ease:ee.ease,timer:null,state:0})}function Y(et,gt){var mt=rt(et,gt);if(mt.state>0)throw new Error("too late; already scheduled");return mt}function K(et,gt){var mt=rt(et,gt);if(mt.state>3)throw new Error("too late; already running");return mt}function rt(et,gt){var mt=et.__transition;if(!mt||!(mt=mt[gt]))throw new Error("transition not found");return mt}function V(et,gt){var Et,zt,Jt,mt=et.__transition,ee=!0;if(mt){for(Jt in gt=null==gt?null:gt+"",mt)(Et=mt[Jt]).name===gt?(zt=Et.state>2&&Et.state<5,Et.state=6,Et.timer.stop(),Et.on.call(zt?"interrupt":"cancel",et,et.__data__,Et.index,Et.group),delete mt[Jt]):ee=!1;ee&&delete et.__transition}}var Ct=s(75349),Mt=s(36175);function Bt(et,gt){var mt,Et;return function(){var zt=K(this,et),ee=zt.tween;if(ee!==mt)for(var Jt=0,pe=(Et=mt=ee).length;Jt<pe;++Jt)if(Et[Jt].name===gt){(Et=Et.slice()).splice(Jt,1);break}zt.tween=Et}}function Ht(et,gt,mt){var Et,zt;if("function"!=typeof mt)throw new Error;return function(){var ee=K(this,et),Jt=ee.tween;if(Jt!==Et){zt=(Et=Jt).slice();for(var pe={name:gt,value:mt},ye=0,Xt=zt.length;ye<Xt;++ye)if(zt[ye].name===gt){zt[ye]=pe;break}ye===Xt&&zt.push(pe)}ee.tween=zt}}function Ut(et,gt,mt){var Et=et._id;return et.each(function(){var zt=K(this,Et);(zt.value||(zt.value={}))[gt]=mt.apply(this,arguments)}),function(zt){return rt(zt,Et).value[gt]}}var vt=s(52786),ft=s(6738),Nt=s(23534),Qt=s(23096);function me(et,gt){var mt;return("number"==typeof gt?ft.Z:gt instanceof vt.ZP?Nt.ZP:(mt=(0,vt.ZP)(gt))?(gt=mt,Nt.ZP):Qt.Z)(et,gt)}function ge(et){return function(){this.removeAttribute(et)}}function ve(et){return function(){this.removeAttributeNS(et.space,et.local)}}function Fe(et,gt,mt){var Et,ee,zt=mt+"";return function(){var Jt=this.getAttribute(et);return Jt===zt?null:Jt===Et?ee:ee=gt(Et=Jt,mt)}}function qe(et,gt,mt){var Et,ee,zt=mt+"";return function(){var Jt=this.getAttributeNS(et.space,et.local);return Jt===zt?null:Jt===Et?ee:ee=gt(Et=Jt,mt)}}function De(et,gt,mt){var Et,zt,ee;return function(){var Jt,ye,pe=mt(this);return null==pe?void this.removeAttribute(et):(Jt=this.getAttribute(et))===(ye=pe+"")?null:Jt===Et&&ye===zt?ee:(zt=ye,ee=gt(Et=Jt,pe))}}function fn(et,gt,mt){var Et,zt,ee;return function(){var Jt,ye,pe=mt(this);return null==pe?void this.removeAttributeNS(et.space,et.local):(Jt=this.getAttributeNS(et.space,et.local))===(ye=pe+"")?null:Jt===Et&&ye===zt?ee:(zt=ye,ee=gt(Et=Jt,pe))}}function Cn(et,gt){return function(mt){this.setAttribute(et,gt.call(this,mt))}}function ke(et,gt){return function(mt){this.setAttributeNS(et.space,et.local,gt.call(this,mt))}}function Zn(et,gt){var mt,Et;function zt(){var ee=gt.apply(this,arguments);return ee!==Et&&(mt=(Et=ee)&&ke(et,ee)),mt}return zt._value=gt,zt}function Wn(et,gt){var mt,Et;function zt(){var ee=gt.apply(this,arguments);return ee!==Et&&(mt=(Et=ee)&&Cn(et,ee)),mt}return zt._value=gt,zt}function Yn(et,gt){return function(){Y(this,et).delay=+gt.apply(this,arguments)}}function An(et,gt){return gt=+gt,function(){Y(this,et).delay=gt}}function En(et,gt){return function(){K(this,et).duration=+gt.apply(this,arguments)}}function Pn(et,gt){return gt=+gt,function(){K(this,et).duration=gt}}function mi(et,gt){if("function"!=typeof gt)throw new Error;return function(){K(this,et).ease=gt}}var ei=s(97905);function yt(et,gt,mt){var Et,zt,ee=function Jn(et){return(et+"").trim().split(/^|\s+/).every(function(gt){var mt=gt.indexOf(".");return mt>=0&&(gt=gt.slice(0,mt)),!gt||"start"===gt})}(gt)?Y:K;return function(){var Jt=ee(this,et),pe=Jt.on;pe!==Et&&(zt=(Et=pe).copy()).on(gt,mt),Jt.on=zt}}var xe=s(29742),Re=s(32037),Bn=P.ZP.prototype.constructor,ti=s(24476);function gn(et){return function(){this.style.removeProperty(et)}}function en(et,gt,mt){return function(Et){this.style.setProperty(et,gt.call(this,Et),mt)}}function ii(et,gt,mt){var Et,zt;function ee(){var Jt=gt.apply(this,arguments);return Jt!==zt&&(Et=(zt=Jt)&&en(et,Jt,mt)),Et}return ee._value=gt,ee}function pn(et){return function(gt){this.textContent=et.call(this,gt)}}function ln(et){var gt,mt;function Et(){var zt=et.apply(this,arguments);return zt!==mt&&(gt=(mt=zt)&&pn(zt)),gt}return Et._value=et,Et}var E=0;function wt(et,gt,mt,Et){this._groups=et,this._parents=gt,this._name=mt,this._id=Et}function Rt(){return++E}var Yt=P.ZP.prototype;wt.prototype=function Ot(et){return(0,P.ZP)().transition(et)}.prototype={constructor:wt,select:function Ue(et){var gt=this._name,mt=this._id;"function"!=typeof et&&(et=(0,xe.Z)(et));for(var Et=this._groups,zt=Et.length,ee=new Array(zt),Jt=0;Jt<zt;++Jt)for(var le,Pe,pe=Et[Jt],ye=pe.length,Xt=ee[Jt]=new Array(ye),Le=0;Le<ye;++Le)(le=pe[Le])&&(Pe=et.call(le,le.__data__,Le,pe))&&("__data__"in le&&(Pe.__data__=le.__data__),Xt[Le]=Pe,st(Xt[Le],gt,mt,Le,Xt,rt(le,mt)));return new wt(ee,this._parents,gt,mt)},selectAll:function an(et){var gt=this._name,mt=this._id;"function"!=typeof et&&(et=(0,Re.Z)(et));for(var Et=this._groups,zt=Et.length,ee=[],Jt=[],pe=0;pe<zt;++pe)for(var le,ye=Et[pe],Xt=ye.length,Pe=0;Pe<Xt;++Pe)if(le=ye[Pe]){for(var He,Le=et.call(le,le.__data__,Pe,ye),Qn=rt(le,mt),On=0,Ln=Le.length;On<Ln;++On)(He=Le[On])&&st(He,gt,mt,On,Le,Qn);ee.push(Le),Jt.push(le)}return new wt(ee,Jt,gt,mt)},filter:function Oe(et){"function"!=typeof et&&(et=(0,ei.Z)(et));for(var gt=this._groups,mt=gt.length,Et=new Array(mt),zt=0;zt<mt;++zt)for(var ye,ee=gt[zt],Jt=ee.length,pe=Et[zt]=[],Xt=0;Xt<Jt;++Xt)(ye=ee[Xt])&&et.call(ye,ye.__data__,Xt,ee)&&pe.push(ye);return new wt(Et,this._parents,this._name,this._id)},merge:function $n(et){if(et._id!==this._id)throw new Error;for(var gt=this._groups,mt=et._groups,Et=gt.length,ee=Math.min(Et,mt.length),Jt=new Array(Et),pe=0;pe<ee;++pe)for(var Le,ye=gt[pe],Xt=mt[pe],le=ye.length,Pe=Jt[pe]=new Array(le),He=0;He<le;++He)(Le=ye[He]||Xt[He])&&(Pe[He]=Le);for(;pe<Et;++pe)Jt[pe]=gt[pe];return new wt(Jt,this._parents,this._name,this._id)},selection:function Dn(){return new Bn(this._groups,this._parents)},transition:function W(){for(var et=this._name,gt=this._id,mt=Rt(),Et=this._groups,zt=Et.length,ee=0;ee<zt;++ee)for(var ye,Jt=Et[ee],pe=Jt.length,Xt=0;Xt<pe;++Xt)if(ye=Jt[Xt]){var le=rt(ye,gt);st(ye,et,mt,Xt,Jt,{time:le.time+le.delay+le.duration,delay:0,duration:le.duration,ease:le.ease})}return new wt(Et,this._parents,et,mt)},call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:function Gt(et,gt){var mt=this._id;return arguments.length<2?rt(this.node(),mt).on.on(et):this.each(yt(mt,et,gt))},attr:function Be(et,gt){var mt=(0,Mt.Z)(et),Et="transform"===mt?Ct.w:me;return this.attrTween(et,"function"==typeof gt?(mt.local?fn:De)(mt,Et,Ut(this,"attr."+et,gt)):null==gt?(mt.local?ve:ge)(mt):(mt.local?qe:Fe)(mt,Et,gt))},attrTween:function ai(et,gt){var mt="attr."+et;if(arguments.length<2)return(mt=this.tween(mt))&&mt._value;if(null==gt)return this.tween(mt,null);if("function"!=typeof gt)throw new Error;var Et=(0,Mt.Z)(et);return this.tween(mt,(Et.local?Zn:Wn)(Et,gt))},style:function _e(et,gt,mt){var Et="transform"==(et+="")?Ct.Y:me;return null==gt?this.styleTween(et,function Ii(et,gt){var mt,Et,zt;return function(){var ee=(0,ti.S)(this,et),Jt=(this.style.removeProperty(et),(0,ti.S)(this,et));return ee===Jt?null:ee===mt&&Jt===Et?zt:zt=gt(mt=ee,Et=Jt)}}(et,Et)).on("end.style."+et,gn(et)):"function"==typeof gt?this.styleTween(et,function Ai(et,gt,mt){var Et,zt,ee;return function(){var Jt=(0,ti.S)(this,et),pe=mt(this),ye=pe+"";return null==pe&&(this.style.removeProperty(et),ye=pe=(0,ti.S)(this,et)),Jt===ye?null:Jt===Et&&ye===zt?ee:(zt=ye,ee=gt(Et=Jt,pe))}}(et,Et,Ut(this,"style."+et,gt))).each(function In(et,gt){var mt,Et,zt,pe,ee="style."+gt,Jt="end."+ee;return function(){var ye=K(this,et),Xt=ye.on,le=null==ye.value[ee]?pe||(pe=gn(gt)):void 0;(Xt!==mt||zt!==le)&&(Et=(mt=Xt).copy()).on(Jt,zt=le),ye.on=Et}}(this._id,et)):this.styleTween(et,function ni(et,gt,mt){var Et,ee,zt=mt+"";return function(){var Jt=(0,ti.S)(this,et);return Jt===zt?null:Jt===Et?ee:ee=gt(Et=Jt,mt)}}(et,Et,gt),mt).on("end.style."+et,null)},styleTween:function di(et,gt,mt){var Et="style."+(et+="");if(arguments.length<2)return(Et=this.tween(Et))&&Et._value;if(null==gt)return this.tween(Et,null);if("function"!=typeof gt)throw new Error;return this.tween(Et,ii(et,gt,null==mt?"":mt))},text:function jn(et){return this.tween("text","function"==typeof et?function we(et){return function(){var gt=et(this);this.textContent=null==gt?"":gt}}(Ut(this,"text",et)):function Mn(et){return function(){this.textContent=et}}(null==et?"":et+""))},textTween:function G(et){var gt="text";if(arguments.length<1)return(gt=this.tween(gt))&&gt._value;if(null==et)return this.tween(gt,null);if("function"!=typeof et)throw new Error;return this.tween(gt,ln(et))},remove:function de(){return this.on("end.remove",function se(et){return function(){var gt=this.parentNode;for(var mt in this.__transition)if(+mt!==et)return;gt&&gt.removeChild(this)}}(this._id))},tween:function ie(et,gt){var mt=this._id;if(et+="",arguments.length<2){for(var Jt,Et=rt(this.node(),mt).tween,zt=0,ee=Et.length;zt<ee;++zt)if((Jt=Et[zt]).name===et)return Jt.value;return null}return this.each((null==gt?Bt:Ht)(mt,et,gt))},delay:function Ke(et){var gt=this._id;return arguments.length?this.each(("function"==typeof et?Yn:An)(gt,et)):rt(this.node(),gt).delay},duration:function Ve(et){var gt=this._id;return arguments.length?this.each(("function"==typeof et?En:Pn)(gt,et)):rt(this.node(),gt).duration},ease:function Hn(et){var gt=this._id;return arguments.length?this.each(mi(gt,et)):rt(this.node(),gt).ease},easeVarying:function Xn(et){if("function"!=typeof et)throw new Error;return this.each(function yn(et,gt){return function(){var mt=gt.apply(this,arguments);if("function"!=typeof mt)throw new Error;K(this,et).ease=mt}}(this._id,et))},end:function ht(){var et,gt,mt=this,Et=mt._id,zt=mt.size();return new Promise(function(ee,Jt){var pe={value:Jt},ye={value:function(){0==--zt&&ee()}};mt.each(function(){var Xt=K(this,Et),le=Xt.on;le!==et&&((gt=(et=le).copy())._.cancel.push(pe),gt._.interrupt.push(pe),gt._.end.push(ye)),Xt.on=gt}),0===zt&&ee()})},[Symbol.iterator]:Yt[Symbol.iterator]};var qt={time:null,delay:0,duration:250,ease:s(27065).tw};function q(et,gt){for(var mt;!(mt=et.__transition)||!(mt=mt[gt]);)if(!(et=et.parentNode))throw new Error(`transition ${gt} not found`);return mt}P.ZP.prototype.interrupt=function M(et){return this.each(function(){V(this,et)})},P.ZP.prototype.transition=function pt(et){var gt,mt;et instanceof wt?(gt=et._id,et=et._name):(gt=Rt(),(mt=qt).time=(0,O.zO)(),et=null==et?null:et+"");for(var Et=this._groups,zt=Et.length,ee=0;ee<zt;++ee)for(var ye,Jt=Et[ee],pe=Jt.length,Xt=0;Xt<pe;++Xt)(ye=Jt[Xt])&&st(ye,et,gt,Xt,Jt,mt||q(ye,gt));return new wt(Et,this._parents,et,gt)};const Wt=et=>()=>et;function te(et,{sourceEvent:gt,target:mt,transform:Et,dispatch:zt}){Object.defineProperties(this,{type:{value:et,enumerable:!0,configurable:!0},sourceEvent:{value:gt,enumerable:!0,configurable:!0},target:{value:mt,enumerable:!0,configurable:!0},transform:{value:Et,enumerable:!0,configurable:!0},_:{value:zt}})}function Dt(et,gt,mt){this.k=et,this.x=gt,this.y=mt}Dt.prototype={constructor:Dt,scale:function(et){return 1===et?this:new Dt(this.k*et,this.x,this.y)},translate:function(et,gt){return 0===et&0===gt?this:new Dt(this.k,this.x+this.k*et,this.y+this.k*gt)},apply:function(et){return[et[0]*this.k+this.x,et[1]*this.k+this.y]},applyX:function(et){return et*this.k+this.x},applyY:function(et){return et*this.k+this.y},invert:function(et){return[(et[0]-this.x)/this.k,(et[1]-this.y)/this.k]},invertX:function(et){return(et-this.x)/this.k},invertY:function(et){return(et-this.y)/this.k},rescaleX:function(et){return et.copy().domain(et.range().map(this.invertX,this).map(et.invert,et))},rescaleY:function(et){return et.copy().domain(et.range().map(this.invertY,this).map(et.invert,et))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var he=new Dt(1,0,0);function N(et){for(;!et.__zoom;)if(!(et=et.parentNode))return he;return et.__zoom}function oe(et){et.stopImmediatePropagation()}function Ie(et){et.preventDefault(),et.stopImmediatePropagation()}function Me(et){return!(et.ctrlKey&&"wheel"!==et.type||et.button)}function sn(){var et=this;return et instanceof SVGElement?(et=et.ownerSVGElement||et).hasAttribute("viewBox")?[[(et=et.viewBox.baseVal).x,et.y],[et.x+et.width,et.y+et.height]]:[[0,0],[et.width.baseVal.value,et.height.baseVal.value]]:[[0,0],[et.clientWidth,et.clientHeight]]}function ze(){return this.__zoom||he}function Qe(et){return-et.deltaY*(1===et.deltaMode?.05:et.deltaMode?1:.002)*(et.ctrlKey?10:1)}function fe(){return navigator.maxTouchPoints||"ontouchstart"in this}function be(et,gt,mt){var Et=et.invertX(gt[0][0])-mt[0][0],zt=et.invertX(gt[1][0])-mt[1][0],ee=et.invertY(gt[0][1])-mt[0][1],Jt=et.invertY(gt[1][1])-mt[1][1];return et.translate(zt>Et?(Et+zt)/2:Math.min(0,Et)||Math.max(0,zt),Jt>ee?(ee+Jt)/2:Math.min(0,ee)||Math.max(0,Jt))}function We(){var le,Pe,Le,et=Me,gt=sn,mt=be,Et=Qe,zt=fe,ee=[0,1/0],Jt=[[-1/0,-1/0],[1/0,1/0]],pe=250,ye=A,Xt=(0,c.Z)("start","zoom","end"),On=0,Ln=10;function Xe(Pt){Pt.property("__zoom",ze).on("wheel.zoom",fi).on("mousedown.zoom",zi).on("dblclick.zoom",Kn).filter(zt).on("touchstart.zoom",Si).on("touchmove.zoom",_n).on("touchend.zoom touchcancel.zoom",Yi).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Nn(Pt,Ce){return(Ce=Math.max(ee[0],Math.min(ee[1],Ce)))===Pt.k?Pt:new Dt(Ce,Pt.x,Pt.y)}function qn(Pt,Ce,jt){var T=Ce[0]-jt[0]*Pt.k,I=Ce[1]-jt[1]*Pt.k;return T===Pt.x&&I===Pt.y?Pt:new Dt(Pt.k,T,I)}function un(Pt){return[(+Pt[0][0]+ +Pt[1][0])/2,(+Pt[0][1]+ +Pt[1][1])/2]}function on(Pt,Ce,jt,T){Pt.on("start.zoom",function(){Un(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){Un(this,arguments).event(T).end()}).tween("zoom",function(){var I=this,B=arguments,j=Un(I,B).event(T),ct=gt.apply(I,B),xt=null==jt?un(ct):"function"==typeof jt?jt.apply(I,B):jt,kt=Math.max(ct[1][0]-ct[0][0],ct[1][1]-ct[0][1]),Ft=I.__zoom,ae="function"==typeof Ce?Ce.apply(I,B):Ce,Ee=ye(Ft.invert(xt).concat(kt/Ft.k),ae.invert(xt).concat(kt/ae.k));return function(Ge){if(1===Ge)Ge=ae;else{var tn=Ee(Ge),Ne=kt/tn[2];Ge=new Dt(Ne,xt[0]-tn[0]*Ne,xt[1]-tn[1]*Ne)}j.zoom(null,Ge)}})}function Un(Pt,Ce,jt){return!jt&&Pt.__zooming||new Vi(Pt,Ce)}function Vi(Pt,Ce){this.that=Pt,this.args=Ce,this.active=0,this.sourceEvent=null,this.extent=gt.apply(Pt,Ce),this.taps=0}function fi(Pt,...Ce){if(et.apply(this,arguments)){var jt=Un(this,Ce).event(Pt),T=this.__zoom,I=Math.max(ee[0],Math.min(ee[1],T.k*Math.pow(2,Et.apply(this,arguments)))),B=(0,L.Z)(Pt);if(jt.wheel)(jt.mouse[0][0]!==B[0]||jt.mouse[0][1]!==B[1])&&(jt.mouse[1]=T.invert(jt.mouse[0]=B)),clearTimeout(jt.wheel);else{if(T.k===I)return;jt.mouse=[B,T.invert(B)],V(this),jt.start()}Ie(Pt),jt.wheel=setTimeout(j,150),jt.zoom("mouse",mt(qn(Nn(T,I),jt.mouse[0],jt.mouse[1]),jt.extent,Jt))}function j(){jt.wheel=null,jt.end()}}function zi(Pt,...Ce){if(!Le&&et.apply(this,arguments)){var jt=Un(this,Ce,!0).event(Pt),T=(0,x.Z)(Pt.view).on("mousemove.zoom",xt,!0).on("mouseup.zoom",kt,!0),I=(0,L.Z)(Pt,B),B=Pt.currentTarget,j=Pt.clientX,ct=Pt.clientY;f(Pt.view),oe(Pt),jt.mouse=[I,this.__zoom.invert(I)],V(this),jt.start()}function xt(Ft){if(Ie(Ft),!jt.moved){var ae=Ft.clientX-j,Ee=Ft.clientY-ct;jt.moved=ae*ae+Ee*Ee>On}jt.event(Ft).zoom("mouse",mt(qn(jt.that.__zoom,jt.mouse[0]=(0,L.Z)(Ft,B),jt.mouse[1]),jt.extent,Jt))}function kt(Ft){T.on("mousemove.zoom mouseup.zoom",null),t(Ft.view,jt.moved),Ie(Ft),jt.event(Ft).end()}}function Kn(Pt,...Ce){if(et.apply(this,arguments)){var jt=this.__zoom,T=(0,L.Z)(Pt.changedTouches?Pt.changedTouches[0]:Pt,this),I=jt.invert(T),B=jt.k*(Pt.shiftKey?.5:2),j=mt(qn(Nn(jt,B),T,I),gt.apply(this,Ce),Jt);Ie(Pt),pe>0?(0,x.Z)(this).transition().duration(pe).call(on,j,T,Pt):(0,x.Z)(this).call(Xe.transform,j,T,Pt)}}function Si(Pt,...Ce){if(et.apply(this,arguments)){var B,j,ct,xt,jt=Pt.touches,T=jt.length,I=Un(this,Ce,Pt.changedTouches.length===T).event(Pt);for(oe(Pt),j=0;j<T;++j)xt=[xt=(0,L.Z)(ct=jt[j],this),this.__zoom.invert(xt),ct.identifier],I.touch0?!I.touch1&&I.touch0[2]!==xt[2]&&(I.touch1=xt,I.taps=0):(I.touch0=xt,B=!0,I.taps=1+!!le);le&&(le=clearTimeout(le)),B&&(I.taps<2&&(Pe=xt[0],le=setTimeout(function(){le=null},500)),V(this),I.start())}}function _n(Pt,...Ce){if(this.__zooming){var B,j,ct,xt,jt=Un(this,Ce).event(Pt),T=Pt.changedTouches,I=T.length;for(Ie(Pt),B=0;B<I;++B)ct=(0,L.Z)(j=T[B],this),jt.touch0&&jt.touch0[2]===j.identifier?jt.touch0[0]=ct:jt.touch1&&jt.touch1[2]===j.identifier&&(jt.touch1[0]=ct);if(j=jt.that.__zoom,jt.touch1){var kt=jt.touch0[0],Ft=jt.touch0[1],ae=jt.touch1[0],Ee=jt.touch1[1],Ge=(Ge=ae[0]-kt[0])*Ge+(Ge=ae[1]-kt[1])*Ge,tn=(tn=Ee[0]-Ft[0])*tn+(tn=Ee[1]-Ft[1])*tn;j=Nn(j,Math.sqrt(Ge/tn)),ct=[(kt[0]+ae[0])/2,(kt[1]+ae[1])/2],xt=[(Ft[0]+Ee[0])/2,(Ft[1]+Ee[1])/2]}else{if(!jt.touch0)return;ct=jt.touch0[0],xt=jt.touch0[1]}jt.zoom("touch",mt(qn(j,ct,xt),jt.extent,Jt))}}function Yi(Pt,...Ce){if(this.__zooming){var B,j,jt=Un(this,Ce).event(Pt),T=Pt.changedTouches,I=T.length;for(oe(Pt),Le&&clearTimeout(Le),Le=setTimeout(function(){Le=null},500),B=0;B<I;++B)j=T[B],jt.touch0&&jt.touch0[2]===j.identifier?delete jt.touch0:jt.touch1&&jt.touch1[2]===j.identifier&&delete jt.touch1;if(jt.touch1&&!jt.touch0&&(jt.touch0=jt.touch1,delete jt.touch1),jt.touch0)jt.touch0[1]=this.__zoom.invert(jt.touch0[0]);else if(jt.end(),2===jt.taps&&(j=(0,L.Z)(j,this),Math.hypot(Pe[0]-j[0],Pe[1]-j[1])<Ln)){var ct=(0,x.Z)(this).on("dblclick.zoom");ct&&ct.apply(this,arguments)}}}return Xe.transform=function(Pt,Ce,jt,T){var I=Pt.selection?Pt.selection():Pt;I.property("__zoom",ze),Pt!==I?on(Pt,Ce,jt,T):I.interrupt().each(function(){Un(this,arguments).event(T).start().zoom(null,"function"==typeof Ce?Ce.apply(this,arguments):Ce).end()})},Xe.scaleBy=function(Pt,Ce,jt,T){Xe.scaleTo(Pt,function(){var I=this.__zoom.k,B="function"==typeof Ce?Ce.apply(this,arguments):Ce;return I*B},jt,T)},Xe.scaleTo=function(Pt,Ce,jt,T){Xe.transform(Pt,function(){var I=gt.apply(this,arguments),B=this.__zoom,j=null==jt?un(I):"function"==typeof jt?jt.apply(this,arguments):jt,ct=B.invert(j),xt="function"==typeof Ce?Ce.apply(this,arguments):Ce;return mt(qn(Nn(B,xt),j,ct),I,Jt)},jt,T)},Xe.translateBy=function(Pt,Ce,jt,T){Xe.transform(Pt,function(){return mt(this.__zoom.translate("function"==typeof Ce?Ce.apply(this,arguments):Ce,"function"==typeof jt?jt.apply(this,arguments):jt),gt.apply(this,arguments),Jt)},null,T)},Xe.translateTo=function(Pt,Ce,jt,T,I){Xe.transform(Pt,function(){var B=gt.apply(this,arguments),j=this.__zoom,ct=null==T?un(B):"function"==typeof T?T.apply(this,arguments):T;return mt(he.translate(ct[0],ct[1]).scale(j.k).translate("function"==typeof Ce?-Ce.apply(this,arguments):-Ce,"function"==typeof jt?-jt.apply(this,arguments):-jt),B,Jt)},T,I)},Vi.prototype={event:function(Pt){return Pt&&(this.sourceEvent=Pt),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Pt,Ce){return this.mouse&&"mouse"!==Pt&&(this.mouse[1]=Ce.invert(this.mouse[0])),this.touch0&&"touch"!==Pt&&(this.touch0[1]=Ce.invert(this.touch0[0])),this.touch1&&"touch"!==Pt&&(this.touch1[1]=Ce.invert(this.touch1[0])),this.that.__zoom=Ce,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Pt){var Ce=(0,x.Z)(this.that).datum();Xt.call(Pt,this.that,new te(Pt,{sourceEvent:this.sourceEvent,target:Xe,type:Pt,transform:this.that.__zoom,dispatch:Xt}),Ce)}},Xe.wheelDelta=function(Pt){return arguments.length?(Et="function"==typeof Pt?Pt:Wt(+Pt),Xe):Et},Xe.filter=function(Pt){return arguments.length?(et="function"==typeof Pt?Pt:Wt(!!Pt),Xe):et},Xe.touchable=function(Pt){return arguments.length?(zt="function"==typeof Pt?Pt:Wt(!!Pt),Xe):zt},Xe.extent=function(Pt){return arguments.length?(gt="function"==typeof Pt?Pt:Wt([[+Pt[0][0],+Pt[0][1]],[+Pt[1][0],+Pt[1][1]]]),Xe):gt},Xe.scaleExtent=function(Pt){return arguments.length?(ee[0]=+Pt[0],ee[1]=+Pt[1],Xe):[ee[0],ee[1]]},Xe.translateExtent=function(Pt){return arguments.length?(Jt[0][0]=+Pt[0][0],Jt[1][0]=+Pt[1][0],Jt[0][1]=+Pt[0][1],Jt[1][1]=+Pt[1][1],Xe):[[Jt[0][0],Jt[0][1]],[Jt[1][0],Jt[1][1]]]},Xe.constrain=function(Pt){return arguments.length?(mt=Pt,Xe):mt},Xe.duration=function(Pt){return arguments.length?(pe=+Pt,Xe):pe},Xe.interpolate=function(Pt){return arguments.length?(ye=Pt,Xe):ye},Xe.on=function(){var Pt=Xt.on.apply(Xt,arguments);return Pt===Xt?Xe:Pt},Xe.clickDistance=function(Pt){return arguments.length?(On=(Pt=+Pt)*Pt,Xe):Math.sqrt(On)},Xe.tapDistance=function(Pt){return arguments.length?(Ln=+Pt,Xe):Ln},Xe}N.prototype=Dt.prototype},59695:(w,k,s)=>{w.exports={graphlib:s(36456),layout:s(14850),debug:s(71914),util:{time:s(11510).time,notime:s(11510).notime},version:s(28126)}},12234:(w,k,s)=>{"use strict";var c=s(45760),x=s(67365);w.exports={run:function v(t){var p="greedy"===t.graph().acyclicer?x(t,function l(h){return function(m){return h.edge(m).weight}}(t)):function _(t){var p=[],l={},h={};return c.forEach(t.nodes(),function m(u){c.has(h,u)||(h[u]=!0,l[u]=!0,c.forEach(t.outEdges(u),function(g){c.has(l,g.w)?p.push(g):m(g.w)}),delete l[u])}),p}(t);c.forEach(p,function(h){var m=t.edge(h);t.removeEdge(h),m.forwardName=h.name,m.reversed=!0,t.setEdge(h.w,h.v,m,c.uniqueId("rev"))})},undo:function f(t){c.forEach(t.edges(),function(p){var l=t.edge(p);if(l.reversed){t.removeEdge(p);var h=l.forwardName;delete l.reversed,delete l.forwardName,t.setEdge(p.w,p.v,l,h)}})}}},79999:(w,k,s)=>{var c=s(45760),x=s(11510);function _(f,t,p,l,h,m){var g=h[t][m-1],C=x.addDummyNode(f,"border",{width:0,height:0,rank:m,borderType:t},p);h[t][m]=C,f.setParent(C,l),g&&f.setEdge(g,C,{weight:1})}w.exports=function v(f){c.forEach(f.children(),function t(p){var l=f.children(p),h=f.node(p);if(l.length&&c.forEach(l,t),c.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var m=h.minRank,u=h.maxRank+1;m<u;++m)_(f,"borderLeft","_bl",p,h,m),_(f,"borderRight","_br",p,h,m)}})}},83870:(w,k,s)=>{"use strict";var c=s(45760);function _(m){c.forEach(m.nodes(),function(u){f(m.node(u))}),c.forEach(m.edges(),function(u){f(m.edge(u))})}function f(m){var u=m.width;m.width=m.height,m.height=u}function p(m){m.y=-m.y}function h(m){var u=m.x;m.x=m.y,m.y=u}w.exports={adjust:function x(m){var u=m.graph().rankdir.toLowerCase();("lr"===u||"rl"===u)&&_(m)},undo:function v(m){var u=m.graph().rankdir.toLowerCase();("bt"===u||"rl"===u)&&function t(m){c.forEach(m.nodes(),function(u){p(m.node(u))}),c.forEach(m.edges(),function(u){var g=m.edge(u);c.forEach(g.points,p),c.has(g,"y")&&p(g)})}(m),("lr"===u||"rl"===u)&&(function l(m){c.forEach(m.nodes(),function(u){h(m.node(u))}),c.forEach(m.edges(),function(u){var g=m.edge(u);c.forEach(g.points,h),c.has(g,"x")&&h(g)})}(m),_(m))}}},3226:w=>{function k(){var x={};x._next=x._prev=x,this._sentinel=x}function s(x){x._prev._next=x._next,x._next._prev=x._prev,delete x._next,delete x._prev}function c(x,v){if("_next"!==x&&"_prev"!==x)return v}w.exports=k,k.prototype.dequeue=function(){var x=this._sentinel,v=x._prev;if(v!==x)return s(v),v},k.prototype.enqueue=function(x){var v=this._sentinel;x._prev&&x._next&&s(x),x._next=v._next,v._next._prev=x,v._next=x,x._prev=v},k.prototype.toString=function(){for(var x=[],v=this._sentinel,_=v._prev;_!==v;)x.push(JSON.stringify(_,c)),_=_._prev;return"["+x.join(", ")+"]"}},71914:(w,k,s)=>{var c=s(45760),x=s(11510),v=s(36456).Graph;w.exports={debugOrdering:function _(f){var t=x.buildLayerMatrix(f),p=new v({compound:!0,multigraph:!0}).setGraph({});return c.forEach(f.nodes(),function(l){p.setNode(l,{label:l}),p.setParent(l,"layer"+f.node(l).rank)}),c.forEach(f.edges(),function(l){p.setEdge(l.v,l.w,{},l.name)}),c.forEach(t,function(l,h){p.setNode("layer"+h,{rank:"same"}),c.reduce(l,function(u,g){return p.setEdge(u,g,{style:"invis"}),g})}),p}}},36456:(w,k,s)=>{var c;try{c=s(85510)}catch(x){}c||(c=window.graphlib),w.exports=c},67365:(w,k,s)=>{var c=s(45760),x=s(36456).Graph,v=s(3226);w.exports=function f(m,u){if(m.nodeCount()<=1)return[];var g=function l(m,u){var g=new x,C=0,A=0;c.forEach(m.nodes(),function(O){g.setNode(O,{v:O,in:0,out:0})}),c.forEach(m.edges(),function(O){var R=g.edge(O.v,O.w)||0,U=u(O);g.setEdge(O.v,O.w,R+U),A=Math.max(A,g.node(O.v).out+=U),C=Math.max(C,g.node(O.w).in+=U)});var L=c.range(A+C+3).map(function(){return new v}),P=C+1;return c.forEach(g.nodes(),function(O){h(L,P,g.node(O))}),{graph:g,buckets:L,zeroIdx:P}}(m,u||_),C=function t(m,u,g){for(var P,C=[],A=u[u.length-1],L=u[0];m.nodeCount();){for(;P=L.dequeue();)p(m,u,g,P);for(;P=A.dequeue();)p(m,u,g,P);if(m.nodeCount())for(var O=u.length-2;O>0;--O)if(P=u[O].dequeue()){C=C.concat(p(m,u,g,P,!0));break}}return C}(g.graph,g.buckets,g.zeroIdx);return c.flatten(c.map(C,function(A){return m.outEdges(A.v,A.w)}),!0)};var _=c.constant(1);function p(m,u,g,C,A){var L=A?[]:void 0;return c.forEach(m.inEdges(C.v),function(P){var O=m.edge(P),R=m.node(P.v);A&&L.push({v:P.v,w:P.w}),R.out-=O,h(u,g,R)}),c.forEach(m.outEdges(C.v),function(P){var O=m.edge(P),U=m.node(P.w);U.in-=O,h(u,g,U)}),m.removeNode(C.v),L}function h(m,u,g){g.out?g.in?m[g.out-g.in+u].enqueue(g):m[m.length-1].enqueue(g):m[0].enqueue(g)}},14850:(w,k,s)=>{"use strict";var c=s(45760),x=s(12234),v=s(91496),_=s(94124),f=s(11510).normalizeRanks,t=s(60162),p=s(11510).removeEmptyRanks,l=s(1230),h=s(79999),m=s(83870),u=s(32974),g=s(78226),C=s(11510),A=s(36456).Graph;w.exports=function L(vt,ft){var Nt=ft&&ft.debugTiming?C.time:C.notime;Nt("layout",function(){var Qt=Nt("  buildLayoutGraph",function(){return function tt(vt){var ft=new A({multigraph:!0,compound:!0}),Nt=Ut(vt.graph());return ft.setGraph(c.merge({},U,ie(Nt,R),c.pick(Nt,z))),c.forEach(vt.nodes(),function(Qt){var me=Ut(vt.node(Qt));ft.setNode(Qt,c.defaults(ie(me,X),it)),ft.setParent(Qt,vt.parent(Qt))}),c.forEach(vt.edges(),function(Qt){var me=Ut(vt.edge(Qt));ft.setEdge(Qt,c.merge({},ut,ie(me,nt),c.pick(me,J)))}),ft}(vt)});Nt("  runLayout",function(){!function P(vt,ft){ft("    makeSpaceForEdgeLabels",function(){!function $(vt){var ft=vt.graph();ft.ranksep/=2,c.forEach(vt.edges(),function(Nt){var Qt=vt.edge(Nt);Qt.minlen*=2,"c"!==Qt.labelpos.toLowerCase()&&("TB"===ft.rankdir||"BT"===ft.rankdir?Qt.width+=Qt.labeloffset:Qt.height+=Qt.labeloffset)})}(vt)}),ft("    removeSelfEdges",function(){!function Mt(vt){c.forEach(vt.edges(),function(ft){if(ft.v===ft.w){var Nt=vt.node(ft.v);Nt.selfEdges||(Nt.selfEdges=[]),Nt.selfEdges.push({e:ft,label:vt.edge(ft)}),vt.removeEdge(ft)}})}(vt)}),ft("    acyclic",function(){x.run(vt)}),ft("    nestingGraph.run",function(){l.run(vt)}),ft("    rank",function(){_(C.asNonCompoundGraph(vt))}),ft("    injectEdgeLabelProxies",function(){!function st(vt){c.forEach(vt.edges(),function(ft){var Nt=vt.edge(ft);if(Nt.width&&Nt.height){var Qt=vt.node(ft.v),me=vt.node(ft.w);C.addDummyNode(vt,"edge-proxy",{rank:(me.rank-Qt.rank)/2+Qt.rank,e:ft},"_ep")}})}(vt)}),ft("    removeEmptyRanks",function(){p(vt)}),ft("    nestingGraph.cleanup",function(){l.cleanup(vt)}),ft("    normalizeRanks",function(){f(vt)}),ft("    assignRankMinMax",function(){!function Y(vt){var ft=0;c.forEach(vt.nodes(),function(Nt){var Qt=vt.node(Nt);Qt.borderTop&&(Qt.minRank=vt.node(Qt.borderTop).rank,Qt.maxRank=vt.node(Qt.borderBottom).rank,ft=c.max(ft,Qt.maxRank))}),vt.graph().maxRank=ft}(vt)}),ft("    removeEdgeLabelProxies",function(){!function K(vt){c.forEach(vt.nodes(),function(ft){var Nt=vt.node(ft);"edge-proxy"===Nt.dummy&&(vt.edge(Nt.e).labelRank=Nt.rank,vt.removeNode(ft))})}(vt)}),ft("    normalize.run",function(){v.run(vt)}),ft("    parentDummyChains",function(){t(vt)}),ft("    addBorderSegments",function(){h(vt)}),ft("    order",function(){u(vt)}),ft("    insertSelfEdges",function(){!function Bt(vt){var ft=C.buildLayerMatrix(vt);c.forEach(ft,function(Nt){var Qt=0;c.forEach(Nt,function(me,ge){var ve=vt.node(me);ve.order=ge+Qt,c.forEach(ve.selfEdges,function(Fe){C.addDummyNode(vt,"selfedge",{width:Fe.label.width,height:Fe.label.height,rank:ve.rank,order:ge+ ++Qt,e:Fe.e,label:Fe.label},"_se")}),delete ve.selfEdges})})}(vt)}),ft("    adjustCoordinateSystem",function(){m.adjust(vt)}),ft("    position",function(){g(vt)}),ft("    positionSelfEdges",function(){!function Ht(vt){c.forEach(vt.nodes(),function(ft){var Nt=vt.node(ft);if("selfedge"===Nt.dummy){var Qt=vt.node(Nt.e.v),me=Qt.x+Qt.width/2,ge=Qt.y,ve=Nt.x-me,Fe=Qt.height/2;vt.setEdge(Nt.e,Nt.label),vt.removeNode(ft),Nt.label.points=[{x:me+2*ve/3,y:ge-Fe},{x:me+5*ve/6,y:ge-Fe},{x:me+ve,y:ge},{x:me+5*ve/6,y:ge+Fe},{x:me+2*ve/3,y:ge+Fe}],Nt.label.x=Nt.x,Nt.label.y=Nt.y}})}(vt)}),ft("    removeBorderNodes",function(){!function Ct(vt){c.forEach(vt.nodes(),function(ft){if(vt.children(ft).length){var Nt=vt.node(ft),Qt=vt.node(Nt.borderTop),me=vt.node(Nt.borderBottom),ge=vt.node(c.last(Nt.borderLeft)),ve=vt.node(c.last(Nt.borderRight));Nt.width=Math.abs(ve.x-ge.x),Nt.height=Math.abs(me.y-Qt.y),Nt.x=ge.x+Nt.width/2,Nt.y=Qt.y+Nt.height/2}}),c.forEach(vt.nodes(),function(ft){"border"===vt.node(ft).dummy&&vt.removeNode(ft)})}(vt)}),ft("    normalize.undo",function(){v.undo(vt)}),ft("    fixupEdgeLabelCoords",function(){!function V(vt){c.forEach(vt.edges(),function(ft){var Nt=vt.edge(ft);if(c.has(Nt,"x"))switch(("l"===Nt.labelpos||"r"===Nt.labelpos)&&(Nt.width-=Nt.labeloffset),Nt.labelpos){case"l":Nt.x-=Nt.width/2+Nt.labeloffset;break;case"r":Nt.x+=Nt.width/2+Nt.labeloffset}})}(vt)}),ft("    undoCoordinateSystem",function(){m.undo(vt)}),ft("    translateGraph",function(){!function rt(vt){var ft=Number.POSITIVE_INFINITY,Nt=0,Qt=Number.POSITIVE_INFINITY,me=0,ge=vt.graph(),ve=ge.marginx||0,Fe=ge.marginy||0;function qe(De){var fn=De.x,Be=De.y,Cn=De.width,ke=De.height;ft=Math.min(ft,fn-Cn/2),Nt=Math.max(Nt,fn+Cn/2),Qt=Math.min(Qt,Be-ke/2),me=Math.max(me,Be+ke/2)}c.forEach(vt.nodes(),function(De){qe(vt.node(De))}),c.forEach(vt.edges(),function(De){var fn=vt.edge(De);c.has(fn,"x")&&qe(fn)}),ft-=ve,Qt-=Fe,c.forEach(vt.nodes(),function(De){var fn=vt.node(De);fn.x-=ft,fn.y-=Qt}),c.forEach(vt.edges(),function(De){var fn=vt.edge(De);c.forEach(fn.points,function(Be){Be.x-=ft,Be.y-=Qt}),c.has(fn,"x")&&(fn.x-=ft),c.has(fn,"y")&&(fn.y-=Qt)}),ge.width=Nt-ft+ve,ge.height=me-Qt+Fe}(vt)}),ft("    assignNodeIntersects",function(){!function at(vt){c.forEach(vt.edges(),function(ft){var ge,ve,Nt=vt.edge(ft),Qt=vt.node(ft.v),me=vt.node(ft.w);Nt.points?(ge=Nt.points[0],ve=Nt.points[Nt.points.length-1]):(Nt.points=[],ge=me,ve=Qt),Nt.points.unshift(C.intersectRect(Qt,ge)),Nt.points.push(C.intersectRect(me,ve))})}(vt)}),ft("    reversePoints",function(){!function M(vt){c.forEach(vt.edges(),function(ft){var Nt=vt.edge(ft);Nt.reversed&&Nt.points.reverse()})}(vt)}),ft("    acyclic.undo",function(){x.undo(vt)})}(Qt,Nt)}),Nt("  updateInputGraph",function(){!function O(vt,ft){c.forEach(vt.nodes(),function(Nt){var Qt=vt.node(Nt),me=ft.node(Nt);Qt&&(Qt.x=me.x,Qt.y=me.y,ft.children(Nt).length&&(Qt.width=me.width,Qt.height=me.height))}),c.forEach(vt.edges(),function(Nt){var Qt=vt.edge(Nt),me=ft.edge(Nt);Qt.points=me.points,c.has(me,"x")&&(Qt.x=me.x,Qt.y=me.y)}),vt.graph().width=ft.graph().width,vt.graph().height=ft.graph().height}(vt,Qt)})})};var R=["nodesep","edgesep","ranksep","marginx","marginy"],U={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},z=["acyclicer","ranker","rankdir","align"],X=["width","height"],it={width:0,height:0},nt=["minlen","weight","width","height","labeloffset"],ut={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},J=["labelpos"];function ie(vt,ft){return c.mapValues(c.pick(vt,ft),Number)}function Ut(vt){var ft={};return c.forEach(vt,function(Nt,Qt){ft[Qt.toLowerCase()]=Nt}),ft}},45760:(w,k,s)=>{var c;try{c={cloneDeep:s(90733),constant:s(76684),defaults:s(28800),each:s(35474),filter:s(35281),find:s(62516),flatten:s(22274),forEach:s(89851),forIn:s(41176),has:s(54842),isUndefined:s(34235),last:s(25809),map:s(19984),mapValues:s(10203),max:s(18176),merge:s(80567),min:s(29439),minBy:s(29525),now:s(31710),pick:s(16372),range:s(90361),reduce:s(81337),sortBy:s(12906),uniqueId:s(51541),values:s(90377),zipObject:s(21617)}}catch(x){}c||(c=window._),w.exports=c},1230:(w,k,s)=>{var c=s(45760),x=s(11510);function _(l,h,m,u,g,C,A){var L=l.children(A);if(L.length){var P=x.addBorderNode(l,"_bt"),O=x.addBorderNode(l,"_bb"),R=l.node(A);l.setParent(P,A),R.borderTop=P,l.setParent(O,A),R.borderBottom=O,c.forEach(L,function(U){_(l,h,m,u,g,C,U);var z=l.node(U),X=z.borderTop?z.borderTop:U,it=z.borderBottom?z.borderBottom:U,nt=z.borderTop?u:2*u,ut=X!==it?1:g-C[A]+1;l.setEdge(P,X,{weight:nt,minlen:ut,nestingEdge:!0}),l.setEdge(it,O,{weight:nt,minlen:ut,nestingEdge:!0})}),l.parent(A)||l.setEdge(h,P,{weight:0,minlen:g+C[A]})}else A!==h&&l.setEdge(h,A,{weight:0,minlen:m})}w.exports={run:function v(l){var h=x.addDummyNode(l,"root",{},"_root"),m=function f(l){var h={};function m(u,g){var C=l.children(u);C&&C.length&&c.forEach(C,function(A){m(A,g+1)}),h[u]=g}return c.forEach(l.children(),function(u){m(u,1)}),h}(l),u=c.max(c.values(m))-1,g=2*u+1;l.graph().nestingRoot=h,c.forEach(l.edges(),function(A){l.edge(A).minlen*=g});var C=function t(l){return c.reduce(l.edges(),function(h,m){return h+l.edge(m).weight},0)}(l)+1;c.forEach(l.children(),function(A){_(l,h,g,C,u,m,A)}),l.graph().nodeRankFactor=g},cleanup:function p(l){var h=l.graph();l.removeNode(h.nestingRoot),delete h.nestingRoot,c.forEach(l.edges(),function(m){l.edge(m).nestingEdge&&l.removeEdge(m)})}}},91496:(w,k,s)=>{"use strict";var c=s(45760),x=s(11510);w.exports={run:function v(t){t.graph().dummyChains=[],c.forEach(t.edges(),function(p){!function _(t,p){var l=p.v,h=t.node(l).rank,m=p.w,u=t.node(m).rank,g=p.name,C=t.edge(p),A=C.labelRank;if(u!==h+1){var L,P,O;for(t.removeEdge(p),O=0,++h;h<u;++O,++h)C.points=[],L=x.addDummyNode(t,"edge",P={width:0,height:0,edgeLabel:C,edgeObj:p,rank:h},"_d"),h===A&&(P.width=C.width,P.height=C.height,P.dummy="edge-label",P.labelpos=C.labelpos),t.setEdge(l,L,{weight:C.weight},g),0===O&&t.graph().dummyChains.push(L),l=L;t.setEdge(l,m,{weight:C.weight},g)}}(t,p)})},undo:function f(t){c.forEach(t.graph().dummyChains,function(p){var m,l=t.node(p),h=l.edgeLabel;for(t.setEdge(l.edgeObj,h);l.dummy;)m=t.successors(p)[0],t.removeNode(p),h.points.push({x:l.x,y:l.y}),"edge-label"===l.dummy&&(h.x=l.x,h.y=l.y,h.width=l.width,h.height=l.height),l=t.node(p=m)})}}},33034:(w,k,s)=>{var c=s(45760);w.exports=function x(v,_,f){var p,t={};c.forEach(f,function(l){for(var m,u,h=v.parent(l);h;){if((m=v.parent(h))?(u=t[m],t[m]=h):(u=p,p=h),u&&u!==h)return void _.setEdge(u,h);h=m}})}},81323:(w,k,s)=>{var c=s(45760);w.exports=function x(v,_){return c.map(_,function(f){var t=v.inEdges(f);if(t.length){var p=c.reduce(t,function(l,h){var m=v.edge(h),u=v.node(h.v);return{sum:l.sum+m.weight*u.order,weight:l.weight+m.weight}},{sum:0,weight:0});return{v:f,barycenter:p.sum/p.weight,weight:p.weight}}return{v:f}})}},1686:(w,k,s)=>{var c=s(45760),x=s(36456).Graph;w.exports=function v(f,t,p){var l=function _(f){for(var t;f.hasNode(t=c.uniqueId("_root")););return t}(f),h=new x({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(function(m){return f.node(m)});return c.forEach(f.nodes(),function(m){var u=f.node(m),g=f.parent(m);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(h.setNode(m),h.setParent(m,g||l),c.forEach(f[p](m),function(C){var A=C.v===m?C.w:C.v,L=h.edge(A,m),P=c.isUndefined(L)?0:L.weight;h.setEdge(A,m,{weight:f.edge(C).weight+P})}),c.has(u,"minRank")&&h.setNode(m,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),h}},18796:(w,k,s)=>{"use strict";var c=s(45760);function v(_,f,t){for(var p=c.zipObject(t,c.map(t,function(C,A){return A})),l=c.flatten(c.map(f,function(C){return c.sortBy(c.map(_.outEdges(C),function(A){return{pos:p[A.w],weight:_.edge(A).weight}}),"pos")}),!0),h=1;h<t.length;)h<<=1;var m=2*h-1;h-=1;var u=c.map(new Array(m),function(){return 0}),g=0;return c.forEach(l.forEach(function(C){var A=C.pos+h;u[A]+=C.weight;for(var L=0;A>0;)A%2&&(L+=u[A+1]),u[A=A-1>>1]+=C.weight;g+=C.weight*L})),g}w.exports=function x(_,f){for(var t=0,p=1;p<f.length;++p)t+=v(_,f[p-1],f[p]);return t}},32974:(w,k,s)=>{"use strict";var c=s(45760),x=s(49402),v=s(18796),_=s(61057),f=s(1686),t=s(33034),p=s(36456).Graph,l=s(11510);function m(C,A,L){return c.map(A,function(P){return f(C,P,L)})}function u(C,A){var L=new p;c.forEach(C,function(P){var O=P.graph().root,R=_(P,O,L,A);c.forEach(R.vs,function(U,z){P.node(U).order=z}),t(P,L,R.vs)})}function g(C,A){c.forEach(A,function(L){c.forEach(L,function(P,O){C.node(P).order=O})})}w.exports=function h(C){var A=l.maxRank(C),L=m(C,c.range(1,A+1),"inEdges"),P=m(C,c.range(A-1,-1,-1),"outEdges"),O=x(C);g(C,O);for(var U,R=Number.POSITIVE_INFINITY,z=0,X=0;X<4;++z,++X){u(z%2?L:P,z%4>=2),O=l.buildLayerMatrix(C);var it=v(C,O);it<R&&(X=0,U=c.cloneDeep(O),R=it)}g(C,U)}},49402:(w,k,s)=>{"use strict";var c=s(45760);w.exports=function x(v){var _={},f=c.filter(v.nodes(),function(m){return!v.children(m).length}),t=c.max(c.map(f,function(m){return v.node(m).rank})),p=c.map(c.range(t+1),function(){return[]}),h=c.sortBy(f,function(m){return v.node(m).rank});return c.forEach(h,function l(m){if(!c.has(_,m)){_[m]=!0;var u=v.node(m);p[u.rank].push(m),c.forEach(v.successors(m),l)}}),p}},83826:(w,k,s)=>{"use strict";var c=s(45760);w.exports=function x(f,t){var p={};return c.forEach(f,function(h,m){var u=p[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:m};c.isUndefined(h.barycenter)||(u.barycenter=h.barycenter,u.weight=h.weight)}),c.forEach(t.edges(),function(h){var m=p[h.v],u=p[h.w];!c.isUndefined(m)&&!c.isUndefined(u)&&(u.indegree++,m.out.push(p[h.w]))}),function v(f){var t=[];function p(m){return function(u){u.merged||(c.isUndefined(u.barycenter)||c.isUndefined(m.barycenter)||u.barycenter>=m.barycenter)&&function _(f,t){var p=0,l=0;f.weight&&(p+=f.barycenter*f.weight,l+=f.weight),t.weight&&(p+=t.barycenter*t.weight,l+=t.weight),f.vs=t.vs.concat(f.vs),f.barycenter=p/l,f.weight=l,f.i=Math.min(t.i,f.i),t.merged=!0}(m,u)}}function l(m){return function(u){u.in.push(m),0==--u.indegree&&f.push(u)}}for(;f.length;){var h=f.pop();t.push(h),c.forEach(h.in.reverse(),p(h)),c.forEach(h.out,l(h))}return c.map(c.filter(t,function(m){return!m.merged}),function(m){return c.pick(m,["vs","i","barycenter","weight"])})}(c.filter(p,function(h){return!h.indegree}))}},61057:(w,k,s)=>{var c=s(45760),x=s(81323),v=s(83826),_=s(93803);w.exports=function f(l,h,m,u){var g=l.children(h),C=l.node(h),A=C?C.borderLeft:void 0,L=C?C.borderRight:void 0,P={};A&&(g=c.filter(g,function(it){return it!==A&&it!==L}));var O=x(l,g);c.forEach(O,function(it){if(l.children(it.v).length){var nt=f(l,it.v,m,u);P[it.v]=nt,c.has(nt,"barycenter")&&function p(l,h){c.isUndefined(l.barycenter)?(l.barycenter=h.barycenter,l.weight=h.weight):(l.barycenter=(l.barycenter*l.weight+h.barycenter*h.weight)/(l.weight+h.weight),l.weight+=h.weight)}(it,nt)}});var R=v(O,m);!function t(l,h){c.forEach(l,function(m){m.vs=c.flatten(m.vs.map(function(u){return h[u]?h[u].vs:u}),!0)})}(R,P);var U=_(R,u);if(A&&(U.vs=c.flatten([A,U.vs,L],!0),l.predecessors(A).length)){var z=l.node(l.predecessors(A)[0]),X=l.node(l.predecessors(L)[0]);c.has(U,"barycenter")||(U.barycenter=0,U.weight=0),U.barycenter=(U.barycenter*U.weight+z.order+X.order)/(U.weight+2),U.weight+=2}return U}},93803:(w,k,s)=>{var c=s(45760),x=s(11510);function _(t,p,l){for(var h;p.length&&(h=c.last(p)).i<=l;)p.pop(),t.push(h.vs),l++;return l}w.exports=function v(t,p){var l=x.partition(t,function(P){return c.has(P,"barycenter")}),h=l.lhs,m=c.sortBy(l.rhs,function(P){return-P.i}),u=[],g=0,C=0,A=0;h.sort(function f(t){return function(p,l){return p.barycenter<l.barycenter?-1:p.barycenter>l.barycenter?1:t?l.i-p.i:p.i-l.i}}(!!p)),A=_(u,m,A),c.forEach(h,function(P){A+=P.vs.length,u.push(P.vs),g+=P.barycenter*P.weight,C+=P.weight,A=_(u,m,A)});var L={vs:c.flatten(u,!0)};return C&&(L.barycenter=g/C,L.weight=C),L}},60162:(w,k,s)=>{var c=s(45760);w.exports=function x(f){var t=function _(f){var t={},p=0;return c.forEach(f.children(),function l(h){var m=p;c.forEach(f.children(h),l),t[h]={low:m,lim:p++}}),t}(f);c.forEach(f.graph().dummyChains,function(p){for(var l=f.node(p),h=l.edgeObj,m=function v(f,t,p,l){var C,A,h=[],m=[],u=Math.min(t[p].low,t[l].low),g=Math.max(t[p].lim,t[l].lim);C=p;do{C=f.parent(C),h.push(C)}while(C&&(t[C].low>u||g>t[C].lim));for(A=C,C=l;(C=f.parent(C))!==A;)m.push(C);return{path:h.concat(m.reverse()),lca:A}}(f,t,h.v,h.w),u=m.path,g=m.lca,C=0,A=u[C],L=!0;p!==h.w;){if(l=f.node(p),L){for(;(A=u[C])!==g&&f.node(A).maxRank<l.rank;)C++;A===g&&(L=!1)}if(!L){for(;C<u.length-1&&f.node(A=u[C+1]).minRank<=l.rank;)C++;A=u[C]}f.setParent(p,A),p=f.successors(p)[0]}})}},54058:(w,k,s)=>{"use strict";var c=s(45760),x=s(36456).Graph,v=s(11510);function _(R,U){var z={};return c.reduce(U,function X(it,nt){var ut=0,J=0,tt=it.length,$=c.last(nt);return c.forEach(nt,function(st,Y){var K=function t(R,U){if(R.node(U).dummy)return c.find(R.predecessors(U),function(z){return R.node(z).dummy})}(R,st),rt=K?R.node(K).order:tt;(K||st===$)&&(c.forEach(nt.slice(J,Y+1),function(at){c.forEach(R.predecessors(at),function(V){var M=R.node(V),Ct=M.order;(Ct<ut||rt<Ct)&&(!M.dummy||!R.node(at).dummy)&&p(z,V,at)})}),J=Y+1,ut=rt)}),nt}),z}function f(R,U){var z={};function X(nt,ut,J,tt,$){var st;c.forEach(c.range(ut,J),function(Y){R.node(st=nt[Y]).dummy&&c.forEach(R.predecessors(st),function(K){var rt=R.node(K);rt.dummy&&(rt.order<tt||rt.order>$)&&p(z,K,st)})})}return c.reduce(U,function it(nt,ut){var tt,J=-1,$=0;return c.forEach(ut,function(st,Y){if("border"===R.node(st).dummy){var K=R.predecessors(st);K.length&&(tt=R.node(K[0]).order,X(ut,$,Y,J,tt),$=Y,J=tt)}X(ut,$,ut.length,tt,nt.length)}),ut}),z}function p(R,U,z){if(U>z){var X=U;U=z,z=X}var it=R[U];it||(R[U]=it={}),it[z]=!0}function l(R,U,z){if(U>z){var X=U;U=z,z=X}return c.has(R[U],z)}function h(R,U,z,X){var it={},nt={},ut={};return c.forEach(U,function(J){c.forEach(J,function(tt,$){it[tt]=tt,nt[tt]=tt,ut[tt]=$})}),c.forEach(U,function(J){var tt=-1;c.forEach(J,function($){var st=X($);if(st.length)for(var Y=((st=c.sortBy(st,function(V){return ut[V]})).length-1)/2,K=Math.floor(Y),rt=Math.ceil(Y);K<=rt;++K){var at=st[K];nt[$]===$&&tt<ut[at]&&!l(z,$,at)&&(nt[at]=$,nt[$]=it[$]=it[at],tt=ut[at])}})}),{root:it,align:nt}}function m(R,U,z,X,it){var nt={},ut=function u(R,U,z,X){var it=new x,nt=R.graph(),ut=function P(R,U,z){return function(X,it,nt){var $,ut=X.node(it),J=X.node(nt),tt=0;if(tt+=ut.width/2,c.has(ut,"labelpos"))switch(ut.labelpos.toLowerCase()){case"l":$=-ut.width/2;break;case"r":$=ut.width/2}if($&&(tt+=z?$:-$),$=0,tt+=(ut.dummy?U:R)/2,tt+=(J.dummy?U:R)/2,tt+=J.width/2,c.has(J,"labelpos"))switch(J.labelpos.toLowerCase()){case"l":$=J.width/2;break;case"r":$=-J.width/2}return $&&(tt+=z?$:-$),$=0,tt}}(nt.nodesep,nt.edgesep,X);return c.forEach(U,function(J){var tt;c.forEach(J,function($){var st=z[$];if(it.setNode(st),tt){var Y=z[tt],K=it.edge(Y,st);it.setEdge(Y,st,Math.max(ut(R,$,tt),K||0))}tt=$})}),it}(R,U,z,it),J=it?"borderLeft":"borderRight";function tt(Y,K){for(var rt=ut.nodes(),at=rt.pop(),V={};at;)V[at]?Y(at):(V[at]=!0,rt.push(at),rt=rt.concat(K(at))),at=rt.pop()}return tt(function $(Y){nt[Y]=ut.inEdges(Y).reduce(function(K,rt){return Math.max(K,nt[rt.v]+ut.edge(rt))},0)},ut.predecessors.bind(ut)),tt(function st(Y){var K=ut.outEdges(Y).reduce(function(at,V){return Math.min(at,nt[V.w]-ut.edge(V))},Number.POSITIVE_INFINITY),rt=R.node(Y);K!==Number.POSITIVE_INFINITY&&rt.borderType!==J&&(nt[Y]=Math.max(nt[Y],K))},ut.successors.bind(ut)),c.forEach(X,function(Y){nt[Y]=nt[z[Y]]}),nt}function g(R,U){return c.minBy(c.values(U),function(z){var X=Number.NEGATIVE_INFINITY,it=Number.POSITIVE_INFINITY;return c.forIn(z,function(nt,ut){var J=function O(R,U){return R.node(U).width}(R,ut)/2;X=Math.max(nt+J,X),it=Math.min(nt-J,it)}),X-it})}function C(R,U){var z=c.values(U),X=c.min(z),it=c.max(z);c.forEach(["u","d"],function(nt){c.forEach(["l","r"],function(ut){var $,J=nt+ut,tt=R[J];if(tt!==U){var st=c.values(tt);($="l"===ut?X-c.min(st):it-c.max(st))&&(R[J]=c.mapValues(tt,function(Y){return Y+$}))}})})}function A(R,U){return c.mapValues(R.ul,function(z,X){if(U)return R[U.toLowerCase()][X];var it=c.sortBy(c.map(R,X));return(it[1]+it[2])/2})}w.exports={positionX:function L(R){var it,U=v.buildLayerMatrix(R),z=c.merge(_(R,U),f(R,U)),X={};c.forEach(["u","d"],function(ut){it="u"===ut?U:c.values(U).reverse(),c.forEach(["l","r"],function(J){"r"===J&&(it=c.map(it,function(Y){return c.values(Y).reverse()}));var tt=("u"===ut?R.predecessors:R.successors).bind(R),$=h(0,it,z,tt),st=m(R,it,$.root,$.align,"r"===J);"r"===J&&(st=c.mapValues(st,function(Y){return-Y})),X[ut+J]=st})});var nt=g(R,X);return C(X,nt),A(X,R.graph().align)},findType1Conflicts:_,findType2Conflicts:f,addConflict:p,hasConflict:l,verticalAlignment:h,horizontalCompaction:m,alignCoordinates:C,findSmallestWidthAlignment:g,balance:A}},78226:(w,k,s)=>{"use strict";var c=s(45760),x=s(11510),v=s(54058).positionX;w.exports=function _(t){(function f(t){var p=x.buildLayerMatrix(t),l=t.graph().ranksep,h=0;c.forEach(p,function(m){var u=c.max(c.map(m,function(g){return t.node(g).height}));c.forEach(m,function(g){t.node(g).y=h+u/2}),h+=u+l})})(t=x.asNonCompoundGraph(t)),c.forEach(v(t),function(p,l){t.node(l).x=p})}},96632:(w,k,s)=>{"use strict";var c=s(45760),x=s(36456).Graph,v=s(1916).slack;function f(l,h){return c.forEach(l.nodes(),function m(u){c.forEach(h.nodeEdges(u),function(g){var C=g.v,A=u===C?g.w:C;!l.hasNode(A)&&!v(h,g)&&(l.setNode(A,{}),l.setEdge(u,A,{}),m(A))})}),l.nodeCount()}function t(l,h){return c.minBy(h.edges(),function(m){if(l.hasNode(m.v)!==l.hasNode(m.w))return v(h,m)})}function p(l,h,m){c.forEach(l.nodes(),function(u){h.node(u).rank+=m})}w.exports=function _(l){var g,C,h=new x({directed:!1}),m=l.nodes()[0],u=l.nodeCount();for(h.setNode(m,{});f(h,l)<u;)g=t(h,l),C=h.hasNode(g.v)?v(l,g):-v(l,g),p(h,l,C);return h}},94124:(w,k,s)=>{"use strict";var x=s(1916).longestPath,v=s(96632),_=s(63804);w.exports=function f(h){switch(h.graph().ranker){case"network-simplex":default:!function l(h){_(h)}(h);break;case"tight-tree":!function p(h){x(h),v(h)}(h);break;case"longest-path":t(h)}};var t=x},63804:(w,k,s)=>{"use strict";var c=s(45760),x=s(96632),v=s(1916).slack,_=s(1916).longestPath,f=s(36456).alg.preorder,t=s(36456).alg.postorder,p=s(11510).simplify;function l(z){z=p(z),_(z);var it,X=x(z);for(g(X),h(X,z);it=A(X);)P(X,z,it,L(X,z,it))}function h(z,X){var it=t(z,z.nodes());it=it.slice(0,it.length-1),c.forEach(it,function(nt){!function m(z,X,it){var nt=z.node(it);z.edge(it,nt.parent).cutvalue=u(z,X,it)}(z,X,nt)})}function u(z,X,it){var ut=z.node(it).parent,J=!0,tt=X.edge(it,ut),$=0;return tt||(J=!1,tt=X.edge(ut,it)),$=tt.weight,c.forEach(X.nodeEdges(it),function(st){var Y=st.v===it,K=Y?st.w:st.v;if(K!==ut){var rt=Y===J,at=X.edge(st).weight;if($+=rt?at:-at,function R(z,X,it){return z.hasEdge(X,it)}(z,it,K)){var V=z.edge(it,K).cutvalue;$+=rt?-V:V}}}),$}function g(z,X){arguments.length<2&&(X=z.nodes()[0]),C(z,{},1,X)}function C(z,X,it,nt,ut){var J=it,tt=z.node(nt);return X[nt]=!0,c.forEach(z.neighbors(nt),function($){c.has(X,$)||(it=C(z,X,it,$,nt))}),tt.low=J,tt.lim=it++,ut?tt.parent=ut:delete tt.parent,it}function A(z){return c.find(z.edges(),function(X){return z.edge(X).cutvalue<0})}function L(z,X,it){var nt=it.v,ut=it.w;X.hasEdge(nt,ut)||(nt=it.w,ut=it.v);var J=z.node(nt),tt=z.node(ut),$=J,st=!1;J.lim>tt.lim&&($=tt,st=!0);var Y=c.filter(X.edges(),function(K){return st===U(0,z.node(K.v),$)&&st!==U(0,z.node(K.w),$)});return c.minBy(Y,function(K){return v(X,K)})}function P(z,X,it,nt){z.removeEdge(it.v,it.w),z.setEdge(nt.v,nt.w,{}),g(z),h(z,X),function O(z,X){var it=c.find(z.nodes(),function(ut){return!X.node(ut).parent}),nt=f(z,it);nt=nt.slice(1),c.forEach(nt,function(ut){var J=z.node(ut).parent,tt=X.edge(ut,J),$=!1;tt||(tt=X.edge(J,ut),$=!0),X.node(ut).rank=X.node(J).rank+($?tt.minlen:-tt.minlen)})}(z,X)}function U(z,X,it){return it.low<=X.lim&&X.lim<=it.lim}w.exports=l,l.initLowLimValues=g,l.initCutValues=h,l.calcCutValue=u,l.leaveEdge=A,l.enterEdge=L,l.exchangeEdges=P},1916:(w,k,s)=>{"use strict";var c=s(45760);w.exports={longestPath:function x(_){var f={};c.forEach(_.sources(),function t(p){var l=_.node(p);if(c.has(f,p))return l.rank;f[p]=!0;var h=c.min(c.map(_.outEdges(p),function(m){return t(m.w)-_.edge(m).minlen}));return(h===Number.POSITIVE_INFINITY||null==h)&&(h=0),l.rank=h})},slack:function v(_,f){return _.node(f.w).rank-_.node(f.v).rank-_.edge(f).minlen}}},11510:(w,k,s)=>{"use strict";var c=s(45760),x=s(36456).Graph;function v(O,R,U,z){var X;do{X=c.uniqueId(z)}while(O.hasNode(X));return U.dummy=R,O.setNode(X,U),X}function C(O){return c.max(c.map(O.nodes(),function(R){var U=O.node(R).rank;if(!c.isUndefined(U))return U}))}w.exports={addDummyNode:v,simplify:function _(O){var R=(new x).setGraph(O.graph());return c.forEach(O.nodes(),function(U){R.setNode(U,O.node(U))}),c.forEach(O.edges(),function(U){var z=R.edge(U.v,U.w)||{weight:0,minlen:1},X=O.edge(U);R.setEdge(U.v,U.w,{weight:z.weight+X.weight,minlen:Math.max(z.minlen,X.minlen)})}),R},asNonCompoundGraph:function f(O){var R=new x({multigraph:O.isMultigraph()}).setGraph(O.graph());return c.forEach(O.nodes(),function(U){O.children(U).length||R.setNode(U,O.node(U))}),c.forEach(O.edges(),function(U){R.setEdge(U,O.edge(U))}),R},successorWeights:function t(O){var R=c.map(O.nodes(),function(U){var z={};return c.forEach(O.outEdges(U),function(X){z[X.w]=(z[X.w]||0)+O.edge(X).weight}),z});return c.zipObject(O.nodes(),R)},predecessorWeights:function p(O){var R=c.map(O.nodes(),function(U){var z={};return c.forEach(O.inEdges(U),function(X){z[X.v]=(z[X.v]||0)+O.edge(X).weight}),z});return c.zipObject(O.nodes(),R)},intersectRect:function l(O,R){var J,tt,U=O.x,z=O.y,X=R.x-U,it=R.y-z,nt=O.width/2,ut=O.height/2;if(!X&&!it)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(it)*nt>Math.abs(X)*ut?(it<0&&(ut=-ut),J=ut*X/it,tt=ut):(X<0&&(nt=-nt),J=nt,tt=nt*it/X),{x:U+J,y:z+tt}},buildLayerMatrix:function h(O){var R=c.map(c.range(C(O)+1),function(){return[]});return c.forEach(O.nodes(),function(U){var z=O.node(U),X=z.rank;c.isUndefined(X)||(R[X][z.order]=U)}),R},normalizeRanks:function m(O){var R=c.min(c.map(O.nodes(),function(U){return O.node(U).rank}));c.forEach(O.nodes(),function(U){var z=O.node(U);c.has(z,"rank")&&(z.rank-=R)})},removeEmptyRanks:function u(O){var R=c.min(c.map(O.nodes(),function(it){return O.node(it).rank})),U=[];c.forEach(O.nodes(),function(it){var nt=O.node(it).rank-R;U[nt]||(U[nt]=[]),U[nt].push(it)});var z=0,X=O.graph().nodeRankFactor;c.forEach(U,function(it,nt){c.isUndefined(it)&&nt%X!=0?--z:z&&c.forEach(it,function(ut){O.node(ut).rank+=z})})},addBorderNode:function g(O,R,U,z){var X={width:0,height:0};return arguments.length>=4&&(X.rank=U,X.order=z),v(O,"border",X,R)},maxRank:C,partition:function A(O,R){var U={lhs:[],rhs:[]};return c.forEach(O,function(z){R(z)?U.lhs.push(z):U.rhs.push(z)}),U},time:function L(O,R){var U=c.now();try{return R()}finally{console.log(O+" time: "+(c.now()-U)+"ms")}},notime:function P(O,R){return R()}}},28126:w=>{w.exports="0.8.5"},85510:(w,k,s)=>{var c=s(51838);w.exports={Graph:c.Graph,json:s(21088),alg:s(83430),version:c.version}},86730:(w,k,s)=>{var c=s(79138);w.exports=function x(v){var t,_={},f=[];function p(l){c.has(_,l)||(_[l]=!0,t.push(l),c.each(v.successors(l),p),c.each(v.predecessors(l),p))}return c.each(v.nodes(),function(l){t=[],p(l),t.length&&f.push(t)}),f}},22163:(w,k,s)=>{var c=s(79138);function v(_,f,t,p,l,h){c.has(p,f)||(p[f]=!0,t||h.push(f),c.each(l(f),function(m){v(_,m,t,p,l,h)}),t&&h.push(f))}w.exports=function x(_,f,t){c.isArray(f)||(f=[f]);var p=(_.isDirected()?_.successors:_.neighbors).bind(_),l=[],h={};return c.each(f,function(m){if(!_.hasNode(m))throw new Error("Graph does not have node: "+m);v(_,m,"post"===t,h,p,l)}),l}},25668:(w,k,s)=>{var c=s(61718),x=s(79138);w.exports=function v(_,f,t){return x.transform(_.nodes(),function(p,l){p[l]=c(_,l,f,t)},{})}},61718:(w,k,s)=>{var c=s(79138),x=s(31919);w.exports=function _(t,p,l,h){return function f(t,p,l,h){var g,C,m={},u=new x,A=function(L){var P=L.v!==g?L.v:L.w,O=m[P],R=l(L),U=C.distance+R;if(R<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+L+" Weight: "+R);U<O.distance&&(O.distance=U,O.predecessor=g,u.decrease(P,U))};for(t.nodes().forEach(function(L){var P=L===p?0:Number.POSITIVE_INFINITY;m[L]={distance:P},u.add(L,P)});u.size()>0&&(g=u.removeMin(),(C=m[g]).distance!==Number.POSITIVE_INFINITY);)h(g).forEach(A);return m}(t,String(p),l||v,h||function(m){return t.outEdges(m)})};var v=c.constant(1)},9611:(w,k,s)=>{var c=s(79138),x=s(73585);w.exports=function v(_){return c.filter(x(_),function(f){return f.length>1||1===f.length&&_.hasEdge(f[0],f[0])})}},22881:(w,k,s)=>{var c=s(79138);w.exports=function v(f,t,p){return function _(f,t,p){var l={},h=f.nodes();return h.forEach(function(m){l[m]={},l[m][m]={distance:0},h.forEach(function(u){m!==u&&(l[m][u]={distance:Number.POSITIVE_INFINITY})}),p(m).forEach(function(u){var g=u.v===m?u.w:u.v,C=t(u);l[m][g]={distance:C,predecessor:m}})}),h.forEach(function(m){var u=l[m];h.forEach(function(g){var C=l[g];h.forEach(function(A){var P=u[A],O=C[A],R=C[m].distance+P.distance;R<O.distance&&(O.distance=R,O.predecessor=P.predecessor)})})}),l}(f,t||x,p||function(l){return f.outEdges(l)})};var x=c.constant(1)},83430:(w,k,s)=>{w.exports={components:s(86730),dijkstra:s(61718),dijkstraAll:s(25668),findCycles:s(9611),floydWarshall:s(22881),isAcyclic:s(46693),postorder:s(46694),preorder:s(5330),prim:s(46823),tarjan:s(73585),topsort:s(52180)}},46693:(w,k,s)=>{var c=s(52180);w.exports=function x(v){try{c(v)}catch(_){if(_ instanceof c.CycleException)return!1;throw _}return!0}},46694:(w,k,s)=>{var c=s(22163);w.exports=function x(v,_){return c(v,_,"post")}},5330:(w,k,s)=>{var c=s(22163);w.exports=function x(v,_){return c(v,_,"pre")}},46823:(w,k,s)=>{var c=s(79138),x=s(66568),v=s(31919);w.exports=function _(f,t){var m,p=new x,l={},h=new v;function u(C){var A=C.v===m?C.w:C.v,L=h.priority(A);if(void 0!==L){var P=t(C);P<L&&(l[A]=m,h.decrease(A,P))}}if(0===f.nodeCount())return p;c.each(f.nodes(),function(C){h.add(C,Number.POSITIVE_INFINITY),p.setNode(C)}),h.decrease(f.nodes()[0],0);for(var g=!1;h.size()>0;){if(m=h.removeMin(),c.has(l,m))p.setEdge(m,l[m]);else{if(g)throw new Error("Input graph is not connected: "+f);g=!0}f.nodeEdges(m).forEach(u)}return p}},73585:(w,k,s)=>{var c=s(79138);w.exports=function x(v){var _=0,f=[],t={},p=[];function l(h){var m=t[h]={onStack:!0,lowlink:_,index:_++};if(f.push(h),v.successors(h).forEach(function(C){c.has(t,C)?t[C].onStack&&(m.lowlink=Math.min(m.lowlink,t[C].index)):(l(C),m.lowlink=Math.min(m.lowlink,t[C].lowlink))}),m.lowlink===m.index){var g,u=[];do{g=f.pop(),t[g].onStack=!1,u.push(g)}while(h!==g);p.push(u)}}return v.nodes().forEach(function(h){c.has(t,h)||l(h)}),p}},52180:(w,k,s)=>{var c=s(79138);function x(_){var f={},t={},p=[];if(c.each(_.sinks(),function l(h){if(c.has(t,h))throw new v;c.has(f,h)||(t[h]=!0,f[h]=!0,c.each(_.predecessors(h),l),delete t[h],p.push(h))}),c.size(f)!==_.nodeCount())throw new v;return p}function v(){}w.exports=x,x.CycleException=v,v.prototype=new Error},31919:(w,k,s)=>{var c=s(79138);function x(){this._arr=[],this._keyIndices={}}w.exports=x,x.prototype.size=function(){return this._arr.length},x.prototype.keys=function(){return this._arr.map(function(v){return v.key})},x.prototype.has=function(v){return c.has(this._keyIndices,v)},x.prototype.priority=function(v){var _=this._keyIndices[v];if(void 0!==_)return this._arr[_].priority},x.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},x.prototype.add=function(v,_){var f=this._keyIndices;if(v=String(v),!c.has(f,v)){var t=this._arr,p=t.length;return f[v]=p,t.push({key:v,priority:_}),this._decrease(p),!0}return!1},x.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},x.prototype.decrease=function(v,_){var f=this._keyIndices[v];if(_>this._arr[f].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[f].priority+" New: "+_);this._arr[f].priority=_,this._decrease(f)},x.prototype._heapify=function(v){var _=this._arr,f=2*v,t=f+1,p=v;f<_.length&&(p=_[f].priority<_[p].priority?f:p,t<_.length&&(p=_[t].priority<_[p].priority?t:p),p!==v&&(this._swap(v,p),this._heapify(p)))},x.prototype._decrease=function(v){for(var t,_=this._arr,f=_[v].priority;0!==v&&!(_[t=v>>1].priority<f);)this._swap(v,t),v=t},x.prototype._swap=function(v,_){var f=this._arr,t=this._keyIndices,p=f[v],l=f[_];f[v]=l,f[_]=p,t[l.key]=v,t[p.key]=_}},66568:(w,k,s)=>{"use strict";var c=s(79138);w.exports=f;var v="\0";function f(u){this._isDirected=!c.has(u,"directed")||u.directed,this._isMultigraph=!!c.has(u,"multigraph")&&u.multigraph,this._isCompound=!!c.has(u,"compound")&&u.compound,this._label=void 0,this._defaultNodeLabelFn=c.constant(void 0),this._defaultEdgeLabelFn=c.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[v]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function t(u,g){u[g]?u[g]++:u[g]=1}function p(u,g){--u[g]||delete u[g]}function l(u,g,C,A){var L=""+g,P=""+C;if(!u&&L>P){var O=L;L=P,P=O}return L+"\x01"+P+"\x01"+(c.isUndefined(A)?"\0":A)}function h(u,g,C,A){var L=""+g,P=""+C;if(!u&&L>P){var O=L;L=P,P=O}var R={v:L,w:P};return A&&(R.name=A),R}function m(u,g){return l(u,g.v,g.w,g.name)}f.prototype._nodeCount=0,f.prototype._edgeCount=0,f.prototype.isDirected=function(){return this._isDirected},f.prototype.isMultigraph=function(){return this._isMultigraph},f.prototype.isCompound=function(){return this._isCompound},f.prototype.setGraph=function(u){return this._label=u,this},f.prototype.graph=function(){return this._label},f.prototype.setDefaultNodeLabel=function(u){return c.isFunction(u)||(u=c.constant(u)),this._defaultNodeLabelFn=u,this},f.prototype.nodeCount=function(){return this._nodeCount},f.prototype.nodes=function(){return c.keys(this._nodes)},f.prototype.sources=function(){var u=this;return c.filter(this.nodes(),function(g){return c.isEmpty(u._in[g])})},f.prototype.sinks=function(){var u=this;return c.filter(this.nodes(),function(g){return c.isEmpty(u._out[g])})},f.prototype.setNodes=function(u,g){var C=arguments,A=this;return c.each(u,function(L){C.length>1?A.setNode(L,g):A.setNode(L)}),this},f.prototype.setNode=function(u,g){return c.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=g),this):(this._nodes[u]=arguments.length>1?g:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=v,this._children[u]={},this._children[v][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},f.prototype.node=function(u){return this._nodes[u]},f.prototype.hasNode=function(u){return c.has(this._nodes,u)},f.prototype.removeNode=function(u){var g=this;if(c.has(this._nodes,u)){var C=function(A){g.removeEdge(g._edgeObjs[A])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],c.each(this.children(u),function(A){g.setParent(A)}),delete this._children[u]),c.each(c.keys(this._in[u]),C),delete this._in[u],delete this._preds[u],c.each(c.keys(this._out[u]),C),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},f.prototype.setParent=function(u,g){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(c.isUndefined(g))g=v;else{for(var C=g+="";!c.isUndefined(C);C=this.parent(C))if(C===u)throw new Error("Setting "+g+" as parent of "+u+" would create a cycle");this.setNode(g)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=g,this._children[g][u]=!0,this},f.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},f.prototype.parent=function(u){if(this._isCompound){var g=this._parent[u];if(g!==v)return g}},f.prototype.children=function(u){if(c.isUndefined(u)&&(u=v),this._isCompound){var g=this._children[u];if(g)return c.keys(g)}else{if(u===v)return this.nodes();if(this.hasNode(u))return[]}},f.prototype.predecessors=function(u){var g=this._preds[u];if(g)return c.keys(g)},f.prototype.successors=function(u){var g=this._sucs[u];if(g)return c.keys(g)},f.prototype.neighbors=function(u){var g=this.predecessors(u);if(g)return c.union(g,this.successors(u))},f.prototype.isLeaf=function(u){return 0===(this.isDirected()?this.successors(u):this.neighbors(u)).length},f.prototype.filterNodes=function(u){var g=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});g.setGraph(this.graph());var C=this;c.each(this._nodes,function(P,O){u(O)&&g.setNode(O,P)}),c.each(this._edgeObjs,function(P){g.hasNode(P.v)&&g.hasNode(P.w)&&g.setEdge(P,C.edge(P))});var A={};function L(P){var O=C.parent(P);return void 0===O||g.hasNode(O)?(A[P]=O,O):O in A?A[O]:L(O)}return this._isCompound&&c.each(g.nodes(),function(P){g.setParent(P,L(P))}),g},f.prototype.setDefaultEdgeLabel=function(u){return c.isFunction(u)||(u=c.constant(u)),this._defaultEdgeLabelFn=u,this},f.prototype.edgeCount=function(){return this._edgeCount},f.prototype.edges=function(){return c.values(this._edgeObjs)},f.prototype.setPath=function(u,g){var C=this,A=arguments;return c.reduce(u,function(L,P){return A.length>1?C.setEdge(L,P,g):C.setEdge(L,P),P}),this},f.prototype.setEdge=function(){var u,g,C,A,L=!1,P=arguments[0];"object"==typeof P&&null!==P&&"v"in P?(u=P.v,g=P.w,C=P.name,2===arguments.length&&(A=arguments[1],L=!0)):(u=P,g=arguments[1],C=arguments[3],arguments.length>2&&(A=arguments[2],L=!0)),u=""+u,g=""+g,c.isUndefined(C)||(C=""+C);var O=l(this._isDirected,u,g,C);if(c.has(this._edgeLabels,O))return L&&(this._edgeLabels[O]=A),this;if(!c.isUndefined(C)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(g),this._edgeLabels[O]=L?A:this._defaultEdgeLabelFn(u,g,C);var R=h(this._isDirected,u,g,C);return u=R.v,g=R.w,Object.freeze(R),this._edgeObjs[O]=R,t(this._preds[g],u),t(this._sucs[u],g),this._in[g][O]=R,this._out[u][O]=R,this._edgeCount++,this},f.prototype.edge=function(u,g,C){var A=1===arguments.length?m(this._isDirected,arguments[0]):l(this._isDirected,u,g,C);return this._edgeLabels[A]},f.prototype.hasEdge=function(u,g,C){var A=1===arguments.length?m(this._isDirected,arguments[0]):l(this._isDirected,u,g,C);return c.has(this._edgeLabels,A)},f.prototype.removeEdge=function(u,g,C){var A=1===arguments.length?m(this._isDirected,arguments[0]):l(this._isDirected,u,g,C),L=this._edgeObjs[A];return L&&(u=L.v,g=L.w,delete this._edgeLabels[A],delete this._edgeObjs[A],p(this._preds[g],u),p(this._sucs[u],g),delete this._in[g][A],delete this._out[u][A],this._edgeCount--),this},f.prototype.inEdges=function(u,g){var C=this._in[u];if(C){var A=c.values(C);return g?c.filter(A,function(L){return L.v===g}):A}},f.prototype.outEdges=function(u,g){var C=this._out[u];if(C){var A=c.values(C);return g?c.filter(A,function(L){return L.w===g}):A}},f.prototype.nodeEdges=function(u,g){var C=this.inEdges(u,g);if(C)return C.concat(this.outEdges(u,g))}},51838:(w,k,s)=>{w.exports={Graph:s(66568),version:s(75089)}},21088:(w,k,s)=>{var c=s(79138),x=s(66568);function _(p){return c.map(p.nodes(),function(l){var h=p.node(l),m=p.parent(l),u={v:l};return c.isUndefined(h)||(u.value=h),c.isUndefined(m)||(u.parent=m),u})}function f(p){return c.map(p.edges(),function(l){var h=p.edge(l),m={v:l.v,w:l.w};return c.isUndefined(l.name)||(m.name=l.name),c.isUndefined(h)||(m.value=h),m})}w.exports={write:function v(p){var l={options:{directed:p.isDirected(),multigraph:p.isMultigraph(),compound:p.isCompound()},nodes:_(p),edges:f(p)};return c.isUndefined(p.graph())||(l.value=c.clone(p.graph())),l},read:function t(p){var l=new x(p.options).setGraph(p.value);return c.each(p.nodes,function(h){l.setNode(h.v,h.value),h.parent&&l.setParent(h.v,h.parent)}),c.each(p.edges,function(h){l.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),l}}},79138:(w,k,s)=>{var c;try{c={clone:s(11094),constant:s(76684),each:s(35474),filter:s(35281),has:s(54842),isArray:s(21503),isEmpty:s(71973),isFunction:s(75946),isUndefined:s(34235),keys:s(118),map:s(19984),reduce:s(81337),size:s(55637),transform:s(89416),union:s(68921),values:s(90377)}}catch(x){}c||(c=window._),w.exports=c},75089:w=>{w.exports="2.1.8"},40717:(w,k,s)=>{"use strict";var c=s(50623);function x(v){return!0===c(v)&&"[object Object]"===Object.prototype.toString.call(v)}w.exports=function(_){var f,t;return!(!1===x(_)||(f=_.constructor,"function"!=typeof f)||(t=f.prototype,!1===x(t))||!1===t.hasOwnProperty("isPrototypeOf"))}},50623:w=>{"use strict";w.exports=function(s){return null!=s&&"object"==typeof s&&!1===Array.isArray(s)}},52872:w=>{var k=Object.prototype.toString;function s(h){return"function"==typeof h.constructor?h.constructor.name:null}w.exports=function(m){if(void 0===m)return"undefined";if(null===m)return"null";var u=typeof m;if("boolean"===u)return"boolean";if("string"===u)return"string";if("number"===u)return"number";if("symbol"===u)return"symbol";if("function"===u)return function f(h,m){return"GeneratorFunction"===s(h)}(m)?"generatorfunction":"function";if(function c(h){return Array.isArray?Array.isArray(h):h instanceof Array}(m))return"array";if(function l(h){return!(!h.constructor||"function"!=typeof h.constructor.isBuffer)&&h.constructor.isBuffer(h)}(m))return"buffer";if(function p(h){try{if("number"==typeof h.length&&"function"==typeof h.callee)return!0}catch(m){if(-1!==m.message.indexOf("callee"))return!0}return!1}(m))return"arguments";if(function v(h){return h instanceof Date||"function"==typeof h.toDateString&&"function"==typeof h.getDate&&"function"==typeof h.setDate}(m))return"date";if(function x(h){return h instanceof Error||"string"==typeof h.message&&h.constructor&&"number"==typeof h.constructor.stackTraceLimit}(m))return"error";if(function _(h){return h instanceof RegExp||"string"==typeof h.flags&&"boolean"==typeof h.ignoreCase&&"boolean"==typeof h.multiline&&"boolean"==typeof h.global}(m))return"regexp";switch(s(m)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function t(h){return"function"==typeof h.throw&&"function"==typeof h.return&&"function"==typeof h.next}(m))return"generator";switch(u=k.call(m)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return u.slice(8,-1).toLowerCase().replace(/\s/g,"")}},37244:(w,k,s)=>{var v=s(53436)(s(12119),"DataView");w.exports=v},54994:(w,k,s)=>{var c=s(64312),x=s(46421),v=s(15764),_=s(18685),f=s(26676);function t(p){var l=-1,h=null==p?0:p.length;for(this.clear();++l<h;){var m=p[l];this.set(m[0],m[1])}}t.prototype.clear=c,t.prototype.delete=x,t.prototype.get=v,t.prototype.has=_,t.prototype.set=f,w.exports=t},9215:(w,k,s)=>{var c=s(41840),x=s(34378),v=s(54981),_=s(67343),f=s(98895);function t(p){var l=-1,h=null==p?0:p.length;for(this.clear();++l<h;){var m=p[l];this.set(m[0],m[1])}}t.prototype.clear=c,t.prototype.delete=x,t.prototype.get=v,t.prototype.has=_,t.prototype.set=f,w.exports=t},51501:(w,k,s)=>{var v=s(53436)(s(12119),"Map");w.exports=v},99850:(w,k,s)=>{var c=s(10638),x=s(11184),v=s(70866),_=s(43771),f=s(51772);function t(p){var l=-1,h=null==p?0:p.length;for(this.clear();++l<h;){var m=p[l];this.set(m[0],m[1])}}t.prototype.clear=c,t.prototype.delete=x,t.prototype.get=v,t.prototype.has=_,t.prototype.set=f,w.exports=t},44267:(w,k,s)=>{var v=s(53436)(s(12119),"Promise");w.exports=v},46323:(w,k,s)=>{var v=s(53436)(s(12119),"Set");w.exports=v},58849:(w,k,s)=>{var c=s(99850),x=s(4600),v=s(31387);function _(f){var t=-1,p=null==f?0:f.length;for(this.__data__=new c;++t<p;)this.add(f[t])}_.prototype.add=_.prototype.push=x,_.prototype.has=v,w.exports=_},2858:(w,k,s)=>{var c=s(9215),x=s(13720),v=s(64410),_=s(45576),f=s(22247),t=s(41585);function p(l){var h=this.__data__=new c(l);this.size=h.size}p.prototype.clear=x,p.prototype.delete=v,p.prototype.get=_,p.prototype.has=f,p.prototype.set=t,w.exports=p},60443:(w,k,s)=>{var c=s(12119);w.exports=c.Symbol},73457:(w,k,s)=>{var c=s(12119);w.exports=c.Uint8Array},24243:(w,k,s)=>{var v=s(53436)(s(12119),"WeakMap");w.exports=v},26999:w=>{w.exports=function k(s,c,x){switch(x.length){case 0:return s.call(c);case 1:return s.call(c,x[0]);case 2:return s.call(c,x[0],x[1]);case 3:return s.call(c,x[0],x[1],x[2])}return s.apply(c,x)}},96837:w=>{w.exports=function k(s,c){for(var x=-1,v=null==s?0:s.length;++x<v&&!1!==c(s[x],x,s););return s}},69779:w=>{w.exports=function k(s,c){for(var x=-1,v=null==s?0:s.length,_=0,f=[];++x<v;){var t=s[x];c(t,x,s)&&(f[_++]=t)}return f}},61253:(w,k,s)=>{var c=s(14164);w.exports=function x(v,_){return!(null==v||!v.length)&&c(v,_,0)>-1}},37609:w=>{w.exports=function k(s,c,x){for(var v=-1,_=null==s?0:s.length;++v<_;)if(x(c,s[v]))return!0;return!1}},72271:(w,k,s)=>{var c=s(85334),x=s(77151),v=s(21503),_=s(80891),f=s(58442),t=s(48159),l=Object.prototype.hasOwnProperty;w.exports=function h(m,u){var g=v(m),C=!g&&x(m),A=!g&&!C&&_(m),L=!g&&!C&&!A&&t(m),P=g||C||A||L,O=P?c(m.length,String):[],R=O.length;for(var U in m)(u||l.call(m,U))&&(!P||!("length"==U||A&&("offset"==U||"parent"==U)||L&&("buffer"==U||"byteLength"==U||"byteOffset"==U)||f(U,R)))&&O.push(U);return O}},84633:w=>{w.exports=function k(s,c){for(var x=-1,v=null==s?0:s.length,_=Array(v);++x<v;)_[x]=c(s[x],x,s);return _}},85059:w=>{w.exports=function k(s,c){for(var x=-1,v=c.length,_=s.length;++x<v;)s[_+x]=c[x];return s}},8745:w=>{w.exports=function k(s,c,x,v){var _=-1,f=null==s?0:s.length;for(v&&f&&(x=s[++_]);++_<f;)x=c(x,s[_],_,s);return x}},79503:w=>{w.exports=function k(s,c){for(var x=-1,v=null==s?0:s.length;++x<v;)if(c(s[x],x,s))return!0;return!1}},75481:(w,k,s)=>{var x=s(11847)("length");w.exports=x},49276:(w,k,s)=>{var c=s(85683),x=s(20217);w.exports=function v(_,f,t){(void 0!==t&&!x(_[f],t)||void 0===t&&!(f in _))&&c(_,f,t)}},89719:(w,k,s)=>{var c=s(85683),x=s(20217),_=Object.prototype.hasOwnProperty;w.exports=function f(t,p,l){var h=t[p];(!_.call(t,p)||!x(h,l)||void 0===l&&!(p in t))&&c(t,p,l)}},43503:(w,k,s)=>{var c=s(20217);w.exports=function x(v,_){for(var f=v.length;f--;)if(c(v[f][0],_))return f;return-1}},94121:(w,k,s)=>{var c=s(31989),x=s(118);w.exports=function v(_,f){return _&&c(f,x(f),_)}},99287:(w,k,s)=>{var c=s(31989),x=s(16555);w.exports=function v(_,f){return _&&c(f,x(f),_)}},85683:(w,k,s)=>{var c=s(56713);w.exports=function x(v,_,f){"__proto__"==_&&c?c(v,_,{configurable:!0,enumerable:!0,value:f,writable:!0}):v[_]=f}},44462:(w,k,s)=>{var c=s(2858),x=s(96837),v=s(89719),_=s(94121),f=s(99287),t=s(19292),p=s(99454),l=s(84444),h=s(59905),m=s(47597),u=s(6967),g=s(28794),C=s(76782),A=s(37878),L=s(4264),P=s(21503),O=s(80891),R=s(13222),U=s(25940),z=s(90799),X=s(118),it=s(16555),tt="[object Arguments]",rt="[object Function]",Ct="[object Object]",Be={};Be[tt]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object DataView]"]=Be["[object Boolean]"]=Be["[object Date]"]=Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Map]"]=Be["[object Number]"]=Be[Ct]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object Symbol]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Error]"]=Be[rt]=Be["[object WeakMap]"]=!1,w.exports=function Cn(ke,Zn,Wn,ai,Yn,An){var Ke,En=1&Zn,Pn=2&Zn,Ve=4&Zn;if(Wn&&(Ke=Yn?Wn(ke,ai,Yn,An):Wn(ke)),void 0!==Ke)return Ke;if(!U(ke))return ke;var mi=P(ke);if(mi){if(Ke=C(ke),!En)return p(ke,Ke)}else{var Hn=g(ke),yn=Hn==rt||"[object GeneratorFunction]"==Hn;if(O(ke))return t(ke,En);if(Hn==Ct||Hn==tt||yn&&!Yn){if(Ke=Pn||yn?{}:L(ke),!En)return Pn?h(ke,f(Ke,ke)):l(ke,_(Ke,ke))}else{if(!Be[Hn])return Yn?ke:{};Ke=A(ke,Hn,En)}}An||(An=new c);var Xn=An.get(ke);if(Xn)return Xn;An.set(ke,Ke),z(ke)?ke.forEach(function($n){Ke.add(Cn($n,Zn,Wn,$n,ke,An))}):R(ke)&&ke.forEach(function($n,Jn){Ke.set(Jn,Cn($n,Zn,Wn,Jn,ke,An))});var Oe=mi?void 0:(Ve?Pn?u:m:Pn?it:X)(ke);return x(Oe||ke,function($n,Jn){Oe&&($n=ke[Jn=$n]),v(Ke,Jn,Cn($n,Zn,Wn,Jn,ke,An))}),Ke}},78858:(w,k,s)=>{var c=s(25940),x=Object.create,v=function(){function _(){}return function(f){if(!c(f))return{};if(x)return x(f);_.prototype=f;var t=new _;return _.prototype=void 0,t}}();w.exports=v},43132:(w,k,s)=>{var c=s(45184),v=s(16539)(c);w.exports=v},67308:(w,k,s)=>{var c=s(44129);w.exports=function x(v,_,f){for(var t=-1,p=v.length;++t<p;){var l=v[t],h=_(l);if(null!=h&&(void 0===m?h==h&&!c(h):f(h,m)))var m=h,u=l}return u}},33609:(w,k,s)=>{var c=s(43132);w.exports=function x(v,_){var f=[];return c(v,function(t,p,l){_(t,p,l)&&f.push(t)}),f}},65317:w=>{w.exports=function k(s,c,x,v){for(var _=s.length,f=x+(v?1:-1);v?f--:++f<_;)if(c(s[f],f,s))return f;return-1}},50686:(w,k,s)=>{var c=s(85059),x=s(75039);w.exports=function v(_,f,t,p,l){var h=-1,m=_.length;for(t||(t=x),l||(l=[]);++h<m;){var u=_[h];f>0&&t(u)?f>1?v(u,f-1,t,p,l):c(l,u):p||(l[l.length]=u)}return l}},30755:(w,k,s)=>{var x=s(40456)();w.exports=x},45184:(w,k,s)=>{var c=s(30755),x=s(118);w.exports=function v(_,f){return _&&c(_,f,x)}},15456:(w,k,s)=>{var c=s(65456),x=s(68533);w.exports=function v(_,f){for(var t=0,p=(f=c(f,_)).length;null!=_&&t<p;)_=_[x(f[t++])];return t&&t==p?_:void 0}},38247:(w,k,s)=>{var c=s(85059),x=s(21503);w.exports=function v(_,f,t){var p=f(_);return x(_)?p:c(p,t(_))}},93337:(w,k,s)=>{var c=s(60443),x=s(21318),v=s(92902),t=c?c.toStringTag:void 0;w.exports=function p(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":t&&t in Object(l)?x(l):v(l)}},31100:w=>{w.exports=function k(s,c){return s>c}},84781:w=>{var s=Object.prototype.hasOwnProperty;w.exports=function c(x,v){return null!=x&&s.call(x,v)}},69989:w=>{w.exports=function k(s,c){return null!=s&&c in Object(s)}},14164:(w,k,s)=>{var c=s(65317),x=s(70968),v=s(24977);w.exports=function _(f,t,p){return t==t?v(f,t,p):c(f,x,p)}},60186:(w,k,s)=>{var c=s(93337),x=s(72671);w.exports=function _(f){return x(f)&&"[object Arguments]"==c(f)}},85740:(w,k,s)=>{var c=s(58325),x=s(72671);w.exports=function v(_,f,t,p,l){return _===f||(null==_||null==f||!x(_)&&!x(f)?_!=_&&f!=f:c(_,f,t,p,v,l))}},58325:(w,k,s)=>{var c=s(2858),x=s(63914),v=s(78583),_=s(32286),f=s(28794),t=s(21503),p=s(80891),l=s(48159),m="[object Arguments]",u="[object Array]",g="[object Object]",A=Object.prototype.hasOwnProperty;w.exports=function L(P,O,R,U,z,X){var it=t(P),nt=t(O),ut=it?u:f(P),J=nt?u:f(O),tt=(ut=ut==m?g:ut)==g,$=(J=J==m?g:J)==g,st=ut==J;if(st&&p(P)){if(!p(O))return!1;it=!0,tt=!1}if(st&&!tt)return X||(X=new c),it||l(P)?x(P,O,R,U,z,X):v(P,O,ut,R,U,z,X);if(!(1&R)){var Y=tt&&A.call(P,"__wrapped__"),K=$&&A.call(O,"__wrapped__");if(Y||K){var rt=Y?P.value():P,at=K?O.value():O;return X||(X=new c),z(rt,at,R,U,X)}}return!!st&&(X||(X=new c),_(P,O,R,U,z,X))}},97021:(w,k,s)=>{var c=s(28794),x=s(72671);w.exports=function _(f){return x(f)&&"[object Map]"==c(f)}},40431:(w,k,s)=>{var c=s(2858),x=s(85740);w.exports=function f(t,p,l,h){var m=l.length,u=m,g=!h;if(null==t)return!u;for(t=Object(t);m--;){var C=l[m];if(g&&C[2]?C[1]!==t[C[0]]:!(C[0]in t))return!1}for(;++m<u;){var A=(C=l[m])[0],L=t[A],P=C[1];if(g&&C[2]){if(void 0===L&&!(A in t))return!1}else{var O=new c;if(h)var R=h(L,P,A,t,p,O);if(!(void 0===R?x(P,L,3,h,O):R))return!1}}return!0}},70968:w=>{w.exports=function k(s){return s!=s}},37304:(w,k,s)=>{var c=s(75946),x=s(91943),v=s(25940),_=s(52827),t=/^\[object .+?Constructor\]$/,u=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");w.exports=function g(C){return!(!v(C)||x(C))&&(c(C)?u:t).test(_(C))}},771:(w,k,s)=>{var c=s(28794),x=s(72671);w.exports=function _(f){return x(f)&&"[object Set]"==c(f)}},1083:(w,k,s)=>{var c=s(93337),x=s(96231),v=s(72671),st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1,w.exports=function Y(K){return v(K)&&x(K.length)&&!!st[c(K)]}},96517:(w,k,s)=>{var c=s(98133),x=s(9458),v=s(32608),_=s(21503),f=s(87495);w.exports=function t(p){return"function"==typeof p?p:null==p?v:"object"==typeof p?_(p)?x(p[0],p[1]):c(p):f(p)}},81172:(w,k,s)=>{var c=s(45488),x=s(85491),_=Object.prototype.hasOwnProperty;w.exports=function f(t){if(!c(t))return x(t);var p=[];for(var l in Object(t))_.call(t,l)&&"constructor"!=l&&p.push(l);return p}},92809:(w,k,s)=>{var c=s(25940),x=s(45488),v=s(32158),f=Object.prototype.hasOwnProperty;w.exports=function t(p){if(!c(p))return v(p);var l=x(p),h=[];for(var m in p)"constructor"==m&&(l||!f.call(p,m))||h.push(m);return h}},99069:w=>{w.exports=function k(s,c){return s<c}},92046:(w,k,s)=>{var c=s(43132),x=s(56507);w.exports=function v(_,f){var t=-1,p=x(_)?Array(_.length):[];return c(_,function(l,h,m){p[++t]=f(l,h,m)}),p}},98133:(w,k,s)=>{var c=s(40431),x=s(22379),v=s(642);w.exports=function _(f){var t=x(f);return 1==t.length&&t[0][2]?v(t[0][0],t[0][1]):function(p){return p===f||c(p,f,t)}}},9458:(w,k,s)=>{var c=s(85740),x=s(8817),v=s(11172),_=s(45352),f=s(22442),t=s(642),p=s(68533);w.exports=function m(u,g){return _(u)&&f(g)?t(p(u),g):function(C){var A=x(C,u);return void 0===A&&A===g?v(C,u):c(g,A,3)}}},73842:(w,k,s)=>{var c=s(2858),x=s(49276),v=s(30755),_=s(33675),f=s(25940),t=s(16555),p=s(99351);w.exports=function l(h,m,u,g,C){h!==m&&v(m,function(A,L){if(C||(C=new c),f(A))_(h,m,L,u,l,g,C);else{var P=g?g(p(h,L),A,L+"",h,m,C):void 0;void 0===P&&(P=A),x(h,L,P)}},t)}},33675:(w,k,s)=>{var c=s(49276),x=s(19292),v=s(65208),_=s(99454),f=s(4264),t=s(77151),p=s(21503),l=s(92377),h=s(80891),m=s(75946),u=s(25940),g=s(97614),C=s(48159),A=s(99351),L=s(8067);w.exports=function P(O,R,U,z,X,it,nt){var ut=A(O,U),J=A(R,U),tt=nt.get(J);if(tt)c(O,U,tt);else{var $=it?it(ut,J,U+"",O,R,nt):void 0,st=void 0===$;if(st){var Y=p(J),K=!Y&&h(J),rt=!Y&&!K&&C(J);$=J,Y||K||rt?p(ut)?$=ut:l(ut)?$=_(ut):K?(st=!1,$=x(J,!0)):rt?(st=!1,$=v(J,!0)):$=[]:g(J)||t(J)?($=ut,t(ut)?$=L(ut):(!u(ut)||m(ut))&&($=f(J))):st=!1}st&&(nt.set(J,$),X($,J,z,it,nt),nt.delete(J)),c(O,U,$)}}},6119:(w,k,s)=>{var c=s(84633),x=s(15456),v=s(96517),_=s(92046),f=s(42061),t=s(85647),p=s(41215),l=s(32608),h=s(21503);w.exports=function m(u,g,C){g=g.length?c(g,function(P){return h(P)?function(O){return x(O,1===P.length?P[0]:P)}:P}):[l];var A=-1;g=c(g,t(v));var L=_(u,function(P,O,R){return{criteria:c(g,function(z){return z(P)}),index:++A,value:P}});return f(L,function(P,O){return p(P,O,C)})}},83021:(w,k,s)=>{var c=s(95495),x=s(11172);w.exports=function v(_,f){return c(_,f,function(t,p){return x(_,p)})}},95495:(w,k,s)=>{var c=s(15456),x=s(55963),v=s(65456);w.exports=function _(f,t,p){for(var l=-1,h=t.length,m={};++l<h;){var u=t[l],g=c(f,u);p(g,u)&&x(m,v(u,f),g)}return m}},11847:w=>{w.exports=function k(s){return function(c){return null==c?void 0:c[s]}}},39222:(w,k,s)=>{var c=s(15456);w.exports=function x(v){return function(_){return c(_,v)}}},16307:w=>{var k=Math.ceil,s=Math.max;w.exports=function c(x,v,_,f){for(var t=-1,p=s(k((v-x)/(_||1)),0),l=Array(p);p--;)l[f?p:++t]=x,x+=_;return l}},13570:w=>{w.exports=function k(s,c,x,v,_){return _(s,function(f,t,p){x=v?(v=!1,f):c(x,f,t,p)}),x}},23269:(w,k,s)=>{var c=s(32608),x=s(53983),v=s(72185);w.exports=function _(f,t){return v(x(f,t,c),f+"")}},55963:(w,k,s)=>{var c=s(89719),x=s(65456),v=s(58442),_=s(25940),f=s(68533);w.exports=function t(p,l,h,m){if(!_(p))return p;for(var u=-1,g=(l=x(l,p)).length,C=g-1,A=p;null!=A&&++u<g;){var L=f(l[u]),P=h;if("__proto__"===L||"constructor"===L||"prototype"===L)return p;if(u!=C){var O=A[L];void 0===(P=m?m(O,L,A):void 0)&&(P=_(O)?O:v(l[u+1])?[]:{})}c(A,L,P),A=A[L]}return p}},69510:(w,k,s)=>{var c=s(76684),x=s(56713),v=s(32608);w.exports=x?function(f,t){return x(f,"toString",{configurable:!0,enumerable:!1,value:c(t),writable:!0})}:v},42061:w=>{w.exports=function k(s,c){var x=s.length;for(s.sort(c);x--;)s[x]=s[x].value;return s}},85334:w=>{w.exports=function k(s,c){for(var x=-1,v=Array(s);++x<s;)v[x]=c(x);return v}},93935:(w,k,s)=>{var c=s(60443),x=s(84633),v=s(21503),_=s(44129),t=c?c.prototype:void 0,p=t?t.toString:void 0;w.exports=function l(h){if("string"==typeof h)return h;if(v(h))return x(h,l)+"";if(_(h))return p?p.call(h):"";var m=h+"";return"0"==m&&1/h==-1/0?"-0":m}},83348:(w,k,s)=>{var c=s(42760),x=/^\s+/;w.exports=function v(_){return _&&_.slice(0,c(_)+1).replace(x,"")}},85647:w=>{w.exports=function k(s){return function(c){return s(c)}}},80707:(w,k,s)=>{var c=s(58849),x=s(61253),v=s(37609),_=s(25972),f=s(14575),t=s(24174);w.exports=function l(h,m,u){var g=-1,C=x,A=h.length,L=!0,P=[],O=P;if(u)L=!1,C=v;else if(A>=200){var R=m?null:f(h);if(R)return t(R);L=!1,C=_,O=new c}else O=m?[]:P;t:for(;++g<A;){var U=h[g],z=m?m(U):U;if(U=u||0!==U?U:0,L&&z==z){for(var X=O.length;X--;)if(O[X]===z)continue t;m&&O.push(z),P.push(U)}else C(O,z,u)||(O!==P&&O.push(z),P.push(U))}return P}},19179:(w,k,s)=>{var c=s(84633);w.exports=function x(v,_){return c(_,function(f){return v[f]})}},38645:w=>{w.exports=function k(s,c,x){for(var v=-1,_=s.length,f=c.length,t={};++v<_;)x(t,s[v],v<f?c[v]:void 0);return t}},25972:w=>{w.exports=function k(s,c){return s.has(c)}},21481:(w,k,s)=>{var c=s(32608);w.exports=function x(v){return"function"==typeof v?v:c}},65456:(w,k,s)=>{var c=s(21503),x=s(45352),v=s(32855),_=s(73943);w.exports=function f(t,p){return c(t)?t:x(t,p)?[t]:v(_(t))}},43362:(w,k,s)=>{var c=s(73457);w.exports=function x(v){var _=new v.constructor(v.byteLength);return new c(_).set(new c(v)),_}},19292:(w,k,s)=>{w=s.nmd(w);var c=s(12119),x=k&&!k.nodeType&&k,v=x&&w&&!w.nodeType&&w,f=v&&v.exports===x?c.Buffer:void 0,t=f?f.allocUnsafe:void 0;w.exports=function p(l,h){if(h)return l.slice();var m=l.length,u=t?t(m):new l.constructor(m);return l.copy(u),u}},17e3:(w,k,s)=>{var c=s(43362);w.exports=function x(v,_){var f=_?c(v.buffer):v.buffer;return new v.constructor(f,v.byteOffset,v.byteLength)}},74098:w=>{var k=/\w*$/;w.exports=function s(c){var x=new c.constructor(c.source,k.exec(c));return x.lastIndex=c.lastIndex,x}},62533:(w,k,s)=>{var c=s(60443),x=c?c.prototype:void 0,v=x?x.valueOf:void 0;w.exports=function _(f){return v?Object(v.call(f)):{}}},65208:(w,k,s)=>{var c=s(43362);w.exports=function x(v,_){var f=_?c(v.buffer):v.buffer;return new v.constructor(f,v.byteOffset,v.length)}},13443:(w,k,s)=>{var c=s(44129);w.exports=function x(v,_){if(v!==_){var f=void 0!==v,t=null===v,p=v==v,l=c(v),h=void 0!==_,m=null===_,u=_==_,g=c(_);if(!m&&!g&&!l&&v>_||l&&h&&u&&!m&&!g||t&&h&&u||!f&&u||!p)return 1;if(!t&&!l&&!g&&v<_||g&&f&&p&&!t&&!l||m&&f&&p||!h&&p||!u)return-1}return 0}},41215:(w,k,s)=>{var c=s(13443);w.exports=function x(v,_,f){for(var t=-1,p=v.criteria,l=_.criteria,h=p.length,m=f.length;++t<h;){var u=c(p[t],l[t]);if(u)return t>=m?u:u*("desc"==f[t]?-1:1)}return v.index-_.index}},99454:w=>{w.exports=function k(s,c){var x=-1,v=s.length;for(c||(c=Array(v));++x<v;)c[x]=s[x];return c}},31989:(w,k,s)=>{var c=s(89719),x=s(85683);w.exports=function v(_,f,t,p){var l=!t;t||(t={});for(var h=-1,m=f.length;++h<m;){var u=f[h],g=p?p(t[u],_[u],u,t,_):void 0;void 0===g&&(g=_[u]),l?x(t,u,g):c(t,u,g)}return t}},84444:(w,k,s)=>{var c=s(31989),x=s(39383);w.exports=function v(_,f){return c(_,x(_),f)}},59905:(w,k,s)=>{var c=s(31989),x=s(53051);w.exports=function v(_,f){return c(_,x(_),f)}},24610:(w,k,s)=>{var c=s(12119);w.exports=c["__core-js_shared__"]},84944:(w,k,s)=>{var c=s(23269),x=s(93342);w.exports=function v(_){return c(function(f,t){var p=-1,l=t.length,h=l>1?t[l-1]:void 0,m=l>2?t[2]:void 0;for(h=_.length>3&&"function"==typeof h?(l--,h):void 0,m&&x(t[0],t[1],m)&&(h=l<3?void 0:h,l=1),f=Object(f);++p<l;){var u=t[p];u&&_(f,u,p,h)}return f})}},16539:(w,k,s)=>{var c=s(56507);w.exports=function x(v,_){return function(f,t){if(null==f)return f;if(!c(f))return v(f,t);for(var p=f.length,l=_?p:-1,h=Object(f);(_?l--:++l<p)&&!1!==t(h[l],l,h););return f}}},40456:w=>{w.exports=function k(s){return function(c,x,v){for(var _=-1,f=Object(c),t=v(c),p=t.length;p--;){var l=t[s?p:++_];if(!1===x(f[l],l,f))break}return c}}},24653:(w,k,s)=>{var c=s(96517),x=s(56507),v=s(118);w.exports=function _(f){return function(t,p,l){var h=Object(t);if(!x(t)){var m=c(p,3);t=v(t),p=function(g){return m(h[g],g,h)}}var u=f(t,p,l);return u>-1?h[m?t[u]:u]:void 0}}},97509:(w,k,s)=>{var c=s(16307),x=s(93342),v=s(12232);w.exports=function _(f){return function(t,p,l){return l&&"number"!=typeof l&&x(t,p,l)&&(p=l=void 0),t=v(t),void 0===p?(p=t,t=0):p=v(p),l=void 0===l?t<p?1:-1:v(l),c(t,p,l,f)}}},14575:(w,k,s)=>{var c=s(46323),x=s(12552),v=s(24174),f=c&&1/v(new c([,-0]))[1]==1/0?function(t){return new c(t)}:x;w.exports=f},56713:(w,k,s)=>{var c=s(53436),x=function(){try{var v=c(Object,"defineProperty");return v({},"",{}),v}catch(_){}}();w.exports=x},63914:(w,k,s)=>{var c=s(58849),x=s(79503),v=s(25972);w.exports=function t(p,l,h,m,u,g){var C=1&h,A=p.length,L=l.length;if(A!=L&&!(C&&L>A))return!1;var P=g.get(p),O=g.get(l);if(P&&O)return P==l&&O==p;var R=-1,U=!0,z=2&h?new c:void 0;for(g.set(p,l),g.set(l,p);++R<A;){var X=p[R],it=l[R];if(m)var nt=C?m(it,X,R,l,p,g):m(X,it,R,p,l,g);if(void 0!==nt){if(nt)continue;U=!1;break}if(z){if(!x(l,function(ut,J){if(!v(z,J)&&(X===ut||u(X,ut,h,m,g)))return z.push(J)})){U=!1;break}}else if(X!==it&&!u(X,it,h,m,g)){U=!1;break}}return g.delete(p),g.delete(l),U}},78583:(w,k,s)=>{var c=s(60443),x=s(73457),v=s(20217),_=s(63914),f=s(83205),t=s(24174),z=c?c.prototype:void 0,X=z?z.valueOf:void 0;w.exports=function it(nt,ut,J,tt,$,st,Y){switch(J){case"[object DataView]":if(nt.byteLength!=ut.byteLength||nt.byteOffset!=ut.byteOffset)return!1;nt=nt.buffer,ut=ut.buffer;case"[object ArrayBuffer]":return!(nt.byteLength!=ut.byteLength||!st(new x(nt),new x(ut)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+nt,+ut);case"[object Error]":return nt.name==ut.name&&nt.message==ut.message;case"[object RegExp]":case"[object String]":return nt==ut+"";case"[object Map]":var K=f;case"[object Set]":if(K||(K=t),nt.size!=ut.size&&!(1&tt))return!1;var at=Y.get(nt);if(at)return at==ut;tt|=2,Y.set(nt,ut);var V=_(K(nt),K(ut),tt,$,st,Y);return Y.delete(nt),V;case"[object Symbol]":if(X)return X.call(nt)==X.call(ut)}return!1}},32286:(w,k,s)=>{var c=s(47597),_=Object.prototype.hasOwnProperty;w.exports=function f(t,p,l,h,m,u){var g=1&l,C=c(t),A=C.length;if(A!=c(p).length&&!g)return!1;for(var O=A;O--;){var R=C[O];if(!(g?R in p:_.call(p,R)))return!1}var U=u.get(t),z=u.get(p);if(U&&z)return U==p&&z==t;var X=!0;u.set(t,p),u.set(p,t);for(var it=g;++O<A;){var nt=t[R=C[O]],ut=p[R];if(h)var J=g?h(ut,nt,R,p,t,u):h(nt,ut,R,t,p,u);if(!(void 0===J?nt===ut||m(nt,ut,l,h,u):J)){X=!1;break}it||(it="constructor"==R)}if(X&&!it){var tt=t.constructor,$=p.constructor;tt!=$&&"constructor"in t&&"constructor"in p&&!("function"==typeof tt&&tt instanceof tt&&"function"==typeof $&&$ instanceof $)&&(X=!1)}return u.delete(t),u.delete(p),X}},3975:(w,k,s)=>{var c=s(22274),x=s(53983),v=s(72185);w.exports=function _(f){return v(x(f,void 0,c),f+"")}},79122:w=>{var k="object"==typeof global&&global&&global.Object===Object&&global;w.exports=k},47597:(w,k,s)=>{var c=s(38247),x=s(39383),v=s(118);w.exports=function _(f){return c(f,v,x)}},6967:(w,k,s)=>{var c=s(38247),x=s(53051),v=s(16555);w.exports=function _(f){return c(f,v,x)}},54537:(w,k,s)=>{var c=s(23819);w.exports=function x(v,_){var f=v.__data__;return c(_)?f["string"==typeof _?"string":"hash"]:f.map}},22379:(w,k,s)=>{var c=s(22442),x=s(118);w.exports=function v(_){for(var f=x(_),t=f.length;t--;){var p=f[t],l=_[p];f[t]=[p,l,c(l)]}return f}},53436:(w,k,s)=>{var c=s(37304),x=s(51990);w.exports=function v(_,f){var t=x(_,f);return c(t)?t:void 0}},29519:(w,k,s)=>{var x=s(69385)(Object.getPrototypeOf,Object);w.exports=x},21318:(w,k,s)=>{var c=s(60443),x=Object.prototype,v=x.hasOwnProperty,_=x.toString,f=c?c.toStringTag:void 0;w.exports=function t(p){var l=v.call(p,f),h=p[f];try{p[f]=void 0;var m=!0}catch(g){}var u=_.call(p);return m&&(l?p[f]=h:delete p[f]),u}},39383:(w,k,s)=>{var c=s(69779),x=s(49975),_=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;w.exports=f?function(p){return null==p?[]:(p=Object(p),c(f(p),function(l){return _.call(p,l)}))}:x},53051:(w,k,s)=>{var c=s(85059),x=s(29519),v=s(39383),_=s(49975);w.exports=Object.getOwnPropertySymbols?function(p){for(var l=[];p;)c(l,v(p)),p=x(p);return l}:_},28794:(w,k,s)=>{var c=s(37244),x=s(51501),v=s(44267),_=s(46323),f=s(24243),t=s(93337),p=s(52827),l="[object Map]",m="[object Promise]",u="[object Set]",g="[object WeakMap]",C="[object DataView]",A=p(c),L=p(x),P=p(v),O=p(_),R=p(f),U=t;(c&&U(new c(new ArrayBuffer(1)))!=C||x&&U(new x)!=l||v&&U(v.resolve())!=m||_&&U(new _)!=u||f&&U(new f)!=g)&&(U=function(z){var X=t(z),it="[object Object]"==X?z.constructor:void 0,nt=it?p(it):"";if(nt)switch(nt){case A:return C;case L:return l;case P:return m;case O:return u;case R:return g}return X}),w.exports=U},51990:w=>{w.exports=function k(s,c){return null==s?void 0:s[c]}},47283:(w,k,s)=>{var c=s(65456),x=s(77151),v=s(21503),_=s(58442),f=s(96231),t=s(68533);w.exports=function p(l,h,m){for(var u=-1,g=(h=c(h,l)).length,C=!1;++u<g;){var A=t(h[u]);if(!(C=null!=l&&m(l,A)))break;l=l[A]}return C||++u!=g?C:!!(g=null==l?0:l.length)&&f(g)&&_(A,g)&&(v(l)||x(l))}},77609:w=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");w.exports=function p(l){return t.test(l)}},64312:(w,k,s)=>{var c=s(60862);w.exports=function x(){this.__data__=c?c(null):{},this.size=0}},46421:w=>{w.exports=function k(s){var c=this.has(s)&&delete this.__data__[s];return this.size-=c?1:0,c}},15764:(w,k,s)=>{var c=s(60862),_=Object.prototype.hasOwnProperty;w.exports=function f(t){var p=this.__data__;if(c){var l=p[t];return"__lodash_hash_undefined__"===l?void 0:l}return _.call(p,t)?p[t]:void 0}},18685:(w,k,s)=>{var c=s(60862),v=Object.prototype.hasOwnProperty;w.exports=function _(f){var t=this.__data__;return c?void 0!==t[f]:v.call(t,f)}},26676:(w,k,s)=>{var c=s(60862);w.exports=function v(_,f){var t=this.__data__;return this.size+=this.has(_)?0:1,t[_]=c&&void 0===f?"__lodash_hash_undefined__":f,this}},76782:w=>{var s=Object.prototype.hasOwnProperty;w.exports=function c(x){var v=x.length,_=new x.constructor(v);return v&&"string"==typeof x[0]&&s.call(x,"index")&&(_.index=x.index,_.input=x.input),_}},37878:(w,k,s)=>{var c=s(43362),x=s(17e3),v=s(74098),_=s(62533),f=s(65208);w.exports=function J(tt,$,st){var Y=tt.constructor;switch($){case"[object ArrayBuffer]":return c(tt);case"[object Boolean]":case"[object Date]":return new Y(+tt);case"[object DataView]":return x(tt,st);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(tt,st);case"[object Map]":case"[object Set]":return new Y;case"[object Number]":case"[object String]":return new Y(tt);case"[object RegExp]":return v(tt);case"[object Symbol]":return _(tt)}}},4264:(w,k,s)=>{var c=s(78858),x=s(29519),v=s(45488);w.exports=function _(f){return"function"!=typeof f.constructor||v(f)?{}:c(x(f))}},75039:(w,k,s)=>{var c=s(60443),x=s(77151),v=s(21503),_=c?c.isConcatSpreadable:void 0;w.exports=function f(t){return v(t)||x(t)||!!(_&&t&&t[_])}},58442:w=>{var s=/^(?:0|[1-9]\d*)$/;w.exports=function c(x,v){var _=typeof x;return!!(v=null==v?9007199254740991:v)&&("number"==_||"symbol"!=_&&s.test(x))&&x>-1&&x%1==0&&x<v}},93342:(w,k,s)=>{var c=s(20217),x=s(56507),v=s(58442),_=s(25940);w.exports=function f(t,p,l){if(!_(l))return!1;var h=typeof p;return!!("number"==h?x(l)&&v(p,l.length):"string"==h&&p in l)&&c(l[p],t)}},45352:(w,k,s)=>{var c=s(21503),x=s(44129),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;w.exports=function f(t,p){if(c(t))return!1;var l=typeof t;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=t&&!x(t))||_.test(t)||!v.test(t)||null!=p&&t in Object(p)}},23819:w=>{w.exports=function k(s){var c=typeof s;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==s:null===s}},91943:(w,k,s)=>{var _,c=s(24610),x=(_=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";w.exports=function v(_){return!!x&&x in _}},45488:w=>{var k=Object.prototype;w.exports=function s(c){var x=c&&c.constructor;return c===("function"==typeof x&&x.prototype||k)}},22442:(w,k,s)=>{var c=s(25940);w.exports=function x(v){return v==v&&!c(v)}},41840:w=>{w.exports=function k(){this.__data__=[],this.size=0}},34378:(w,k,s)=>{var c=s(43503),v=Array.prototype.splice;w.exports=function _(f){var t=this.__data__,p=c(t,f);return!(p<0||(p==t.length-1?t.pop():v.call(t,p,1),--this.size,0))}},54981:(w,k,s)=>{var c=s(43503);w.exports=function x(v){var _=this.__data__,f=c(_,v);return f<0?void 0:_[f][1]}},67343:(w,k,s)=>{var c=s(43503);w.exports=function x(v){return c(this.__data__,v)>-1}},98895:(w,k,s)=>{var c=s(43503);w.exports=function x(v,_){var f=this.__data__,t=c(f,v);return t<0?(++this.size,f.push([v,_])):f[t][1]=_,this}},10638:(w,k,s)=>{var c=s(54994),x=s(9215),v=s(51501);w.exports=function _(){this.size=0,this.__data__={hash:new c,map:new(v||x),string:new c}}},11184:(w,k,s)=>{var c=s(54537);w.exports=function x(v){var _=c(this,v).delete(v);return this.size-=_?1:0,_}},70866:(w,k,s)=>{var c=s(54537);w.exports=function x(v){return c(this,v).get(v)}},43771:(w,k,s)=>{var c=s(54537);w.exports=function x(v){return c(this,v).has(v)}},51772:(w,k,s)=>{var c=s(54537);w.exports=function x(v,_){var f=c(this,v),t=f.size;return f.set(v,_),this.size+=f.size==t?0:1,this}},83205:w=>{w.exports=function k(s){var c=-1,x=Array(s.size);return s.forEach(function(v,_){x[++c]=[_,v]}),x}},642:w=>{w.exports=function k(s,c){return function(x){return null!=x&&x[s]===c&&(void 0!==c||s in Object(x))}}},15144:(w,k,s)=>{var c=s(30535);w.exports=function v(_){var f=c(_,function(p){return 500===t.size&&t.clear(),p}),t=f.cache;return f}},60862:(w,k,s)=>{var x=s(53436)(Object,"create");w.exports=x},85491:(w,k,s)=>{var x=s(69385)(Object.keys,Object);w.exports=x},32158:w=>{w.exports=function k(s){var c=[];if(null!=s)for(var x in Object(s))c.push(x);return c}},73597:(w,k,s)=>{w=s.nmd(w);var c=s(79122),x=k&&!k.nodeType&&k,v=x&&w&&!w.nodeType&&w,f=v&&v.exports===x&&c.process,t=function(){try{return v&&v.require&&v.require("util").types||f&&f.binding&&f.binding("util")}catch(l){}}();w.exports=t},92902:w=>{var s=Object.prototype.toString;w.exports=function c(x){return s.call(x)}},69385:w=>{w.exports=function k(s,c){return function(x){return s(c(x))}}},53983:(w,k,s)=>{var c=s(26999),x=Math.max;w.exports=function v(_,f,t){return f=x(void 0===f?_.length-1:f,0),function(){for(var p=arguments,l=-1,h=x(p.length-f,0),m=Array(h);++l<h;)m[l]=p[f+l];l=-1;for(var u=Array(f+1);++l<f;)u[l]=p[l];return u[f]=t(m),c(_,this,u)}}},12119:(w,k,s)=>{var c=s(79122),x="object"==typeof self&&self&&self.Object===Object&&self,v=c||x||Function("return this")();w.exports=v},99351:w=>{w.exports=function k(s,c){if(("constructor"!==c||"function"!=typeof s[c])&&"__proto__"!=c)return s[c]}},4600:w=>{w.exports=function s(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},31387:w=>{w.exports=function k(s){return this.__data__.has(s)}},24174:w=>{w.exports=function k(s){var c=-1,x=Array(s.size);return s.forEach(function(v){x[++c]=v}),x}},72185:(w,k,s)=>{var c=s(69510),v=s(10029)(c);w.exports=v},10029:w=>{var c=Date.now;w.exports=function x(v){var _=0,f=0;return function(){var t=c(),p=16-(t-f);if(f=t,p>0){if(++_>=800)return arguments[0]}else _=0;return v.apply(void 0,arguments)}}},13720:(w,k,s)=>{var c=s(9215);w.exports=function x(){this.__data__=new c,this.size=0}},64410:w=>{w.exports=function k(s){var c=this.__data__,x=c.delete(s);return this.size=c.size,x}},45576:w=>{w.exports=function k(s){return this.__data__.get(s)}},22247:w=>{w.exports=function k(s){return this.__data__.has(s)}},41585:(w,k,s)=>{var c=s(9215),x=s(51501),v=s(99850);w.exports=function f(t,p){var l=this.__data__;if(l instanceof c){var h=l.__data__;if(!x||h.length<199)return h.push([t,p]),this.size=++l.size,this;l=this.__data__=new v(h)}return l.set(t,p),this.size=l.size,this}},24977:w=>{w.exports=function k(s,c,x){for(var v=x-1,_=s.length;++v<_;)if(s[v]===c)return v;return-1}},52315:(w,k,s)=>{var c=s(75481),x=s(77609),v=s(81149);w.exports=function _(f){return x(f)?v(f):c(f)}},32855:(w,k,s)=>{var c=s(15144),x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,_=c(function(f){var t=[];return 46===f.charCodeAt(0)&&t.push(""),f.replace(x,function(p,l,h,m){t.push(h?m.replace(v,"$1"):l||p)}),t});w.exports=_},68533:(w,k,s)=>{var c=s(44129);w.exports=function v(_){if("string"==typeof _||c(_))return _;var f=_+"";return"0"==f&&1/_==-1/0?"-0":f}},52827:w=>{var s=Function.prototype.toString;w.exports=function c(x){if(null!=x){try{return s.call(x)}catch(v){}try{return x+""}catch(v){}}return""}},42760:w=>{var k=/\s/;w.exports=function s(c){for(var x=c.length;x--&&k.test(c.charAt(x)););return x}},81149:w=>{var k="\\ud800-\\udfff",f="["+k+"]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",p="\\ud83c[\\udffb-\\udfff]",h="[^"+k+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",C="(?:"+t+"|"+p+")?",A="[\\ufe0e\\ufe0f]?",P=A+C+"(?:\\u200d(?:"+[h,m,u].join("|")+")"+A+C+")*",O="(?:"+[h+t+"?",t,m,u,f].join("|")+")",R=RegExp(p+"(?="+p+")|"+O+P,"g");w.exports=function U(z){for(var X=R.lastIndex=0;R.test(z);)++X;return X}},11094:(w,k,s)=>{var c=s(44462);w.exports=function v(_){return c(_,4)}},90733:(w,k,s)=>{var c=s(44462);w.exports=function _(f){return c(f,5)}},76684:w=>{w.exports=function k(s){return function(){return s}}},28800:(w,k,s)=>{var c=s(23269),x=s(20217),v=s(93342),_=s(16555),f=Object.prototype,t=f.hasOwnProperty,p=c(function(l,h){l=Object(l);var m=-1,u=h.length,g=u>2?h[2]:void 0;for(g&&v(h[0],h[1],g)&&(u=1);++m<u;)for(var C=h[m],A=_(C),L=-1,P=A.length;++L<P;){var O=A[L],R=l[O];(void 0===R||x(R,f[O])&&!t.call(l,O))&&(l[O]=C[O])}return l});w.exports=p},35474:(w,k,s)=>{w.exports=s(89851)},20217:w=>{w.exports=function k(s,c){return s===c||s!=s&&c!=c}},35281:(w,k,s)=>{var c=s(69779),x=s(33609),v=s(96517),_=s(21503);w.exports=function f(t,p){return(_(t)?c:x)(t,v(p,3))}},62516:(w,k,s)=>{var v=s(24653)(s(36397));w.exports=v},36397:(w,k,s)=>{var c=s(65317),x=s(96517),v=s(44401),_=Math.max;w.exports=function f(t,p,l){var h=null==t?0:t.length;if(!h)return-1;var m=null==l?0:v(l);return m<0&&(m=_(h+m,0)),c(t,x(p,3),m)}},22274:(w,k,s)=>{var c=s(50686);w.exports=function x(v){return null!=v&&v.length?c(v,1):[]}},89851:(w,k,s)=>{var c=s(96837),x=s(43132),v=s(21481),_=s(21503);w.exports=function f(t,p){return(_(t)?c:x)(t,v(p))}},41176:(w,k,s)=>{var c=s(30755),x=s(21481),v=s(16555);w.exports=function _(f,t){return null==f?f:c(f,x(t),v)}},8817:(w,k,s)=>{var c=s(15456);w.exports=function x(v,_,f){var t=null==v?void 0:c(v,_);return void 0===t?f:t}},54842:(w,k,s)=>{var c=s(84781),x=s(47283);w.exports=function v(_,f){return null!=_&&x(_,f,c)}},11172:(w,k,s)=>{var c=s(69989),x=s(47283);w.exports=function v(_,f){return null!=_&&x(_,f,c)}},32608:w=>{w.exports=function k(s){return s}},77151:(w,k,s)=>{var c=s(60186),x=s(72671),v=Object.prototype,_=v.hasOwnProperty,f=v.propertyIsEnumerable,t=c(function(){return arguments}())?c:function(p){return x(p)&&_.call(p,"callee")&&!f.call(p,"callee")};w.exports=t},21503:w=>{w.exports=Array.isArray},56507:(w,k,s)=>{var c=s(75946),x=s(96231);w.exports=function v(_){return null!=_&&x(_.length)&&!c(_)}},92377:(w,k,s)=>{var c=s(56507),x=s(72671);w.exports=function v(_){return x(_)&&c(_)}},80891:(w,k,s)=>{w=s.nmd(w);var c=s(12119),x=s(63580),v=k&&!k.nodeType&&k,_=v&&w&&!w.nodeType&&w,t=_&&_.exports===v?c.Buffer:void 0;w.exports=(t?t.isBuffer:void 0)||x},71973:(w,k,s)=>{var c=s(81172),x=s(28794),v=s(77151),_=s(21503),f=s(56507),t=s(80891),p=s(45488),l=s(48159),g=Object.prototype.hasOwnProperty;w.exports=function C(A){if(null==A)return!0;if(f(A)&&(_(A)||"string"==typeof A||"function"==typeof A.splice||t(A)||l(A)||v(A)))return!A.length;var L=x(A);if("[object Map]"==L||"[object Set]"==L)return!A.size;if(p(A))return!c(A).length;for(var P in A)if(g.call(A,P))return!1;return!0}},75946:(w,k,s)=>{var c=s(93337),x=s(25940);w.exports=function p(l){if(!x(l))return!1;var h=c(l);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}},96231:w=>{w.exports=function s(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991}},13222:(w,k,s)=>{var c=s(97021),x=s(85647),v=s(73597),_=v&&v.isMap,f=_?x(_):c;w.exports=f},25940:w=>{w.exports=function k(s){var c=typeof s;return null!=s&&("object"==c||"function"==c)}},72671:w=>{w.exports=function k(s){return null!=s&&"object"==typeof s}},97614:(w,k,s)=>{var c=s(93337),x=s(29519),v=s(72671),p=Function.prototype.toString,l=Object.prototype.hasOwnProperty,h=p.call(Object);w.exports=function m(u){if(!v(u)||"[object Object]"!=c(u))return!1;var g=x(u);if(null===g)return!0;var C=l.call(g,"constructor")&&g.constructor;return"function"==typeof C&&C instanceof C&&p.call(C)==h}},90799:(w,k,s)=>{var c=s(771),x=s(85647),v=s(73597),_=v&&v.isSet,f=_?x(_):c;w.exports=f},30248:(w,k,s)=>{var c=s(93337),x=s(21503),v=s(72671);w.exports=function f(t){return"string"==typeof t||!x(t)&&v(t)&&"[object String]"==c(t)}},44129:(w,k,s)=>{var c=s(93337),x=s(72671);w.exports=function _(f){return"symbol"==typeof f||x(f)&&"[object Symbol]"==c(f)}},48159:(w,k,s)=>{var c=s(1083),x=s(85647),v=s(73597),_=v&&v.isTypedArray,f=_?x(_):c;w.exports=f},34235:w=>{w.exports=function k(s){return void 0===s}},118:(w,k,s)=>{var c=s(72271),x=s(81172),v=s(56507);w.exports=function _(f){return v(f)?c(f):x(f)}},16555:(w,k,s)=>{var c=s(72271),x=s(92809),v=s(56507);w.exports=function _(f){return v(f)?c(f,!0):x(f)}},25809:w=>{w.exports=function k(s){var c=null==s?0:s.length;return c?s[c-1]:void 0}},19984:(w,k,s)=>{var c=s(84633),x=s(96517),v=s(92046),_=s(21503);w.exports=function f(t,p){return(_(t)?c:v)(t,x(p,3))}},10203:(w,k,s)=>{var c=s(85683),x=s(45184),v=s(96517);w.exports=function _(f,t){var p={};return t=v(t,3),x(f,function(l,h,m){c(p,h,t(l,h,m))}),p}},18176:(w,k,s)=>{var c=s(67308),x=s(31100),v=s(32608);w.exports=function _(f){return f&&f.length?c(f,v,x):void 0}},30535:(w,k,s)=>{var c=s(99850);function v(_,f){if("function"!=typeof _||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var t=function(){var p=arguments,l=f?f.apply(this,p):p[0],h=t.cache;if(h.has(l))return h.get(l);var m=_.apply(this,p);return t.cache=h.set(l,m)||h,m};return t.cache=new(v.Cache||c),t}v.Cache=c,w.exports=v},80567:(w,k,s)=>{var c=s(73842),v=s(84944)(function(_,f,t){c(_,f,t)});w.exports=v},29439:(w,k,s)=>{var c=s(67308),x=s(99069),v=s(32608);w.exports=function _(f){return f&&f.length?c(f,v,x):void 0}},29525:(w,k,s)=>{var c=s(67308),x=s(96517),v=s(99069);w.exports=function _(f,t){return f&&f.length?c(f,x(t,2),v):void 0}},12552:w=>{w.exports=function k(){}},31710:(w,k,s)=>{var c=s(12119);w.exports=function(){return c.Date.now()}},16372:(w,k,s)=>{var c=s(83021),v=s(3975)(function(_,f){return null==_?{}:c(_,f)});w.exports=v},87495:(w,k,s)=>{var c=s(11847),x=s(39222),v=s(45352),_=s(68533);w.exports=function f(t){return v(t)?c(_(t)):x(t)}},90361:(w,k,s)=>{var x=s(97509)();w.exports=x},81337:(w,k,s)=>{var c=s(8745),x=s(43132),v=s(96517),_=s(13570),f=s(21503);w.exports=function t(p,l,h){var m=f(p)?c:_,u=arguments.length<3;return m(p,v(l,4),h,u,x)}},55637:(w,k,s)=>{var c=s(81172),x=s(28794),v=s(56507),_=s(30248),f=s(52315);w.exports=function l(h){if(null==h)return 0;if(v(h))return _(h)?f(h):h.length;var m=x(h);return"[object Map]"==m||"[object Set]"==m?h.size:c(h).length}},12906:(w,k,s)=>{var c=s(50686),x=s(6119),v=s(23269),_=s(93342),f=v(function(t,p){if(null==t)return[];var l=p.length;return l>1&&_(t,p[0],p[1])?p=[]:l>2&&_(p[0],p[1],p[2])&&(p=[p[0]]),x(t,c(p,1),[])});w.exports=f},49975:w=>{w.exports=function k(){return[]}},63580:w=>{w.exports=function k(){return!1}},12232:(w,k,s)=>{var c=s(51467),x=1/0;w.exports=function _(f){return f?(f=c(f))===x||f===-x?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},44401:(w,k,s)=>{var c=s(12232);w.exports=function x(v){var _=c(v),f=_%1;return _==_?f?_-f:_:0}},51467:(w,k,s)=>{var c=s(83348),x=s(25940),v=s(44129),f=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,p=/^0o[0-7]+$/i,l=parseInt;w.exports=function h(m){if("number"==typeof m)return m;if(v(m))return NaN;if(x(m)){var u="function"==typeof m.valueOf?m.valueOf():m;m=x(u)?u+"":u}if("string"!=typeof m)return 0===m?m:+m;m=c(m);var g=t.test(m);return g||p.test(m)?l(m.slice(2),g?2:8):f.test(m)?NaN:+m}},8067:(w,k,s)=>{var c=s(31989),x=s(16555);w.exports=function v(_){return c(_,x(_))}},73943:(w,k,s)=>{var c=s(93935);w.exports=function x(v){return null==v?"":c(v)}},89416:(w,k,s)=>{var c=s(96837),x=s(78858),v=s(45184),_=s(96517),f=s(29519),t=s(21503),p=s(80891),l=s(75946),h=s(25940),m=s(48159);w.exports=function u(g,C,A){var L=t(g),P=L||p(g)||m(g);if(C=_(C,4),null==A){var O=g&&g.constructor;A=P?L?new O:[]:h(g)&&l(O)?x(f(g)):{}}return(P?c:v)(g,function(R,U,z){return C(A,R,U,z)}),A}},68921:(w,k,s)=>{var c=s(50686),x=s(23269),v=s(80707),_=s(92377),f=x(function(t){return v(c(t,1,_,!0))});w.exports=f},51541:(w,k,s)=>{var c=s(73943),x=0;w.exports=function v(_){var f=++x;return c(_)+f}},90377:(w,k,s)=>{var c=s(19179),x=s(118);w.exports=function v(_){return null==_?[]:c(_,x(_))}},21617:(w,k,s)=>{var c=s(89719),x=s(38645);w.exports=function v(_,f){return x(_||[],f||[],c)}},34315:(w,k,s)=>{"use strict";const c=Symbol.prototype.valueOf,x=s(52872);w.exports=function v(h,m){switch(x(h)){case"array":return h.slice();case"object":return Object.assign({},h);case"date":return new h.constructor(Number(h));case"map":return new Map(h);case"set":return new Set(h);case"buffer":return function p(h){const m=h.length,u=Buffer.allocUnsafe?Buffer.allocUnsafe(m):Buffer.from(m);return h.copy(u),u}(h);case"symbol":return function l(h){return c?Object(c.call(h)):{}}(h);case"arraybuffer":return function f(h){const m=new h.constructor(h.byteLength);return new Uint8Array(m).set(new Uint8Array(h)),m}(h);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function t(h,m){return new h.constructor(h.buffer,h.byteOffset,h.length)}(h);case"regexp":return function _(h){const m=void 0!==h.flags?h.flags:/\w+$/.exec(h)||void 0,u=new h.constructor(h.source,m);return u.lastIndex=h.lastIndex,u}(h);case"error":return Object.create(h);default:return h}}},67824:(w,k,s)=>{"use strict";function c(x){for(var v in x)k.hasOwnProperty(v)||(k[v]=x[v])}Object.defineProperty(k,"__esModule",{value:!0}),c(s(95085)),c(s(26243)),c(s(91786)),c(s(30225)),c(s(76767)),c(s(30345)),c(s(15675)),c(s(86461)),c(s(58802)),c(s(33900)),c(s(88866)),c(s(94655)),c(s(4068)),c(s(33858)),c(s(98237)),c(s(83292))},95085:function(w,k,s){"use strict";var f,c=this&&this.__extends||(f=function(t,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])})(t,p)},function(t,p){function l(){this.constructor=t}f(t,p),t.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(k,"__esModule",{value:!0});var x=s(15675),v=function(f){function t(p){var l=f.call(this)||this,m=p;return m.trigger&&(l.trigger=m.trigger),m.kick&&(l.kick=m.kick),m.drag&&(l.drag=m.drag),m.on&&(l.on=m.on),l.dragstart=l.dragStart=x.Layout.dragStart,l.dragend=l.dragEnd=x.Layout.dragEnd,l}return c(t,f),t.prototype.trigger=function(p){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(p,l){return this},t}(x.Layout);k.LayoutAdaptor=v,k.adaptor=function _(f){return new v(f)}},83292:(w,k,s)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var c=s(15675),x=s(76767);k.gridify=function v(t,p,l,h){t.cola.start(0,0,0,10,!1);var m=function _(t,p,l,h){t.forEach(function(u){u.routerNode={name:u.name,bounds:u.bounds.inflate(-l)}}),p.forEach(function(u){u.routerNode={bounds:u.bounds.inflate(-h),children:(void 0!==u.groups?u.groups.map(function(g){return t.length+g.id}):[]).concat(void 0!==u.leaves?u.leaves.map(function(g){return g.index}):[])}});var m=t.concat(p).map(function(u,g){return u.routerNode.id=g,u.routerNode});return new x.GridRouter(m,{getChildren:function(u){return u.children},getBounds:function(u){return u.bounds}},l-h)}(t.cola.nodes(),t.cola.groups(),l,h);return m.routeEdges(t.powerGraph.powerEdges,p,function(u){return u.source.routerNode.id},function(u){return u.target.routerNode.id})},k.powerGraphGridLayout=function f(t,p,l){var h;t.nodes.forEach(function(C,A){return C.index=A}),(new c.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(C){(h=C).groups.forEach(function(A){return A.padding=l})});var m=t.nodes.length,u=[],g=t.nodes.slice(0);return g.forEach(function(C,A){return C.index=A}),h.groups.forEach(function(C){var A=C.index=C.id+m;g.push(C),void 0!==C.leaves&&C.leaves.forEach(function(L){return u.push({source:A,target:L.index})}),void 0!==C.groups&&C.groups.forEach(function(L){return u.push({source:A,target:L.id+m})})}),h.powerEdges.forEach(function(C){u.push({source:C.source.index,target:C.target.index})}),(new c.Layout).size(p).nodes(g).links(u).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new c.Layout).convergenceThreshold(.001).size(p).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(C){(h=C).groups.forEach(function(A){A.padding=l})}).start(50,0,100,0,!1),powerGraph:h}}},26243:(w,k,s)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var c=s(49346),x=s(22487);k.d3adaptor=function v(f){return!f||function _(f){return f.version&&null!==f.version.match(/^3\./)}(f)?new c.D3StyleLayoutAdaptor:new x.D3StyleLayoutAdaptor(f)}},49346:function(w,k,s){"use strict";var f,c=this&&this.__extends||(f=function(t,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])})(t,p)},function(t,p){function l(){this.constructor=t}f(t,p),t.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(k,"__esModule",{value:!0});var x=s(15675),v=function(f){function t(){var p=f.call(this)||this;p.event=d3.dispatch(x.EventType[x.EventType.start],x.EventType[x.EventType.tick],x.EventType[x.EventType.end]);var l=p;return p.drag=function(){if(!m)var m=d3.behavior.drag().origin(x.Layout.dragOrigin).on("dragstart.d3adaptor",x.Layout.dragStart).on("drag.d3adaptor",function(u){x.Layout.drag(u,d3.event),l.resume()}).on("dragend.d3adaptor",x.Layout.dragEnd);if(!arguments.length)return m;this.call(m)},p}return c(t,f),t.prototype.trigger=function(p){var l={type:x.EventType[p.type],alpha:p.alpha,stress:p.stress};this.event[l.type](l)},t.prototype.kick=function(){var p=this;d3.timer(function(){return f.prototype.tick.call(p)})},t.prototype.on=function(p,l){return this.event.on("string"==typeof p?p:x.EventType[p],l),this},t}(x.Layout);k.D3StyleLayoutAdaptor=v,k.d3adaptor=function _(){return new v}},22487:function(w,k,s){"use strict";var _,c=this&&this.__extends||(_=function(f,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var h in l)l.hasOwnProperty(h)&&(p[h]=l[h])})(f,t)},function(f,t){function p(){this.constructor=f}_(f,t),f.prototype=null===t?Object.create(t):(p.prototype=t.prototype,new p)});Object.defineProperty(k,"__esModule",{value:!0});var x=s(15675),v=function(_){function f(t){var p=_.call(this)||this;p.d3Context=t,p.event=t.dispatch(x.EventType[x.EventType.start],x.EventType[x.EventType.tick],x.EventType[x.EventType.end]);var l=p;return p.drag=function(){if(!m)var m=t.drag().subject(x.Layout.dragOrigin).on("start.d3adaptor",x.Layout.dragStart).on("drag.d3adaptor",function(u){x.Layout.drag(u,t.event),l.resume()}).on("end.d3adaptor",x.Layout.dragEnd);if(!arguments.length)return m;arguments[0].call(m)},p}return c(f,_),f.prototype.trigger=function(t){var p={type:x.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(p.type,p)},f.prototype.kick=function(){var t=this,p=this.d3Context.timer(function(){return _.prototype.tick.call(t)&&p.stop()})},f.prototype.on=function(t,p){return this.event.on("string"==typeof t?t:x.EventType[t],p),this},f}(x.Layout);k.D3StyleLayoutAdaptor=v},91786:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var s=function(){function v(){this.locks={}}return v.prototype.add=function(_,f){this.locks[_]=f},v.prototype.clear=function(){this.locks={}},v.prototype.isEmpty=function(){for(var _ in this.locks)return!1;return!0},v.prototype.apply=function(_){for(var f in this.locks)_(Number(f),this.locks[f])},v}();k.Locks=s;var c=function(){function v(_,f,t){void 0===t&&(t=null),this.D=f,this.G=t,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new x,this.project=null,this.x=_,this.k=_.length;var p=this.n=_[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new s,this.minD=Number.MAX_VALUE;for(var h,l=p;l--;)for(h=p;--h>l;){var m=f[l][h];m>0&&m<this.minD&&(this.minD=m)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),l=this.k;l--;){for(this.g[l]=new Array(p),this.H[l]=new Array(p),h=p;h--;)this.H[l][h]=new Array(p);this.Hd[l]=new Array(p),this.a[l]=new Array(p),this.b[l]=new Array(p),this.c[l]=new Array(p),this.d[l]=new Array(p),this.e[l]=new Array(p),this.ia[l]=new Array(p),this.ib[l]=new Array(p),this.xtmp[l]=new Array(p)}}return v.createSquareMatrix=function(_,f){for(var t=new Array(_),p=0;p<_;++p){t[p]=new Array(_);for(var l=0;l<_;++l)t[p][l]=f(p,l)}return t},v.prototype.offsetDir=function(){for(var _=this,f=new Array(this.k),t=0,p=0;p<this.k;++p){var l=f[p]=this.random.getNextBetween(.01,1)-.5;t+=l*l}return t=Math.sqrt(t),f.map(function(h){return h*(_.minD/t)})},v.prototype.computeDerivatives=function(_){var f=this,t=this.n;if(!(t<1)){for(var p,l=new Array(this.k),h=new Array(this.k),m=new Array(this.k),u=0,g=0;g<t;++g){for(p=0;p<this.k;++p)m[p]=this.g[p][g]=0;for(var C=0;C<t;++C)if(g!==C){for(var A=t;A--;){var L=0;for(p=0;p<this.k;++p){var P=l[p]=_[p][g]-_[p][C];L+=h[p]=P*P}if(L>1e-9)break;var O=this.offsetDir();for(p=0;p<this.k;++p)_[p][C]+=O[p]}var R=Math.sqrt(L),U=this.D[g][C],z=null!=this.G?this.G[g][C]:1;if(z>1&&R>U||!isFinite(U)){for(p=0;p<this.k;++p)this.H[p][g][C]=0;continue}z>1&&(z=1);var X=U*U,it=2*z*(R-U)/(X*R),nt=R*R*R,ut=2*-z/(X*nt);for(isFinite(it)||console.log(it),p=0;p<this.k;++p)this.g[p][g]+=l[p]*it,m[p]-=this.H[p][g][C]=ut*(nt+U*(h[p]-L)+R*L)}for(p=0;p<this.k;++p)u=Math.max(u,this.H[p][g][g]=m[p])}var J=this.snapGridSize/2,tt=this.snapGridSize,st=this.snapStrength/(J*J),Y=this.numGridSnapNodes;for(g=0;g<Y;++g)for(p=0;p<this.k;++p){var K=this.x[p][g],rt=K/tt,at=rt%1,V=rt-at;-J<(P=Math.abs(at)<=.5?K-V*tt:K>0?K-(V+1)*tt:K-(V-1)*tt)&&P<=J&&(this.scaleSnapByMaxH?(this.g[p][g]+=u*st*P,this.H[p][g][g]+=u*st):(this.g[p][g]+=st*P,this.H[p][g][g]+=st))}this.locks.isEmpty()||this.locks.apply(function(Ct,Mt){for(p=0;p<f.k;++p)f.H[p][Ct][Ct]+=u,f.g[p][Ct]-=u*(Mt[p]-_[p][Ct])})}},v.dotProd=function(_,f){for(var t=0,p=_.length;p--;)t+=_[p]*f[p];return t},v.rightMultiply=function(_,f,t){for(var p=_.length;p--;)t[p]=v.dotProd(_[p],f)},v.prototype.computeStepSize=function(_){for(var f=0,t=0,p=0;p<this.k;++p)f+=v.dotProd(this.g[p],_[p]),v.rightMultiply(this.H[p],_[p],this.Hd[p]),t+=v.dotProd(_[p],this.Hd[p]);return 0!==t&&isFinite(t)?1*f/t:0},v.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var _=this.computeStepSize(this.g),f=0;f<this.k;++f)this.takeDescentStep(this.x[f],this.g[f],_);return this.computeStress()},v.copy=function(_,f){for(var t=_.length,p=f[0].length,l=0;l<t;++l)for(var h=0;h<p;++h)f[l][h]=_[l][h]},v.prototype.stepAndProject=function(_,f,t,p){v.copy(_,f),this.takeDescentStep(f[0],t[0],p),this.project&&this.project[0](_[0],_[1],f[0]),this.takeDescentStep(f[1],t[1],p),this.project&&this.project[1](f[0],_[1],f[1]);for(var l=2;l<this.k;l++)this.takeDescentStep(f[l],t[l],p)},v.mApply=function(_,f,t){for(var p=_;p-- >0;)for(var l=f;l-- >0;)t(p,l)},v.prototype.matrixApply=function(_){v.mApply(this.k,this.n,_)},v.prototype.computeNextPosition=function(_,f){var t=this;this.computeDerivatives(_);var p=this.computeStepSize(this.g);if(this.stepAndProject(_,f,this.g,p),this.project){this.matrixApply(function(h,m){return t.e[h][m]=_[h][m]-f[h][m]});var l=this.computeStepSize(this.e);l=Math.max(.2,Math.min(l,1)),this.stepAndProject(_,f,this.e,l)}},v.prototype.run=function(_){for(var f=Number.MAX_VALUE,t=!1;!t&&_-- >0;){var p=this.rungeKutta();t=Math.abs(f/p-1)<this.threshold,f=p}return f},v.prototype.rungeKutta=function(){var _=this;this.computeNextPosition(this.x,this.a),v.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),v.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var f=0;return this.matrixApply(function(t,p){var l=(_.a[t][p]+2*_.b[t][p]+2*_.c[t][p]+_.d[t][p])/6,h=_.x[t][p]-l;f+=h*h,_.x[t][p]=l}),f},v.mid=function(_,f,t){v.mApply(_.length,_[0].length,function(p,l){return t[p][l]=_[p][l]+(f[p][l]-_[p][l])/2})},v.prototype.takeDescentStep=function(_,f,t){for(var p=0;p<this.n;++p)_[p]=_[p]-t*f[p]},v.prototype.computeStress=function(){for(var _=0,f=0,t=this.n-1;f<t;++f)for(var p=f+1,l=this.n;p<l;++p){for(var h=0,m=0;m<this.k;++m){var u=this.x[m][f]-this.x[m][p];h+=u*u}h=Math.sqrt(h);var g=this.D[f][p];if(isFinite(g)){var C=g-h;_+=C*C/(g*g)}}return _},v.zeroDistance=1e-10,v}();k.Descent=c;var x=function(){function v(_){void 0===_&&(_=1),this.seed=_,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return v.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},v.prototype.getNextBetween=function(_,f){return _+this.getNext()*(f-_)},v}();k.PseudoRandom=x},30225:function(w,k,s){"use strict";var at,c=this&&this.__extends||(at=function(V,M){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ct,Mt){Ct.__proto__=Mt}||function(Ct,Mt){for(var Bt in Mt)Mt.hasOwnProperty(Bt)&&(Ct[Bt]=Mt[Bt])})(V,M)},function(V,M){function Ct(){this.constructor=V}at(V,M),V.prototype=null===M?Object.create(M):(Ct.prototype=M.prototype,new Ct)});Object.defineProperty(k,"__esModule",{value:!0});var x=s(4068),v=function at(){};k.Point=v;var _=function at(V,M,Ct,Mt){this.x1=V,this.y1=M,this.x2=Ct,this.y2=Mt};k.LineSegment=_;var f=function(at){function V(){return null!==at&&at.apply(this,arguments)||this}return c(V,at),V}(v);function t(at,V,M){return(V.x-at.x)*(M.y-at.y)-(M.x-at.x)*(V.y-at.y)}function p(at,V,M){return t(at,V,M)>0}function l(at,V,M){return t(at,V,M)<0}function C(at,V){var M=V.slice(0);return M.push(V[0]),{rtan:A(at,M),ltan:L(at,M)}}function A(at,V){var Ct,Mt,Bt,ie,M=V.length-1;if(l(at,V[1],V[0])&&!p(at,V[M-1],V[0]))return 0;for(Ct=0,Mt=M;;){if(Mt-Ct==1)return p(at,V[Ct],V[Mt])?Ct:Mt;if((ie=l(at,V[(Bt=Math.floor((Ct+Mt)/2))+1],V[Bt]))&&!p(at,V[Bt-1],V[Bt]))return Bt;p(at,V[Ct+1],V[Ct])?ie||p(at,V[Ct],V[Bt])?Mt=Bt:Ct=Bt:ie&&l(at,V[Ct],V[Bt])?Mt=Bt:Ct=Bt}}function L(at,V){var Ct,Mt,Bt,ie,M=V.length-1;if(p(at,V[M-1],V[0])&&!l(at,V[1],V[0]))return 0;for(Ct=0,Mt=M;;){if(Mt-Ct==1)return l(at,V[Ct],V[Mt])?Ct:Mt;if(ie=l(at,V[(Bt=Math.floor((Ct+Mt)/2))+1],V[Bt]),p(at,V[Bt-1],V[Bt])&&!ie)return Bt;l(at,V[Ct+1],V[Ct])?ie?l(at,V[Ct],V[Bt])?Mt=Bt:Ct=Bt:Mt=Bt:ie?Ct=Bt:p(at,V[Ct],V[Bt])?Mt=Bt:Ct=Bt}}function P(at,V,M,Ct,Mt,Bt){var Ht,ie;ie=Ct(at[Ht=M(V[0],at)],V);for(var Ut=!1;!Ut;){for(Ut=!0;Ht===at.length-1&&(Ht=0),!Mt(V[ie],at[Ht],at[Ht+1]);)++Ht;for(;0===ie&&(ie=V.length-1),!Bt(at[Ht],V[ie],V[ie-1]);)--ie,Ut=!1}return{t1:Ht,t2:ie}}function R(at,V){return P(at,V,A,L,p,l)}k.PolyPoint=f,k.isLeft=t,k.ConvexHull=function h(at){var Ct,V=at.slice(0).sort(function(Qt,me){return Qt.x!==me.x?me.x-Qt.x:me.y-Qt.y}),M=at.length,Bt=V[0].x;for(Ct=1;Ct<M&&V[Ct].x===Bt;++Ct);var Ht=Ct-1,ie=[];if(ie.push(V[0]),Ht===M-1)V[Ht].y!==V[0].y&&ie.push(V[Ht]);else{var Ut,vt=M-1,ft=V[M-1].x;for(Ct=M-2;Ct>=0&&V[Ct].x===ft;Ct--);for(Ut=Ct+1,Ct=Ht;++Ct<=Ut;)if(!(t(V[0],V[Ut],V[Ct])>=0&&Ct<Ut)){for(;ie.length>1&&!(t(ie[ie.length-2],ie[ie.length-1],V[Ct])>0);)ie.length-=1;0!=Ct&&ie.push(V[Ct])}vt!=Ut&&ie.push(V[vt]);var Nt=ie.length;for(Ct=Ut;--Ct>=Ht;)if(!(t(V[vt],V[Ht],V[Ct])>=0&&Ct>Ht)){for(;ie.length>Nt&&!(t(ie[ie.length-2],ie[ie.length-1],V[Ct])>0);)ie.length-=1;0!=Ct&&ie.push(V[Ct])}}return ie},k.clockwiseRadialSweep=function m(at,V,M){V.slice(0).sort(function(Ct,Mt){return Math.atan2(Ct.y-at.y,Ct.x-at.x)-Math.atan2(Mt.y-at.y,Mt.x-at.x)}).forEach(M)},k.tangent_PolyPolyC=P,k.LRtangent_PolyPolyC=function O(at,V){var M=R(V,at);return{t1:M.t2,t2:M.t1}},k.RLtangent_PolyPolyC=R,k.LLtangent_PolyPolyC=function U(at,V){return P(at,V,L,L,l,l)},k.RRtangent_PolyPolyC=function z(at,V){return P(at,V,A,A,p,p)};var X=function at(V,M){this.t1=V,this.t2=M};k.BiTangent=X;var it=function at(){};k.BiTangents=it;var nt=function(at){function V(){return null!==at&&at.apply(this,arguments)||this}return c(V,at),V}(v);k.TVGPoint=nt;var ut=function at(V,M,Ct,Mt){this.id=V,this.polyid=M,this.polyvertid=Ct,this.p=Mt,Mt.vv=this};k.VisibilityVertex=ut;var J=function(){function at(V,M){this.source=V,this.target=M}return at.prototype.length=function(){var V=this.source.p.x-this.target.p.x,M=this.source.p.y-this.target.p.y;return Math.sqrt(V*V+M*M)},at}();k.VisibilityEdge=J;var tt=function(){function at(V,M){if(this.P=V,this.V=[],this.E=[],M)this.V=M.V.slice(0),this.E=M.E.slice(0);else{for(var Ct=V.length,Mt=0;Mt<Ct;Mt++){for(var Bt=V[Mt],Ht=0;Ht<Bt.length;++Ht){var Ut=new ut(this.V.length,Mt,Ht,Bt[Ht]);this.V.push(Ut),Ht>0&&this.E.push(new J(Bt[Ht-1].vv,Ut))}Bt.length>1&&this.E.push(new J(Bt[0].vv,Bt[Bt.length-1].vv))}for(Mt=0;Mt<Ct-1;Mt++){var vt=V[Mt];for(Ht=Mt+1;Ht<Ct;Ht++){var ft=V[Ht],Nt=st(vt,ft);for(var Qt in Nt){var me=Nt[Qt];this.addEdgeIfVisible(vt[me.t1],ft[me.t2],Mt,Ht)}}}}}return at.prototype.addEdgeIfVisible=function(V,M,Ct,Mt){this.intersectsPolys(new _(V.x,V.y,M.x,M.y),Ct,Mt)||this.E.push(new J(V.vv,M.vv))},at.prototype.addPoint=function(V,M){var Ct=this.P.length;this.V.push(new ut(this.V.length,Ct,0,V));for(var Mt=0;Mt<Ct;++Mt)if(Mt!==M){var Bt=this.P[Mt],Ht=C(V,Bt);this.addEdgeIfVisible(V,Bt[Ht.ltan],M,Mt),this.addEdgeIfVisible(V,Bt[Ht.rtan],M,Mt)}return V.vv},at.prototype.intersectsPolys=function(V,M,Ct){for(var Mt=0,Bt=this.P.length;Mt<Bt;++Mt)if(Mt!=M&&Mt!=Ct&&$(V,this.P[Mt]).length>0)return!0;return!1},at}();function $(at,V){for(var M=[],Ct=1,Mt=V.length;Ct<Mt;++Ct){var Bt=x.Rectangle.lineIntersection(at.x1,at.y1,at.x2,at.y2,V[Ct-1].x,V[Ct-1].y,V[Ct].x,V[Ct].y);Bt&&M.push(Bt)}return M}function st(at,V){for(var M=at.length-1,Ct=V.length-1,Mt=new it,Bt=0;Bt<M;++Bt)for(var Ht=0;Ht<Ct;++Ht){var ie=at[0==Bt?M-1:Bt-1],Ut=at[Bt],vt=at[Bt+1],ft=V[0==Ht?Ct-1:Ht-1],Nt=V[Ht],Qt=V[Ht+1],me=t(ie,Ut,Nt),ge=t(Ut,ft,Nt),ve=t(Ut,Nt,Qt),Fe=t(ft,Nt,Ut),qe=t(Nt,ie,Ut),De=t(Nt,Ut,vt);me>=0&&ge>=0&&ve<0&&Fe>=0&&qe>=0&&De<0?Mt.ll=new X(Bt,Ht):me<=0&&ge<=0&&ve>0&&Fe<=0&&qe<=0&&De>0?Mt.rr=new X(Bt,Ht):me<=0&&ge>0&&ve<=0&&Fe>=0&&qe<0&&De>=0?Mt.rl=new X(Bt,Ht):me>=0&&ge<0&&ve>=0&&Fe<=0&&qe>0&&De<=0&&(Mt.lr=new X(Bt,Ht))}return Mt}function K(at,V){return!at.every(function(M){return!function Y(at,V){for(var M=1,Ct=V.length;M<Ct;++M)if(l(V[M-1],V[M],at))return!1;return!0}(M,V)})}k.TangentVisibilityGraph=tt,k.tangents=st,k.polysOverlap=function rt(at,V){if(K(at,V)||K(V,at))return!0;for(var M=1,Ct=at.length;M<Ct;++M){var Mt=at[M],Bt=at[M-1];if($(new _(Bt.x,Bt.y,Mt.x,Mt.y),V).length>0)return!0}return!1}},76767:(w,k,s)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var c=s(4068),x=s(98237),v=s(33858),_=function l(h,m,u){this.id=h,this.rect=m,this.children=u,this.leaf=void 0===u||0===u.length};k.NodeWrapper=_;var f=function l(h,m,u,g,C){void 0===g&&(g=null),void 0===C&&(C=null),this.id=h,this.x=m,this.y=u,this.node=g,this.line=C};k.Vert=f;var t=function(){function l(h,m){this.s=h,this.t=m;var u=l.findMatch(h,m),g=m.slice(0).reverse(),C=l.findMatch(h,g);u.length>=C.length?(this.length=u.length,this.si=u.si,this.ti=u.ti,this.reversed=!1):(this.length=C.length,this.si=C.si,this.ti=m.length-C.ti-C.length,this.reversed=!0)}return l.findMatch=function(h,m){for(var u=h.length,g=m.length,C={length:0,si:-1,ti:-1},A=new Array(u),L=0;L<u;L++){A[L]=new Array(g);for(var P=0;P<g;P++)if(h[L]===m[P]){var O=A[L][P]=0===L||0===P?1:A[L-1][P-1]+1;O>C.length&&(C.length=O,C.si=L-O+1,C.ti=P-O+1)}else A[L][P]=0}return C},l.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},l}();k.LongestCommonSubsequence=t;var p=function(){function l(h,m,u){var g=this;void 0===u&&(u=12),this.originalnodes=h,this.groupPadding=u,this.leaves=null,this.nodes=h.map(function(nt,ut){return new _(ut,m.getBounds(nt),m.getChildren(nt))}),this.leaves=this.nodes.filter(function(nt){return nt.leaf}),this.groups=this.nodes.filter(function(nt){return!nt.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(nt){return nt.children.forEach(function(ut){return g.nodes[ut].parent=nt})}),this.root={children:[]},this.nodes.forEach(function(nt){void 0===nt.parent&&(nt.parent=g.root,g.root.children.push(nt.id)),nt.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(nt,ut){return g.getDepth(nt)-g.getDepth(ut)}),this.backToFront.slice(0).reverse().filter(function(nt){return!nt.leaf}).forEach(function(nt){var ut=c.Rectangle.empty();nt.children.forEach(function(J){return ut=ut.union(g.nodes[J].rect)}),nt.rect=ut.inflate(g.groupPadding)});var A=this.midPoints(this.cols.map(function(nt){return nt.pos})),L=this.midPoints(this.rows.map(function(nt){return nt.pos})),P=A[0],O=A[A.length-1],R=L[0],U=L[L.length-1],z=this.rows.map(function(nt){return{x1:P,x2:O,y1:nt.pos,y2:nt.pos}}).concat(L.map(function(nt){return{x1:P,x2:O,y1:nt,y2:nt}})),X=this.cols.map(function(nt){return{x1:nt.pos,x2:nt.pos,y1:R,y2:U}}).concat(A.map(function(nt){return{x1:nt,x2:nt,y1:R,y2:U}})),it=z.concat(X);it.forEach(function(nt){return nt.verts=[]}),this.verts=[],this.edges=[],z.forEach(function(nt){return X.forEach(function(ut){var J=new f(g.verts.length,ut.x1,nt.y1);nt.verts.push(J),ut.verts.push(J),g.verts.push(J);for(var tt=g.backToFront.length;tt-- >0;){var $=g.backToFront[tt],st=$.rect,Y=Math.abs(J.x-st.cx()),K=Math.abs(J.y-st.cy());if(Y<st.width()/2&&K<st.height()/2){J.node=$;break}}})}),it.forEach(function(nt,ut){g.nodes.forEach(function(K,rt){K.rect.lineIntersections(nt.x1,nt.y1,nt.x2,nt.y2).forEach(function(at,V){var M=new f(g.verts.length,at.x,at.y,K,nt);g.verts.push(M),nt.verts.push(M),K.ports.push(M)})});var J=Math.abs(nt.y1-nt.y2)<.1,tt=function(K,rt){return J?rt.x-K.x:rt.y-K.y};nt.verts.sort(tt);for(var $=1;$<nt.verts.length;$++){var st=nt.verts[$-1],Y=nt.verts[$];st.node&&st.node===Y.node&&st.node.leaf||g.edges.push({source:st.id,target:Y.id,length:Math.abs(tt(st,Y))})}})}return l.prototype.avg=function(h){return h.reduce(function(m,u){return m+u})/h.length},l.prototype.getGridLines=function(h){for(var m=[],u=this.leaves.slice(0,this.leaves.length);u.length>0;){var g=u.filter(function(A){return A.rect["overlap"+h.toUpperCase()](u[0].rect)}),C={nodes:g,pos:this.avg(g.map(function(A){return A.rect["c"+h]()}))};m.push(C),C.nodes.forEach(function(A){return u.splice(u.indexOf(A),1)})}return m.sort(function(A,L){return A.pos-L.pos}),m},l.prototype.getDepth=function(h){for(var m=0;h.parent!==this.root;)m++,h=h.parent;return m},l.prototype.midPoints=function(h){for(var m=h[1]-h[0],u=[h[0]-m/2],g=1;g<h.length;g++)u.push((h[g]+h[g-1])/2);return u.push(h[h.length-1]+m/2),u},l.prototype.findLineage=function(h){var m=[h];do{m.push(h=h.parent)}while(h!==this.root);return m.reverse()},l.prototype.findAncestorPathBetween=function(h,m){for(var u=this.findLineage(h),g=this.findLineage(m),C=0;u[C]===g[C];)C++;return{commonAncestor:u[C-1],lineages:u.slice(C).concat(g.slice(C))}},l.prototype.siblingObstacles=function(h,m){var u=this,g=this.findAncestorPathBetween(h,m),C={};g.lineages.forEach(function(L){return C[L.id]={}});var A=g.commonAncestor.children.filter(function(L){return!(L in C)});return g.lineages.filter(function(L){return L.parent!==g.commonAncestor}).forEach(function(L){return A=A.concat(L.parent.children.filter(function(P){return P!==L.id}))}),A.map(function(L){return u.nodes[L]})},l.getSegmentSets=function(h,m,u){for(var g=[],C=0;C<h.length;C++)for(var A=h[C],L=0;L<A.length;L++)(P=A[L]).edgeid=C,P.i=L,Math.abs(P[1][m]-P[0][m])<.1&&g.push(P);g.sort(function(X,it){return X[0][m]-it[0][m]});for(var R=[],U=null,z=0;z<g.length;z++){var P=g[z];(!U||Math.abs(P[0][m]-U.pos)>.1)&&R.push(U={pos:P[0][m],segments:[]}),U.segments.push(P)}return R},l.nudgeSegs=function(h,m,u,g,C,A){var L=g.length;if(!(L<=1)){for(var P=g.map(function($){return new x.Variable($[0][h])}),O=[],R=0;R<L;R++)for(var U=0;U<L;U++)if(R!==U){var z=g[R],it=z.edgeid,nt=g[U].edgeid,ut=-1,J=-1;"x"==h?C(it,nt)&&(z[0][m]<z[1][m]?(ut=U,J=R):(ut=R,J=U)):C(it,nt)&&(z[0][m]<z[1][m]?(ut=R,J=U):(ut=U,J=R)),ut>=0&&O.push(new x.Constraint(P[ut],P[J],A))}new x.Solver(P,O).solve(),P.forEach(function($,st){var Y=g[st],K=$.position();Y[0][h]=Y[1][h]=K;var rt=u[Y.edgeid];Y.i>0&&(rt[Y.i-1][1][h]=K),Y.i<rt.length-1&&(rt[Y.i+1][0][h]=K)})}},l.nudgeSegments=function(h,m,u,g,C){for(var A=l.getSegmentSets(h,m,u),L=0;L<A.length;L++){for(var P=A[L],O=[],R=0;R<P.segments.length;R++){var U=P.segments[R];O.push({type:0,s:U,pos:Math.min(U[0][u],U[1][u])}),O.push({type:1,s:U,pos:Math.max(U[0][u],U[1][u])})}O.sort(function(it,nt){return it.pos-nt.pos+it.type-nt.type});var z=[],X=0;O.forEach(function(it){0===it.type?(z.push(it.s),X++):X--,0==X&&(l.nudgeSegs(m,u,h,z,g,C),z=[])})}},l.prototype.routeEdges=function(h,m,u,g){var C=this,A=h.map(function(O){return C.route(u(O),g(O))}),L=l.orderEdges(A),P=A.map(function(O){return l.makeSegments(O)});return l.nudgeSegments(P,"x","y",L,m),l.nudgeSegments(P,"y","x",L,m),l.unreverseEdges(P,A),P},l.unreverseEdges=function(h,m){h.forEach(function(u,g){m[g].reversed&&(u.reverse(),u.forEach(function(A){A.reverse()}))})},l.angleBetween2Lines=function(h,m){var u=Math.atan2(h[0].y-h[1].y,h[0].x-h[1].x),g=Math.atan2(m[0].y-m[1].y,m[0].x-m[1].x),C=u-g;return(C>Math.PI||C<-Math.PI)&&(C=g-u),C},l.isLeft=function(h,m,u){return(m.x-h.x)*(u.y-h.y)-(m.y-h.y)*(u.x-h.x)<=0},l.getOrder=function(h){for(var m={},u=0;u<h.length;u++){var g=h[u];void 0===m[g.l]&&(m[g.l]={}),m[g.l][g.r]=!0}return function(C,A){return void 0!==m[C]&&m[C][A]}},l.orderEdges=function(h){for(var m=[],u=0;u<h.length-1;u++)for(var g=u+1;g<h.length;g++){var P,O,R,C=h[u],A=h[g],L=new t(C,A);if(0!==L.length){if(L.reversed&&(A.reverse(),A.reversed=!0,L=new t(C,A)),(L.si<=0||L.ti<=0)&&(L.si+L.length>=C.length||L.ti+L.length>=A.length)){m.push({l:u,r:g});continue}L.si+L.length>=C.length||L.ti+L.length>=A.length?(P=C[L.si+1],R=C[L.si-1],O=A[L.ti-1]):(P=C[L.si+L.length-2],O=C[L.si+L.length],R=A[L.ti+L.length]),l.isLeft(P,O,R)?m.push({l:g,r:u}):m.push({l:u,r:g})}}return l.getOrder(m)},l.makeSegments=function(h){function m(O){return{x:O.x,y:O.y}}for(var g=[],C=m(h[0]),A=1;A<h.length;A++){var L=m(h[A]),P=A<h.length-1?h[A+1]:null;(!P||(O=C,R=L,U=P,!(Math.abs((R.x-O.x)*(U.y-O.y)-(R.y-O.y)*(U.x-O.x))<.001)))&&(g.push([C,L]),C=L)}var O,R,U;return g},l.prototype.route=function(h,m){var u=this,g=this.nodes[h],C=this.nodes[m];this.obstacles=this.siblingObstacles(g,C);var A={};this.obstacles.forEach(function(J){return A[J.id]=J}),this.passableEdges=this.edges.filter(function(J){var tt=u.verts[J.source],$=u.verts[J.target];return!(tt.node&&tt.node.id in A||$.node&&$.node.id in A)});for(var L=1;L<g.ports.length;L++)this.passableEdges.push({source:g.ports[0].id,target:g.ports[L].id,length:0});for(L=1;L<C.ports.length;L++)this.passableEdges.push({source:C.ports[0].id,target:C.ports[L].id,length:0});var ut=new v.Calculator(this.verts.length,this.passableEdges,function(J){return J.source},function(J){return J.target},function(J){return J.length}).PathFromNodeToNodeWithPrevCost(g.ports[0].id,C.ports[0].id,function(J,tt,$){var st=u.verts[J],Y=u.verts[tt],K=u.verts[$],rt=Math.abs(K.x-st.x),at=Math.abs(K.y-st.y);return st.node===g&&st.node===Y.node||Y.node===C&&Y.node===K.node?0:rt>1&&at>1?1e3:0}).reverse().map(function(J){return u.verts[J]});return ut.push(this.nodes[C.id].ports[0]),ut.filter(function(J,tt){return!(tt<ut.length-1&&ut[tt+1].node===g&&J.node===g||tt>0&&J.node===C&&ut[tt-1].node===C)})},l.getRoutePath=function(h,m,u,g){var L,P,O,rt,at,C={routepath:"M "+h[0][0].x+" "+h[0][0].y+" ",arrowpath:""};if(h.length>1)for(var A=0;A<h.length;A++){var R=(P=(L=h[A])[1].x)-L[0].x,U=(O=L[1].y)-L[0].y;if(A<h.length-1){Math.abs(R)>0?P-=R/Math.abs(R)*m:O-=U/Math.abs(U)*m,C.routepath+="L "+P+" "+O+" ";var z=h[A+1],X=z[0].x,it=z[0].y;R=z[1].x-X,U=z[1].y-it;var tt,$,J=l.angleBetween2Lines(L,z)<0?1:0;Math.abs(R)>0?(tt=X+R/Math.abs(R)*m,$=it):(tt=X,$=it+U/Math.abs(U)*m);var st=Math.abs(tt-P),Y=Math.abs($-O);C.routepath+="A "+st+" "+Y+" 0 0 "+J+" "+tt+" "+$+" "}else{var K=[P,O];Math.abs(R)>0?(rt=[P-=R/Math.abs(R)*g,O+u],at=[P,O-u]):(rt=[P+u,O-=U/Math.abs(U)*g],at=[P-u,O]),C.routepath+="L "+P+" "+O+" ",g>0&&(C.arrowpath="M "+K[0]+" "+K[1]+" L "+rt[0]+" "+rt[1]+" L "+at[0]+" "+at[1])}}else R=(P=(L=h[0])[1].x)-L[0].x,U=(O=L[1].y)-L[0].y,K=[P,O],Math.abs(R)>0?(rt=[P-=R/Math.abs(R)*g,O+u],at=[P,O-u]):(rt=[P+u,O-=U/Math.abs(U)*g],at=[P-u,O]),C.routepath+="L "+P+" "+O+" ",g>0&&(C.arrowpath="M "+K[0]+" "+K[1]+" L "+rt[0]+" "+rt[1]+" L "+at[0]+" "+at[1]);return C},l}();k.GridRouter=p},30345:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var s_GOLDEN_SECTION=(1+Math.sqrt(5))/2;k.applyPacking=function c(v,_,f,A,C,l){void 0===C&&(C=1),void 0===l&&(l=!0);var u=_,g=f,L=(C=void 0!==C?C:1,A=void 0!==A?A:0,0),P=0,O=0,R=0,U=[];function nt($,st){U=[],L=0,P=0,R=0;for(var Y=0;Y<$.length;Y++)ut($[Y],st);return Math.abs(function tt(){return L/P}()-C)}function ut($,st){for(var Y=void 0,K=0;K<U.length;K++)if(U[K].space_left>=$.height&&U[K].x+U[K].width+$.width+10-st<=1e-4){Y=U[K];break}U.push($),void 0!==Y?($.x=Y.x+Y.width+10,$.y=Y.bottom,$.space_left=$.height,$.bottom=$.y,Y.space_left-=$.height+10,Y.bottom+=$.height+10):($.y=R,R+=$.height+10,$.x=0,$.bottom=$.y,$.space_left=$.height),$.y+$.height-P>-1e-4&&(P=$.y+$.height-0),$.x+$.width-L>-1e-4&&(L=$.x+$.width-0)}0!=v.length&&(function z($){$.forEach(function(Y){!function st(Y){var K=Number.MAX_VALUE,rt=Number.MAX_VALUE,at=0,V=0;Y.array.forEach(function(M){var Ct=void 0!==M.width?M.width:A,Mt=void 0!==M.height?M.height:A;Ct/=2,Mt/=2,at=Math.max(M.x+Ct,at),K=Math.min(M.x-Ct,K),V=Math.max(M.y+Mt,V),rt=Math.min(M.y-Mt,rt)}),Y.width=at-K,Y.height=V-rt}(Y)})}(v),function it($,st){var Y=Number.POSITIVE_INFINITY,K=0;$.sort(function(vt,ft){return ft.height-vt.height});for(var rt=ie=O=$.reduce(function(vt,ft){return vt.width<ft.width?vt.width:ft.width}),at=Ut=function J($){var st=0;return $.forEach(function(Y){return st+=Y.width+10}),st}($),V=0,M=Number.MAX_VALUE,Ct=Number.MAX_VALUE,Mt=-1,Bt=Number.MAX_VALUE,Ht=Number.MAX_VALUE;Bt>O||Ht>1e-4;){if(1!=Mt){var ie=at-(at-rt)/s_GOLDEN_SECTION;M=nt($,ie)}if(0!=Mt){var Ut=rt+(at-rt)/s_GOLDEN_SECTION;Ct=nt($,Ut)}if(Bt=Math.abs(ie-Ut),Ht=Math.abs(M-Ct),M<Y&&(Y=M,K=ie),Ct<Y&&(Y=Ct,K=Ut),M>Ct?(rt=ie,ie=Ut,M=Ct,Mt=1):(at=Ut,Ut=ie,Ct=M,Mt=0),V++>100)break}nt($,K)}(v),l&&function X($){$.forEach(function(st){var Y={x:0,y:0};st.array.forEach(function(at){Y.x+=at.x,Y.y+=at.y}),Y.x/=st.array.length,Y.y/=st.array.length;var rt_x=st.x-(Y.x-st.width/2)+u/2-L/2,rt_y=st.y-(Y.y-st.height/2)+g/2-P/2;st.array.forEach(function(at){at.x+=rt_x,at.y+=rt_y})})}(v))},k.separateGraphs=function x(v,_){for(var f={},t={},p=[],l=0,h=0;h<_.length;h++){var m=_[h],u=m.source,g=m.target;t[u.index]?t[u.index].push(g):t[u.index]=[g],t[g.index]?t[g.index].push(u):t[g.index]=[u]}for(h=0;h<v.length;h++){var C=v[h];f[C.index]||A(C,!0)}function A(L,P){if(void 0===f[L.index]){P&&(l++,p.push({array:[]})),f[L.index]=l,p[l-1].array.push(L);var O=t[L.index];if(O)for(var R=0;R<O.length;R++)A(O[R],!1)}}return p}},15675:(w,k,s)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var l,u,c=s(33900),x=s(58802),v=s(91786),_=s(4068),f=s(33858),t=s(30225),p=s(30345);function h(u){return void 0!==u.leaves||void 0!==u.groups}(u=l=k.EventType||(k.EventType={}))[u.start=0]="start",u[u.tick=1]="tick",u[u.end=2]="end";var m=function(){function u(){var g=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:u.getSourceIndex,getTargetIndex:u.getTargetIndex,setLength:u.setLinkLength,getType:function(C){return"function"==typeof g._linkType?g._linkType(C):0}}}return u.prototype.on=function(g,C){return this.event||(this.event={}),"string"==typeof g?this.event[l[g]]=C:this.event[g]=C,this},u.prototype.trigger=function(g){this.event&&void 0!==this.event[g.type]&&this.event[g.type](g)},u.prototype.kick=function(){for(;!this.tick(););},u.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:l.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var A,L,g=this._nodes.length;for(this._descent.locks.clear(),L=0;L<g;++L)(A=this._nodes[L]).fixed&&((void 0===A.px||void 0===A.py)&&(A.px=A.x,A.py=A.y),this._descent.locks.add(L,[A.px,A.py]));var O=this._descent.rungeKutta();return 0===O?this._alpha=0:void 0!==this._lastStress&&(this._alpha=O),this._lastStress=O,this.updateNodePositions(),this.trigger({type:l.tick,alpha:this._alpha,stress:this._lastStress}),!1},u.prototype.updateNodePositions=function(){for(var A,g=this._descent.x[0],C=this._descent.x[1],L=this._nodes.length;L--;)(A=this._nodes[L]).x=g[L],A.y=C[L]},u.prototype.nodes=function(g){if(!g){if(0===this._nodes.length&&this._links.length>0){var C=0;this._links.forEach(function(L){C=Math.max(C,L.source,L.target)}),this._nodes=new Array(++C);for(var A=0;A<C;++A)this._nodes[A]={}}return this._nodes}return this._nodes=g,this},u.prototype.groups=function(g){var C=this;return g?(this._groups=g,this._rootGroup={},this._groups.forEach(function(A){void 0===A.padding&&(A.padding=1),void 0!==A.leaves&&A.leaves.forEach(function(L,P){"number"==typeof L&&((A.leaves[P]=C._nodes[L]).parent=A)}),void 0!==A.groups&&A.groups.forEach(function(L,P){"number"==typeof L&&((A.groups[P]=C._groups[L]).parent=A)})}),this._rootGroup.leaves=this._nodes.filter(function(A){return void 0===A.parent}),this._rootGroup.groups=this._groups.filter(function(A){return void 0===A.parent}),this):this._groups},u.prototype.powerGraphGroups=function(g){var C=c.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(C.groups),g(C),this},u.prototype.avoidOverlaps=function(g){return arguments.length?(this._avoidOverlaps=g,this):this._avoidOverlaps},u.prototype.handleDisconnected=function(g){return arguments.length?(this._handleDisconnected=g,this):this._handleDisconnected},u.prototype.flowLayout=function(g,C){return arguments.length||(g="y"),this._directedLinkConstraints={axis:g,getMinSeparation:"number"==typeof C?function(){return C}:C},this},u.prototype.links=function(g){return arguments.length?(this._links=g,this):this._links},u.prototype.constraints=function(g){return arguments.length?(this._constraints=g,this):this._constraints},u.prototype.distanceMatrix=function(g){return arguments.length?(this._distanceMatrix=g,this):this._distanceMatrix},u.prototype.size=function(g){return g?(this._canvasSize=g,this):this._canvasSize},u.prototype.defaultNodeSize=function(g){return g?(this._defaultNodeSize=g,this):this._defaultNodeSize},u.prototype.groupCompactness=function(g){return g?(this._groupCompactness=g,this):this._groupCompactness},u.prototype.linkDistance=function(g){return g?(this._linkDistance="function"==typeof g?g:+g,this._linkLengthCalculator=null,this):this._linkDistance},u.prototype.linkType=function(g){return this._linkType=g,this},u.prototype.convergenceThreshold=function(g){return g?(this._threshold="function"==typeof g?g:+g,this):this._threshold},u.prototype.alpha=function(g){return arguments.length?(g=+g,this._alpha?this._alpha=g>0?g:0:g>0&&(this._running||(this._running=!0,this.trigger({type:l.start,alpha:this._alpha=g}),this.kick())),this):this._alpha},u.prototype.getLinkLength=function(g){return"function"==typeof this._linkDistance?+this._linkDistance(g):this._linkDistance},u.setLinkLength=function(g,C){g.length=C},u.prototype.getLinkType=function(g){return"function"==typeof this._linkType?this._linkType(g):0},u.prototype.symmetricDiffLinkLengths=function(g,C){var A=this;return void 0===C&&(C=1),this.linkDistance(function(L){return g*L.length}),this._linkLengthCalculator=function(){return x.symmetricDiffLinkLengths(A._links,A.linkAccessor,C)},this},u.prototype.jaccardLinkLengths=function(g,C){var A=this;return void 0===C&&(C=1),this.linkDistance(function(L){return g*L.length}),this._linkLengthCalculator=function(){return x.jaccardLinkLengths(A._links,A.linkAccessor,C)},this},u.prototype.start=function(g,C,A,L,P,O){var R=this;void 0===g&&(g=0),void 0===C&&(C=0),void 0===A&&(A=0),void 0===L&&(L=0),void 0===P&&(P=!0),void 0===O&&(O=!0);var K,X=this.nodes().length,it=X+2*this._groups.length,ut=this._canvasSize[0],J=this._canvasSize[1],tt=new Array(it),$=new Array(it),st=null,Y=this._avoidOverlaps;this._nodes.forEach(function(Bt,Ht){Bt.index=Ht,void 0===Bt.x&&(Bt.x=ut/2,Bt.y=J/2),tt[Ht]=Bt.x,$[Ht]=Bt.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?K=this._distanceMatrix:(K=new f.Calculator(it,this._links,u.getSourceIndex,u.getTargetIndex,function(Bt){return R.getLinkLength(Bt)}).DistanceMatrix(),st=v.Descent.createSquareMatrix(it,function(){return 2}),this._links.forEach(function(Bt){"number"==typeof Bt.source&&(Bt.source=R._nodes[Bt.source]),"number"==typeof Bt.target&&(Bt.target=R._nodes[Bt.target])}),this._links.forEach(function(Bt){var Ht=u.getSourceIndex(Bt),ie=u.getTargetIndex(Bt);st[Ht][ie]=st[ie][Ht]=Bt.weight||1}));var rt=v.Descent.createSquareMatrix(it,function(Bt,Ht){return K[Bt][Ht]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var U=X;this._groups.forEach(function(Ht){(function(Ht,ie,Ut,vt){st[Ht][ie]=st[ie][Ht]=Ut,rt[Ht][ie]=rt[ie][Ht]=.1})(U,U+1,R._groupCompactness),tt[U]=0,$[U++]=0,tt[U]=0,$[U++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var V=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,V=V.concat(x.generateDirectedEdgeConstraints(X,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new v.Descent([tt,$],rt),this._descent.locks.clear(),U=0;U<X;++U){var M=this._nodes[U];M.fixed&&(M.px=M.x,M.py=M.y,this._descent.locks.add(U,[M.x,M.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(g,tt,$),V.length>0&&(this._descent.project=new _.Projection(this._nodes,this._groups,this._rootGroup,V).projectFunctions()),this._descent.run(C),this.separateOverlappingComponents(ut,J,O),this.avoidOverlaps(Y),Y&&(this._nodes.forEach(function(Bt,Ht){Bt.x=tt[Ht],Bt.y=$[Ht]}),this._descent.project=new _.Projection(this._nodes,this._groups,this._rootGroup,V,!0).projectFunctions(),this._nodes.forEach(function(Bt,Ht){tt[Ht]=Bt.x,$[Ht]=Bt.y})),this._descent.G=st,this._descent.run(A),L){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=X,this._descent.scaleSnapByMaxH=X!=it;var Mt=v.Descent.createSquareMatrix(it,function(Bt,Ht){return Bt>=X||Ht>=X?st[Bt][Ht]:0});this._descent.G=Mt,this._descent.run(L)}return this.updateNodePositions(),this.separateOverlappingComponents(ut,J,O),P?this.resume():this},u.prototype.initialLayout=function(g,C,A){if(this._groups.length>0&&g>0){var L=this._nodes.length,P=this._links.map(function(R){return{source:R.source.index,target:R.target.index}}),O=this._nodes.map(function(R){return{index:R.index}});this._groups.forEach(function(R,U){O.push({index:R.index=L+U})}),this._groups.forEach(function(R,U){void 0!==R.leaves&&R.leaves.forEach(function(z){return P.push({source:R.index,target:z.index})}),void 0!==R.groups&&R.groups.forEach(function(z){return P.push({source:R.index,target:z.index})})}),(new u).size(this.size()).nodes(O).links(P).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(g,0,0,0,!1),this._nodes.forEach(function(R){C[R.index]=O[R.index].x,A[R.index]=O[R.index].y})}else this._descent.run(g)},u.prototype.separateOverlappingComponents=function(g,C,A){var L=this;if(void 0===A&&(A=!0),!this._distanceMatrix&&this._handleDisconnected){var P=this._descent.x[0],O=this._descent.x[1];this._nodes.forEach(function(U,z){U.x=P[z],U.y=O[z]});var R=p.separateGraphs(this._nodes,this._links);p.applyPacking(R,g,C,this._defaultNodeSize,1,A),this._nodes.forEach(function(U,z){L._descent.x[0][z]=U.x,L._descent.x[1][z]=U.y,U.bounds&&(U.bounds.setXCentre(U.x),U.bounds.setYCentre(U.y))})}},u.prototype.resume=function(){return this.alpha(.1)},u.prototype.stop=function(){return this.alpha(0)},u.prototype.prepareEdgeRouting=function(g){void 0===g&&(g=0),this._visibilityGraph=new t.TangentVisibilityGraph(this._nodes.map(function(C){return C.bounds.inflate(-g).vertices()}))},u.prototype.routeEdge=function(g,C,A){void 0===C&&(C=5);var L=[],P=new t.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),O={x:g.source.x,y:g.source.y},R={x:g.target.x,y:g.target.y},U=P.addPoint(O,g.source.index),z=P.addPoint(R,g.target.index);P.addEdgeIfVisible(O,R,g.source.index,g.target.index),void 0!==A&&A(P);var J=new f.Calculator(P.V.length,P.E,function(rt){return rt.source.id},function(rt){return rt.target.id},function(rt){return rt.length()}).PathFromNodeToNode(U.id,z.id);if(1===J.length||J.length===P.V.length){var tt=_.makeEdgeBetween(g.source.innerBounds,g.target.innerBounds,C);L=[tt.sourceIntersection,tt.arrowStart]}else{for(var $=J.length-2,st=P.V[J[$]].p,Y=P.V[J[0]].p,K=(L=[g.source.innerBounds.rayIntersection(st.x,st.y)],$);K>=0;--K)L.push(P.V[J[K]].p);L.push(_.makeEdgeTo(Y,g.target.innerBounds,C))}return L},u.getSourceIndex=function(g){return"number"==typeof g.source?g.source:g.source.index},u.getTargetIndex=function(g){return"number"==typeof g.target?g.target:g.target.index},u.linkId=function(g){return u.getSourceIndex(g)+"-"+u.getTargetIndex(g)},u.dragStart=function(g){h(g)?u.storeOffset(g,u.dragOrigin(g)):(u.stopNode(g),g.fixed|=2)},u.stopNode=function(g){g.px=g.x,g.py=g.y},u.storeOffset=function(g,C){void 0!==g.leaves&&g.leaves.forEach(function(A){A.fixed|=2,u.stopNode(A),A._dragGroupOffsetX=A.x-C.x,A._dragGroupOffsetY=A.y-C.y}),void 0!==g.groups&&g.groups.forEach(function(A){return u.storeOffset(A,C)})},u.dragOrigin=function(g){return h(g)?{x:g.bounds.cx(),y:g.bounds.cy()}:g},u.drag=function(g,C){h(g)?(void 0!==g.leaves&&g.leaves.forEach(function(A){g.bounds.setXCentre(C.x),g.bounds.setYCentre(C.y),A.px=A._dragGroupOffsetX+C.x,A.py=A._dragGroupOffsetY+C.y}),void 0!==g.groups&&g.groups.forEach(function(A){return u.drag(A,C)})):(g.px=C.x,g.py=C.y)},u.dragEnd=function(g){h(g)?(void 0!==g.leaves&&g.leaves.forEach(function(C){u.dragEnd(C),delete C._dragGroupOffsetX,delete C._dragGroupOffsetY}),void 0!==g.groups&&g.groups.forEach(u.dragEnd)):g.fixed&=-7},u.mouseOver=function(g){g.fixed|=4,g.px=g.x,g.py=g.y},u.mouseOut=function(g){g.fixed&=-5},u}();k.Layout=m},86461:(w,k,s)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var c=s(33858),x=s(91786),v=s(4068),_=s(58802),f=function(){function h(m,u){this.source=m,this.target=u}return h.prototype.actualLength=function(m){var u=this;return Math.sqrt(m.reduce(function(g,C){var A=C[u.target]-C[u.source];return g+A*A},0))},h}();k.Link3D=f,k.Node3D=function h(m,u,g){void 0===m&&(m=0),void 0===u&&(u=0),void 0===g&&(g=0),this.x=m,this.y=u,this.z=g};var p=function(){function h(m,u,g){var C=this;void 0===g&&(g=1),this.nodes=m,this.links=u,this.idealLinkLength=g,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(h.k);for(var A=0;A<h.k;++A)this.result[A]=new Array(m.length);m.forEach(function(L,P){for(var O=0,R=h.dims;O<R.length;O++){var U=R[O];void 0===L[U]&&(L[U]=Math.random())}C.result[0][P]=L.x,C.result[1][P]=L.y,C.result[2][P]=L.z})}return h.prototype.linkLength=function(m){return m.actualLength(this.result)},h.prototype.start=function(m){var u=this;void 0===m&&(m=100);var g=this.nodes.length,C=new l;this.useJaccardLinkLengths&&_.jaccardLinkLengths(this.links,C,1.5),this.links.forEach(function(U){return U.length*=u.idealLinkLength});var A=new c.Calculator(g,this.links,function(U){return U.source},function(U){return U.target},function(U){return U.length}).DistanceMatrix(),L=x.Descent.createSquareMatrix(g,function(U,z){return A[U][z]}),P=x.Descent.createSquareMatrix(g,function(){return 2});this.links.forEach(function(U){var z=U.source,X=U.target;return P[z][X]=P[X][z]=1}),this.descent=new x.Descent(this.result,L),this.descent.threshold=.001,this.descent.G=P,this.constraints&&(this.descent.project=new v.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var O=0;O<this.nodes.length;O++){var R=this.nodes[O];R.fixed&&this.descent.locks.add(O,[R.x,R.y,R.z])}return this.descent.run(m),this},h.prototype.tick=function(){this.descent.locks.clear();for(var m=0;m<this.nodes.length;m++){var u=this.nodes[m];u.fixed&&this.descent.locks.add(m,[u.x,u.y,u.z])}return this.descent.rungeKutta()},h.k=(h.dims=["x","y","z"]).length,h}();k.Layout3D=p;var l=function(){function h(){}return h.prototype.getSourceIndex=function(m){return m.source},h.prototype.getTargetIndex=function(m){return m.target},h.prototype.getLength=function(m){return m.length},h.prototype.setLength=function(m,u){m.length=u},h}()},58802:(w,k)=>{"use strict";function s(l,h){var m={};for(var u in l)m[u]={};for(var u in h)m[u]={};return Object.keys(m).length}function c(l,h){var m=0;for(var u in l)void 0!==h[u]&&++m;return m}function v(l,h,m,u){var g=function x(l,h){var m={},u=function(g,C){void 0===m[g]&&(m[g]={}),m[g][C]={}};return l.forEach(function(g){var C=h.getSourceIndex(g),A=h.getTargetIndex(g);u(C,A),u(A,C)}),m}(l,u);l.forEach(function(C){var A=g[u.getSourceIndex(C)],L=g[u.getTargetIndex(C)];u.setLength(C,1+h*m(A,L))})}function p(l,h,m){var u=[],g=0,C=[],A=[];function L(J){J.index=J.lowlink=g++,C.push(J),J.onStack=!0;for(var tt=0,$=J.out;tt<$.length;tt++){var st=$[tt];void 0===st.index?(L(st),J.lowlink=Math.min(J.lowlink,st.lowlink)):st.onStack&&(J.lowlink=Math.min(J.lowlink,st.index))}if(J.lowlink===J.index){for(var Y=[];C.length&&((st=C.pop()).onStack=!1,Y.push(st),st!==J););A.push(Y.map(function(K){return K.id}))}}for(var P=0;P<l;P++)u.push({id:P,out:[]});for(var O=0,R=h;O<R.length;O++){var U=R[O],z=u[m.getSourceIndex(U)],X=u[m.getTargetIndex(U)];z.out.push(X)}for(var it=0,nt=u;it<nt.length;it++){var ut=nt[it];void 0===ut.index&&L(ut)}return A}Object.defineProperty(k,"__esModule",{value:!0}),k.symmetricDiffLinkLengths=function _(l,h,m){void 0===m&&(m=1),v(l,m,function(u,g){return Math.sqrt(s(u,g)-c(u,g))},h)},k.jaccardLinkLengths=function f(l,h,m){void 0===m&&(m=1),v(l,m,function(u,g){return Math.min(Object.keys(u).length,Object.keys(g).length)<1.1?0:c(u,g)/s(u,g)},h)},k.generateDirectedEdgeConstraints=function t(l,h,m,u){var g=p(l,h,u),C={};g.forEach(function(L,P){return L.forEach(function(O){return C[O]=P})});var A=[];return h.forEach(function(L){var P=u.getSourceIndex(L),O=u.getTargetIndex(L);C[P]!==C[O]&&A.push({axis:m,left:P,right:O,gap:u.getMinSeparation(L)})}),A},k.stronglyConnectedComponents=p},33900:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var s=function h(m,u,g){this.source=m,this.target=u,this.type=g};k.PowerEdge=s;var c=function(){function h(m,u,g,C){var A=this;if(this.linkAccessor=g,this.modules=new Array(m),this.roots=[],C)this.initModulesFromGroup(C);else{this.roots.push(new f);for(var L=0;L<m;++L)this.roots[0].add(this.modules[L]=new v(L))}this.R=u.length,u.forEach(function(P){var O=A.modules[g.getSourceIndex(P)],R=A.modules[g.getTargetIndex(P)],U=g.getType(P);O.outgoing.add(U,R),R.incoming.add(U,O)})}return h.prototype.initModulesFromGroup=function(m){var u=new f;this.roots.push(u);for(var g=0;g<m.leaves.length;++g){var C=m.leaves[g],A=new v(C.id);this.modules[C.id]=A,u.add(A)}if(m.groups)for(var L=0;L<m.groups.length;++L){var P=m.groups[L],O={};for(var R in P)"leaves"!==R&&"groups"!==R&&P.hasOwnProperty(R)&&(O[R]=P[R]);u.add(new v(-1-L,new t,new t,this.initModulesFromGroup(P),O))}return u},h.prototype.merge=function(m,u,g){void 0===g&&(g=0);var C=m.incoming.intersection(u.incoming),A=m.outgoing.intersection(u.outgoing),L=new f;L.add(m),L.add(u);var P=new v(this.modules.length,A,C,L);this.modules.push(P);var O=function(R,U,z){R.forAll(function(X,it){X.forAll(function(nt){var ut=nt[U];ut.add(it,P),ut.remove(it,m),ut.remove(it,u),m[z].remove(it,nt),u[z].remove(it,nt)})})};return O(A,"incoming","outgoing"),O(C,"outgoing","incoming"),this.R-=C.count()+A.count(),this.roots[g].remove(m),this.roots[g].remove(u),this.roots[g].add(P),P},h.prototype.rootMerges=function(m){void 0===m&&(m=0);for(var u=this.roots[m].modules(),g=u.length,C=new Array(g*(g-1)),A=0,L=0,P=g-1;L<P;++L)for(var O=L+1;O<g;++O){var R=u[L],U=u[O];C[A]={id:A,nEdges:this.nEdges(R,U),a:R,b:U},A++}return C},h.prototype.greedyMerge=function(){for(var m=0;m<this.roots.length;++m)if(!(this.roots[m].modules().length<2)){var g=this.rootMerges(m).sort(function(C,A){return C.nEdges==A.nEdges?C.id-A.id:C.nEdges-A.nEdges})[0];if(!(g.nEdges>=this.R))return this.merge(g.a,g.b,m),!0}},h.prototype.nEdges=function(m,u){var g=m.incoming.intersection(u.incoming),C=m.outgoing.intersection(u.outgoing);return this.R-g.count()-C.count()},h.prototype.getGroupHierarchy=function(m){var u=this,g=[];return x(this.roots[0],{},g),this.allEdges().forEach(function(L){var P=u.modules[L.source],O=u.modules[L.target];m.push(new s(void 0===P.gid?L.source:g[P.gid],void 0===O.gid?L.target:g[O.gid],L.type))}),g},h.prototype.allEdges=function(){var m=[];return h.getEdges(this.roots[0],m),m},h.getEdges=function(m,u){m.forAll(function(g){g.getEdges(u),h.getEdges(g.children,u)})},h}();function x(h,m,u){h.forAll(function(g){if(g.isLeaf())m.leaves||(m.leaves=[]),m.leaves.push(g.id);else{var C=m;if(g.gid=u.length,!g.isIsland()||g.isPredefined()){if(C={id:g.gid},g.isPredefined())for(var A in g.definition)C[A]=g.definition[A];m.groups||(m.groups=[]),m.groups.push(g.gid),u.push(C)}x(g.children,C,u)}})}k.Configuration=c;var v=function(){function h(m,u,g,C,A){void 0===u&&(u=new t),void 0===g&&(g=new t),void 0===C&&(C=new f),this.id=m,this.outgoing=u,this.incoming=g,this.children=C,this.definition=A}return h.prototype.getEdges=function(m){var u=this;this.outgoing.forAll(function(g,C){g.forAll(function(A){m.push(new s(u.id,A.id,C))})})},h.prototype.isLeaf=function(){return 0===this.children.count()},h.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},h.prototype.isPredefined=function(){return void 0!==this.definition},h}();k.Module=v;var f=function(){function h(){this.table={}}return h.prototype.count=function(){return Object.keys(this.table).length},h.prototype.intersection=function(m){var u=new h;return u.table=function _(h,m){var u={};for(var g in h)g in m&&(u[g]=h[g]);return u}(this.table,m.table),u},h.prototype.intersectionCount=function(m){return this.intersection(m).count()},h.prototype.contains=function(m){return m in this.table},h.prototype.add=function(m){this.table[m.id]=m},h.prototype.remove=function(m){delete this.table[m.id]},h.prototype.forAll=function(m){for(var u in this.table)m(this.table[u])},h.prototype.modules=function(){var m=[];return this.forAll(function(u){u.isPredefined()||m.push(u)}),m},h}();k.ModuleSet=f;var t=function(){function h(){this.sets={},this.n=0}return h.prototype.count=function(){return this.n},h.prototype.contains=function(m){var u=!1;return this.forAllModules(function(g){!u&&g.id==m&&(u=!0)}),u},h.prototype.add=function(m,u){(m in this.sets?this.sets[m]:this.sets[m]=new f).add(u),++this.n},h.prototype.remove=function(m,u){var g=this.sets[m];g.remove(u),0===g.count()&&delete this.sets[m],--this.n},h.prototype.forAll=function(m){for(var u in this.sets)m(this.sets[u],Number(u))},h.prototype.forAllModules=function(m){this.forAll(function(u,g){return u.forAll(m)})},h.prototype.intersection=function(m){var u=new h;return this.forAll(function(g,C){if(C in m.sets){var A=g.intersection(m.sets[C]),L=A.count();L>0&&(u.sets[C]=A,u.n+=L)}}),u},h}();k.LinkSets=t,k.getGroups=function l(h,m,u,g){for(var A=new c(h.length,m,u,g);A.greedyMerge(););var L=[],P=A.getGroupHierarchy(L);return L.forEach(function(O){var R=function(U){var z=O[U];"number"==typeof z&&(O[U]=h[z])};R("source"),R("target")}),{groups:P,powerEdges:L}}},88866:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var s=function(){function x(v){this.elem=v,this.subheaps=[]}return x.prototype.toString=function(v){for(var _="",f=!1,t=0;t<this.subheaps.length;++t){var p=this.subheaps[t];p.elem?(f&&(_+=","),_+=p.toString(v),f=!0):f=!1}return""!==_&&(_="("+_+")"),(this.elem?v(this.elem):"")+_},x.prototype.forEach=function(v){this.empty()||(v(this.elem,this),this.subheaps.forEach(function(_){return _.forEach(v)}))},x.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(v,_){return v+_.count()},0)},x.prototype.min=function(){return this.elem},x.prototype.empty=function(){return null==this.elem},x.prototype.contains=function(v){if(this===v)return!0;for(var _=0;_<this.subheaps.length;_++)if(this.subheaps[_].contains(v))return!0;return!1},x.prototype.isHeap=function(v){var _=this;return this.subheaps.every(function(f){return v(_.elem,f.elem)&&f.isHeap(v)})},x.prototype.insert=function(v,_){return this.merge(new x(v),_)},x.prototype.merge=function(v,_){return this.empty()?v:v.empty()?this:_(this.elem,v.elem)?(this.subheaps.push(v),this):(v.subheaps.push(this),v)},x.prototype.removeMin=function(v){return this.empty()?null:this.mergePairs(v)},x.prototype.mergePairs=function(v){if(0==this.subheaps.length)return new x(null);if(1==this.subheaps.length)return this.subheaps[0];var _=this.subheaps.pop().merge(this.subheaps.pop(),v),f=this.mergePairs(v);return _.merge(f,v)},x.prototype.decreaseKey=function(v,_,f,t){var p=v.removeMin(t);v.elem=p.elem,v.subheaps=p.subheaps,null!==f&&null!==p.elem&&f(v.elem,v);var l=new x(_);return null!==f&&f(_,l),this.merge(l,t)},x}();k.PairingHeap=s;var c=function(){function x(v){this.lessThan=v}return x.prototype.top=function(){return this.empty()?null:this.root.elem},x.prototype.push=function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];for(var f,p,t=0;p=v[t];++t)f=new s(p),this.root=this.empty()?f:this.root.merge(f,this.lessThan);return f},x.prototype.empty=function(){return!this.root||!this.root.elem},x.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},x.prototype.forEach=function(v){this.root.forEach(v)},x.prototype.pop=function(){if(this.empty())return null;var v=this.root.min();return this.root=this.root.removeMin(this.lessThan),v},x.prototype.reduceKey=function(v,_,f){void 0===f&&(f=null),this.root=this.root.decreaseKey(v,_,f,this.lessThan)},x.prototype.toString=function(v){return this.root.toString(v)},x.prototype.count=function(){return this.root.count()},x}();k.PriorityQueue=c},94655:function(w,k){"use strict";var f,s=this&&this.__extends||(f=function(t,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])})(t,p)},function(t,p){function l(){this.constructor=t}f(t,p),t.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(k,"__esModule",{value:!0});var c=function(){function f(){this.findIter=function(t){for(var p=this._root,l=this.iterator();null!==p;){var h=this._comparator(t,p.data);if(0===h)return l._cursor=p,l;l._ancestors.push(p),p=p.get_child(h>0)}return null}}return f.prototype.clear=function(){this._root=null,this.size=0},f.prototype.find=function(t){for(var p=this._root;null!==p;){var l=this._comparator(t,p.data);if(0===l)return p.data;p=p.get_child(l>0)}return null},f.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},f.prototype.upperBound=function(t){var p=this._comparator;return this._bound(t,function l(h,m){return p(m,h)})},f.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},f.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},f.prototype.iterator=function(){return new x(this)},f.prototype.each=function(t){for(var l,p=this.iterator();null!==(l=p.next());)t(l)},f.prototype.reach=function(t){for(var l,p=this.iterator();null!==(l=p.prev());)t(l)},f.prototype._bound=function(t,p){for(var l=this._root,h=this.iterator();null!==l;){var m=this._comparator(t,l.data);if(0===m)return h._cursor=l,h;h._ancestors.push(l),l=l.get_child(m>0)}for(var u=h._ancestors.length-1;u>=0;--u)if(p(t,(l=h._ancestors[u]).data)>0)return h._cursor=l,h._ancestors.length=u,h;return h._ancestors.length=0,h},f}();k.TreeBase=c;var x=function(){function f(t){this._tree=t,this._ancestors=[],this._cursor=null}return f.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},f.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right){var p;do{if(p=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===p)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},f.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left){var p;do{if(p=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===p)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},f.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},f.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},f}();k.Iterator=x;var v=function(){function f(t){this.data=t,this.left=null,this.right=null,this.red=!0}return f.prototype.get_child=function(t){return t?this.right:this.left},f.prototype.set_child=function(t,p){t?this.right=p:this.left=p},f}(),_=function(f){function t(p){var l=f.call(this)||this;return l._root=null,l._comparator=p,l.size=0,l}return s(t,f),t.prototype.insert=function(p){var l=!1;if(null===this._root)this._root=new v(p),l=!0,this.size++;else{var h=new v(void 0),m=!1,u=!1,g=null,C=h,A=null,L=this._root;for(C.right=this._root;;){if(null===L?(L=new v(p),A.set_child(m,L),l=!0,this.size++):t.is_red(L.left)&&t.is_red(L.right)&&(L.red=!0,L.left.red=!1,L.right.red=!1),t.is_red(L)&&t.is_red(A)){var P=C.right===g;L===A.get_child(u)?C.set_child(P,t.single_rotate(g,!u)):C.set_child(P,t.double_rotate(g,!u))}var O=this._comparator(L.data,p);if(0===O)break;u=m,null!==g&&(C=g),g=A,A=L,L=L.get_child(m=O<0)}this._root=h.right}return this._root.red=!1,l},t.prototype.remove=function(p){if(null===this._root)return!1;var l=new v(void 0),h=l;h.right=this._root;for(var m=null,u=null,g=null,C=!0;null!==h.get_child(C);){var A=C;u=m,m=h,h=h.get_child(C);var L=this._comparator(p,h.data);if(C=L>0,0===L&&(g=h),!t.is_red(h)&&!t.is_red(h.get_child(C)))if(t.is_red(h.get_child(!C))){var P=t.single_rotate(h,C);m.set_child(A,P),m=P}else if(!t.is_red(h.get_child(!C))){var O=m.get_child(!A);if(null!==O)if(t.is_red(O.get_child(!A))||t.is_red(O.get_child(A))){var R=u.right===m;t.is_red(O.get_child(A))?u.set_child(R,t.double_rotate(m,A)):t.is_red(O.get_child(!A))&&u.set_child(R,t.single_rotate(m,A));var U=u.get_child(R);U.red=!0,h.red=!0,U.left.red=!1,U.right.red=!1}else m.red=!1,O.red=!0,h.red=!0}}return null!==g&&(g.data=h.data,m.set_child(m.right===h,h.get_child(null===h.left)),this.size--),this._root=l.right,null!==this._root&&(this._root.red=!1),null!==g},t.is_red=function(p){return null!==p&&p.red},t.single_rotate=function(p,l){var h=p.get_child(!l);return p.set_child(!l,h.get_child(l)),h.set_child(l,p),p.red=!0,h.red=!1,h},t.double_rotate=function(p,l){return p.set_child(!l,t.single_rotate(p.get_child(!l),!l)),t.single_rotate(p,l)},t}(c);k.RBTree=_},4068:function(w,k,s){"use strict";var J,c=this&&this.__extends||(J=function(tt,$){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,Y){st.__proto__=Y}||function(st,Y){for(var K in Y)Y.hasOwnProperty(K)&&(st[K]=Y[K])})(tt,$)},function(tt,$){function st(){this.constructor=tt}J(tt,$),tt.prototype=null===$?Object.create($):(st.prototype=$.prototype,new st)});Object.defineProperty(k,"__esModule",{value:!0});var x=s(98237),v=s(94655);function _(J){return J.bounds=void 0!==J.leaves?J.leaves.reduce(function(tt,$){return $.bounds.union(tt)},f.empty()):f.empty(),void 0!==J.groups&&(J.bounds=J.groups.reduce(function(tt,$){return _($).union(tt)},J.bounds)),J.bounds=J.bounds.inflate(J.padding),J.bounds}k.computeGroupBounds=_;var f=function(){function J(tt,$,st,Y){this.x=tt,this.X=$,this.y=st,this.Y=Y}return J.empty=function(){return new J(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},J.prototype.cx=function(){return(this.x+this.X)/2},J.prototype.cy=function(){return(this.y+this.Y)/2},J.prototype.overlapX=function(tt){var $=this.cx(),st=tt.cx();return $<=st&&tt.x<this.X?this.X-tt.x:st<=$&&this.x<tt.X?tt.X-this.x:0},J.prototype.overlapY=function(tt){var $=this.cy(),st=tt.cy();return $<=st&&tt.y<this.Y?this.Y-tt.y:st<=$&&this.y<tt.Y?tt.Y-this.y:0},J.prototype.setXCentre=function(tt){var $=tt-this.cx();this.x+=$,this.X+=$},J.prototype.setYCentre=function(tt){var $=tt-this.cy();this.y+=$,this.Y+=$},J.prototype.width=function(){return this.X-this.x},J.prototype.height=function(){return this.Y-this.y},J.prototype.union=function(tt){return new J(Math.min(this.x,tt.x),Math.max(this.X,tt.X),Math.min(this.y,tt.y),Math.max(this.Y,tt.Y))},J.prototype.lineIntersections=function(tt,$,st,Y){for(var K=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],rt=[],at=0;at<4;++at){var V=J.lineIntersection(tt,$,st,Y,K[at][0],K[at][1],K[at][2],K[at][3]);null!==V&&rt.push({x:V.x,y:V.y})}return rt},J.prototype.rayIntersection=function(tt,$){var st=this.lineIntersections(this.cx(),this.cy(),tt,$);return st.length>0?st[0]:null},J.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},J.lineIntersection=function(tt,$,st,Y,K,rt,at,V){var M=st-tt,Ct=at-K,Mt=Y-$,Bt=V-rt,Ht=Bt*M-Ct*Mt;if(0==Ht)return null;var ie=tt-K,Ut=$-rt,ft=(Ct*Ut-Bt*ie)/Ht,Qt=(M*Ut-Mt*ie)/Ht;return ft>=0&&ft<=1&&Qt>=0&&Qt<=1?{x:tt+ft*M,y:$+ft*Mt}:null},J.prototype.inflate=function(tt){return new J(this.x-tt,this.X+tt,this.y-tt,this.Y+tt)},J}();k.Rectangle=f,k.makeEdgeBetween=function t(J,tt,$){var st=J.rayIntersection(tt.cx(),tt.cy())||{x:J.cx(),y:J.cy()},Y=tt.rayIntersection(J.cx(),J.cy())||{x:tt.cx(),y:tt.cy()},K=Y.x-st.x,rt=Y.y-st.y,at=Math.sqrt(K*K+rt*rt),V=at-$;return{sourceIntersection:st,targetIntersection:Y,arrowStart:{x:st.x+V*K/at,y:st.y+V*rt/at}}},k.makeEdgeTo=function p(J,tt,$){var st=tt.rayIntersection(J.x,J.y);st||(st={x:tt.cx(),y:tt.cy()});var Y=st.x-J.x,K=st.y-J.y,rt=Math.sqrt(Y*Y+K*K);return{x:st.x-$*Y/rt,y:st.y-$*K/rt}};var l=function J(tt,$,st){this.v=tt,this.r=$,this.pos=st,this.prev=u(),this.next=u()},h=function J(tt,$,st){this.isOpen=tt,this.v=$,this.pos=st};function m(J,tt){return J.pos>tt.pos?1:J.pos<tt.pos||J.isOpen?-1:tt.isOpen?1:0}function u(){return new v.RBTree(function(J,tt){return J.pos-tt.pos})}var g={getCentre:function(J){return J.cx()},getOpen:function(J){return J.y},getClose:function(J){return J.Y},getSize:function(J){return J.width()},makeRect:function(J,tt,$,st){return new f($-st/2,$+st/2,J,tt)},findNeighbours:function P(J,tt){var $=function(st,Y){for(var rt,K=tt.findIter(J);null!==(rt=K[st]());){var at=rt.r.overlapX(J.r);if((at<=0||at<=rt.r.overlapY(J.r))&&(J[st].insert(rt),rt[Y].insert(J)),at<=0)break}};$("next","prev"),$("prev","next")}},C={getCentre:function(J){return J.cy()},getOpen:function(J){return J.x},getClose:function(J){return J.X},getSize:function(J){return J.height()},makeRect:function(J,tt,$,st){return new f(J,tt,$-st/2,$+st/2)},findNeighbours:function O(J,tt){var $=function(st,Y){var K=tt.findIter(J)[st]();null!==K&&K.r.overlapX(J.r)>0&&(J[st].insert(K),K[Y].insert(J))};$("next","prev"),$("prev","next")}};function A(J,tt,$,st){void 0===st&&(st=!1);var Y=J.padding,K=void 0!==J.groups?J.groups.length:0,rt=void 0!==J.leaves?J.leaves.length:0,at=K?J.groups.reduce(function(ge,ve){return ge.concat(A(ve,tt,$,!0))},[]):[],V=(st?2:0)+rt+K,M=new Array(V),Ct=new Array(V),Mt=0,Bt=function(ge,ve){Ct[Mt]=ge,M[Mt++]=ve};if(st){var Ht=J.bounds,ie=tt.getCentre(Ht),Ut=tt.getSize(Ht)/2,vt=tt.getOpen(Ht),ft=tt.getClose(Ht),Nt=ie-Ut+Y/2,Qt=ie+Ut-Y/2;J.minVar.desiredPosition=Nt,Bt(tt.makeRect(vt,ft,Nt,Y),J.minVar),J.maxVar.desiredPosition=Qt,Bt(tt.makeRect(vt,ft,Qt,Y),J.maxVar)}rt&&J.leaves.forEach(function(ge){return Bt(ge.bounds,ge.variable)}),K&&J.groups.forEach(function(ge){var ve=ge.bounds;Bt(tt.makeRect(tt.getOpen(ve),tt.getClose(ve),tt.getCentre(ve),tt.getSize(ve)),ge.minVar)});var me=L(Ct,M,tt,$);return K&&(M.forEach(function(ge){ge.cOut=[],ge.cIn=[]}),me.forEach(function(ge){ge.left.cOut.push(ge),ge.right.cIn.push(ge)}),J.groups.forEach(function(ge){var ve=(ge.padding-tt.getSize(ge.bounds))/2;ge.minVar.cIn.forEach(function(Fe){return Fe.gap+=ve}),ge.minVar.cOut.forEach(function(Fe){Fe.left=ge.maxVar,Fe.gap+=ve})})),at.concat(me)}function L(J,tt,$,st){var Y,K=J.length,rt=2*K;console.assert(tt.length>=K);var at=new Array(rt);for(Y=0;Y<K;++Y){var V=J[Y],M=new l(tt[Y],V,$.getCentre(V));at[Y]=new h(!0,M,$.getOpen(V)),at[Y+K]=new h(!1,M,$.getClose(V))}at.sort(m);var Ct=new Array,Mt=u();for(Y=0;Y<rt;++Y){var Bt=at[Y];if(M=Bt.v,Bt.isOpen)Mt.insert(M),$.findNeighbours(M,Mt);else{Mt.remove(M);var Ht=function(vt,ft){var Nt=($.getSize(vt.r)+$.getSize(ft.r))/2+st;Ct.push(new x.Constraint(vt.v,ft.v,Nt))},ie=function(vt,ft,Nt){for(var Qt,me=M[vt].iterator();null!==(Qt=me[vt]());)Nt(Qt,M),Qt[ft].remove(M)};ie("prev","next",function(vt,ft){return Ht(vt,ft)}),ie("next","prev",function(vt,ft){return Ht(ft,vt)})}}return console.assert(0===Mt.size),Ct}function R(J,tt){return L(J,tt,g,1e-6)}function U(J,tt){return L(J,tt,C,1e-6)}function z(J){return A(J,g,1e-6)}function X(J){return A(J,C,1e-6)}k.generateXConstraints=R,k.generateYConstraints=U,k.generateXGroupConstraints=z,k.generateYGroupConstraints=X,k.removeOverlaps=function it(J){var tt=J.map(function(Y){return new x.Variable(Y.cx())}),$=R(J,tt),st=new x.Solver(tt,$);st.solve(),tt.forEach(function(Y,K){return J[K].setXCentre(Y.position())}),tt=J.map(function(Y){return new x.Variable(Y.cy())}),$=U(J,tt),(st=new x.Solver(tt,$)).solve(),tt.forEach(function(Y,K){return J[K].setYCentre(Y.position())})};var nt=function(J){function tt($,st){var Y=J.call(this,0,st)||this;return Y.index=$,Y}return c(tt,J),tt}(x.Variable);k.IndexedVariable=nt;var ut=function(){function J(tt,$,st,Y,K){var rt=this;if(void 0===st&&(st=null),void 0===Y&&(Y=null),void 0===K&&(K=!1),this.nodes=tt,this.groups=$,this.rootGroup=st,this.avoidOverlaps=K,this.variables=tt.map(function(V,M){return V.variable=new nt(M,1)}),Y&&this.createConstraints(Y),K&&st&&void 0!==st.groups){tt.forEach(function(V){if(V.width&&V.height){var M=V.width/2,Ct=V.height/2;V.bounds=new f(V.x-M,V.x+M,V.y-Ct,V.y+Ct)}else V.bounds=new f(V.x,V.x,V.y,V.y)}),_(st);var at=tt.length;$.forEach(function(V){rt.variables[at]=V.minVar=new nt(at++,void 0!==V.stiffness?V.stiffness:.01),rt.variables[at]=V.maxVar=new nt(at++,void 0!==V.stiffness?V.stiffness:.01)})}}return J.prototype.createSeparation=function(tt){return new x.Constraint(this.nodes[tt.left].variable,this.nodes[tt.right].variable,tt.gap,void 0!==tt.equality&&tt.equality)},J.prototype.makeFeasible=function(tt){var $=this;if(this.avoidOverlaps){var st="x",Y="width";"x"===tt.axis&&(st="y",Y="height");var K=tt.offsets.map(function(at){return $.nodes[at.node]}).sort(function(at,V){return at[st]-V[st]}),rt=null;K.forEach(function(at){if(rt){var V=rt[st]+rt[Y];V>at[st]&&(at[st]=V)}rt=at})}},J.prototype.createAlignment=function(tt){var $=this,st=this.nodes[tt.offsets[0].node].variable;this.makeFeasible(tt);var Y="x"===tt.axis?this.xConstraints:this.yConstraints;tt.offsets.slice(1).forEach(function(K){Y.push(new x.Constraint(st,$.nodes[K.node].variable,K.offset,!0))})},J.prototype.createConstraints=function(tt){var $=this,st=function(Y){return void 0===Y.type||"separation"===Y.type};this.xConstraints=tt.filter(function(Y){return"x"===Y.axis&&st(Y)}).map(function(Y){return $.createSeparation(Y)}),this.yConstraints=tt.filter(function(Y){return"y"===Y.axis&&st(Y)}).map(function(Y){return $.createSeparation(Y)}),tt.filter(function(Y){return"alignment"===Y.type}).forEach(function(Y){return $.createAlignment(Y)})},J.prototype.setupVariablesAndBounds=function(tt,$,st,Y){this.nodes.forEach(function(K,rt){K.fixed?(K.variable.weight=K.fixedWeight?K.fixedWeight:1e3,st[rt]=Y(K)):K.variable.weight=1;var at=(K.width||0)/2,V=(K.height||0)/2,M=tt[rt],Ct=$[rt];K.bounds=new f(M-at,M+at,Ct-V,Ct+V)})},J.prototype.xProject=function(tt,$,st){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(tt,$,tt,st,function(Y){return Y.px},this.xConstraints,z,function(Y){return Y.bounds.setXCentre(st[Y.variable.index]=Y.variable.position())},function(Y){var K=st[Y.minVar.index]=Y.minVar.position(),rt=st[Y.maxVar.index]=Y.maxVar.position(),at=Y.padding/2;Y.bounds.x=K-at,Y.bounds.X=rt+at})},J.prototype.yProject=function(tt,$,st){!this.rootGroup&&!this.yConstraints||this.project(tt,$,$,st,function(Y){return Y.py},this.yConstraints,X,function(Y){return Y.bounds.setYCentre(st[Y.variable.index]=Y.variable.position())},function(Y){var K=st[Y.minVar.index]=Y.minVar.position(),rt=st[Y.maxVar.index]=Y.maxVar.position(),at=Y.padding/2;Y.bounds.y=K-at,Y.bounds.Y=rt+at})},J.prototype.projectFunctions=function(){var tt=this;return[function($,st,Y){return tt.xProject($,st,Y)},function($,st,Y){return tt.yProject($,st,Y)}]},J.prototype.project=function(tt,$,st,Y,K,rt,at,V,M){this.setupVariablesAndBounds(tt,$,Y,K),this.rootGroup&&this.avoidOverlaps&&(_(this.rootGroup),rt=rt.concat(at(this.rootGroup))),this.solve(this.variables,rt,st,Y),this.nodes.forEach(V),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(M),_(this.rootGroup))},J.prototype.solve=function(tt,$,st,Y){var K=new x.Solver(tt,$);K.setStartingPositions(st),K.setDesiredPositions(Y),K.solve()},J}();k.Projection=ut},33858:(w,k,s)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var c=s(88866),x=function t(p,l){this.id=p,this.distance=l},v=function t(p){this.id=p,this.neighbours=[]},_=function t(p,l,h){this.node=p,this.prev=l,this.d=h},f=function(){function t(p,l,h,m,u){this.n=p,this.es=l,this.neighbours=new Array(this.n);for(var g=this.n;g--;)this.neighbours[g]=new v(g);for(g=this.es.length;g--;){var C=this.es[g],A=h(C),L=m(C),P=u(C);this.neighbours[A].neighbours.push(new x(L,P)),this.neighbours[L].neighbours.push(new x(A,P))}}return t.prototype.DistanceMatrix=function(){for(var p=new Array(this.n),l=0;l<this.n;++l)p[l]=this.dijkstraNeighbours(l);return p},t.prototype.DistancesFromNode=function(p){return this.dijkstraNeighbours(p)},t.prototype.PathFromNodeToNode=function(p,l){return this.dijkstraNeighbours(p,l)},t.prototype.PathFromNodeToNodeWithPrevCost=function(p,l,h){var m=new c.PriorityQueue(function(X,it){return X.d<=it.d}),u=this.neighbours[p],g=new _(u,null,0),C={};for(m.push(g);!m.empty()&&(u=(g=m.pop()).node).id!==l;)for(var A=u.neighbours.length;A--;){var L=u.neighbours[A],P=this.neighbours[L.id];if(!g.prev||P.id!==g.prev.node.id){var O=P.id+","+u.id;if(!(O in C&&C[O]<=g.d)){var R=g.prev?h(g.prev.node.id,u.id,P.id):0,U=g.d+L.distance+R;C[O]=U,m.push(new _(P,g,U))}}}for(var z=[];g.prev;)z.push((g=g.prev).node.id);return z},t.prototype.dijkstraNeighbours=function(p,l){void 0===l&&(l=-1);for(var h=new c.PriorityQueue(function(R,U){return R.d<=U.d}),m=this.neighbours.length,u=new Array(m);m--;){var g=this.neighbours[m];g.d=m===p?0:Number.POSITIVE_INFINITY,g.q=h.push(g)}for(;!h.empty();){var C=h.pop();if(u[C.id]=C.d,C.id===l){for(var A=[],L=C;void 0!==L.prev;)A.push(L.prev.id),L=L.prev;return A}for(m=C.neighbours.length;m--;){var P=C.neighbours[m],O=(L=this.neighbours[P.id],C.d+P.distance);C.d!==Number.MAX_VALUE&&L.d>O&&(L.d=O,L.prev=C,h.reduceKey(L.q,L,function(U,z){return U.q=z}))}}return u},t}();k.Calculator=f},98237:(w,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var s=function(){function p(l){this.scale=l,this.AB=0,this.AD=0,this.A2=0}return p.prototype.addVariable=function(l){var h=this.scale/l.scale,u=l.weight;this.AB+=u*h*(l.offset/l.scale),this.AD+=u*h*l.desiredPosition,this.A2+=u*h*h},p.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},p}();k.PositionStats=s;var c=function(){function p(l,h,m,u){void 0===u&&(u=!1),this.left=l,this.right=h,this.gap=m,this.equality=u,this.active=!1,this.unsatisfiable=!1,this.left=l,this.right=h,this.gap=m,this.equality=u}return p.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},p}();k.Constraint=c;var x=function(){function p(l,h,m){void 0===h&&(h=1),void 0===m&&(m=1),this.desiredPosition=l,this.weight=h,this.scale=m,this.offset=0}return p.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},p.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},p.prototype.visitNeighbours=function(l,h){var m=function(u,g){return u.active&&l!==g&&h(u,g)};this.cOut.forEach(function(u){return m(u,u.right)}),this.cIn.forEach(function(u){return m(u,u.left)})},p}();k.Variable=x;var v=function(){function p(l){this.vars=[],l.offset=0,this.ps=new s(l.scale),this.addVariable(l)}return p.prototype.addVariable=function(l){l.block=this,this.vars.push(l),this.ps.addVariable(l),this.posn=this.ps.getPosn()},p.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var l=0,h=this.vars.length;l<h;++l)this.ps.addVariable(this.vars[l]);this.posn=this.ps.getPosn()},p.prototype.compute_lm=function(l,h,m){var u=this,g=l.dfdv();return l.visitNeighbours(h,function(C,A){var L=u.compute_lm(A,l,m);A===C.right?(g+=L*C.left.scale,C.lm=L):(g+=L*C.right.scale,C.lm=-L),m(C)}),g/l.scale},p.prototype.populateSplitBlock=function(l,h){var m=this;l.visitNeighbours(h,function(u,g){g.offset=l.offset+(g===u.right?u.gap:-u.gap),m.addVariable(g),m.populateSplitBlock(g,l)})},p.prototype.traverse=function(l,h,m,u){var g=this;void 0===m&&(m=this.vars[0]),void 0===u&&(u=null),m.visitNeighbours(u,function(C,A){h.push(l(C)),g.traverse(l,h,A,m)})},p.prototype.findMinLM=function(){var l=null;return this.compute_lm(this.vars[0],null,function(h){!h.equality&&(null===l||h.lm<l.lm)&&(l=h)}),l},p.prototype.findMinLMBetween=function(l,h){this.compute_lm(l,null,function(){});var m=null;return this.findPath(l,null,h,function(u,g){!u.equality&&u.right===g&&(null===m||u.lm<m.lm)&&(m=u)}),m},p.prototype.findPath=function(l,h,m,u){var g=this,C=!1;return l.visitNeighbours(h,function(A,L){!C&&(L===m||g.findPath(L,l,m,u))&&(C=!0,u(A,L))}),C},p.prototype.isActiveDirectedPathBetween=function(l,h){if(l===h)return!0;for(var m=l.cOut.length;m--;){var u=l.cOut[m];if(u.active&&this.isActiveDirectedPathBetween(u.right,h))return!0}return!1},p.split=function(l){return l.active=!1,[p.createSplitBlock(l.left),p.createSplitBlock(l.right)]},p.createSplitBlock=function(l){var h=new p(l);return h.populateSplitBlock(l,null),h},p.prototype.splitBetween=function(l,h){var m=this.findMinLMBetween(l,h);if(null!==m){var u=p.split(m);return{constraint:m,lb:u[0],rb:u[1]}}return null},p.prototype.mergeAcross=function(l,h,m){h.active=!0;for(var u=0,g=l.vars.length;u<g;++u){var C=l.vars[u];C.offset+=m,this.addVariable(C)}this.posn=this.ps.getPosn()},p.prototype.cost=function(){for(var l=0,h=this.vars.length;h--;){var m=this.vars[h],u=m.position()-m.desiredPosition;l+=u*u*m.weight}return l},p}();k.Block=v;var _=function(){function p(l){this.vs=l;var h=l.length;for(this.list=new Array(h);h--;){var m=new v(l[h]);this.list[h]=m,m.blockInd=h}}return p.prototype.cost=function(){for(var l=0,h=this.list.length;h--;)l+=this.list[h].cost();return l},p.prototype.insert=function(l){l.blockInd=this.list.length,this.list.push(l)},p.prototype.remove=function(l){var h=this.list.length-1,m=this.list[h];this.list.length=h,l!==m&&(this.list[l.blockInd]=m,m.blockInd=l.blockInd)},p.prototype.merge=function(l){var h=l.left.block,m=l.right.block,u=l.right.offset-l.left.offset-l.gap;h.vars.length<m.vars.length?(m.mergeAcross(h,l,u),this.remove(h)):(h.mergeAcross(m,l,-u),this.remove(m))},p.prototype.forEach=function(l){this.list.forEach(l)},p.prototype.updateBlockPositions=function(){this.list.forEach(function(l){return l.updateWeightedPosition()})},p.prototype.split=function(l){var h=this;this.updateBlockPositions(),this.list.forEach(function(m){var u=m.findMinLM();null!==u&&u.lm<f.LAGRANGIAN_TOLERANCE&&(m=u.left.block,v.split(u).forEach(function(g){return h.insert(g)}),h.remove(m),l.push(u))})},p}();k.Blocks=_;var f=function(){function p(l,h){this.vs=l,this.cs=h,this.vs=l,l.forEach(function(m){m.cIn=[],m.cOut=[]}),this.cs=h,h.forEach(function(m){m.left.cOut.push(m),m.right.cIn.push(m)}),this.inactive=h.map(function(m){return m.active=!1,m}),this.bs=null}return p.prototype.cost=function(){return this.bs.cost()},p.prototype.setStartingPositions=function(l){this.inactive=this.cs.map(function(h){return h.active=!1,h}),this.bs=new _(this.vs),this.bs.forEach(function(h,m){return h.posn=l[m]})},p.prototype.setDesiredPositions=function(l){this.vs.forEach(function(h,m){return h.desiredPosition=l[m]})},p.prototype.mostViolated=function(){for(var l=Number.MAX_VALUE,h=null,m=this.inactive,u=m.length,g=u,C=0;C<u;++C){var A=m[C];if(!A.unsatisfiable){var L=A.slack();if((A.equality||L<l)&&(l=L,h=A,g=C,A.equality))break}}return g!==u&&(l<p.ZERO_UPPERBOUND&&!h.active||h.equality)&&(m[g]=m[u-1],m.length=u-1),h},p.prototype.satisfy=function(){null==this.bs&&(this.bs=new _(this.vs)),this.bs.split(this.inactive);for(var l=null;(l=this.mostViolated())&&(l.equality||l.slack()<p.ZERO_UPPERBOUND&&!l.active);){var h=l.left.block;if(h!==l.right.block)this.bs.merge(l);else{if(h.isActiveDirectedPathBetween(l.right,l.left)){l.unsatisfiable=!0;continue}var u=h.splitBetween(l.left,l.right);if(null===u){l.unsatisfiable=!0;continue}this.bs.insert(u.lb),this.bs.insert(u.rb),this.bs.remove(h),this.inactive.push(u.constraint),l.slack()>=0?this.inactive.push(l):this.bs.merge(l)}}},p.prototype.solve=function(){this.satisfy();for(var l=Number.MAX_VALUE,h=this.bs.cost();Math.abs(l-h)>1e-4;)this.satisfy(),l=h,h=this.bs.cost();return h},p.LAGRANGIAN_TOLERANCE=-1e-4,p.ZERO_UPPERBOUND=-1e-10,p}();k.Solver=f,k.removeOverlapInOneDimension=function t(p,l,h){for(var m=p.map(function(nt){return new x(nt.desiredCenter)}),u=[],g=p.length,C=0;C<g-1;C++)u.push(new c(m[C],m[C+1],(p[C].size+p[C+1].size)/2));var P=m[0],O=m[g-1],R=p[0].size/2,U=p[g-1].size/2,z=null,X=null;return l&&(z=new x(l,1e3*P.weight),m.push(z),u.push(new c(z,P,R))),h&&(X=new x(h,1e3*O.weight),m.push(X),u.push(new c(O,X,U))),new f(m,u).solve(),{newCenters:m.slice(0,p.length).map(function(nt){return nt.position()}),lowerBound:z?z.position():P.position()-R,upperBound:X?X.position():O.position()+U}}}}]);