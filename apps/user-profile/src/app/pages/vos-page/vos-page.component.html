<h1 class="page-title mt-2">{{'ORGANIZATIONS.TITLE' | customTranslate | translate}}</h1>
<div class="user-theme">
  <perun-web-apps-immediate-filter
    [placeholder]="'ORGANIZATIONS.FILTER'"
    (filter)="applyFilter($event)"
    *ngIf="!loading"></perun-web-apps-immediate-filter>
  <mat-spinner *ngIf="loading" class="mr-auto ml-auto"></mat-spinner>

  <div *ngIf="!loading" class="mt-5">
    <h1 class="page-subtitle">{{'ORGANIZATIONS.IS_MEMBER' | customTranslate | translate}}</h1>
    <div *ngIf="userMemberships.length !== 0">
      <perun-web-apps-membership-list
        [members]="userMemberships"
        [selection]="selection"
        [filterValue]="filterValue"
        [displayedColumns]="['name', 'expirationAttribute', 'extend']"
        (extendMembership)="extendMembership($event)">
      </perun-web-apps-membership-list>
    </div>
    <perun-web-apps-alert
      alert_type="warn"
      *ngIf="userMemberships.length === 0"
      >{{'ORGANIZATIONS.NO_VOS_ALERT' | customTranslate | translate}}</perun-web-apps-alert
    >
  </div>

  <div *ngIf="!loading" class="mt-5">
    <h1 class="page-subtitle">{{'ORGANIZATIONS.IS_ADMIN' | customTranslate | translate}}</h1>
    <perun-web-apps-alert
      *ngIf="!adminMemberships.length"
      alert_type="warn"
      >{{'ORGANIZATIONS.NO_VOS_ALERT' | customTranslate | translate}}</perun-web-apps-alert
    >
    <perun-web-apps-membership-list
      [members]="adminMemberships"
      *ngIf="adminMemberships.length"
      [filterValue]="filterValue"
      [displayedColumns]="['name']">
    </perun-web-apps-membership-list>
  </div>
</div>
