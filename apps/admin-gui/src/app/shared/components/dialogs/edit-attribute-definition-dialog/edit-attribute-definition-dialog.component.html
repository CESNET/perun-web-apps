<!--<div class="parent" [@switchAnimations]="showKeys">-->
<!--<div class="parent" [@slide]="activePanel">-->
<div class="admin-theme">
  <div class="parent">
    <!--  <div *ngIf="!showKeys" [@slideInOutLeft]>-->
    <div *ngIf="!showKeys">
      <div class="width-650">
        <h1 mat-dialog-title>{{this.attDef.namespace + ':' + this.attDef.friendlyName}}</h1>
        <mat-spinner class="ml-auto mr-auto" *ngIf="loading"></mat-spinner>
        <div *ngIf="!loading" mat-dialog-content>
          <mat-form-field class="width-650">
            <label>
              <input class="width-650" matInput [(ngModel)]="attDef.displayName"
                     placeholder="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DISPLAY_NAME' | translate}}" required>
            </label>
            <mat-error
              *ngIf="attDef.displayName === ''">{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY' | translate}}</mat-error>
          </mat-form-field>
          <br>

          <mat-form-field class="width-650">
            <label>
              <textarea class="width-650" matInput cdkTextareaAutosize [(ngModel)]="attDef.description"
                        placeholder="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DESCRIPTION' | translate}}"
                        required> </textarea>
            </label>
            <mat-error
              *ngIf="attDef.description === ''">{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY' | translate}}</mat-error>
          </mat-form-field>
          <br>

          <div class="d-flex flex-row mt-3">
            <p>{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.UNIQUE' | translate}}</p>
            <p class="pointer ml-4" (click)="attDef.unique = false">OFF</p>
            <mat-slide-toggle class="ml-2" color="accent"
                              matTooltip="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_UNIQUE'| translate}}"
                              matTooltipPosition="above"
                              [matTooltipDisabled]="!disableUniqueToggle()"
                              [disabled]="disableUniqueToggle()"
                              [(ngModel)]="attDef.unique">
              ON
            </mat-slide-toggle>
          </div>

          <div class="d-flex flex-row mt-2">
            <p class="ml-5 pl-4">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.READ' | translate}}</p>
            <p class="ml-4">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.WRITE' | translate}}</p>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF' | translate}}</p>
            <mat-checkbox class="ml-5 pl-3" [(ngModel)]="readSelf">
            </mat-checkbox>
            <mat-checkbox class="ml-5" [(ngModel)]="writeSelf">
            </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_PUBLIC' | translate}}</p>
            <mat-checkbox class="ml-3" [(ngModel)]="readSelfPublic">
            </mat-checkbox>
            <mat-checkbox class="ml-5" [(ngModel)]="writeSelfPublic">
            </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_VO' | translate}}</p>
            <mat-checkbox class="ml-4 pl-3" [(ngModel)]="readSelfVo">
            </mat-checkbox>
            <mat-checkbox class="ml-5" [(ngModel)]="writeSelfVo">
            </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VO' | translate}}</p>
            <mat-checkbox class="ml-5 pl-4  " [(ngModel)]="readVo">
            </mat-checkbox>
            <mat-checkbox class="ml-5" [(ngModel)]="writeVo">
            </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.GROUP' | translate}}</p>
            <mat-checkbox class="ml-4 pl-4" [(ngModel)]="readGroup">
            </mat-checkbox>
            <mat-checkbox class="ml-5" [(ngModel)]="writeGroup">
            </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FACILITY' | translate}}</p>
            <mat-checkbox class="ml-4 pl-3" [(ngModel)]="readFacility">
            </mat-checkbox>
            <mat-checkbox class="ml-5" [(ngModel)]="writeFacility">
            </mat-checkbox>
          </div>

          <div class="mt-4">
            <p>{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SERVICES' | translate}}</p>
            <app-services-list
              [services]="this.services"
              [displayedColumns]="['id', 'name', 'enabled', 'script']"
              [disableRouting]="true">
            </app-services-list>
          </div>

        </div>

        <div mat-dialog-actions class="mt-3">
          <button
            mat-flat-button
            class="ml-0"
            *ngIf="this.attDef.entity === 'entityless'"
            (click)="switchShowKeys()">
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SHOW_KEYS' | translate}}
          </button>
          <button
            mat-flat-button
            class="ml-auto"
            (click)="onCopy()">
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FOR_IMPORT' | translate}}
          </button>
          <button
            mat-flat-button
            class="ml-2"
            (click)="onCancel()">
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CANCEL' | translate}}
          </button>
          <button
            mat-flat-button
            class="ml-2"
            color="accent"
            (click)="onSubmit()"
            [disabled]="disableConfirmButton() || loading"
            matTooltip="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_CONFIRM' | translate}}"
            matTooltipPosition="above"
            [matTooltipDisabled]="!disableConfirmButton()">
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CONFIRM' | translate}}
          </button>
        </div>
      </div>
    </div>

    <!--  <div *ngIf="showKeys" [@slideInOutRight]>-->
    <div *ngIf="showKeys">
      <app-entityless-attribute-keys-list
        [pageSize]="pageSize"
        (page)="pageChanged($event)"
        [attDef]="attDef"
        (switchView)="this.switchShowKeys()">
      </app-entityless-attribute-keys-list>
    </div>
  </div>
</div>
