<!--<div class="parent" [@switchAnimations]="showKeys">-->
<!--<div class="parent" [@slide]="activePanel">-->
<div class="admin-theme">
  <div class="parent">
    <!--  <div *ngIf="!showKeys" [@slideInOutLeft]>-->
    <div *ngIf="!showKeys">
      <div class="width-650">
        <h1 mat-dialog-title>{{this.attDef.namespace + ':' + this.attDef.friendlyName}}</h1>
        <mat-spinner *ngIf="loading" class="ml-auto mr-auto"></mat-spinner>
        <div *ngIf="!loading" mat-dialog-content>
          <mat-form-field class="width-650">
            <label>
              <input
                class="width-650"
                matInput
                [(ngModel)]="attDef.displayName"
                placeholder="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DISPLAY_NAME' | translate}}"
                required />
            </label>
            <mat-error
              *ngIf="attDef.displayName === ''"
              >{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY' | translate}}</mat-error
            >
          </mat-form-field>
          <br />

          <mat-form-field class="width-650">
            <label>
              <textarea
                class="width-650"
                matInput
                [(ngModel)]="attDef.description"
                cdkTextareaAutosize
                placeholder="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.DESCRIPTION' | translate}}"
                required>
              </textarea>
            </label>
            <mat-error
              *ngIf="attDef.description === ''"
              >{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.ERROR_FIELD_EMPTY' | translate}}</mat-error
            >
          </mat-form-field>
          <br />

          <div class="d-flex flex-row mt-3">
            <p>{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.UNIQUE' | translate}}</p>
            <p (click)="attDef.unique = false" class="pointer ml-4">OFF</p>
            <mat-slide-toggle
              class="ml-2"
              color="accent"
              matTooltip="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_UNIQUE'| translate}}"
              [(ngModel)]="attDef.unique"
              [disabled]="disableUniqueToggle()"
              [matTooltipDisabled]="!disableUniqueToggle()"
              matTooltipPosition="above">
              ON
            </mat-slide-toggle>
          </div>

          <div class="d-flex flex-row mt-2">
            <p class="ml-5 pl-4">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.READ' | translate}}</p>
            <p class="ml-4">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.WRITE' | translate}}</p>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF' | translate}}</p>
            <mat-checkbox [(ngModel)]="readSelf" class="ml-5 pl-3"> </mat-checkbox>
            <mat-checkbox [(ngModel)]="writeSelf" class="ml-5"> </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_PUBLIC' | translate}}</p>
            <mat-checkbox [(ngModel)]="readSelfPublic" class="ml-3"> </mat-checkbox>
            <mat-checkbox [(ngModel)]="writeSelfPublic" class="ml-5"> </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.SELF_VO' | translate}}</p>
            <mat-checkbox [(ngModel)]="readSelfVo" class="ml-4 pl-3"> </mat-checkbox>
            <mat-checkbox [(ngModel)]="writeSelfVo" class="ml-5"> </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.VO' | translate}}</p>
            <mat-checkbox [(ngModel)]="readVo" class="ml-5 pl-4  "> </mat-checkbox>
            <mat-checkbox [(ngModel)]="writeVo" class="ml-5"> </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.GROUP' | translate}}</p>
            <mat-checkbox [(ngModel)]="readGroup" class="ml-4 pl-4"> </mat-checkbox>
            <mat-checkbox [(ngModel)]="writeGroup" class="ml-5"> </mat-checkbox>
          </div>

          <div class="d-flex flex-row">
            <p class="">{{'DIALOGS.CREATE_ATTRIBUTE_DEFINITION.FACILITY' | translate}}</p>
            <mat-checkbox [(ngModel)]="readFacility" class="ml-4 pl-3"> </mat-checkbox>
            <mat-checkbox [(ngModel)]="writeFacility" class="ml-5"> </mat-checkbox>
          </div>

          <div class="mt-4">
            <p>{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SERVICES' | translate}}</p>
            <app-services-list
              [disableRouting]="true"
              [displayedColumns]="['id', 'name', 'enabled', 'script']"
              [services]="this.services">
            </app-services-list>
          </div>
        </div>

        <div class="mt-3" mat-dialog-actions>
          <button
            (click)="switchShowKeys()"
            class="ml-0"
            *ngIf="this.attDef.entity === 'entityless'"
            mat-flat-button>
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.SHOW_KEYS' | translate}}
          </button>
          <button (click)="onCopy()" class="ml-auto" mat-flat-button>
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.COPY_FOR_IMPORT' | translate}}
          </button>
          <button (click)="onCancel()" class="ml-2" mat-flat-button>
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CANCEL' | translate}}
          </button>
          <button
            [matTooltipDisabled]="!disableConfirmButton()"
            class="ml-2"
            color="accent"
            (click)="onSubmit()"
            [disabled]="disableConfirmButton() || loading"
            matTooltip="{{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.TOOLTIP_CONFIRM' | translate}}"
            mat-flat-button
            matTooltipPosition="above">
            {{'DIALOGS.EDIT_ATTRIBUTE_DEFINITION.CONFIRM' | translate}}
          </button>
        </div>
      </div>
    </div>

    <!--  <div *ngIf="showKeys" [@slideInOutRight]>-->
    <div *ngIf="showKeys">
      <app-entityless-attribute-keys-list
        (switchView)="this.switchShowKeys()"
        [attDef]="attDef"
        [tableId]="tableId">
      </app-entityless-attribute-keys-list>
    </div>
  </div>
</div>
