<h1 class="page-subtitle">
  {{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.TITLE' | translate}}
</h1>
<div *ngIf="!noApplicationForm">
  <div class="w-100 d-flex">
    <button
      *ngIf="addAuth"
      mat-flat-button
      color="accent"
      class="mr-2 action-button"
      (click)="add()">
      {{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.ADD' | translate}}
    </button>

    <button
      *ngIf="removeAuth"
      mat-flat-button
      color="warn"
      class="mr-2"
      (click)="remove()"
      [disabled]="selection.selected.length === 0">
      {{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.REMOVE' | translate}}
    </button>

    <button
      mat-stroked-button
      class="mr-2 action-button"
      (click)="changeEmailFooter()">
      <i class="material-icons">email</i>
      {{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.EMAIL_FOOTER' | translate}}
    </button>

    <button
      *ngIf="copyAuth"
      mat-stroked-button
      class="action-button"
      (click)="copy()">
      <i class="material-icons">file_copy</i>
      {{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.COPY_FROM_VO' | translate}}
    </button>
  </div>
  <mat-spinner *ngIf="loading" class="ml-auto mr-auto">
  </mat-spinner>

  <app-notification-list
    *ngIf="!loading"
    [disableSend]="!addAuth"
    [displayedColumns]="displayedColumns"
    [applicationMails]="applicationMails"
    [tableId]="tableId"
    [groupId]="group.id"
    [selection]="selection"
    [theme]="'group-theme'"
    (selectionChange)="changeSelection($event)">
  </app-notification-list>
</div>
<div *ngIf="noApplicationForm && !loading">
  <app-alert alert_type="warn">{{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.NO_APPLICATION_FORM' | translate}}</app-alert>
  <button *ngIf="createFormAuth" mat-stroked-button
          (click)="createEmptyApplicationForm()">
    {{'GROUP_DETAIL.SETTINGS.NOTIFICATIONS.CREATE_APPLICATION_FORM' | translate}}
  </button>
</div>

