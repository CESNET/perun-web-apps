<div *ngIf="inMyProfile" class="align-cards">
  <mat-card appearance="outlined" class="card mat-elevation-z3">
    <mat-card-header>
      <mat-card-title>
        <h1 class="page-subtitle">{{'USER_DETAIL.OVERVIEW.GENERAL_SETTINGS' | translate}}</h1>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table [dataSource]="mailDataSource" mat-table>
        <ng-container matColumnDef="name">
          <th *matHeaderCellDef mat-header-cell></th>
          <td *matCellDef="let attribute" class="fw-bold" mat-cell>{{attribute.displayName}}:</td>
        </ng-container>
        <ng-container matColumnDef="value">
          <th *matHeaderCellDef mat-header-cell></th>
          <td *matCellDef="let attribute" mat-cell>
            <div class="d-flex align-items-center">
              {{attribute.value}}
              <button
                (click)="changeEmail()"
                class="ms-3"
                mat-icon-button
                matTooltip="{{'USER_DETAIL.OVERVIEW.CHANGE_EMAIL' | translate}}">
                <mat-icon>edit</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr *matRowDef="let attribute; columns: displayedColumns;" mat-row></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>

<perun-web-apps-menu-buttons-field [items]="items"></perun-web-apps-menu-buttons-field>
<perun-web-apps-expandable-tiles
  [items]="settingsItems"
  [title]="'MENU_ITEMS.USER.SETTINGS'"
  [sectionId]="'settings'"></perun-web-apps-expandable-tiles>
